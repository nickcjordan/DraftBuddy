var ffb={init:function(){ffb.scrollNav(),ffb.mobileNav(),ffb.mobileSearch(),ffb.youTubeButton(),ffb.selectMenu(),ffb.mobileUdkNav(),ffb.mobileDfsNav(),ffb.elementorMobileTabs(),ffb.mobileViewHeightFix(),ffb.scrollToAccountTabs(),ffb.udkInlineMenu(),ffb.closeModal(),ffb.playerSearch()},listeners:function(){jQuery(window).resize(function(){ffb.clearMobileNav(),ffb.mobileViewHeightFix()}),jQuery(window).scroll(function(){ffb.scrollNav()})},playerSearch:function(){jQuery('.player-search').autocomplete({autoFocus:!0,source:function(req,response){var termParts=req.term.replace(/[^a-zA-Z ]/,'').toLowerCase().split(' '),res=(termParts.join(''),playerSearchData.filter(function(item){for(var toSearch=item.name.replace(/[^a-zA-Z ]/,'').toLowerCase(),matched=(toSearch.split(' '),!0),i=0;i<termParts.length;i++)if(0!==toSearch.indexOf(termParts[i])&&-1===toSearch.indexOf(' '+termParts[i])){matched=!1;break}return matched}));response(res=(res=res.sort(function(a,b){return a.rel-b.rel})).slice(0,12))},appendTo:'#searchform',select:function(event,ui){return window.location.href='/fantasy/'+ui.item.slug,!0}}).autocomplete('instance')._renderItem=function(ul,item){var playerMarkup='';return playerMarkup+='<div class="player">',playerMarkup+='  <div class="player--photo">',playerMarkup+='    '+(item.img?'<img src="https://cloud.thefantasyfootballers.com/images/app-square-sm/'+item.img+'"/>':'<svg class="ffb"><use xlink:href="#player-placeholder"></use></svg>'),playerMarkup+='  </div>',playerMarkup+='  <div class="player--info">',playerMarkup+='    '+item.name+'<br />',playerMarkup+='    <span class="position">'+item.pos+' - '+(item.team?item.team:'FA')+'</span>',playerMarkup+='  </div>',playerMarkup+='</div>',jQuery('<li>').append(playerMarkup).appendTo(ul)}},scrollNav:function(){768<jQuery(window).width()&&100<=jQuery(window).scrollTop()?jQuery('header > .header').addClass('short'):jQuery('header > .header').removeClass('short')},selectMenu:function(){jQuery('.ranking--tabs ul.menu').length&&jQuery('.ranking--tabs ul.menu').each(function(){var selected,list=jQuery(this),select=jQuery(document.createElement('select')).insertBefore(list).addClass('select-url');jQuery(document.createElement('option')).appendTo(select).val('').html('- Select Position -'),jQuery('> li a',this).each(function(){var selectUrl=this.href,html=(jQuery(this).attr('target'),jQuery(this).html());jQuery(document.createElement('option')).appendTo(select).val(selectUrl).html(html),selectUrl===document.URL&&(selected=selectUrl)}),select.val(selected),select.change(function(){select.val()&&(window.location.href=select.val())})}),jQuery('.ranking--tabs ul.x-nav-tabs').length&&jQuery('.ranking--tabs ul.x-nav-tabs').each(function(){var selected,list=jQuery(this),select=jQuery(document.createElement('select')).insertBefore(list),currentUrl=window.location.href.split('?')[0];window.location.href.split('?position=')[1];jQuery(document.createElement('option')).appendTo(select).val('').html('- Select Position -'),jQuery('> li',this).each(function(){var link=jQuery(this).children('a'),selectUrl=currentUrl+'?position='+link.data('position'),html=link.html();jQuery(this).hasClass('active')&&(selected=selectUrl),jQuery(document.createElement('option')).appendTo(select).val(selectUrl).html(html)}),select.val(selected),select.change(function(){select.val()&&(window.location.href=select.val())})})},youTubeButton:function(){jQuery('.watch-button button').click(function(){jQuery(this).toggleClass('open'),jQuery(this).parents('.ffb-content').toggleClass('video-open'),jQuery(this).hasClass('open')?(768<jQuery(window).width()||player.playVideo(),player.unMute(),jQuery(this).html('<svg class="ffb"><use xlink:href="#close"></use></svg>Close')):(768<jQuery(window).width()||player.pauseVideo(),player.mute(),jQuery(this).html('<svg class="ffb"><use xlink:href="#youtube"></use></svg>Watch Now'))})},mobileNav:function(){jQuery('.nav--mobile--button').click(function(){jQuery(this).toggleClass('open'),jQuery('.header--overlay').toggleClass('open'),jQuery('nav.secondary').toggleClass('open'),jQuery('nav.primary').toggleClass('open')})},clearMobileNav:function(){1150<=jQuery(window).width()&&(jQuery('.nav--mobile--button').removeClass('open'),jQuery('.header--overlay').removeClass('open'),jQuery('nav.secondary').removeClass('open'),jQuery('nav.primary').removeClass('open'))},mobileSearch:function(){jQuery('.nav--mobile--search').click(function(){jQuery(this).toggleClass('open'),jQuery('.header--search').toggleClass('open')})},mobileUdkNav:function(){jQuery('.header--udk--button').click(function(){jQuery(window).width()<1150&&(jQuery(this).toggleClass('open'),jQuery('nav.udk').toggleClass('open'))}),jQuery('nav.udk > div > ul > li > a').click(function(){jQuery(window).width()<1150&&(jQuery(this).parent().toggleClass('open'),jQuery(this).parents('ul').toggleClass('sub-open'))})},mobileDfsNav:function(){jQuery('.header--dfs--button').click(function(){jQuery(window).width()<1150&&(jQuery(this).toggleClass('open'),jQuery('nav.udk').toggleClass('open'))}),jQuery('nav.dfs > div > ul > li > a').click(function(){jQuery(window).width()<1150&&(jQuery(this).parent().toggleClass('open'),jQuery(this).parents('ul').toggleClass('sub-open'))})},elementorMobileTabs:function(){jQuery('.elementor-tabs-wrapper').length&&jQuery('.elementor-tabs-wrapper').each(function(){var selected,list=jQuery(this),select=jQuery(document.createElement('select')).insertBefore(list);jQuery(document.createElement('option')).appendTo(select).val('').html('- Select -'),jQuery('div',this).each(function(){var linkId=jQuery(this).attr('id').split('title-')[1],html=jQuery(this).children('a').html();jQuery(document.createElement('option')).appendTo(select).val(linkId).html(html),jQuery(this).is(':first-child')&&(selected=linkId)}),select.val(selected),console.log(selected),select.change(function(){select.val()&&(jQuery('.elementor-tab-content').hide(),jQuery('#elementor-tab-content-'+select.val()).show())})})},mobileViewHeightFix:function(){var vh=.01*window.innerHeight;document.documentElement.style.setProperty('--vh',vh+'px')},scrollToAccountTabs:function(){-1<window.location.href.indexOf('/account/?action=')&&jQuery('html, body').animate({scrollTop:jQuery('.elementor-element#account').offset().top-100},0)},udkInlineMenu:function(){jQuery('.udk--inline-menu').length&&jQuery('.udk--inline-menu ul.menu > li.menu-item a').click(function(e){'#'===jQuery(this).attr('href')&&(e.preventDefault(),jQuery(this).parent().children('.sub-menu').toggleClass('open'))})},closeModal:function(){jQuery('.ffb--modal--overlay, .ffb--modal--close').click(function(){jQuery('.ffb--modal').removeClass('open'),jQuery('.ffb-data--table tr.selected').removeClass('selected selected--end')})}};jQuery('document').ready(function(){ffb.init(),ffb.listeners()});