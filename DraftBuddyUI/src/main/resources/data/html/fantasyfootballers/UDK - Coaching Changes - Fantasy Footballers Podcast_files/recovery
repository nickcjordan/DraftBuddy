(function(){
/** @license Copyright (c) 2020, Blockthrough All rights reserved.
 See license text at: https://blockthrough.com/license
*/(()=>{var __webpack_modules__={905:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{yC:()=>DeviceTypeAll,Xh:()=>browser,Jv:()=>platform,Uh:()=>device,tq:()=>isMobile,l7:()=>getDeviceType});const PlatformUnknown="unknown",PlatformAndroid="android",PlatformIOS="ios",PlatformWindows="windows",PlatformLinux="linux",PlatformOSX="osx",PlatformWindowsPhone="windowsphone",BrowserUnknown="unknown",BrowserChrome="chrome",BrowserFirefox="firefox",BrowserIE="ie",BrowserEdge="edge",BrowserOpera="opera",BrowserSafari="safari",BrowserUCBrowser="uc",DeviceUnknown="unknown",DeviceHighEndPhone="highendphone",DeviceTablet="tablet",DevicePersonalComputer="pc",DeviceConnectedTV="tv",DeviceGameConsole="console",DeviceTypeAll="all",DeviceTypeDesktop="desktop",DeviceTypeMobile="mobile";var browser=function(){var ua=navigator.userAgent;return/edge/i.test(ua)?BrowserEdge:/opera/i.test(ua)||/opr|opios/i.test(ua)?BrowserOpera:/chrome|chromium/i.test(ua)?BrowserChrome:/firefox|iceweasel|fxios/i.test(ua)?BrowserFirefox:/msie|trident/i.test(ua)?BrowserIE:/^((?!chrome|android).)*safari/i.test(ua)?BrowserSafari:/ucbrowser/i.test(ua)?BrowserUCBrowser:window.chrome?BrowserChrome:"undefined"!=typeof InstallTrigger?BrowserFirefox:eval("/*@cc_on!@*/false")||document.documentMode?BrowserIE:window.StyleMedia?BrowserEdge:BrowserUnknown},platform=function(){var e=navigator.userAgent;return/windows|win32/i.test(e)?PlatformWindows:/ipod|iphone|ipad/i.test(e)?PlatformIOS:/android/i.test(e)?PlatformAndroid:/macintosh|mac os x/i.test(e)?PlatformOSX:/linux/i.test(e)?PlatformLinux:/windows phone/i.test(e)?PlatformWindowsPhone:PlatformUnknown},device=function(){var e=navigator.userAgent;return/tablet|ipad/i.test(e)?DeviceTablet:/mobile/i.test(e)||/android|webos|iphone|ipod|blackberry|iemobile|windows phone|opera mini/i.test(e)||/ucbrowser/i.test(e)&&window.ucweb?DeviceHighEndPhone:DevicePersonalComputer};function isMobile(){return"function"==typeof window.bt_isMobileCustom?window.bt_isMobileCustom():/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))}function getDeviceType(){return isMobile()?DeviceTypeMobile:DeviceTypeDesktop}},491:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{z:()=>l,Z:()=>c});var r=n(614),o=n(302),a=n(616);const s=Boolean(window.console&&window.console.info);let d=!1;!function(){try{d=a.topmostAccessibleWindow.location.href.indexOf("bt_debug=true")>=0||"true"===a.topmostAccessibleWindow.localStorage.getItem("bt_debug")}catch(e){d=!1}}();class c{constructor(){let{prefix:e="",level:t=l.DEFAULT}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,"tag","Blockthrough"),i(this,"prefix",""),this.setPrefix(e),this.setLevel(t)}setPrefix(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.prefix=e}setLevel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.DEFAULT;w(e)?this.level=e:this.level=l.DEFAULT}log(e,t,n,i){if(!d||!s)return;if(arguments.length<3||!w(e)||"object"!=typeof t||"string"!=typeof n)throw new TypeError;if(e<this.level)return;const r=(new Date).getTime()-g,o=m(t);let a="";a+="%c["+this.tag+" - "+p[e]+"]%c",a+="%c[%s]%c ",o&&(a+="%c["+o+"]%c "),this.prefix&&(a+=this.prefix),a+=n;let c=[];c.push(a),c.push("color: #000000; background-color: "+h[e]),c.push("background-color: inherit"),c.push("color: #757575;"),c.push(function(e){if(e<1e3)return Math.round(e).toString()+"ms";return(e/1e3).toFixed(2)+"s"}(r)),c.push("background-color: inherit"),o&&(c.push("color: "+function(e){const t=m(e);if(!t)return"#000000";return f[function(e){let t=2166136261;for(let n=0;n<e.length;++n)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(t)%f.length]}(t)),c.push("color: inherit")),c=c.concat(Array.prototype.slice.call(arguments,3)),console.info.apply(console,c)}debugf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.DEBUG,e,t].concat(n)),b(i,u.DEBUG)}infof(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.INFO,e,t].concat(n)),b(i,u.INFO)}noticef(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.NOTICE,e,t].concat(n)),b(i,u.NOTICE)}warningf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.WARNING,e,t].concat(n)),b(i,u.WARNING)}errorf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.ERROR,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:1,event:"general_error_event",error:{name:t}}),b(i,u.ERROR)}criticalf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.CRITICAL,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:1,event:"general_critical_event",error:{name:t}}),b(i,u.CRITICAL)}alertf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.ALERT,e,t].concat(n)),b(i,u.ALERT)}emergencyf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.EMERGENCY,e,t].concat(n)),b(i,u.EMERGENCY)}}const l={DEFAULT:0,DEBUG:1,INFO:2,NOTICE:3,WARNING:4,ERROR:5,CRITICAL:6,ALERT:7,EMERGENCY:8},u={DEBUG:0,INFO:1,NOTICE:2,WARNING:3,ERROR:4,CRITICAL:5,ALERT:6,EMERGENCY:7},p={[l.DEFAULT]:"DFT",[l.DEBUG]:"DBG",[l.INFO]:"INF",[l.NOTICE]:"NTC",[l.WARNING]:"WRN",[l.ERROR]:"ERR",[l.CRITICAL]:"CRT",[l.ALERT]:"ALR",[l.EMERGENCY]:"EMR"},h={[l.DEFAULT]:"#F5F5F5",[l.DEBUG]:"#BBDEFB",[l.INFO]:"#B3E5FC",[l.NOTICE]:"#DCEDC8",[l.WARNING]:"#FFE0B2",[l.ERROR]:"#FFCCBC",[l.CRITICAL]:"#E57373",[l.ALERT]:"#F06292",[l.EMERGENCY]:"#BA68C8"},f=["#B71C1C","#880E4F","#4A148C","#311B92","#1A237E","#0D47A1","#01579B","#006064","#004D40","#1B5E20","#33691E","#827717","#F57F17","#FF6F00","#E65100","#BF360C","#3E2723","#37474F"],g=(new Date).getTime();function m(e){return e&&e.id||null}function w(e){return"number"==typeof e&&void 0!==p[e]}function b(e,t){if(e&&e.event&&e.sendToServer&&t&&(!e.sendPercentage||r.Z.commonUtils.getTrueByProbability(e.sendPercentage))){const n=Object.assign({},e,{severity:t});o.Y.fireEvent("sendLog",n)}}},586:(e,t,n)=>{"use strict";n.r(t),n.d(t,{refreshTypeDecoder:()=>a,getSpaceElement:()=>s,isFirstViewPortElement:()=>d});var i=n(614),r=n(868);const o=new(n(491).Z)({prefix:"commonBLUtils: "});var a=function(e){switch(e){case"ALL":return r.Z.consts.refreshType.ALL;case"VISIBLE":return r.Z.consts.refreshType.VISIBLE;case"HIDDEN":return r.Z.consts.refreshType.HIDDEN;default:return r.Z.consts.refreshType.UNKNOWN}};function s(e){return e&&e.selector?i.Z.commonUtils.getElementWithSelector(e.selector.value):null}function d(e){try{if(!e)return;var t,n,i=!1;"none"===window.getComputedStyle(e).display&&(t=e.style.getPropertyValue("display"),n=e.style.getPropertyPriority("display"),e.style.setProperty("display","block","important"),i=!0);var a=e.getBoundingClientRect().top+window.scrollY;return i&&e.style.setProperty("display",t,n),a<=r.Z.consts.acceptableStandardScreenSize.height}catch(e){o.errorf(null,"isFirstViewPortElement - error: %o",e)}}},302:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var i=new function(){this.events={},this.hasEventListener=function(e){return this.events.hasOwnProperty(e)},this.addEventListener=function(e,t){this.hasEventListener(e)?this.events[e].push(t):this.events[e]=[t]},this.removeEventListener=function(e,t){if(this.hasEventListener(e)){var n=this.events[e].indexOf(t);-1!=n&&this.events[e].splice(n,1)}},this.fireEvent=function(e,t,n,i){if(this.hasEventListener(e))for(var o=new r(e,t),a=this.events[e],s=a.length,d=0;d<s;d++){try{var c=a[d].call(n,o)}catch(e){console.error("CustomEvents - error in `fireEvent`:",e)}if(null!=c)return c;if(o.shouldStop)return}}},r=function(e,t){this.name=e,this.data=t,this.shouldStop=!1}},17:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var i={selectorPosition:{APPEND_CHILD:0,INSERT_BEFORE:1},complianceStatus:{UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4},acceptableStandardScreenSize:{width:1366,height:768},refreshType:{UNKNOWN:0,ALL:1,VISIBLE:2,HIDDEN:3},elementVisibility:{VISIBLE:"VISIBLE",HIDDEN:"HIDDEN",NOT_FOUND:"NOT_FOUND"},htmlElements:["HTMLScriptElement","HTMLElement","HTMLVideoElement","HTMLAudioElement","HTMLHtmlElement","HTMLHeadElement","HTMLLinkElement","HTMLStyleElement","HTMLBodyElement","HTMLFormElement","HTMLSelectElement","HTMLOptionElement","HTMLInputElement","HTMLTextAreaElement","HTMLButtonElement","HTMLLabelElement","HTMLFieldSetElement","HTMLLegendElement","HTMLUListElement","HTMLOListElement","HTMLDListElement","HTMLDirectoryElement","HTMLMenuElement","HTMLLIElement","HTMLDivElement","HTMLParagraphElement","HTMLHeadingElement","HTMLQuoteElement","HTMLPreElement","HTMLBRElement","HTMLFontElement","HTMLHRElement","HTMLAnchorElement","HTMLImageElement","HTMLObjectElement","HTMLParamElement","HTMLMapElement","HTMLModElement","HTMLAreaElement","HTMLTableElement","HTMLTableCaptionElement","HTMLTableColElement","HTMLTableSectionElement","HTMLTableRowElement","HTMLTableCellElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement"],btDemand:{btDemandPrefix:"bt_",snigel:"bt_exchange",relay:"bt_server"}}},868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=new function(){this.data={},this.setItem=function(e,t){this.data[e]=t},this.getItem=function(e){return this.data[e]},this.removeItem=function(e){delete this.data[e]},this.clearSharedObject=function(){this.data={}}},r=n(17),o=n(143),a="KGZ1bmN0aW9uKF8weDIwZTZiZixfMHg1ODg3ZDcpe3ZhciBfMHg4YjdlM2M9XzB4M2U2MixfMHg1MmEwOGY9XzB4MjBlNmJmKCk7d2hpbGUoISFbXSl7dHJ5e3ZhciBfMHgxN2M0YjI9LXBhcnNlSW50KF8weDhiN2UzYygweDFhMCkpLzB4MSoocGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTk0KSkvMHgyKSstcGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTczKSkvMHgzKihwYXJzZUludChfMHg4YjdlM2MoMHgxOTMpKS8weDQpK3BhcnNlSW50KF8weDhiN2UzYygweDE4NSkpLzB4NSooLXBhcnNlSW50KF8weDhiN2UzYygweDE5ZCkpLzB4NikrcGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTg0KSkvMHg3Ky1wYXJzZUludChfMHg4YjdlM2MoMHgxN2UpKS8weDgrLXBhcnNlSW50KF8weDhiN2UzYygweDE2NSkpLzB4OStwYXJzZUludChfMHg4YjdlM2MoMHgxOTIpKS8weGE7aWYoXzB4MTdjNGIyPT09XzB4NTg4N2Q3KWJyZWFrO2Vsc2UgXzB4NTJhMDhmWydwdXNoJ10oXzB4NTJhMDhmWydzaGlmdCddKCkpO31jYXRjaChfMHgzYjgwZTQpe18weDUyYTA4ZlsncHVzaCddKF8weDUyYTA4Zlsnc2hpZnQnXSgpKTt9fX0oXzB4MzYwMSwweDFlZDAyKSwoZnVuY3Rpb24oKXt2YXIgXzB4M2FkMGIxPWZ1bmN0aW9uKF8weGEwYzY4ZCl7dmFyIF8weDMwODdlMD1fMHgzZTYyO2lmKCFfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTcyKV0pe18weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNzIpXT0hMHgwO3RyeXt2YXIgXzB4MjVkZmNkPV8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxN2EpXShfMHgzMDg3ZTAoMHgxOGQpKTsoXzB4YTBjNjhkWydkb2N1bWVudCddWydoZWFkJ118fF8weGEwYzY4ZFsnZG9jdW1lbnQnXVtfMHgzMDg3ZTAoMHgxODIpXXx8XzB4YTBjNjhkW18weDMwODdlMCgweDE5ZSldWydkb2N1bWVudEVsZW1lbnQnXSlbJ2FwcGVuZENoaWxkJ10oXzB4MjVkZmNkKSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTllKV1bJ3N0eWxlU2hlZXRzJ11bMHgwXVtfMHgzMDg3ZTAoMHgxOTUpXShfMHgzMDg3ZTAoMHgxOWIpLDB4MCk7fWNhdGNoKF8weDMxZmUxNyl7fV8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxNmYpXT1kb2N1bWVudFtfMHgzMDg3ZTAoMHgxNzkpXSxfMHhhMGM2OGRbJ2RvY3VtZW50J11bJ2dldEVsZW1lbnRCeUlkJ109ZnVuY3Rpb24oXzB4MjNhY2NhKXt2YXIgXzB4MTc4MDY1PV8weDMwODdlMDt0cnl7aWYoJ2llY2N0ZXN0Jz09PV8weDIzYWNjYSlyZXR1cm4gXzB4YTBjNjhkWydkb2N1bWVudCddW18weDE3ODA2NSgweDE3YSldKCdiJyk7fWNhdGNoKF8weDM2ZmU5Yil7fXJldHVybiBfMHhhMGM2OGRbJ2RvY3VtZW50J11bXzB4MTc4MDY1KDB4MTZmKV1bXzB4MTc4MDY1KDB4MTZiKV0odGhpcyxfMHgyM2FjY2EpO30sXzB4YTBjNjhkWydkb2N1bWVudCddW18weDMwODdlMCgweDE5NyldPWRvY3VtZW50W18weDMwODdlMCgweDE3YSldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxN2EpXT1mdW5jdGlvbihfMHgzMGJkOTQpe3ZhciBfMHg0NzE2YWQ9XzB4MzA4N2UwO3RyeXtpZihfMHg0NzE2YWQoMHgxOWMpPT09XzB4MzBiZDk0W18weDQ3MTZhZCgweDFhNCldKCkpe3ZhciBfMHg0YjU2ZjQ9XzB4YTBjNjhkWydkb2N1bWVudCddW18weDQ3MTZhZCgweDE5NyldW18weDQ3MTZhZCgweDE2YildKHRoaXMsXzB4MzBiZDk0KTtyZXR1cm4gXzB4NGI1NmY0W18weDQ3MTZhZCgweDE3NCldKF8weDQ3MTZhZCgweDFhMiksZnVuY3Rpb24oKXt2YXIgXzB4MjI0MGI5PV8weDQ3MTZhZDt0cnl7dGhpc1tfMHgyMjQwYjkoMHgxN2QpXVtfMHgyMjQwYjkoMHgxNzcpXT1fMHgzYWQwYjEsdGhpc1tfMHgyMjQwYjkoMHgxN2QpXVtfMHgyMjQwYjkoMHgxNzcpXVtfMHgyMjQwYjkoMHgxNmIpXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1snY29udGVudFdpbmRvdyddKTt9Y2F0Y2goXzB4MWZiMjEyKXt9fSksXzB4NGI1NmY0O319Y2F0Y2goXzB4NTUxY2EwKXt9cmV0dXJuIF8weGEwYzY4ZFtfMHg0NzE2YWQoMHgxOWUpXVtfMHg0NzE2YWQoMHgxOTcpXVtfMHg0NzE2YWQoMHgxNmIpXSh0aGlzLF8weDMwYmQ5NCk7fSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTZhKV1bXzB4MzA4N2UwKDB4MTg4KV1bXzB4MzA4N2UwKDB4MTcwKV09XzB4YTBjNjhkW18weDMwODdlMCgweDE2YSldW18weDMwODdlMCgweDE4OCldW18weDMwODdlMCgweDFhMyldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmEpXVtfMHgzMDg3ZTAoMHgxODgpXVtfMHgzMDg3ZTAoMHgxYTMpXT1mdW5jdGlvbihfMHgxNjk2ODUpe3ZhciBfMHgzZjRmNDk9XzB4MzA4N2UwLF8weDE1NDRhNT1fMHhhMGM2OGRbXzB4M2Y0ZjQ5KDB4MTZhKV1bJ3Byb3RvdHlwZSddW18weDNmNGY0OSgweDE3MCldWydjYWxsJ10odGhpcyxfMHgxNjk2ODUpO3RyeXtmb3IodmFyIF8weDI1ZTBjOT0weDA7XzB4MjVlMGM5PF8weDE2OTY4NVtfMHgzZjRmNDkoMHgxNmQpXVtfMHgzZjRmNDkoMHgxNzEpXTtfMHgyNWUwYzkrKyknSUZSQU1FJz09PV8weDE2OTY4NVtfMHgzZjRmNDkoMHgxNmQpXVtfMHgyNWUwYzldWyd0YWdOYW1lJ10mJihfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTZkKV1bXzB4MjVlMGM5XVtfMHgzZjRmNDkoMHgxN2QpXXx8XzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bXzB4M2Y0ZjQ5KDB4MTc0KV0oXzB4M2Y0ZjQ5KDB4MWEyKSxmdW5jdGlvbigpe3ZhciBfMHg3OWM5NjA9XzB4M2Y0ZjQ5O3RoaXNbXzB4NzljOTYwKDB4MTdkKV1bJ3dyYXBJZnJhbWUnXT1fMHgzYWQwYjEsdGhpc1tfMHg3OWM5NjAoMHgxN2QpXVtfMHg3OWM5NjAoMHgxNzcpXVtfMHg3OWM5NjAoMHgxNmIpXSh0aGlzW18weDc5Yzk2MCgweDE3ZCldLHRoaXNbJ2NvbnRlbnRXaW5kb3cnXSk7fSksXzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bXzB4M2Y0ZjQ5KDB4MTdkKV1bXzB4M2Y0ZjQ5KDB4MTc3KV09XzB4M2FkMGIxLF8weDE2OTY4NVsnY2hpbGRyZW4nXVtfMHgyNWUwYzldW18weDNmNGY0OSgweDE3ZCldW18weDNmNGY0OSgweDE3NyldW18weDNmNGY0OSgweDE2YildKHRoaXMsXzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bJ2NvbnRlbnRXaW5kb3cnXSkpO18weDNmNGY0OSgweDE3Yik9PT1fMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTc1KV0mJihfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV18fF8weDE2OTY4NVsnYWRkRXZlbnRMaXN0ZW5lciddKCdsb2FkJyxmdW5jdGlvbigpe3ZhciBfMHgyNjY3NDY9XzB4M2Y0ZjQ5O3RoaXNbXzB4MjY2NzQ2KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXT1fMHgzYWQwYjEsdGhpc1tfMHgyNjY3NDYoMHgxN2QpXVsnd3JhcElmcmFtZSddW18weDI2Njc0NigweDE2YildKHRoaXNbXzB4MjY2NzQ2KDB4MTdkKV0sdGhpc1tfMHgyNjY3NDYoMHgxN2QpXSk7fSksXzB4MTY5Njg1W18weDNmNGY0OSgweDE3ZCldW18weDNmNGY0OSgweDE3NyldPV8weDNhZDBiMSxfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV1bXzB4M2Y0ZjQ5KDB4MTc3KV1bXzB4M2Y0ZjQ5KDB4MTZiKV0odGhpcyxfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV0pKTt9Y2F0Y2goXzB4NDJmMjFiKXt9cmV0dXJuIF8weDE1NDRhNTt9LF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmEpXVsncHJvdG90eXBlJ11bXzB4MzA4N2UwKDB4MWExKV09XzB4YTBjNjhkW18weDMwODdlMCgweDE2YSldW18weDMwODdlMCgweDE4OCldWydpbnNlcnRCZWZvcmUnXSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTZhKV1bXzB4MzA4N2UwKDB4MTg4KV1bJ2luc2VydEJlZm9yZSddPWZ1bmN0aW9uKF8weDU3NDEwNSxfMHg1MjhkNzgpe3ZhciBfMHgxZGJlMjY9XzB4MzA4N2UwLF8weDI5MDhiOT1fMHhhMGM2OGRbXzB4MWRiZTI2KDB4MTZhKV1bXzB4MWRiZTI2KDB4MTg4KV1bXzB4MWRiZTI2KDB4MWExKV1bXzB4MWRiZTI2KDB4MTZiKV0odGhpcyxfMHg1NzQxMDUsXzB4NTI4ZDc4KTt0cnl7Zm9yKHZhciBfMHgzOTc3NjA9MHgwO18weDM5Nzc2MDxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTZkKV1bXzB4MWRiZTI2KDB4MTcxKV07XzB4Mzk3NzYwKyspXzB4MWRiZTI2KDB4MTdiKT09PV8weDU3NDEwNVsnY2hpbGRyZW4nXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3NSldJiYoXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bXzB4MWRiZTI2KDB4MTdkKV18fF8weDU3NDEwNVtfMHgxZGJlMjYoMHgxNmQpXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3NCldKF8weDFkYmUyNigweDFhMiksZnVuY3Rpb24oKXt2YXIgXzB4NThmOTE4PV8weDFkYmUyNjt0aGlzWydjb250ZW50V2luZG93J11bXzB4NThmOTE4KDB4MTc3KV09XzB4M2FkMGIxLHRoaXNbXzB4NThmOTE4KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXVsnY2FsbCddKHRoaXNbXzB4NThmOTE4KDB4MTdkKV0sdGhpc1tfMHg1OGY5MTgoMHgxN2QpXSk7fSksXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bJ2NvbnRlbnRXaW5kb3cnXVtfMHgxZGJlMjYoMHgxNzcpXT1fMHgzYWQwYjEsXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bXzB4MWRiZTI2KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXVtfMHgxZGJlMjYoMHgxNmIpXSh0aGlzLF8weDU3NDEwNVsnY2hpbGRyZW4nXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3ZCldKSk7XzB4MWRiZTI2KDB4MTdiKT09PV8weDU3NDEwNVtfMHgxZGJlMjYoMHgxNzUpXSYmKF8weDU3NDEwNVtfMHgxZGJlMjYoMHgxN2QpXXx8XzB4NTc0MTA1WydhZGRFdmVudExpc3RlbmVyJ10oJ2xvYWQnLGZ1bmN0aW9uKCl7dmFyIF8weDJjMmJjMD1fMHgxZGJlMjY7dGhpc1snY29udGVudFdpbmRvdyddW18weDJjMmJjMCgweDE3NyldPV8weDNhZDBiMSx0aGlzW18weDJjMmJjMCgweDE3ZCldWyd3cmFwSWZyYW1lJ11bJ2NhbGwnXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1tfMHgyYzJiYzAoMHgxN2QpXSk7fSksXzB4NTc0MTA1W18weDFkYmUyNigweDE3ZCldW18weDFkYmUyNigweDE3NyldPV8weDNhZDBiMSxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTdkKV1bXzB4MWRiZTI2KDB4MTc3KV1bXzB4MWRiZTI2KDB4MTZiKV0odGhpcyxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTdkKV0pKTt9Y2F0Y2goXzB4MjhjOTAzKXt9cmV0dXJuIF8weDI5MDhiOTt9LF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVsnd3JpdGVPJ109XzB4YTBjNjhkW18weDMwODdlMCgweDE5ZSldW18weDMwODdlMCgweDE5OCldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxOTgpXT1mdW5jdGlvbihfMHg0NjUyYjEpe3ZhciBfMHg1Y2JjMmQ9XzB4MzA4N2UwO3RyeXtpZihfMHg0NjUyYjEmJi9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS9bXzB4NWNiYzJkKDB4MTkxKV0oXzB4NDY1MmIxKSl7dmFyIF8weDU0ZTVmMj1fMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTY2KV0oL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdLyksXzB4MTBkZjg1PV8weDU0ZTVmMlsweDBdW18weDVjYmMyZCgweDE3NildKF8weDVjYmMyZCgweDE5YyksXzB4NWNiYzJkKDB4MTgxKSk7XzB4NDY1MmIxPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNzYpXShfMHg1NGU1ZjIsXzB4MTBkZjg1KTt9aWYoXzB4NDY1MmIxJiYve1tee10rcmVuZGVyQXM6ICdCQUNLVVBfSU1BR0UnW159XSt9L1tfMHg1Y2JjMmQoMHgxOTEpXShfMHg0NjUyYjEpKXt2YXIgXzB4MTRhYThjPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNjYpXSgve1tee10rcmVuZGVyQXM6ICdCQUNLVVBfSU1BR0UnW159XSt9LylbMHgwXSxfMHg0Nzg1NzU9LyhbLlxTXHNdK3ByaW1hcnlGaWxlczogKShcW1teXFtdK3JlbmRlckFzOiAnQkFDS1VQX0lNQUdFJ1teXF1dK1xdKShbLlxTXHNdKykvZztfMHg0NjUyYjE9XzB4NDY1MmIxW18weDVjYmMyZCgweDE3NildKF8weDQ3ODU3NSxfMHg1Y2JjMmQoMHgxOWEpK18weDE0YWE4YytfMHg1Y2JjMmQoMHgxNjgpKTt9XzB4NDY1MmIxJiZfMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTgzKV0oJ3R5cGU6XHgyMFx4MjdIVE1MNVx4MjcnKT4tMHgxJiYoXzB4NDY1MmIxPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNzYpXSgndHlwZTpceDIwXHgyN0hUTUw1XHgyNycsXzB4NWNiYzJkKDB4MTZjKSkpO3ZhciBfMHgxYzBmMjQ9LyhbLlxTXHNdK2lmXCgiRVhQQU5EQUJMRSI9PSkoW2EtekEtWl0pKFx8XHwiQkFOTkVSIj09KShbYS16QS1aXSkoWy5cU1xzXSspL2c7XzB4NDY1MmIxJiZfMHgxYzBmMjRbXzB4NWNiYzJkKDB4MTkxKV0oXzB4NDY1MmIxKSYmKF8weDQ2NTJiMT1fMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTc2KV0oXzB4MWMwZjI0LF8weDVjYmMyZCgweDE3YykpKTt9Y2F0Y2goXzB4MjgyODlmKXt9XzB4YTBjNjhkWydkb2N1bWVudCddW18weDVjYmMyZCgweDE2NyldW18weDVjYmMyZCgweDE2YildKHRoaXMsXzB4NDY1MmIxKTt9LF8weGEwYzY4ZFsnZWJDZmcnXT12b2lkIDB4MCxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MThiKV09dm9pZCAweDAsXzB4YTBjNjhkW18weDMwODdlMCgweDE4YSldKF8weDMwODdlMCgweDE4NiksZnVuY3Rpb24oXzB4MzJiNTg2KXt2YXIgXzB4NDM3YmJiPV8weDMwODdlMDtyZXR1cm4gXzB4YTBjNjhkW18weDQzN2JiYigweDE4YildO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOGUpXShfMHgzMDg3ZTAoMHgxODYpLGZ1bmN0aW9uKF8weDViODAxZil7dmFyIF8weDUwOTE3Yz1fMHgzMDg3ZTA7cmV0dXJuIF8weDViODAxZltfMHg1MDkxN2MoMHgxOTYpXT0nJyxfMHhhMGM2OGRbXzB4NTA5MTdjKDB4MThiKV09XzB4NWI4MDFmO30pLE9iamVjdFtfMHgzMDg3ZTAoMHgxYTUpXShPYmplY3RbXzB4MzA4N2UwKDB4MTg4KV0sXzB4MzA4N2UwKDB4MTg5KSx7J3ZhbHVlJzpmdW5jdGlvbigpe3JldHVybiEweDE7fX0pLF8weDI1ZGZjZD1mdW5jdGlvbihfMHgzZTg4NjYsXzB4ODhmNTRlKXt2YXIgXzB4NDY2MTk4PV8weDMwODdlMDtfMHhhMGM2OGRbXzB4NDY2MTk4KDB4MTdmKV1bXzB4NDY2MTk4KDB4MWE1KV0oXzB4YTBjNjhkWydPYmplY3QnXVtfMHg0NjYxOTgoMHgxODgpXSxfMHgzZTg4NjYseydnZXQnOmZ1bmN0aW9uKCl7dmFyIF8weDFjNzA2OD1fMHg0NjYxOTg7cmV0dXJuIHRoaXNbXzB4MWM3MDY4KDB4MTc4KStfMHgzZTg4NjZdO30sJ3NldCc6ZnVuY3Rpb24oXzB4NTBmMTAwKXt2YXIgXzB4M2U3Mzc5PV8weDQ2NjE5ODtfMHg1MGYxMDA9XzB4ODhmNTRlKHRoaXMsXzB4NTBmMTAwKSxfMHhhMGM2OGRbJ09iamVjdCddW18weDNlNzM3OSgweDFhNSldKHRoaXMsXzB4M2U4ODY2LHsnZ2V0JzpmdW5jdGlvbigpe3JldHVybiB0aGlzWydfX18nK18weDNlODg2Nl07fSwnc2V0JzpmdW5jdGlvbihfMHhlYTkwYTQpe3ZhciBfMHg3NmU3Y2Q9XzB4M2U3Mzc5O18weGVhOTBhND1fMHg4OGY1NGUodGhpcyxfMHhlYTkwYTQpLHRoaXNbXzB4NzZlN2NkKDB4MTc4KStfMHgzZTg4NjZdPV8weGVhOTBhNDt9LCdlbnVtZXJhYmxlJzohMHgwfSk7dmFyIF8weDU2ZjdkMz1fMHg1MGYxMDA7XzB4YTBjNjhkW18weDNlNzM3OSgweDE3ZildW18weDNlNzM3OSgweDFhNSldKHRoaXMsXzB4M2U3Mzc5KDB4MTc4KStfMHgzZTg4NjYseydnZXQnOmZ1bmN0aW9uKCl7cmV0dXJuIF8weDU2ZjdkMzt9LCdzZXQnOmZ1bmN0aW9uKF8weDJiNDIzMyl7XzB4NTZmN2QzPV8weDJiNDIzMz1fMHg4OGY1NGUodGhpcyxfMHgyYjQyMzMpO30sJ2VudW1lcmFibGUnOiEweDF9KTt9LCdlbnVtZXJhYmxlJzohMHgxLCdjb25maWd1cmFibGUnOiEweDF9KTt9LF8weDI1ZGZjZChfMHgzMDg3ZTAoMHgxOGMpLGZ1bmN0aW9uKF8weDIyMDA2MyxfMHgzNWZhMDUpe3ZhciBfMHg0MzdhOWQ9XzB4MzA4N2UwO3JldHVybiBfMHg0MzdhOWQoMHgxOTkpPT09dHlwZW9mIF8weDIyMDA2MyYmXzB4MjIwMDYzW18weDQzN2E5ZCgweDE5ZildKF8weDQzN2E5ZCgweDE4OSkpJiYoXzB4MjIwMDYzW18weDQzN2E5ZCgweDE4OSldPWZ1bmN0aW9uKCl7cmV0dXJuITB4MTt9KSxfMHgzNWZhMDU7fSksXzB4MjVkZmNkKCdpcycsZnVuY3Rpb24oXzB4MTg2MzFhLF8weDU0MWY3ZSl7dmFyIF8weDNlMzE2Nj1fMHgzMDg3ZTA7cmV0dXJuIF8weDNlMzE2NigweDE5OSk9PT10eXBlb2YgXzB4MTg2MzFhJiZfMHgxODYzMWFbXzB4M2UzMTY2KDB4MTlmKV0oXzB4M2UzMTY2KDB4MTg5KSkmJihfMHgxODYzMWFbXzB4M2UzMTY2KDB4MTg5KV09ZnVuY3Rpb24oKXtyZXR1cm4hMHgxO30pLF8weDU0MWY3ZTt9KTt2YXIgXzB4MmUwZDcwPXZvaWQgMHgwO18weDI1ZGZjZChfMHgzMDg3ZTAoMHgxNjkpLGZ1bmN0aW9uKF8weDg3NjMxZSxfMHgxMDFkOTIpe3JldHVybiBfMHgyZTBkNzA9XzB4MTAxZDkyO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmUpXT12b2lkIDB4MCxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MThhKV0oXzB4MzA4N2UwKDB4MTZlKSxmdW5jdGlvbigpe3ZhciBfMHg0MjZiYWM9XzB4MzA4N2UwO3JldHVybiB0aGlzW18weDQyNmJhYygweDE4ZildO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOGUpXShfMHgzMDg3ZTAoMHgxNmUpLGZ1bmN0aW9uKF8weDFhNzE4NSl7dmFyIF8weGY4MDAwYj1fMHgzMDg3ZTA7cmV0dXJuIHRoaXNbXzB4ZjgwMDBiKDB4MThmKV09ZnVuY3Rpb24oKXt2YXIgXzB4NTViMzQzPV8weGY4MDAwYixfMHg0MWUyY2M9YXJndW1lbnRzOy0weDE8XzB4NDFlMmNjWzB4M11bXzB4NTViMzQzKDB4MTgzKV0oXzB4NTViMzQzKDB4MTgwKSkmJl8weDU1YjM0MygweDE5MCk9PT10eXBlb2YgXzB4MmUwZDcwJiYoXzB4NDFlMmNjWzB4M109XzB4NTViMzQzKDB4MTg3KStfMHgyZTBkNzBbXzB4NTViMzQzKDB4MTc2KV0oLycvZywnaScpKydceDI3JyksXzB4MWE3MTg1WydhcHBseSddKHRoaXMsXzB4NDFlMmNjKTt9LF8weDFhNzE4NTt9KTt9fTtfMHgzYWQwYjEod2luZG93KTt9KCkpKTtmdW5jdGlvbiBfMHgzZTYyKF8weDVjNzYxNyxfMHgyN2ZlNzMpe3ZhciBfMHgzNjAxZWQ9XzB4MzYwMSgpO3JldHVybiBfMHgzZTYyPWZ1bmN0aW9uKF8weDNlNjJkOCxfMHgyN2ExYTEpe18weDNlNjJkOD1fMHgzZTYyZDgtMHgxNjU7dmFyIF8weDkyYWY0OD1fMHgzNjAxZWRbXzB4M2U2MmQ4XTtyZXR1cm4gXzB4OTJhZjQ4O30sXzB4M2U2MihfMHg1Yzc2MTcsXzB4MjdmZTczKTt9ZnVuY3Rpb24gXzB4MzYwMSgpe3ZhciBfMHhkNDU3ODI9Wyc5OTBCdXRiQlMnLCdlYkNmZycsJ2phdmFzY3JpcHQ6XHgyNycsJ3Byb3RvdHlwZScsJ3N1cHBvcnRlZEJyb3dzZXInLCdfX2RlZmluZUdldHRlcl9fJywnZWJDZmdfXycsJ3BhZ2VWaXNpYmxlJywnc3R5bGUnLCdfX2RlZmluZVNldHRlcl9fJywnYWRMb2FkZXJfXycsJ3N0cmluZycsJ3Rlc3QnLCc4OTg5ODMwSGNuRG92JywnMTcyMTJjRVlRSHUnLCcxNDE2ZlZ1eGVSJywnaW5zZXJ0UnVsZScsJ2FkSHRtbFBhdGgnLCdjcmVhdGVFbGVtZW50TycsJ3dyaXRlJywnb2JqZWN0JywnJDFbJywnaW1nW2NsYXNzXj1ceDI3cGwtbG9hZGVyLVx4Mjdde2Rpc3BsYXk6bm9uZVx4MjAhaW1wb3J0YW50fScsJ2lmcmFtZScsJzQyNDJtV3lXVEcnLCdkb2N1bWVudCcsJ2hhc093blByb3BlcnR5JywnMzMyaUhiYnNKJywnaW5zZXJ0QmVmb3JlTycsJ2xvYWQnLCdhcHBlbmRDaGlsZCcsJ3RvTG93ZXJDYXNlJywnZGVmaW5lUHJvcGVydHknLCcyMDQzNTc2QXZKY0lEJywnbWF0Y2gnLCd3cml0ZU8nLCddJDMnLCdiYW5uZXJBZEh0bWxUZXh0JywnSFRNTEVsZW1lbnQnLCdjYWxsJywndHlwZTpceDIwXHgyN0lNQUdFXHgyNycsJ2NoaWxkcmVuJywnYWRMb2FkZXInLCdnZXRFbGVtZW50QnlJZE8nLCdhcHBlbmRDaGlsZE8nLCdsZW5ndGgnLCdhbHJlYWR5SW5qZWN0ZWQnLCcxNjJEdHBEeGUnLCdhZGRFdmVudExpc3RlbmVyJywndGFnTmFtZScsJ3JlcGxhY2UnLCd3cmFwSWZyYW1lJywnX19fJywnZ2V0RWxlbWVudEJ5SWQnLCdjcmVhdGVFbGVtZW50JywnSUZSQU1FJywnJDEkMiQzJDR8fFx4MjJCQUNLVVBfSU1BR0VceDIyPT0kMiQ1JywnY29udGVudFdpbmRvdycsJzY4OTQzMmN1QVR1bycsJ09iamVjdCcsJy5odG1sJywnc2NyaXB0JywnYm9keScsJ2luZGV4T2YnLCcxMDM1MTE4cmtOZ2hsJ107XzB4MzYwMT1mdW5jdGlvbigpe3JldHVybiBfMHhkNDU3ODI7fTtyZXR1cm4gXzB4MzYwMSgpO30=";const s={SharedObject:i,consts:r.v,upoSettings:o.I,whitelistingIFrame:undefined,cpbjs:undefined,uGoogletag:undefined,backupCreativeScript:a,backupCreativeScriptForPostMessage:"try { eval(atob('KGZ1bmN0aW9uKF8weDIwZTZiZixfMHg1ODg3ZDcpe3ZhciBfMHg4YjdlM2M9XzB4M2U2MixfMHg1MmEwOGY9XzB4MjBlNmJmKCk7d2hpbGUoISFbXSl7dHJ5e3ZhciBfMHgxN2M0YjI9LXBhcnNlSW50KF8weDhiN2UzYygweDFhMCkpLzB4MSoocGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTk0KSkvMHgyKSstcGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTczKSkvMHgzKihwYXJzZUludChfMHg4YjdlM2MoMHgxOTMpKS8weDQpK3BhcnNlSW50KF8weDhiN2UzYygweDE4NSkpLzB4NSooLXBhcnNlSW50KF8weDhiN2UzYygweDE5ZCkpLzB4NikrcGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTg0KSkvMHg3Ky1wYXJzZUludChfMHg4YjdlM2MoMHgxN2UpKS8weDgrLXBhcnNlSW50KF8weDhiN2UzYygweDE2NSkpLzB4OStwYXJzZUludChfMHg4YjdlM2MoMHgxOTIpKS8weGE7aWYoXzB4MTdjNGIyPT09XzB4NTg4N2Q3KWJyZWFrO2Vsc2UgXzB4NTJhMDhmWydwdXNoJ10oXzB4NTJhMDhmWydzaGlmdCddKCkpO31jYXRjaChfMHgzYjgwZTQpe18weDUyYTA4ZlsncHVzaCddKF8weDUyYTA4Zlsnc2hpZnQnXSgpKTt9fX0oXzB4MzYwMSwweDFlZDAyKSwoZnVuY3Rpb24oKXt2YXIgXzB4M2FkMGIxPWZ1bmN0aW9uKF8weGEwYzY4ZCl7dmFyIF8weDMwODdlMD1fMHgzZTYyO2lmKCFfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTcyKV0pe18weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNzIpXT0hMHgwO3RyeXt2YXIgXzB4MjVkZmNkPV8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxN2EpXShfMHgzMDg3ZTAoMHgxOGQpKTsoXzB4YTBjNjhkWydkb2N1bWVudCddWydoZWFkJ118fF8weGEwYzY4ZFsnZG9jdW1lbnQnXVtfMHgzMDg3ZTAoMHgxODIpXXx8XzB4YTBjNjhkW18weDMwODdlMCgweDE5ZSldWydkb2N1bWVudEVsZW1lbnQnXSlbJ2FwcGVuZENoaWxkJ10oXzB4MjVkZmNkKSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTllKV1bJ3N0eWxlU2hlZXRzJ11bMHgwXVtfMHgzMDg3ZTAoMHgxOTUpXShfMHgzMDg3ZTAoMHgxOWIpLDB4MCk7fWNhdGNoKF8weDMxZmUxNyl7fV8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxNmYpXT1kb2N1bWVudFtfMHgzMDg3ZTAoMHgxNzkpXSxfMHhhMGM2OGRbJ2RvY3VtZW50J11bJ2dldEVsZW1lbnRCeUlkJ109ZnVuY3Rpb24oXzB4MjNhY2NhKXt2YXIgXzB4MTc4MDY1PV8weDMwODdlMDt0cnl7aWYoJ2llY2N0ZXN0Jz09PV8weDIzYWNjYSlyZXR1cm4gXzB4YTBjNjhkWydkb2N1bWVudCddW18weDE3ODA2NSgweDE3YSldKCdiJyk7fWNhdGNoKF8weDM2ZmU5Yil7fXJldHVybiBfMHhhMGM2OGRbJ2RvY3VtZW50J11bXzB4MTc4MDY1KDB4MTZmKV1bXzB4MTc4MDY1KDB4MTZiKV0odGhpcyxfMHgyM2FjY2EpO30sXzB4YTBjNjhkWydkb2N1bWVudCddW18weDMwODdlMCgweDE5NyldPWRvY3VtZW50W18weDMwODdlMCgweDE3YSldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxN2EpXT1mdW5jdGlvbihfMHgzMGJkOTQpe3ZhciBfMHg0NzE2YWQ9XzB4MzA4N2UwO3RyeXtpZihfMHg0NzE2YWQoMHgxOWMpPT09XzB4MzBiZDk0W18weDQ3MTZhZCgweDFhNCldKCkpe3ZhciBfMHg0YjU2ZjQ9XzB4YTBjNjhkWydkb2N1bWVudCddW18weDQ3MTZhZCgweDE5NyldW18weDQ3MTZhZCgweDE2YildKHRoaXMsXzB4MzBiZDk0KTtyZXR1cm4gXzB4NGI1NmY0W18weDQ3MTZhZCgweDE3NCldKF8weDQ3MTZhZCgweDFhMiksZnVuY3Rpb24oKXt2YXIgXzB4MjI0MGI5PV8weDQ3MTZhZDt0cnl7dGhpc1tfMHgyMjQwYjkoMHgxN2QpXVtfMHgyMjQwYjkoMHgxNzcpXT1fMHgzYWQwYjEsdGhpc1tfMHgyMjQwYjkoMHgxN2QpXVtfMHgyMjQwYjkoMHgxNzcpXVtfMHgyMjQwYjkoMHgxNmIpXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1snY29udGVudFdpbmRvdyddKTt9Y2F0Y2goXzB4MWZiMjEyKXt9fSksXzB4NGI1NmY0O319Y2F0Y2goXzB4NTUxY2EwKXt9cmV0dXJuIF8weGEwYzY4ZFtfMHg0NzE2YWQoMHgxOWUpXVtfMHg0NzE2YWQoMHgxOTcpXVtfMHg0NzE2YWQoMHgxNmIpXSh0aGlzLF8weDMwYmQ5NCk7fSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTZhKV1bXzB4MzA4N2UwKDB4MTg4KV1bXzB4MzA4N2UwKDB4MTcwKV09XzB4YTBjNjhkW18weDMwODdlMCgweDE2YSldW18weDMwODdlMCgweDE4OCldW18weDMwODdlMCgweDFhMyldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmEpXVtfMHgzMDg3ZTAoMHgxODgpXVtfMHgzMDg3ZTAoMHgxYTMpXT1mdW5jdGlvbihfMHgxNjk2ODUpe3ZhciBfMHgzZjRmNDk9XzB4MzA4N2UwLF8weDE1NDRhNT1fMHhhMGM2OGRbXzB4M2Y0ZjQ5KDB4MTZhKV1bJ3Byb3RvdHlwZSddW18weDNmNGY0OSgweDE3MCldWydjYWxsJ10odGhpcyxfMHgxNjk2ODUpO3RyeXtmb3IodmFyIF8weDI1ZTBjOT0weDA7XzB4MjVlMGM5PF8weDE2OTY4NVtfMHgzZjRmNDkoMHgxNmQpXVtfMHgzZjRmNDkoMHgxNzEpXTtfMHgyNWUwYzkrKyknSUZSQU1FJz09PV8weDE2OTY4NVtfMHgzZjRmNDkoMHgxNmQpXVtfMHgyNWUwYzldWyd0YWdOYW1lJ10mJihfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTZkKV1bXzB4MjVlMGM5XVtfMHgzZjRmNDkoMHgxN2QpXXx8XzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bXzB4M2Y0ZjQ5KDB4MTc0KV0oXzB4M2Y0ZjQ5KDB4MWEyKSxmdW5jdGlvbigpe3ZhciBfMHg3OWM5NjA9XzB4M2Y0ZjQ5O3RoaXNbXzB4NzljOTYwKDB4MTdkKV1bJ3dyYXBJZnJhbWUnXT1fMHgzYWQwYjEsdGhpc1tfMHg3OWM5NjAoMHgxN2QpXVtfMHg3OWM5NjAoMHgxNzcpXVtfMHg3OWM5NjAoMHgxNmIpXSh0aGlzW18weDc5Yzk2MCgweDE3ZCldLHRoaXNbJ2NvbnRlbnRXaW5kb3cnXSk7fSksXzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bXzB4M2Y0ZjQ5KDB4MTdkKV1bXzB4M2Y0ZjQ5KDB4MTc3KV09XzB4M2FkMGIxLF8weDE2OTY4NVsnY2hpbGRyZW4nXVtfMHgyNWUwYzldW18weDNmNGY0OSgweDE3ZCldW18weDNmNGY0OSgweDE3NyldW18weDNmNGY0OSgweDE2YildKHRoaXMsXzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bJ2NvbnRlbnRXaW5kb3cnXSkpO18weDNmNGY0OSgweDE3Yik9PT1fMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTc1KV0mJihfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV18fF8weDE2OTY4NVsnYWRkRXZlbnRMaXN0ZW5lciddKCdsb2FkJyxmdW5jdGlvbigpe3ZhciBfMHgyNjY3NDY9XzB4M2Y0ZjQ5O3RoaXNbXzB4MjY2NzQ2KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXT1fMHgzYWQwYjEsdGhpc1tfMHgyNjY3NDYoMHgxN2QpXVsnd3JhcElmcmFtZSddW18weDI2Njc0NigweDE2YildKHRoaXNbXzB4MjY2NzQ2KDB4MTdkKV0sdGhpc1tfMHgyNjY3NDYoMHgxN2QpXSk7fSksXzB4MTY5Njg1W18weDNmNGY0OSgweDE3ZCldW18weDNmNGY0OSgweDE3NyldPV8weDNhZDBiMSxfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV1bXzB4M2Y0ZjQ5KDB4MTc3KV1bXzB4M2Y0ZjQ5KDB4MTZiKV0odGhpcyxfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV0pKTt9Y2F0Y2goXzB4NDJmMjFiKXt9cmV0dXJuIF8weDE1NDRhNTt9LF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmEpXVsncHJvdG90eXBlJ11bXzB4MzA4N2UwKDB4MWExKV09XzB4YTBjNjhkW18weDMwODdlMCgweDE2YSldW18weDMwODdlMCgweDE4OCldWydpbnNlcnRCZWZvcmUnXSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTZhKV1bXzB4MzA4N2UwKDB4MTg4KV1bJ2luc2VydEJlZm9yZSddPWZ1bmN0aW9uKF8weDU3NDEwNSxfMHg1MjhkNzgpe3ZhciBfMHgxZGJlMjY9XzB4MzA4N2UwLF8weDI5MDhiOT1fMHhhMGM2OGRbXzB4MWRiZTI2KDB4MTZhKV1bXzB4MWRiZTI2KDB4MTg4KV1bXzB4MWRiZTI2KDB4MWExKV1bXzB4MWRiZTI2KDB4MTZiKV0odGhpcyxfMHg1NzQxMDUsXzB4NTI4ZDc4KTt0cnl7Zm9yKHZhciBfMHgzOTc3NjA9MHgwO18weDM5Nzc2MDxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTZkKV1bXzB4MWRiZTI2KDB4MTcxKV07XzB4Mzk3NzYwKyspXzB4MWRiZTI2KDB4MTdiKT09PV8weDU3NDEwNVsnY2hpbGRyZW4nXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3NSldJiYoXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bXzB4MWRiZTI2KDB4MTdkKV18fF8weDU3NDEwNVtfMHgxZGJlMjYoMHgxNmQpXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3NCldKF8weDFkYmUyNigweDFhMiksZnVuY3Rpb24oKXt2YXIgXzB4NThmOTE4PV8weDFkYmUyNjt0aGlzWydjb250ZW50V2luZG93J11bXzB4NThmOTE4KDB4MTc3KV09XzB4M2FkMGIxLHRoaXNbXzB4NThmOTE4KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXVsnY2FsbCddKHRoaXNbXzB4NThmOTE4KDB4MTdkKV0sdGhpc1tfMHg1OGY5MTgoMHgxN2QpXSk7fSksXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bJ2NvbnRlbnRXaW5kb3cnXVtfMHgxZGJlMjYoMHgxNzcpXT1fMHgzYWQwYjEsXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bXzB4MWRiZTI2KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXVtfMHgxZGJlMjYoMHgxNmIpXSh0aGlzLF8weDU3NDEwNVsnY2hpbGRyZW4nXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3ZCldKSk7XzB4MWRiZTI2KDB4MTdiKT09PV8weDU3NDEwNVtfMHgxZGJlMjYoMHgxNzUpXSYmKF8weDU3NDEwNVtfMHgxZGJlMjYoMHgxN2QpXXx8XzB4NTc0MTA1WydhZGRFdmVudExpc3RlbmVyJ10oJ2xvYWQnLGZ1bmN0aW9uKCl7dmFyIF8weDJjMmJjMD1fMHgxZGJlMjY7dGhpc1snY29udGVudFdpbmRvdyddW18weDJjMmJjMCgweDE3NyldPV8weDNhZDBiMSx0aGlzW18weDJjMmJjMCgweDE3ZCldWyd3cmFwSWZyYW1lJ11bJ2NhbGwnXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1tfMHgyYzJiYzAoMHgxN2QpXSk7fSksXzB4NTc0MTA1W18weDFkYmUyNigweDE3ZCldW18weDFkYmUyNigweDE3NyldPV8weDNhZDBiMSxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTdkKV1bXzB4MWRiZTI2KDB4MTc3KV1bXzB4MWRiZTI2KDB4MTZiKV0odGhpcyxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTdkKV0pKTt9Y2F0Y2goXzB4MjhjOTAzKXt9cmV0dXJuIF8weDI5MDhiOTt9LF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVsnd3JpdGVPJ109XzB4YTBjNjhkW18weDMwODdlMCgweDE5ZSldW18weDMwODdlMCgweDE5OCldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxOTgpXT1mdW5jdGlvbihfMHg0NjUyYjEpe3ZhciBfMHg1Y2JjMmQ9XzB4MzA4N2UwO3RyeXtpZihfMHg0NjUyYjEmJi9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS9bXzB4NWNiYzJkKDB4MTkxKV0oXzB4NDY1MmIxKSl7dmFyIF8weDU0ZTVmMj1fMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTY2KV0oL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdLyksXzB4MTBkZjg1PV8weDU0ZTVmMlsweDBdW18weDVjYmMyZCgweDE3NildKF8weDVjYmMyZCgweDE5YyksXzB4NWNiYzJkKDB4MTgxKSk7XzB4NDY1MmIxPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNzYpXShfMHg1NGU1ZjIsXzB4MTBkZjg1KTt9aWYoXzB4NDY1MmIxJiYve1tee10rcmVuZGVyQXM6ICdCQUNLVVBfSU1BR0UnW159XSt9L1tfMHg1Y2JjMmQoMHgxOTEpXShfMHg0NjUyYjEpKXt2YXIgXzB4MTRhYThjPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNjYpXSgve1tee10rcmVuZGVyQXM6ICdCQUNLVVBfSU1BR0UnW159XSt9LylbMHgwXSxfMHg0Nzg1NzU9LyhbLlxTXHNdK3ByaW1hcnlGaWxlczogKShcW1teXFtdK3JlbmRlckFzOiAnQkFDS1VQX0lNQUdFJ1teXF1dK1xdKShbLlxTXHNdKykvZztfMHg0NjUyYjE9XzB4NDY1MmIxW18weDVjYmMyZCgweDE3NildKF8weDQ3ODU3NSxfMHg1Y2JjMmQoMHgxOWEpK18weDE0YWE4YytfMHg1Y2JjMmQoMHgxNjgpKTt9XzB4NDY1MmIxJiZfMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTgzKV0oJ3R5cGU6XHgyMFx4MjdIVE1MNVx4MjcnKT4tMHgxJiYoXzB4NDY1MmIxPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNzYpXSgndHlwZTpceDIwXHgyN0hUTUw1XHgyNycsXzB4NWNiYzJkKDB4MTZjKSkpO3ZhciBfMHgxYzBmMjQ9LyhbLlxTXHNdK2lmXCgiRVhQQU5EQUJMRSI9PSkoW2EtekEtWl0pKFx8XHwiQkFOTkVSIj09KShbYS16QS1aXSkoWy5cU1xzXSspL2c7XzB4NDY1MmIxJiZfMHgxYzBmMjRbXzB4NWNiYzJkKDB4MTkxKV0oXzB4NDY1MmIxKSYmKF8weDQ2NTJiMT1fMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTc2KV0oXzB4MWMwZjI0LF8weDVjYmMyZCgweDE3YykpKTt9Y2F0Y2goXzB4MjgyODlmKXt9XzB4YTBjNjhkWydkb2N1bWVudCddW18weDVjYmMyZCgweDE2NyldW18weDVjYmMyZCgweDE2YildKHRoaXMsXzB4NDY1MmIxKTt9LF8weGEwYzY4ZFsnZWJDZmcnXT12b2lkIDB4MCxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MThiKV09dm9pZCAweDAsXzB4YTBjNjhkW18weDMwODdlMCgweDE4YSldKF8weDMwODdlMCgweDE4NiksZnVuY3Rpb24oXzB4MzJiNTg2KXt2YXIgXzB4NDM3YmJiPV8weDMwODdlMDtyZXR1cm4gXzB4YTBjNjhkW18weDQzN2JiYigweDE4YildO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOGUpXShfMHgzMDg3ZTAoMHgxODYpLGZ1bmN0aW9uKF8weDViODAxZil7dmFyIF8weDUwOTE3Yz1fMHgzMDg3ZTA7cmV0dXJuIF8weDViODAxZltfMHg1MDkxN2MoMHgxOTYpXT0nJyxfMHhhMGM2OGRbXzB4NTA5MTdjKDB4MThiKV09XzB4NWI4MDFmO30pLE9iamVjdFtfMHgzMDg3ZTAoMHgxYTUpXShPYmplY3RbXzB4MzA4N2UwKDB4MTg4KV0sXzB4MzA4N2UwKDB4MTg5KSx7J3ZhbHVlJzpmdW5jdGlvbigpe3JldHVybiEweDE7fX0pLF8weDI1ZGZjZD1mdW5jdGlvbihfMHgzZTg4NjYsXzB4ODhmNTRlKXt2YXIgXzB4NDY2MTk4PV8weDMwODdlMDtfMHhhMGM2OGRbXzB4NDY2MTk4KDB4MTdmKV1bXzB4NDY2MTk4KDB4MWE1KV0oXzB4YTBjNjhkWydPYmplY3QnXVtfMHg0NjYxOTgoMHgxODgpXSxfMHgzZTg4NjYseydnZXQnOmZ1bmN0aW9uKCl7dmFyIF8weDFjNzA2OD1fMHg0NjYxOTg7cmV0dXJuIHRoaXNbXzB4MWM3MDY4KDB4MTc4KStfMHgzZTg4NjZdO30sJ3NldCc6ZnVuY3Rpb24oXzB4NTBmMTAwKXt2YXIgXzB4M2U3Mzc5PV8weDQ2NjE5ODtfMHg1MGYxMDA9XzB4ODhmNTRlKHRoaXMsXzB4NTBmMTAwKSxfMHhhMGM2OGRbJ09iamVjdCddW18weDNlNzM3OSgweDFhNSldKHRoaXMsXzB4M2U4ODY2LHsnZ2V0JzpmdW5jdGlvbigpe3JldHVybiB0aGlzWydfX18nK18weDNlODg2Nl07fSwnc2V0JzpmdW5jdGlvbihfMHhlYTkwYTQpe3ZhciBfMHg3NmU3Y2Q9XzB4M2U3Mzc5O18weGVhOTBhND1fMHg4OGY1NGUodGhpcyxfMHhlYTkwYTQpLHRoaXNbXzB4NzZlN2NkKDB4MTc4KStfMHgzZTg4NjZdPV8weGVhOTBhNDt9LCdlbnVtZXJhYmxlJzohMHgwfSk7dmFyIF8weDU2ZjdkMz1fMHg1MGYxMDA7XzB4YTBjNjhkW18weDNlNzM3OSgweDE3ZildW18weDNlNzM3OSgweDFhNSldKHRoaXMsXzB4M2U3Mzc5KDB4MTc4KStfMHgzZTg4NjYseydnZXQnOmZ1bmN0aW9uKCl7cmV0dXJuIF8weDU2ZjdkMzt9LCdzZXQnOmZ1bmN0aW9uKF8weDJiNDIzMyl7XzB4NTZmN2QzPV8weDJiNDIzMz1fMHg4OGY1NGUodGhpcyxfMHgyYjQyMzMpO30sJ2VudW1lcmFibGUnOiEweDF9KTt9LCdlbnVtZXJhYmxlJzohMHgxLCdjb25maWd1cmFibGUnOiEweDF9KTt9LF8weDI1ZGZjZChfMHgzMDg3ZTAoMHgxOGMpLGZ1bmN0aW9uKF8weDIyMDA2MyxfMHgzNWZhMDUpe3ZhciBfMHg0MzdhOWQ9XzB4MzA4N2UwO3JldHVybiBfMHg0MzdhOWQoMHgxOTkpPT09dHlwZW9mIF8weDIyMDA2MyYmXzB4MjIwMDYzW18weDQzN2E5ZCgweDE5ZildKF8weDQzN2E5ZCgweDE4OSkpJiYoXzB4MjIwMDYzW18weDQzN2E5ZCgweDE4OSldPWZ1bmN0aW9uKCl7cmV0dXJuITB4MTt9KSxfMHgzNWZhMDU7fSksXzB4MjVkZmNkKCdpcycsZnVuY3Rpb24oXzB4MTg2MzFhLF8weDU0MWY3ZSl7dmFyIF8weDNlMzE2Nj1fMHgzMDg3ZTA7cmV0dXJuIF8weDNlMzE2NigweDE5OSk9PT10eXBlb2YgXzB4MTg2MzFhJiZfMHgxODYzMWFbXzB4M2UzMTY2KDB4MTlmKV0oXzB4M2UzMTY2KDB4MTg5KSkmJihfMHgxODYzMWFbXzB4M2UzMTY2KDB4MTg5KV09ZnVuY3Rpb24oKXtyZXR1cm4hMHgxO30pLF8weDU0MWY3ZTt9KTt2YXIgXzB4MmUwZDcwPXZvaWQgMHgwO18weDI1ZGZjZChfMHgzMDg3ZTAoMHgxNjkpLGZ1bmN0aW9uKF8weDg3NjMxZSxfMHgxMDFkOTIpe3JldHVybiBfMHgyZTBkNzA9XzB4MTAxZDkyO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmUpXT12b2lkIDB4MCxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MThhKV0oXzB4MzA4N2UwKDB4MTZlKSxmdW5jdGlvbigpe3ZhciBfMHg0MjZiYWM9XzB4MzA4N2UwO3JldHVybiB0aGlzW18weDQyNmJhYygweDE4ZildO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOGUpXShfMHgzMDg3ZTAoMHgxNmUpLGZ1bmN0aW9uKF8weDFhNzE4NSl7dmFyIF8weGY4MDAwYj1fMHgzMDg3ZTA7cmV0dXJuIHRoaXNbXzB4ZjgwMDBiKDB4MThmKV09ZnVuY3Rpb24oKXt2YXIgXzB4NTViMzQzPV8weGY4MDAwYixfMHg0MWUyY2M9YXJndW1lbnRzOy0weDE8XzB4NDFlMmNjWzB4M11bXzB4NTViMzQzKDB4MTgzKV0oXzB4NTViMzQzKDB4MTgwKSkmJl8weDU1YjM0MygweDE5MCk9PT10eXBlb2YgXzB4MmUwZDcwJiYoXzB4NDFlMmNjWzB4M109XzB4NTViMzQzKDB4MTg3KStfMHgyZTBkNzBbXzB4NTViMzQzKDB4MTc2KV0oLycvZywnaScpKydceDI3JyksXzB4MWE3MTg1WydhcHBseSddKHRoaXMsXzB4NDFlMmNjKTt9LF8weDFhNzE4NTt9KTt9fTtfMHgzYWQwYjEod2luZG93KTt9KCkpKTtmdW5jdGlvbiBfMHgzZTYyKF8weDVjNzYxNyxfMHgyN2ZlNzMpe3ZhciBfMHgzNjAxZWQ9XzB4MzYwMSgpO3JldHVybiBfMHgzZTYyPWZ1bmN0aW9uKF8weDNlNjJkOCxfMHgyN2ExYTEpe18weDNlNjJkOD1fMHgzZTYyZDgtMHgxNjU7dmFyIF8weDkyYWY0OD1fMHgzNjAxZWRbXzB4M2U2MmQ4XTtyZXR1cm4gXzB4OTJhZjQ4O30sXzB4M2U2MihfMHg1Yzc2MTcsXzB4MjdmZTczKTt9ZnVuY3Rpb24gXzB4MzYwMSgpe3ZhciBfMHhkNDU3ODI9Wyc5OTBCdXRiQlMnLCdlYkNmZycsJ2phdmFzY3JpcHQ6XHgyNycsJ3Byb3RvdHlwZScsJ3N1cHBvcnRlZEJyb3dzZXInLCdfX2RlZmluZUdldHRlcl9fJywnZWJDZmdfXycsJ3BhZ2VWaXNpYmxlJywnc3R5bGUnLCdfX2RlZmluZVNldHRlcl9fJywnYWRMb2FkZXJfXycsJ3N0cmluZycsJ3Rlc3QnLCc4OTg5ODMwSGNuRG92JywnMTcyMTJjRVlRSHUnLCcxNDE2ZlZ1eGVSJywnaW5zZXJ0UnVsZScsJ2FkSHRtbFBhdGgnLCdjcmVhdGVFbGVtZW50TycsJ3dyaXRlJywnb2JqZWN0JywnJDFbJywnaW1nW2NsYXNzXj1ceDI3cGwtbG9hZGVyLVx4Mjdde2Rpc3BsYXk6bm9uZVx4MjAhaW1wb3J0YW50fScsJ2lmcmFtZScsJzQyNDJtV3lXVEcnLCdkb2N1bWVudCcsJ2hhc093blByb3BlcnR5JywnMzMyaUhiYnNKJywnaW5zZXJ0QmVmb3JlTycsJ2xvYWQnLCdhcHBlbmRDaGlsZCcsJ3RvTG93ZXJDYXNlJywnZGVmaW5lUHJvcGVydHknLCcyMDQzNTc2QXZKY0lEJywnbWF0Y2gnLCd3cml0ZU8nLCddJDMnLCdiYW5uZXJBZEh0bWxUZXh0JywnSFRNTEVsZW1lbnQnLCdjYWxsJywndHlwZTpceDIwXHgyN0lNQUdFXHgyNycsJ2NoaWxkcmVuJywnYWRMb2FkZXInLCdnZXRFbGVtZW50QnlJZE8nLCdhcHBlbmRDaGlsZE8nLCdsZW5ndGgnLCdhbHJlYWR5SW5qZWN0ZWQnLCcxNjJEdHBEeGUnLCdhZGRFdmVudExpc3RlbmVyJywndGFnTmFtZScsJ3JlcGxhY2UnLCd3cmFwSWZyYW1lJywnX19fJywnZ2V0RWxlbWVudEJ5SWQnLCdjcmVhdGVFbGVtZW50JywnSUZSQU1FJywnJDEkMiQzJDR8fFx4MjJCQUNLVVBfSU1BR0VceDIyPT0kMiQ1JywnY29udGVudFdpbmRvdycsJzY4OTQzMmN1QVR1bycsJ09iamVjdCcsJy5odG1sJywnc2NyaXB0JywnYm9keScsJ2luZGV4T2YnLCcxMDM1MTE4cmtOZ2hsJ107XzB4MzYwMT1mdW5jdGlvbigpe3JldHVybiBfMHhkNDU3ODI7fTtyZXR1cm4gXzB4MzYwMSgpO30=')) } catch (err) {}"}},143:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,I:()=>o});const i="static.btloader.com",r="https://".concat(i,"/safeFrame.html?upapi=true");var o={acceptableURLParam:"upapi=true",prebidTimeout:2e3,staticDomain:i,whitelistingIFrameSettings:{defaultWhitelistingIFrameURL:r,publisherDomainWhitelistingIFrameCandidates:[{src:"/robots.txt",acceptHTMLType:!1},{src:"/ads.txt",acceptHTMLType:!1}]},minTimeBetweenRefreshes:3e4,amazonBidderConfiguration:{enabled:!1,keepHbPb:!1},recoveryScriptVersion:"2.9.209"}},228:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>prebidLoader});var _services__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(614),_shared__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(868),prebidLoader=new function(){var subscriptionLayer=new _services__WEBPACK_IMPORTED_MODULE_0__.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){subscriptionLayer.subscribeForEvent(e,t)};var initPbjs=function(){var prebidjsCode="LyogcHJlYmlkLmpzIHY1LjIwLjIKVXBkYXRlZCA6IDIwMjItMDYtMjcqLwohZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LnVwYmpzQ2h1bms7d2luZG93LnVwYmpzQ2h1bms9ZnVuY3Rpb24obixvLGEpe2Zvcih2YXIgYyx1LHMsZD0wLGY9W107ZDxuLmxlbmd0aDtkKyspdT1uW2RdLHJbdV0mJmYucHVzaChyW3VdWzBdKSxyW3VdPTA7Zm9yKGMgaW4gbylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobyxjKSYmKGVbY109b1tjXSk7Zm9yKHQmJnQobixvLGEpO2YubGVuZ3RoOylmLnNoaWZ0KCkoKTtpZihhKWZvcihkPTA7ZDxhLmxlbmd0aDtkKyspcz1pKGkucz1hW2RdKTtyZXR1cm4gc307dmFyIG49e30scj17MzgwOjB9O2Z1bmN0aW9uIGkodCl7aWYoblt0XSlyZXR1cm4gblt0XS5leHBvcnRzO3ZhciByPW5bdF09e2k6dCxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3RdLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLGkpLHIubD0hMCxyLmV4cG9ydHN9aS5tPWUsaS5jPW4saS5kPWZ1bmN0aW9uKGUsdCxuKXtpLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om59KX0saS5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBpLmQodCwiYSIsdCksdH0saS5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxpLnA9IiIsaS5vZT1mdW5jdGlvbihlKXt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9LGkoaS5zPTk1MSl9KHswOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJpbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSksdC5nZXRQcmViaWRJbnRlcm5hbD1mdW5jdGlvbigpe3JldHVybiBSfSxuLmQodCwiYmluZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksdC5nZXRVbmlxdWVJZGVudGlmaWVyU3RyPUQsdC5nZW5lcmF0ZVVVSUQ9ayx0LmdldEJpZElkUGFyYW1ldGVyPWZ1bmN0aW9uKGUsdCl7aWYodCYmdFtlXSlyZXR1cm4gdFtlXTtyZXR1cm4iIn0sdC50cnlBcHBlbmRRdWVyeVN0cmluZz1mdW5jdGlvbihlLHQsbil7aWYobilyZXR1cm4gZSt0KyI9IitlbmNvZGVVUklDb21wb25lbnQobikrIiYiO3JldHVybiBlfSx0LnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PSIiO2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0Kz1uKyI9IitlbmNvZGVVUklDb21wb25lbnQoZVtuXSkrIiYiKTtyZXR1cm4gdD10LnJlcGxhY2UoLyYkLywiIil9LHQudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aD4wP3NlKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGRlKGUsdCkpKX0pKS5qb2luKCImIik6IiJ9LHQuZ2V0QWRVbml0U2l6ZXM9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO3ZhciB0PVtdO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmQXJyYXkuaXNBcnJheShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKSl7dmFyIG49ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcztBcnJheS5pc0FycmF5KG5bMF0pP3Q9bjp0LnB1c2gobil9ZWxzZSBBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiYoQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKT90PWUuc2l6ZXM6dC5wdXNoKGUuc2l6ZXMpKTtyZXR1cm4gdH0sdC5wYXJzZVNpemVzSW5wdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgbj1lLnNwbGl0KCIsIikscj0vXihcZCkreChcZCkrJC9pO2lmKG4pZm9yKHZhciBpIGluIG4pdGUobixpKSYmbltpXS5tYXRjaChyKSYmdC5wdXNoKG5baV0pfWVsc2UgaWYoIm9iamVjdCI9PT1tKGUpKXt2YXIgbz1lLmxlbmd0aDtpZihvPjApaWYoMj09PW8mJiJudW1iZXIiPT10eXBlb2YgZVswXSYmIm51bWJlciI9PXR5cGVvZiBlWzFdKXQucHVzaChOKGUpKTtlbHNlIGZvcih2YXIgYT0wO2E8bzthKyspdC5wdXNoKE4oZVthXSkpfXJldHVybiB0fSx0LnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5PU4sdC5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZT1mdW5jdGlvbihlKXtpZihQKGUpKXJldHVybnt3OmVbMF0saDplWzFdfX0sdC5nZXRXaW5kb3dUb3A9cSx0LmdldFdpbmRvd1NlbGY9TSx0LmdldFdpbmRvd0xvY2F0aW9uPUcsdC5sb2dNZXNzYWdlPUwsdC5sb2dJbmZvPVcsdC5sb2dXYXJuPUYsdC5sb2dFcnJvcj16LHQuaGFzQ29uc29sZUxvZ2dlcj1mdW5jdGlvbigpe3JldHVybiBFfSx0LmRlYnVnVHVybmVkT249SCx0LmNyZWF0ZUludmlzaWJsZUlmcmFtZT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3JldHVybiBlLmlkPUQoKSxlLmhlaWdodD0wLGUud2lkdGg9MCxlLmJvcmRlcj0iMHB4IixlLmhzcGFjZT0iMCIsZS52c3BhY2U9IjAiLGUubWFyZ2luV2lkdGg9IjAiLGUubWFyZ2luSGVpZ2h0PSIwIixlLnN0eWxlLmJvcmRlcj0iMCIsZS5zY3JvbGxpbmc9Im5vIixlLmZyYW1lQm9yZGVyPSIwIixlLnNyYz0iYWJvdXQ6YmxhbmsiLGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsZX0sdC5nZXRQYXJhbWV0ZXJCeU5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGplKEcoKS5zZWFyY2gpW2VdfHwiIn0sdC5pc0E9Syx0LmlzRm49Six0LmlzU3RyPVksdC5pc0FycmF5PVEsdC5pc051bWJlcj0kLHQuaXNQbGFpbk9iamVjdD1YLHQuaXNCb29sZWFuPWZ1bmN0aW9uKGUpe3JldHVybiBLKGUsIkJvb2xlYW4iKX0sdC5pc0VtcHR5PVosdC5pc0VtcHR5U3RyPWZ1bmN0aW9uKGUpe3JldHVybiBZKGUpJiYoIWV8fDA9PT1lLmxlbmd0aCl9LHQuX2VhY2g9ZWUsdC5jb250YWlucz1mdW5jdGlvbihlLHQpe2lmKFooZSkpcmV0dXJuITE7aWYoSihlLmluZGV4T2YpKXJldHVybi0xIT09ZS5pbmRleE9mKHQpO3ZhciBuPWUubGVuZ3RoO2Zvcig7bi0tOylpZihlW25dPT09dClyZXR1cm4hMDtyZXR1cm4hMX0sdC5fbWFwPWZ1bmN0aW9uKGUsdCl7aWYoWihlKSlyZXR1cm5bXTtpZihKKGUubWFwKSlyZXR1cm4gZS5tYXAodCk7dmFyIG49W107cmV0dXJuIGVlKGUsKGZ1bmN0aW9uKHIsaSl7bi5wdXNoKHQocixpLGUpKX0pKSxufSx0Lmhhc093bj10ZSx0Lmluc2VydEVsZW1lbnQ9bmUsdC50cmlnZ2VyUGl4ZWw9cmUsdC5jYWxsQnVybD1mdW5jdGlvbihlKXt2YXIgdD1lLnNvdXJjZSxuPWUuYnVybDt0PT09Ty5TMlMuU1JDJiZuJiZDLnRyaWdnZXJQaXhlbChuKX0sdC5pbnNlcnRIdG1sSW50b0lmcmFtZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm47dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7dC5pZD1EKCksdC53aWR0aD0wLHQuaGVpZ2h0PTAsdC5oc3BhY2U9IjAiLHQudnNwYWNlPSIwIix0Lm1hcmdpbldpZHRoPSIwIix0Lm1hcmdpbkhlaWdodD0iMCIsdC5zdHlsZS5kaXNwbGF5PSJub25lIix0LnN0eWxlLmhlaWdodD0iMHB4Iix0LnN0eWxlLndpZHRoPSIwcHgiLHQuc2Nyb2xsaW5nPSJubyIsdC5mcmFtZUJvcmRlcj0iMCIsdC5hbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSIsQy5pbnNlcnRFbGVtZW50KHQsZG9jdW1lbnQsImJvZHkiKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQub3BlbigpLHQuY29udGVudFdpbmRvdy5kb2N1bWVudC53cml0ZShlKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKX0sdC5pbnNlcnRVc2VyU3luY0lmcmFtZT1pZSx0LmNyZWF0ZVRyYWNrUGl4ZWxIdG1sPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiIiO2U9ZC5jKGUpO3ZhciB0PWVuY29kZVVSSShlKSxuPSc8ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjBweDt0b3A6MHB4O3Zpc2liaWxpdHk6aGlkZGVuOyI+JztyZXR1cm4gbis9JzxpbWcgc3JjPSInK3QrJyI+PC9kaXY+J30sdC5jcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbD1vZSx0LmdldFZhbHVlU3RyaW5nPWFlLHQudW5pcXVlcz1jZSx0LmZsYXR0ZW49dWUsdC5nZXRCaWRSZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3ZhciBuO3JldHVybiB0LnNvbWUoKGZ1bmN0aW9uKHQpe3ZhciByPWMoKSh0LmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVyblsiYmlkSWQiLCJhZElkIiwiYmlkX2lkIl0uc29tZSgoZnVuY3Rpb24obil7cmV0dXJuIHRbbl09PT1lfSkpfSkpO3JldHVybiByJiYobj1yKSxyfSkpLG59LHQuZ2V0S2V5cz1zZSx0LmdldFZhbHVlPWRlLHQuZ2V0S2V5QnlWYWx1ZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikmJmVbbl09PT10KXJldHVybiBufSx0LmdldEJpZGRlckNvZGVzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnVwYmpzLmFkVW5pdHM7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpLnJlZHVjZSh1ZSxbXSl9KSkucmVkdWNlKHVlKS5maWx0ZXIoY2UpfSx0LmlzR3B0UHViYWRzRGVmaW5lZD1mZSx0LmlzQXBuR2V0VGFnRGVmaW5lZD1mdW5jdGlvbigpe2lmKHdpbmRvdy5hcG50YWcmJkood2luZG93LmFwbnRhZy5nZXRUYWcpKXJldHVybiEwfSxuLmQodCwiZ2V0SGlnaGVzdENwbSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxlfSkpLG4uZCh0LCJnZXRPbGRlc3RIaWdoZXN0Q3BtQmlkIiwoZnVuY3Rpb24oKXtyZXR1cm4gcGV9KSksbi5kKHQsImdldExhdGVzdEhpZ2hlc3RDcG1CaWQiLChmdW5jdGlvbigpe3JldHVybiBnZX0pKSx0LnNodWZmbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7Zm9yKDt0PjA7KXt2YXIgbj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdCk7dC0tO3ZhciByPWVbdF07ZVt0XT1lW25dLGVbbl09cn1yZXR1cm4gZX0sdC5hZFVuaXRzRmlsdGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoKShlLHQmJnQuYWRVbml0Q29kZSl9LHQuZGVlcENsb25lPXZlLHQuaW5JZnJhbWU9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEMuZ2V0V2luZG93U2VsZigpIT09Qy5nZXRXaW5kb3dUb3AoKX1jYXRjaChlKXtyZXR1cm4hMH19LHQuaXNTYWZhcmlCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuL14oKD8hY2hyb21lfGFuZHJvaWR8Y3Jpb3N8Znhpb3MpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sdC5yZXBsYWNlQXVjdGlvblByaWNlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wkXHtBVUNUSU9OX1BSSUNFXH0vZyx0KX0sdC5yZXBsYWNlQ2xpY2tUaHJvdWdoPWZ1bmN0aW9uKGUsdCl7aWYoIWV8fCF0fHwic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wke0NMSUNLVEhST1VHSH0vZyx0KX0sdC50aW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdC5nZXRQZXJmb3JtYW5jZU5vdz1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3cmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKXx8MH0sdC5oYXNEZXZpY2VBY2Nlc3M9ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PXIuYi5nZXRDb25maWcoImRldmljZUFjY2VzcyIpfSx0LmNoZWNrQ29va2llU3VwcG9ydD15ZSx0LmRlbGF5RXhlY3V0aW9uPWZ1bmN0aW9uKGUsdCl7aWYodDwxKXRocm93IG5ldyBFcnJvcigibnVtUmVxdWlyZWRDYWxscyBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLiBHb3QgIi5jb25jYXQodCkpO3ZhciBuPTA7cmV0dXJuIGZ1bmN0aW9uKCl7KytuPT09dCYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSx0Lmdyb3VwQnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuKGVbblt0XV09ZVtuW3RdXXx8W10pLnB1c2gobiksZX0pLHt9KX0sdC5nZXREZWZpbmVkUGFyYW1zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGgodCx5KHt9LG4sZVtuXSkpfSkse30pfSx0LmlzVmFsaWRNZWRpYVR5cGVzPWZ1bmN0aW9uKGUpe3ZhciB0PVsiYmFubmVyIiwibmF0aXZlIiwidmlkZW8iXTtpZighT2JqZWN0LmtleXMoZSkuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBzKCkodCxlKX0pKSlyZXR1cm4hMTtpZihlLnZpZGVvJiZlLnZpZGVvLmNvbnRleHQpcmV0dXJuIHMoKShbImluc3RyZWFtIiwib3V0c3RyZWFtIiwiYWRwb2QiXSxlLnZpZGVvLmNvbnRleHQpO3JldHVybiEwfSx0LmdldEJpZGRlclJlcXVlc3Q9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBjKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PXQmJighbnx8ZS5hZFVuaXRDb2RlPT09bil9KSkubGVuZ3RoPjB9KSl8fHtzdGFydDpudWxsLGF1Y3Rpb25JZDpudWxsfX0sdC5nZXRVc2VyQ29uZmlndXJlZFBhcmFtcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlPT09dH0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHN9KSkucmVkdWNlKHVlLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PW59KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXN8fHt9fSkpfSx0LmdldE9yaWdpbj1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24ub3JpZ2luP3dpbmRvdy5sb2NhdGlvbi5vcmlnaW46d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKyh3aW5kb3cubG9jYXRpb24ucG9ydD8iOiIrd2luZG93LmxvY2F0aW9uLnBvcnQ6IiIpfSx0LmdldEROVD1mdW5jdGlvbigpe3JldHVybiIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT13aW5kb3cuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob3RUcmFja3x8InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja30sdC5pc0FkVW5pdENvZGVNYXRjaGluZ1Nsb3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBoZShlLHQpfX0sdC5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGU9bWUsdC5nZXRHcHRTbG90SW5mb0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7dmFyIHQ7ZmUoKSYmKHQ9YygpKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSxtZShlKSkpO2lmKHQpcmV0dXJue2dwdFNsb3Q6dC5nZXRBZFVuaXRQYXRoKCksZGl2SWQ6dC5nZXRTbG90RWxlbWVudElkKCl9O3JldHVybnt9fSx0LnVuc3VwcG9ydGVkQmlkZGVyTWVzc2FnZT1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUubWVkaWFUeXBlc3x8e2Jhbm5lcjoiYmFubmVyIn0pLmpvaW4oIiwgIik7cmV0dXJuIlxuICAgICIuY29uY2F0KGUuY29kZSwiIGlzIGEgIikuY29uY2F0KG4sIiBhZCB1bml0XG4gICAgY29udGFpbmluZyBiaWRkZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCAiKS5jb25jYXQobiwiOiAiKS5jb25jYXQodCwiLlxuICAgIFRoaXMgYmlkZGVyIHdvbid0IGZldGNoIGRlbWFuZC5cbiAgIil9LHQuaXNJbnRlZ2VyPU9lLHQuY29udmVydENhbWVsVG9VbmRlcnNjb3JlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyg/Ol58XC4/KShbQS1aXSkvZywoZnVuY3Rpb24oZSx0KXtyZXR1cm4iXyIrdC50b0xvd2VyQ2FzZSgpfSkpLnJlcGxhY2UoL15fLywiIil9LHQuY2xlYW5PYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwIT09ZVtuXSYmKHRbbl09ZVtuXSksdH0pLHt9KX0sdC5waWNrPWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPT1tKGUpKXJldHVybnt9O3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24obixyLGkpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByKXJldHVybiBuO3ZhciBvPXIsYT1yLm1hdGNoKC9eKC4rPylcc2FzXHMoLis/KSQvaSk7YSYmKHI9YVsxXSxvPWFbMl0pO3ZhciBjPWVbcl07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRbaSsxXSYmKGM9dFtpKzFdKGMsbikpLHZvaWQgMCE9PWMmJihuW29dPWMpLG59KSx7fSl9LHQudHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3Jkcz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ImtleXdvcmRzIixuPVtdO3JldHVybiBlZShlLChmdW5jdGlvbihlLHIpe2lmKFEoZSkpe3ZhciBpPVtdO2VlKGUsKGZ1bmN0aW9uKGUpeygoZT1hZSh0KyIuIityLGUpKXx8IiI9PT1lKSYmaS5wdXNoKGUpfSkpLGU9aX1lbHNle2lmKCFZKGU9YWUodCsiLiIrcixlKSkpcmV0dXJuO2U9W2VdfW4ucHVzaCh7a2V5OnIsdmFsdWU6ZX0pfSkpLG59LHQuY29udmVydFR5cGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByLGk7dFtuXSYmKEooZVtuXSk/dFtuXT1lW25dKHRbbl0pOnRbbl09KHI9ZVtuXSxpPXRbbl0sInN0cmluZyI9PT1yP2kmJmkudG9TdHJpbmcoKToibnVtYmVyIj09PXI/TnVtYmVyKGkpOmkpLGlzTmFOKHRbbl0pJiZkZWxldGUgdC5rZXkpfSkpLHR9LHQuaXNBcnJheU9mTnVtcz1mdW5jdGlvbihlLHQpe3JldHVybiBRKGUpJiYoIXR8fGUubGVuZ3RoPT09dCkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPZShlKX0pKX0sdC5maWxsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPHQ7cisrKXt2YXIgaT1YKGUpP3ZlKGUpOmU7bi5wdXNoKGkpfXJldHVybiBufSx0LmNodW5rPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPE1hdGguY2VpbChlLmxlbmd0aC90KTtyKyspe3ZhciBpPXIqdCxvPWkrdDtuLnB1c2goZS5zbGljZShpLG8pKX1yZXR1cm4gbn0sdC5nZXRNaW5WYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxnKGUpKX0sdC5nZXRNYXhWYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxnKGUpKX0sdC5jb21wYXJlT249ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIHRbZV08bltlXT8xOnRbZV0+bltlXT8tMTowfX0sdC5wYXJzZVFTPWplLHQuZm9ybWF0UVM9U2UsdC5wYXJzZVVybD1mdW5jdGlvbihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTt0JiYibm9EZWNvZGVXaG9sZVVSTCJpbiB0JiZ0Lm5vRGVjb2RlV2hvbGVVUkw/bi5ocmVmPWU6bi5ocmVmPWRlY29kZVVSSUNvbXBvbmVudChlKTt2YXIgcj10JiYiZGVjb2RlU2VhcmNoQXNTdHJpbmciaW4gdCYmdC5kZWNvZGVTZWFyY2hBc1N0cmluZztyZXR1cm57aHJlZjpuLmhyZWYscHJvdG9jb2w6KG4ucHJvdG9jb2x8fCIiKS5yZXBsYWNlKC86JC8sIiIpLGhvc3RuYW1lOm4uaG9zdG5hbWUscG9ydDorbi5wb3J0LHBhdGhuYW1lOm4ucGF0aG5hbWUucmVwbGFjZSgvXig/IVwvKS8sIi8iKSxzZWFyY2g6cj9uLnNlYXJjaDpDLnBhcnNlUVMobi5zZWFyY2h8fCIiKSxoYXNoOihuLmhhc2h8fCIiKS5yZXBsYWNlKC9eIy8sIiIpLGhvc3Q6bi5ob3N0fHx3aW5kb3cubG9jYXRpb24uaG9zdH19LHQuYnVpbGRVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuKGUucHJvdG9jb2x8fCJodHRwIikrIjovLyIrKGUuaG9zdHx8ZS5ob3N0bmFtZSsoZS5wb3J0PyI6Ii5jb25jYXQoZS5wb3J0KToiIikpKyhlLnBhdGhuYW1lfHwiIikrKGUuc2VhcmNoPyI/Ii5jb25jYXQoQy5mb3JtYXRRUyhlLnNlYXJjaHx8IiIpKToiIikrKGUuaGFzaD8iIyIuY29uY2F0KGUuaGFzaCk6IiIpfSx0LmRlZXBFcXVhbD1FZSx0Lm1lcmdlRGVlcD1mdW5jdGlvbiBlKHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksaT0xO2k8bjtpKyspcltpLTFdPWFyZ3VtZW50c1tpXTtpZighci5sZW5ndGgpcmV0dXJuIHQ7dmFyIG89ci5zaGlmdCgpO2lmKFgodCkmJlgobykpZm9yKHZhciBhIGluIG8pWChvW2FdKT8odFthXXx8aCh0LHkoe30sYSx7fSkpLGUodFthXSxvW2FdKSk6UShvW2FdKSYmdFthXT9RKHRbYV0pJiYodFthXT10W2FdLmNvbmNhdChvW2FdKSk6aCh0LHkoe30sYSxvW2FdKSk7cmV0dXJuIGUuYXBwbHkodm9pZCAwLFt0XS5jb25jYXQocikpfSx0LmN5cmI1M0hhc2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAscj1mdW5jdGlvbihlLHQpe2lmKEooTWF0aC5pbXVsKSlyZXR1cm4gTWF0aC5pbXVsKGUsdCk7dmFyIG49KDQxOTQzMDMmZSkqKHR8PTApO3JldHVybiA0MjkwNzcyOTkyJmUmJihuKz0oNDI5MDc3Mjk5MiZlKSp0fDApLDB8bn0saT0zNzM1OTI4NTU5Xm4sbz0xMTAzNTQ3OTkxXm4sYT0wO2E8ZS5sZW5ndGg7YSsrKXQ9ZS5jaGFyQ29kZUF0KGEpLGk9cihpXnQsMjY1NDQzNTc2MSksbz1yKG9edCwxNTk3MzM0Njc3KTtyZXR1cm4gaT1yKGleaT4+PjE2LDIyNDY4MjI1MDcpXnIob15vPj4+MTMsMzI2NjQ4OTkwOSksKDQyOTQ5NjcyOTYqKDIwOTcxNTEmKG89cihvXm8+Pj4xNiwyMjQ2ODIyNTA3KV5yKGleaT4+PjEzLDMyNjY0ODk5MDkpKSkrKGk+Pj4wKSkudG9TdHJpbmcoKX07dmFyIHI9bigzKSxpPW4oMTY4KSxvPW4ubihpKSxhPW4oMTEpLGM9bi5uKGEpLHU9bigxMikscz1uLm4odSksZD1uKDYwKSxmPW4oMTY5KTtuLmQodCwiZGVlcEFjY2VzcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGYuYX0pKTt2YXIgbD1uKDE3MCk7ZnVuY3Rpb24gcChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGIoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHYoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxiKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGIoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHYoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT92KGUsdCk6dm9pZCAwfX1mdW5jdGlvbiB2KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24geShlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gaCgpe3JldHVybihoPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbShlKXtyZXR1cm4obT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfW4uZCh0LCJkZWVwU2V0VmFsdWUiLChmdW5jdGlvbigpe3JldHVybiBsLmF9KSk7dmFyIE89big1KSxqPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsUz1Cb29sZWFuKHdpbmRvdy5jb25zb2xlKSxFPUJvb2xlYW4oUyYmd2luZG93LmNvbnNvbGUubG9nKSxBPUJvb2xlYW4oUyYmd2luZG93LmNvbnNvbGUuaW5mbyksVD1Cb29sZWFuKFMmJndpbmRvdy5jb25zb2xlLndhcm4pLEk9Qm9vbGVhbihTJiZ3aW5kb3cuY29uc29sZS5lcnJvciksdz1uKDEwKSxDPXtjaGVja0Nvb2tpZVN1cHBvcnQ6eWUsY3JlYXRlVHJhY2tQaXhlbElmcmFtZUh0bWw6b2UsZ2V0V2luZG93U2VsZjpNLGdldFdpbmRvd1RvcDpxLGdldFdpbmRvd0xvY2F0aW9uOkcsaW5zZXJ0VXNlclN5bmNJZnJhbWU6aWUsaW5zZXJ0RWxlbWVudDpuZSxpc0ZuOkosdHJpZ2dlclBpeGVsOnJlLGxvZ0Vycm9yOnosbG9nV2FybjpGLGxvZ01lc3NhZ2U6TCxsb2dJbmZvOlcscGFyc2VRUzpqZSxmb3JtYXRRUzpTZSxkZWVwRXF1YWw6RWV9LFI9e307dmFyIF8sVT17fSxCPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9LmJpbmQobnVsbCwxLFUpKCk9PT1VP0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxuLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9fSx4PShfPTAsZnVuY3Rpb24oKXtyZXR1cm4rK199KTtmdW5jdGlvbiBEKCl7cmV0dXJuIHgoKStNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMil9ZnVuY3Rpb24gayhlKXtyZXR1cm4gZT8oZV4od2luZG93JiZ3aW5kb3cuY3J5cHRvJiZ3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcz9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSUxNjoxNipNYXRoLnJhbmRvbSgpKT4+ZS80KS50b1N0cmluZygxNik6KFsxZTddKy0xZTMrLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLGspfWZ1bmN0aW9uIE4oZSl7aWYoUChlKSlyZXR1cm4gZVswXSsieCIrZVsxXX1mdW5jdGlvbiBQKGUpe3JldHVybiBRKGUpJiYyPT09ZS5sZW5ndGgmJiFpc05hTihlWzBdKSYmIWlzTmFOKGVbMV0pfWZ1bmN0aW9uIHEoKXtyZXR1cm4gd2luZG93LnRvcH1mdW5jdGlvbiBNKCl7cmV0dXJuIHdpbmRvdy5zZWxmfWZ1bmN0aW9uIEcoKXtyZXR1cm4gd2luZG93LmxvY2F0aW9ufWZ1bmN0aW9uIEwoKXtIKCkmJkUmJmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsVihhcmd1bWVudHMsIk1FU1NBR0U6IikpfWZ1bmN0aW9uIFcoKXtIKCkmJkEmJmNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLFYoYXJndW1lbnRzLCJJTkZPOiIpKX1mdW5jdGlvbiBGKCl7SCgpJiZUJiZjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSxWKGFyZ3VtZW50cywiV0FSTklORzoiKSksdy5lbWl0KE8uRVZFTlRTLkFVQ1RJT05fREVCVUcse3R5cGU6IldBUk5JTkciLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiB6KCl7SCgpJiZJJiZjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsVihhcmd1bWVudHMsIkVSUk9SOiIpKSx3LmVtaXQoTy5FVkVOVFMuQVVDVElPTl9ERUJVRyx7dHlwZToiRVJST1IiLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiBWKGUsdCl7ZT1bXS5zbGljZS5jYWxsKGUpO3ZhciBuPXIuYi5nZXRDdXJyZW50QmlkZGVyKCk7cmV0dXJuIHQmJmUudW5zaGlmdCh0KSxuJiZlLnVuc2hpZnQoaSgiI2FhYSIpKSxlLnVuc2hpZnQoaSgiIzNiODhjMyIpKSxlLnVuc2hpZnQoIiVjUHJlYmlkIisobj8iJWMiLmNvbmNhdChuKToiIikpLGU7ZnVuY3Rpb24gaShlKXtyZXR1cm4iZGlzcGxheTogaW5saW5lLWJsb2NrOyBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDogIi5jb25jYXQoZSwiOyBwYWRkaW5nOiAxcHggNHB4OyBib3JkZXItcmFkaXVzOiAzcHg7Iil9fWZ1bmN0aW9uIEgoKXtyZXR1cm4hIXIuYi5nZXRDb25maWcoImRlYnVnIil9ZnVuY3Rpb24gSyhlLHQpe3JldHVybiBqLmNhbGwoZSk9PT0iW29iamVjdCAiK3QrIl0ifWZ1bmN0aW9uIEooZSl7cmV0dXJuIEsoZSwiRnVuY3Rpb24iKX1mdW5jdGlvbiBZKGUpe3JldHVybiBLKGUsIlN0cmluZyIpfWZ1bmN0aW9uIFEoZSl7cmV0dXJuIEsoZSwiQXJyYXkiKX1mdW5jdGlvbiAkKGUpe3JldHVybiBLKGUsIk51bWJlciIpfWZ1bmN0aW9uIFgoZSl7cmV0dXJuIEsoZSwiT2JqZWN0Iil9ZnVuY3Rpb24gWihlKXtpZighZSlyZXR1cm4hMDtpZihRKGUpfHxZKGUpKXJldHVybiEoZS5sZW5ndGg+MCk7Zm9yKHZhciB0IGluIGUpaWYoaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGVlKGUsdCl7aWYoIVooZSkpe2lmKEooZS5mb3JFYWNoKSlyZXR1cm4gZS5mb3JFYWNoKHQsdGhpcyk7dmFyIG49MCxyPWUubGVuZ3RoO2lmKHI+MClmb3IoO248cjtuKyspdChlW25dLG4sZSk7ZWxzZSBmb3IobiBpbiBlKWhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5jYWxsKHRoaXMsZVtuXSxuKX19ZnVuY3Rpb24gdGUoZSx0KXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eT9lLmhhc093blByb3BlcnR5KHQpOnZvaWQgMCE9PWVbdF0mJmUuY29uc3RydWN0b3IucHJvdG90eXBlW3RdIT09ZVt0XX1mdW5jdGlvbiBuZShlLHQsbixyKXt2YXIgaTtlJiZlLnNyYyYmKGUuc3JjPWQuYyhlLnNyYykpLHQ9dHx8ZG9jdW1lbnQsaT1uP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUobik6dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpO3RyeXtpZigoaT1pLmxlbmd0aD9pOnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKSkubGVuZ3RoKXtpPWlbMF07dmFyIG89cj9udWxsOmkuZmlyc3RDaGlsZDtyZXR1cm4gaS5pbnNlcnRCZWZvcmUoZSxvKX19Y2F0Y2goZSl7fX1mdW5jdGlvbiByZShlLHQpe3ZhciBuPWsoKSxyPXtldmVudDoidXNlci1zeW5jIixtZXRhOntmaXJlZDohMCx1aWQ6bixzeW5jX3R5cGU6ImltYWdlIixkb21haW46d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLHVybDplfX07ZC5lKG51bGwsInRyaWdnZXJpbmctcGl4ZWwtZmlyZWQiLFtdLHIpLGQuYSgpLnRoZW4oKGZ1bmN0aW9uKHIpe3ZhciBpPXIuZnJhbWU7aWYoci5pc0JUU2FmZUZyYW1lRG9tYWluKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uIGUobil7aWYobi5zb3VyY2U9PT1pLmNvbnRlbnRXaW5kb3cpe3ZhciByO3RyeXtyPUpTT04ucGFyc2Uobi5kYXRhKX1jYXRjaChlKXt9ciYmImRvbmVUcmlnZ2VyaW5nUGl4ZWwiPT1yLnR5cGUmJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZSksdCYmQy5pc0ZuKHQpJiZ0KCkpfX0pKTt2YXIgbz0ibGV0IGltZyA9IG5ldyBJbWFnZSgpOyBmdW5jdGlvbiBkb25lKCkgeyB0b3AucG9zdE1lc3NhZ2UoeyB0eXBlOiBcImRvbmVUcmlnZ2VyaW5nUGl4ZWxcIiB9LCBcIipcIikgfTsgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkb25lKTsgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZG9uZSk7IGltZy5zcmMgPSBhdG9iKCciK2J0b2EoZSkrIicpOyI7aS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHt0eXBlOiJldmFsIixjb2RlOm99LCIqIik7dmFyIGE9e2V2ZW50OiJ1c2VyLXN5bmMiLG1ldGE6e3N1Y2Nlc3M6ITAsdWlkOm4sc3luY190eXBlOiJpbWFnZSIsZG9tYWluOndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSx1cmw6ZX19O2QuZShudWxsLCJ0cmlnZ2VyaW5nLXBpeGVsLXN1Y2Nlc3MiLFtdLGEpfWVsc2V7dmFyIGM9bmV3IGkuY29udGVudFdpbmRvdy5JbWFnZTt0JiZDLmlzRm4odCkmJihjLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHQpLGMuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLHQpKSxjLnNyYz1lfX0pKX1mdW5jdGlvbiBpZShlLHQpe3ZhciBuPUMuY3JlYXRlVHJhY2tQaXhlbElmcmFtZUh0bWwoZSwhMSwiYWxsb3ctc2NyaXB0cyBhbGxvdy1zYW1lLW9yaWdpbiIpLHI9aygpLGk9e2V2ZW50OiJ1c2VyLXN5bmMiLG1ldGE6e2ZpcmVkOiEwLHVpZDpyLHN5bmNfdHlwZToiaWZyYW1lIn19O2QuZShudWxsLCJpbnNlcnQtdXNlci1zeW5jLWlmcmFtZS1maXJlZCIsW10saSksZC5hKCkudGhlbigoZnVuY3Rpb24oZSl7dmFyIGk9ZS5mcmFtZTtpZihlLmlzQlRTYWZlRnJhbWVEb21haW4pe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24gZShuKXtpZihuLnNvdXJjZT09PWkuY29udGVudFdpbmRvdyl7dmFyIHI7dHJ5e3I9SlNPTi5wYXJzZShuLmRhdGEpfWNhdGNoKGUpe31yJiYiZG9uZVRyaWdnZXJpbmdQaXhlbCI9PXIudHlwZSYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlKSx0JiZDLmlzRm4odCkmJnQoKSl9fSkpO3ZhciBvPSJsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IGRpdi5pbm5lckhUTUwgPSBhdG9iKCciK2J0b2EobikrIicpOyBsZXQgaWZyYW1lID0gZGl2LmZpcnN0Q2hpbGQ7IGZ1bmN0aW9uIGRvbmUoKSB7IHRvcC5wb3N0TWVzc2FnZSh7IHR5cGU6IFwiZG9uZVRyaWdnZXJpbmdQaXhlbFwiIH0sIFwiKlwiKSB9OyBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRvbmUpOyBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBkb25lKTsgdHJ5IHsgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2h0bWwnKVswXS5pbnNlcnRCZWZvcmUoaWZyYW1lLCBudWxsKTsgfSBjYXRjaCAoZXJyKSB7IH0iO2kuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7dHlwZToiZXZhbCIsY29kZTpvfSwiKiIpO3ZhciBhPXtldmVudDoidXNlci1zeW5jIixtZXRhOntzdWNjZXNzOiEwLHVpZDpyLHN5bmNfdHlwZToiaWZyYW1lIn19O2QuZShudWxsLCJpbnNlcnQtdXNlci1zeW5jLWlmcmFtZS1zdWNjZXNzIixbXSxhKX1lbHNle3ZhciBjPWkuY29udGVudFdpbmRvdy5kb2N1bWVudCx1PWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7dS5pbm5lckhUTUw9bjt2YXIgcz11LmZpcnN0Q2hpbGQ7dCYmQy5pc0ZuKHQpJiYocy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0KSxzLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIix0KSksQy5pbnNlcnRFbGVtZW50KHMsYywiaHRtbCIsITApfX0pKX1mdW5jdGlvbiBvZShlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiIiO3JldHVybiBlPyh0JiYoZT1lbmNvZGVVUkkoZSkpLG4mJihuPSdzYW5kYm94PSInLmNvbmNhdChuLCciJykpLCI8aWZyYW1lICIuY29uY2F0KG4sJyBpZD0iJykuY29uY2F0KEQoKSwnIlxuICAgICAgZnJhbWVib3JkZXI9IjAiXG4gICAgICBhbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSJcbiAgICAgIG1hcmdpbmhlaWdodD0iMCIgbWFyZ2lud2lkdGg9IjAiXG4gICAgICB3aWR0aD0iMCIgaHNwYWNlPSIwIiB2c3BhY2U9IjAiIGhlaWdodD0iMCJcbiAgICAgIHN0eWxlPSJoZWlnaHQ6MHB4O3dpZHRoOjBweDtkaXNwbGF5Om5vbmU7IlxuICAgICAgc2Nyb2xsaW5nPSJubyJcbiAgICAgIHNyYz0iJykuY29uY2F0KGUsJyI+XG4gICAgPC9pZnJhbWU+JykpOiIifWZ1bmN0aW9uIGFlKGUsdCxuKXtyZXR1cm4gbnVsbD09dD9uOlkodCk/dDokKHQpP3QudG9TdHJpbmcoKTp2b2lkIEMubG9nV2FybigiVW5zdXBvcnRlZCB0eXBlIGZvciBwYXJhbTogIitlKyIgcmVxdWlyZWQgdHlwZTogU3RyaW5nIil9ZnVuY3Rpb24gY2UoZSx0LG4pe3JldHVybiBuLmluZGV4T2YoZSk9PT10fWZ1bmN0aW9uIHVlKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfWZ1bmN0aW9uIHNlKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKX1mdW5jdGlvbiBkZShlLHQpe3JldHVybiBlW3RdfWZ1bmN0aW9uIGZlKCl7aWYod2luZG93Lmdvb2dsZXRhZyYmSih3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcykmJkood2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cykpcmV0dXJuITB9dmFyIGxlPWJlKCJ0aW1lVG9SZXNwb25kIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT50fSkpLHBlPWJlKCJyZXNwb25zZVRpbWVzdGFtcCIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+dH0pKSxnZT1iZSgicmVzcG9uc2VUaW1lc3RhbXAiLChmdW5jdGlvbihlLHQpe3JldHVybiBlPHR9KSk7ZnVuY3Rpb24gYmUoZSx0KXtyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gbi5jcG09PT1yLmNwbT90KG5bZV0scltlXSk/cjpuOm4uY3BtPHIuY3BtP3I6bn19ZnVuY3Rpb24gdmUoZSl7cmV0dXJuIG8oKShlKX1mdW5jdGlvbiB5ZSgpe2lmKHdpbmRvdy5uYXZpZ2F0b3IuY29va2llRW5hYmxlZHx8ZG9jdW1lbnQuY29va2llLmxlbmd0aClyZXR1cm4hMH12YXIgaGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5nZXRBZFVuaXRQYXRoKCk9PT10fHxlLmdldFNsb3RFbGVtZW50SWQoKT09PXR9O2Z1bmN0aW9uIG1lKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gaGUodCxlKX19ZnVuY3Rpb24gT2UoZSl7cmV0dXJuIE51bWJlci5pc0ludGVnZXI/TnVtYmVyLmlzSW50ZWdlcihlKToibnVtYmVyIj09dHlwZW9mIGUmJmlzRmluaXRlKGUpJiZNYXRoLmZsb29yKGUpPT09ZX1mdW5jdGlvbiBqZShlKXtyZXR1cm4gZT9lLnJlcGxhY2UoL15cPy8sIiIpLnNwbGl0KCImIikucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPXAodC5zcGxpdCgiPSIpLDIpLHI9blswXSxpPW5bMV07cmV0dXJuL1xbXF0kLy50ZXN0KHIpPyhlW3I9ci5yZXBsYWNlKCJbXSIsIiIpXT1lW3JdfHxbXSxlW3JdLnB1c2goaSkpOmVbcl09aXx8IiIsZX0pLHt9KTp7fX1mdW5jdGlvbiBTZShlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShlW3RdKT9lW3RdLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KHQsIltdPSIpLmNvbmNhdChlKX0pKS5qb2luKCImIik6IiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZVt0XSl9KSkuam9pbigiJiIpfWZ1bmN0aW9uIEVlKGUsdCl7aWYoZT09PXQpcmV0dXJuITA7aWYoIm9iamVjdCI9PT1tKGUpJiZudWxsIT09ZSYmIm9iamVjdCI9PT1tKHQpJiZudWxsIT09dCl7aWYoT2JqZWN0LmtleXMoZSkubGVuZ3RoIT09T2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbiBpbiBlKXtpZighdC5oYXNPd25Qcm9wZXJ0eShuKSlyZXR1cm4hMTtpZighRWUoZVtuXSx0W25dKSlyZXR1cm4hMX1yZXR1cm4hMH1yZXR1cm4hMX19LDE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsInN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiBUfSkpLHQucmVnaXN0ZXJCaWRkZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9QXJyYXkuaXNBcnJheShlLnN1cHBvcnRlZE1lZGlhVHlwZXMpP3tzdXBwb3J0ZWRNZWRpYVR5cGVzOmUuc3VwcG9ydGVkTWVkaWFUeXBlc306dm9pZCAwO2Z1bmN0aW9uIG4oZSl7dmFyIG49dyhlKTtpLmRlZmF1bHQucmVnaXN0ZXJCaWRBZGFwdGVyKG4sZS5jb2RlLHQpfW4oZSksQXJyYXkuaXNBcnJheShlLmFsaWFzZXMpJiZlLmFsaWFzZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHIsbyxhPXQ7T2JqZWN0KHkuaXNQbGFpbk9iamVjdCkodCkmJihhPXQuY29kZSxyPXQuZ3ZsaWQsbz10LnNraXBQYnNBbGlhc2luZyksaS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbYV09ZS5jb2RlLG4oQSh7fSxlLHtjb2RlOmEsZ3ZsaWQ6cixza2lwUGJzQWxpYXNpbmc6b30pKX0pKX0sdC5uZXdCaWRkZXI9dyxuLmQodCwicmVnaXN0ZXJTeW5jSW5uZXIiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLHQucHJlbG9hZEJpZGRlck1hcHBpbmdGaWxlPVIsdC5nZXRJYWJTdWJDYXRlZ29yeT1mdW5jdGlvbihlLHQpe3ZhciBuPWkuZGVmYXVsdC5nZXRCaWRBZGFwdGVyKGUpO2lmKG4uZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbyl7dmFyIHI9bi5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKCksbz1yLmxvY2FsU3RvcmFnZUtleT9yLmxvY2FsU3RvcmFnZUtleTpuLmdldEJpZGRlckNvZGUoKSxhPVQuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uobyk7aWYoYSl7dHJ5e2E9SlNPTi5wYXJzZShhKX1jYXRjaCh0KXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChlLCIgbWFwcGluZyBkYXRhIHN0b3JlZCBpbiBsb2NhbCBzdG9yYWdlIikpfXJldHVybiBhLm1hcHBpbmdbdF0/YS5tYXBwaW5nW3RdOm51bGx9fX0sdC5pc1ZhbGlkPV87dmFyIHI9big2MyksaT1uKDgpLG89bigzKSxhPW4oMzkpLGM9big2MSksdT1uKDM4KSxzPW4oMjIpLGQ9big1KSxmPW4ubihkKSxsPW4oMTApLHA9bi5uKGwpLGc9bigxMiksYj1uLm4oZyksdj1uKDQpLHk9bigwKSxoPW4oMiksbT1uKDkpLE89big3KTtmdW5jdGlvbiBqKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsaSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEoYT0ocj1uLm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBTKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBTKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBTKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gRShlKXtyZXR1cm4oRT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIEEoKXtyZXR1cm4oQT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBUPU9iamVjdChPLmEpKCJiaWRkZXJGYWN0b3J5IiksST1bInJlcXVlc3RJZCIsImNwbSIsInR0bCIsImNyZWF0aXZlSWQiLCJuZXRSZXZlbnVlIiwiY3VycmVuY3kiXTtmdW5jdGlvbiB3KGUpe3JldHVybiBBKG5ldyByLmEoZS5jb2RlKSx7Z2V0U3BlYzpmdW5jdGlvbigpe3JldHVybiBPYmplY3QuZnJlZXplKGUpfSxyZWdpc3RlclN5bmNzOnQsY2FsbEJpZHM6ZnVuY3Rpb24ocixjLHUscyxkLGwpe2lmKEFycmF5LmlzQXJyYXkoci5iaWRzKSl7dmFyIGc9e30sYj1bXSx2PXIuYmlkcy5maWx0ZXIobik7aWYoMCE9PXYubGVuZ3RoKXt2YXIgaD17fTt2LmZvckVhY2goKGZ1bmN0aW9uKGUpe2hbZS5iaWRJZF09ZSxlLmFkVW5pdENvZGV8fChlLmFkVW5pdENvZGU9ZS5wbGFjZW1lbnRDb2RlKX0pKTt2YXIgbT1lLmJ1aWxkUmVxdWVzdHModixyKTtpZihtJiYwIT09bS5sZW5ndGgpe0FycmF5LmlzQXJyYXkobSl8fChtPVttXSk7dmFyIE89T2JqZWN0KHkuZGVsYXlFeGVjdXRpb24pKGwoaiksbS5sZW5ndGgpO20uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHAuYS5lbWl0KGYuYS5FVkVOVFMuQkVGT1JFX0JJRERFUl9IVFRQLHIpfSkpLG0uZm9yRWFjaCgoZnVuY3Rpb24odCl7c3dpdGNoKHQubWV0aG9kKXtjYXNlIkdFVCI6cygiIi5jb25jYXQodC51cmwpLmNvbmNhdChmdW5jdGlvbihlKXtpZihlKXJldHVybiI/Ii5jb25jYXQoIm9iamVjdCI9PT1FKGUpP09iamVjdCh5LnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKShlKTplKTtyZXR1cm4iIn0odC5kYXRhKSkse3N1Y2Nlc3M6bChuKSxlcnJvcjpvfSx2b2lkIDAsQSh7bWV0aG9kOiJHRVQiLHdpdGhDcmVkZW50aWFsczohMH0sdC5vcHRpb25zKSk7YnJlYWs7Y2FzZSJQT1NUIjpzKHQudXJsLHtzdWNjZXNzOmwobiksZXJyb3I6b30sInN0cmluZyI9PXR5cGVvZiB0LmRhdGE/dC5kYXRhOkpTT04uc3RyaW5naWZ5KHQuZGF0YSksQSh7bWV0aG9kOiJQT1NUIixjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSx0Lm9wdGlvbnMpKTticmVhaztkZWZhdWx0Ok9iamVjdCh5LmxvZ1dhcm4pKCJTa2lwcGluZyBpbnZhbGlkIHJlcXVlc3QgZnJvbSAiLmNvbmNhdChlLmNvZGUsIi4gUmVxdWVzdCB0eXBlICIpLmNvbmNhdCh0LnR5cGUsIiBtdXN0IGJlIEdFVCBvciBQT1NUIikpLE8oKX1mdW5jdGlvbiBuKG4saSl7ZChlLmNvZGUpO3RyeXtuPUpTT04ucGFyc2Uobil9Y2F0Y2goZSl7fXZhciBvO249e2JvZHk6bixoZWFkZXJzOntnZXQ6aS5nZXRSZXNwb25zZUhlYWRlci5iaW5kKGkpfX0sYi5wdXNoKG4pO3RyeXtvPWUuaW50ZXJwcmV0UmVzcG9uc2Uobix0KX1jYXRjaCh0KXtyZXR1cm4gT2JqZWN0KHkubG9nRXJyb3IpKCJCaWRkZXIgIi5jb25jYXQoZS5jb2RlLCIgZmFpbGVkIHRvIGludGVycHJldCB0aGUgc2VydmVyJ3MgcmVzcG9uc2UuIENvbnRpbnVpbmcgd2l0aG91dCBiaWRzIiksbnVsbCx0KSx2b2lkIE8oKX1mdW5jdGlvbiB1KHQpe3ZhciBuPWhbdC5yZXF1ZXN0SWRdO2lmKG4pe3Qub3JpZ2luYWxDcG09dC5jcG0sdC5vcmlnaW5hbEN1cnJlbmN5PXQuY3VycmVuY3ksdC5tZXRhPXQubWV0YXx8QSh7fSx0W24uYmlkZGVyXSk7dmFyIGk9QShPYmplY3QoYS5hKShmLmEuU1RBVFVTLkdPT0QsbiksdCk7IWZ1bmN0aW9uKGUsdCl7Z1tlXT0hMCxfKGUsdCxbcl0pJiZjKGUsdCl9KG4uYWRVbml0Q29kZSxpKX1lbHNlIE9iamVjdCh5LmxvZ1dhcm4pKCJCaWRkZXIgIi5jb25jYXQoZS5jb2RlLCIgbWFkZSBiaWQgZm9yIHVua25vd24gcmVxdWVzdCBJRDogIikuY29uY2F0KHQucmVxdWVzdElkLCIuIElnbm9yaW5nLiIpKX1vJiYoT2JqZWN0KHkuaXNBcnJheSkobyk/by5mb3JFYWNoKHUpOnUobykpLE8obyl9ZnVuY3Rpb24gbyh0LG4pe2QoZS5jb2RlKSxpLmRlZmF1bHQuY2FsbEJpZGRlckVycm9yKGUuY29kZSxuLHIpLHAuYS5lbWl0KGYuYS5FVkVOVFMuQklEREVSX0VSUk9SLHtlcnJvcjpuLGJpZGRlclJlcXVlc3Q6cn0pLE9iamVjdCh5LmxvZ0Vycm9yKSgiU2VydmVyIGNhbGwgZm9yICIuY29uY2F0KGUuY29kZSwiIGZhaWxlZDogIikuY29uY2F0KHQsIiAiKS5jb25jYXQobi5zdGF0dXMsIi4gQ29udGludWluZyB3aXRob3V0IGJpZHMuIikpLE8oKX19KSl9ZWxzZSBqKCl9ZWxzZSBqKCl9ZnVuY3Rpb24gaigpe3UoKSxvLmIucnVuV2l0aEJpZGRlcihlLmNvZGUsKGZ1bmN0aW9uKCl7cC5hLmVtaXQoZi5hLkVWRU5UUy5CSURERVJfRE9ORSxyKSx0KGIsci5nZHByQ29uc2VudCxyLnVzcENvbnNlbnQpfSkpfX19KTtmdW5jdGlvbiB0KHQsbixyKXtDKGUsdCxuLHIpfWZ1bmN0aW9uIG4odCl7cmV0dXJuISFlLmlzQmlkUmVxdWVzdFZhbGlkKHQpfHwoT2JqZWN0KHkubG9nV2FybikoIkludmFsaWQgYmlkIHNlbnQgdG8gYmlkZGVyICIuY29uY2F0KGUuY29kZSwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKSwhMSl9fXZhciBDPU9iamVjdChtLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBhPW8uYi5nZXRDb25maWcoInVzZXJTeW5jLmFsaWFzU3luY0VuYWJsZWQiKTtpZihlLmdldFVzZXJTeW5jcyYmKGF8fCFpLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmNvZGVdKSl7dmFyIHU9by5iLmdldENvbmZpZygidXNlclN5bmMuZmlsdGVyU2V0dGluZ3MiKSxzPWUuZ2V0VXNlclN5bmNzKHtpZnJhbWVFbmFibGVkOiEoIXV8fCF1LmlmcmFtZSYmIXUuYWxsKSxwaXhlbEVuYWJsZWQ6ISghdXx8IXUuaW1hZ2UmJiF1LmFsbCl9LHQsbixyKTtzJiYoQXJyYXkuaXNBcnJheShzKXx8KHM9W3NdKSxzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2MuYS5yZWdpc3RlclN5bmModC50eXBlLGUuY29kZSx0LnVybCl9KSkpfX0pLCJyZWdpc3RlclN5bmNzIik7ZnVuY3Rpb24gUihlLHQpe2lmKCFvLmIuZ2V0Q29uZmlnKCJhZHBvZC5icmFuZENhdGVnb3J5RXhjbHVzaW9uIikpcmV0dXJuIGUuY2FsbCh0aGlzLHQpO3QuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik9PT1oLmF9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpfSkpLnJlZHVjZSh5LmZsYXR0ZW4sW10pLmZpbHRlcih5LnVuaXF1ZXMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRCaWRBZGFwdGVyKGUpO2lmKHQuZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbyl7dmFyIG49dC5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKCkscj1uLnJlZnJlc2hJbkRheXM/bi5yZWZyZXNoSW5EYXlzOjEsbz1uLmxvY2FsU3RvcmFnZUtleT9uLmxvY2FsU3RvcmFnZUtleTp0LmdldFNwZWMoKS5jb2RlLGE9VC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShvKTt0cnl7KCEoYT1hP0pTT04ucGFyc2UoYSk6dm9pZCAwKXx8T2JqZWN0KHkudGltZXN0YW1wKSgpPmEubGFzdFVwZGF0ZWQrMjQqcio2MCo2MCoxZTMpJiZPYmplY3Qodi5hKShuLnVybCx7c3VjY2VzczpmdW5jdGlvbih0KXt0cnl7dD1KU09OLnBhcnNlKHQpO3ZhciBuPXtsYXN0VXBkYXRlZDpPYmplY3QoeS50aW1lc3RhbXApKCksbWFwcGluZzp0Lm1hcHBpbmd9O1Quc2V0RGF0YUluTG9jYWxTdG9yYWdlKG8sSlNPTi5zdHJpbmdpZnkobikpfWNhdGNoKHQpe09iamVjdCh5LmxvZ0Vycm9yKSgiRmFpbGVkIHRvIHBhcnNlICIuY29uY2F0KGUsIiBiaWRkZXIgdHJhbnNsYXRpb24gbWFwcGluZyBmaWxlIikpfX0sZXJyb3I6ZnVuY3Rpb24oKXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBsb2FkICIuY29uY2F0KGUsIiBiaWRkZXIgdHJhbnNsYXRpb24gZmlsZSIpKX19KX1jYXRjaCh0KXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChlLCIgYmlkZGVyIHRyYW5zbGF0aW9uIG1hcHBpbmcgZmlsZSIpKX19fSkpLGUuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIF8oZSx0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIkludmFsaWQgYmlkIGZyb20gIi5jb25jYXQodC5iaWRkZXJDb2RlLCIuIElnbm9yaW5nIGJpZDogIikuY29uY2F0KGUpfXJldHVybiBlP3Q/KGk9T2JqZWN0LmtleXModCksSS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoKShpLGUpJiYhYigpKFt2b2lkIDAsbnVsbF0sdFtlXSl9KSk/Im5hdGl2ZSIhPT10Lm1lZGlhVHlwZXx8T2JqZWN0KHUuZykodCxuKT8idmlkZW8iIT09dC5tZWRpYVR5cGV8fE9iamVjdChzLmQpKHQsbik/ISgiYmFubmVyIj09PXQubWVkaWFUeXBlJiYhZnVuY3Rpb24oZSx0LG4pe2lmKCh0LndpZHRofHwwPT09cGFyc2VJbnQodC53aWR0aCwxMCkpJiYodC5oZWlnaHR8fDA9PT1wYXJzZUludCh0LmhlaWdodCwxMCkpKXJldHVybiB0LndpZHRoPXBhcnNlSW50KHQud2lkdGgsMTApLHQuaGVpZ2h0PXBhcnNlSW50KHQuaGVpZ2h0LDEwKSwhMDt2YXIgcj1PYmplY3QoeS5nZXRCaWRkZXJSZXF1ZXN0KShuLHQuYmlkZGVyQ29kZSxlKSxpPXImJnIuYmlkcyYmci5iaWRzWzBdJiZyLmJpZHNbMF0uc2l6ZXMsbz1PYmplY3QoeS5wYXJzZVNpemVzSW5wdXQpKGkpO2lmKDE9PT1vLmxlbmd0aCl7dmFyIGE9aihvWzBdLnNwbGl0KCJ4IiksMiksYz1hWzBdLHU9YVsxXTtyZXR1cm4gdC53aWR0aD1wYXJzZUludChjLDEwKSx0LmhlaWdodD1wYXJzZUludCh1LDEwKSwhMH1yZXR1cm4hMX0oZSx0LG4pKXx8KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJCYW5uZXIgYmlkcyByZXF1aXJlIGEgd2lkdGggYW5kIGhlaWdodCIpKSwhMSk6KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJWaWRlbyBiaWQgZG9lcyBub3QgaGF2ZSByZXF1aXJlZCB2YXN0VXJsIG9yIHJlbmRlcmVyIHByb3BlcnR5IikpLCExKTooT2JqZWN0KHkubG9nRXJyb3IpKHIoIk5hdGl2ZSBiaWQgbWlzc2luZyBzb21lIHJlcXVpcmVkIHByb3BlcnRpZXMuIikpLCExKTooT2JqZWN0KHkubG9nRXJyb3IpKHIoIkJpZGRlciAiLmNvbmNhdCh0LmJpZGRlckNvZGUsIiBpcyBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtcy4gQ2hlY2sgaHR0cDovL3ByZWJpZC5vcmcvZGV2LWRvY3MvYmlkZGVyLWFkYXB0ZXItMS5odG1sIGZvciBsaXN0IG9mIHBhcmFtcy4iKSkpLCExKSk6KE9iamVjdCh5LmxvZ1dhcm4pKCJTb21lIGFkYXB0ZXIgdHJpZWQgdG8gYWRkIGFuIHVuZGVmaW5lZCBiaWQgZm9yICIuY29uY2F0KGUsIi4iKSksITEpOihPYmplY3QoeS5sb2dXYXJuKSgiTm8gYWRVbml0Q29kZSB3YXMgc3VwcGxpZWQgdG8gYWRkQmlkUmVzcG9uc2UuIiksITEpO3ZhciBpfU9iamVjdChtLmEpKCJjaGVja0FkVW5pdFNldHVwIikuYmVmb3JlKFIpfSwxMDpmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe3JldHVybihyPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGk9bigwKSxvPW4oNSksYT1BcnJheS5wcm90b3R5cGUuc2xpY2UsYz1BcnJheS5wcm90b3R5cGUucHVzaCx1PWkuX21hcChvLkVWRU5UUywoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkscz1vLkVWRU5UX0lEX1BBVEhTLGQ9W107ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGU9e30sdD17fTtmdW5jdGlvbiBuKHQsbil7aS5sb2dNZXNzYWdlKCJFbWl0dGluZyBldmVudCBmb3I6ICIrdCk7dmFyIHI9blswXXx8e30sbz1yW3NbdF1dLGE9ZVt0XXx8e3F1ZTpbXX0sdT1pLl9tYXAoYSwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0pKSxmPVtdO2QucHVzaCh7ZXZlbnRUeXBlOnQsYXJnczpyLGlkOm8sZWxhcHNlZFRpbWU6aS5nZXRQZXJmb3JtYW5jZU5vdygpfSksbyYmaS5jb250YWlucyh1LG8pJiZjLmFwcGx5KGYsYVtvXS5xdWUpLGMuYXBwbHkoZixhLnF1ZSksaS5fZWFjaChmLChmdW5jdGlvbihlKXtpZihlKXRyeXtlLmFwcGx5KG51bGwsbil9Y2F0Y2goZSl7aS5sb2dFcnJvcigiRXJyb3IgZXhlY3V0aW5nIGhhbmRsZXI6IiwiZXZlbnRzLmpzIixlKX19KSl9cmV0dXJuIHQub249ZnVuY3Rpb24odCxuLHIpe2lmKGZ1bmN0aW9uKGUpe3JldHVybiBpLmNvbnRhaW5zKHUsZSl9KHQpKXt2YXIgbz1lW3RdfHx7cXVlOltdfTtyPyhvW3JdPW9bcl18fHtxdWU6W119LG9bcl0ucXVlLnB1c2gobikpOm8ucXVlLnB1c2gobiksZVt0XT1vfWVsc2UgaS5sb2dFcnJvcigiV3JvbmcgZXZlbnQgbmFtZSA6ICIrdCsiIFZhbGlkIGV2ZW50IG5hbWVzIDoiK3UpfSx0LmVtaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YS5jYWxsKGFyZ3VtZW50cywxKTtuKGUsdCl9LHQub2ZmPWZ1bmN0aW9uKHQsbixyKXt2YXIgbz1lW3RdO2kuaXNFbXB0eShvKXx8aS5pc0VtcHR5KG8ucXVlKSYmaS5pc0VtcHR5KG9bcl0pfHxyJiYoaS5pc0VtcHR5KG9bcl0pfHxpLmlzRW1wdHkob1tyXS5xdWUpKXx8KHI/aS5fZWFjaChvW3JdLnF1ZSwoZnVuY3Rpb24oZSl7dmFyIHQ9b1tyXS5xdWU7ZT09PW4mJnQuc3BsaWNlKHQuaW5kZXhPZihlKSwxKX0pKTppLl9lYWNoKG8ucXVlLChmdW5jdGlvbihlKXt2YXIgdD1vLnF1ZTtlPT09biYmdC5zcGxpY2UodC5pbmRleE9mKGUpLDEpfSkpLGVbdF09byl9LHQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHQuZ2V0RXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGkuX2VhY2goZCwoZnVuY3Rpb24odCl7dmFyIG49cih7fSx0KTtlLnB1c2gobil9KSksZX0sdH0oKX0sMTAwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big0OSksaT1uKDU0KSxvPW4oNDIpLGE9big0NiksYz1uKDc0KSx1PSJBcnJheSBJdGVyYXRvciIscz1hLnNldCxkPWEuZ2V0dGVyRm9yKHUpO2UuZXhwb3J0cz1jKEFycmF5LCJBcnJheSIsKGZ1bmN0aW9uKGUsdCl7cyh0aGlzLHt0eXBlOnUsdGFyZ2V0OnIoZSksaW5kZXg6MCxraW5kOnR9KX0pLChmdW5jdGlvbigpe3ZhciBlPWQodGhpcyksdD1lLnRhcmdldCxuPWUua2luZCxyPWUuaW5kZXgrKztyZXR1cm4hdHx8cj49dC5sZW5ndGg/KGUudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KToia2V5cyI9PW4/e3ZhbHVlOnIsZG9uZTohMX06InZhbHVlcyI9PW4/e3ZhbHVlOnRbcl0sZG9uZTohMX06e3ZhbHVlOltyLHRbcl1dLGRvbmU6ITF9fSksInZhbHVlcyIpLG8uQXJndW1lbnRzPW8uQXJyYXksaSgia2V5cyIpLGkoInZhbHVlcyIpLGkoImVudHJpZXMiKX0sMTAxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7aWYoZS5sYWJlbEFsbClyZXR1cm57bGFiZWxBbGw6ITAsbGFiZWxzOmUubGFiZWxBbGwsYWN0aXZlTGFiZWxzOnR9O3JldHVybntsYWJlbEFsbDohMSxsYWJlbHM6ZS5sYWJlbEFueSxhY3RpdmVMYWJlbHM6dH19LHQuYz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dSxuPXModCk7aWYoIW4uc2hvdWxkRmlsdGVyKXJldHVybiEwO3JldHVybiEhbi5zaXplc1N1cHBvcnRlZFtlXX0sdC5iPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5sYWJlbHMsbj12b2lkIDA9PT10P1tdOnQscj1lLmxhYmVsQWxsLG89dm9pZCAwIT09ciYmcixjPWUuYWN0aXZlTGFiZWxzLGQ9dm9pZCAwPT09Yz9bXTpjLGY9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbD1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxwPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp1LGc9cyhwKTtmPU9iamVjdChpLmlzUGxhaW5PYmplY3QpKGYpP09iamVjdChpLmRlZXBDbG9uZSkoZik6bD97YmFubmVyOntzaXplczpsfX06e307dmFyIGI9T2JqZWN0KGkuZGVlcEFjY2VzcykoZiwiYmFubmVyLnNpemVzIik7Zy5zaG91bGRGaWx0ZXImJmImJihmLmJhbm5lci5zaXplcz1iLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGcuc2l6ZXNTdXBwb3J0ZWRbZV19KSkpO3ZhciB2PU9iamVjdC5rZXlzKGYpLHk9e2FjdGl2ZTp2LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIiE9PWV9KSl8fHYuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT1lfSkpJiZPYmplY3QoaS5kZWVwQWNjZXNzKShmLCJiYW5uZXIuc2l6ZXMubGVuZ3RoIik+MCYmKDA9PT1uLmxlbmd0aHx8IW8mJihuLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBnLmxhYmVsc1tlXX0pKXx8bi5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYSgpKGQsZSl9KSkpfHxvJiZuLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT9nLmxhYmVsc1t0XXx8YSgpKGQsdCk6ZX0pLCEwKSksbWVkaWFUeXBlczpmfTtiJiZiLmxlbmd0aCE9PWYuYmFubmVyLnNpemVzLmxlbmd0aCYmKHkuZmlsdGVyUmVzdWx0cz17YmVmb3JlOmIsYWZ0ZXI6Zi5iYW5uZXIuc2l6ZXN9KTtyZXR1cm4geX07dmFyIHI9bigzKSxpPW4oMCksbz1uKDEyKSxhPW4ubihvKTtmdW5jdGlvbiBjKGUpe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHU9W107ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCI9PT1jKHQpJiYic3RyaW5nIj09dHlwZW9mIHQubWVkaWFRdWVyeSYmdC5tZWRpYVF1ZXJ5Lmxlbmd0aD4wKXt2YXIgbj0hMTt0cnl7bj1PYmplY3QoaS5nZXRXaW5kb3dUb3ApKCkubWF0Y2hNZWRpYSh0Lm1lZGlhUXVlcnkpLm1hdGNoZXN9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlVuZnJpZW5kbHkgaUZyYW1lIGJsb2NrcyBzaXplQ29uZmlnIGZyb20gYmVpbmcgY29ycmVjdGx5IGV2YWx1YXRlZCIpLG49bWF0Y2hNZWRpYSh0Lm1lZGlhUXVlcnkpLm1hdGNoZXN9biYmKEFycmF5LmlzQXJyYXkodC5zaXplc1N1cHBvcnRlZCkmJihlLnNob3VsZEZpbHRlcj0hMCksWyJsYWJlbHMiLCJzaXplc1N1cHBvcnRlZCJdLmZvckVhY2goKGZ1bmN0aW9uKG4pe3JldHVybih0W25dfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGVbbl1bdF09ITB9KSl9KSkpfWVsc2UgT2JqZWN0KGkubG9nV2FybikoJ3NpemVDb25maWcgcnVsZSBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICJtZWRpYVF1ZXJ5IicpO3JldHVybiBlfSkse2xhYmVsczp7fSxzaXplc1N1cHBvcnRlZDp7fSxzaG91bGRGaWx0ZXI6ITF9KX1yLmIuZ2V0Q29uZmlnKCJzaXplQ29uZmlnIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3U9ZX0oZS5zaXplQ29uZmlnKX0pKX0sMTAyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz17cHV0czplLm1hcChhLG4pfTtPYmplY3Qoci5hKShpLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSxmdW5jdGlvbihlKXtyZXR1cm57c3VjY2VzczpmdW5jdGlvbih0KXt2YXIgbjt0cnl7bj1KU09OLnBhcnNlKHQpLnJlc3BvbnNlc31jYXRjaCh0KXtyZXR1cm4gdm9pZCBlKHQsW10pfW4/ZShudWxsLG4pOmUobmV3IEVycm9yKCJUaGUgY2FjaGUgc2VydmVyIGRpZG4ndCByZXNwb25kIHdpdGggYSByZXNwb25zZXMgcHJvcGVydHkuIiksW10pfSxlcnJvcjpmdW5jdGlvbih0LG4pe2UobmV3IEVycm9yKCJFcnJvciBzdG9yaW5nIHZpZGVvIGFkIGluIHRoZSBjYWNoZTogIi5jb25jYXQodCwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkobikpKSxbXSl9fX0odCksSlNPTi5zdHJpbmdpZnkobykse2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9KX0sdC5hPWZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChpLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSwiP3V1aWQ9IikuY29uY2F0KGUpfTt2YXIgcj1uKDQpLGk9bigzKSxvPW4oMCk7ZnVuY3Rpb24gYShlKXt2YXIgdCxuLHIsYT17dHlwZToieG1sIix2YWx1ZTplLnZhc3RYbWw/ZS52YXN0WG1sOih0PWUudmFzdFVybCxuPWUudmFzdEltcFVybCxyPW4/IjwhW0NEQVRBWyIuY29uY2F0KG4sIl1dPiIpOiIiLCc8VkFTVCB2ZXJzaW9uPSIzLjAiPlxuICAgIDxBZD5cbiAgICAgIDxXcmFwcGVyPlxuICAgICAgICA8QWRTeXN0ZW0+cHJlYmlkLm9yZyB3cmFwcGVyPC9BZFN5c3RlbT5cbiAgICAgICAgPFZBU1RBZFRhZ1VSST48IVtDREFUQVsnLmNvbmNhdCh0LCJdXT48L1ZBU1RBZFRhZ1VSST5cbiAgICAgICAgPEltcHJlc3Npb24+IikuY29uY2F0KHIsIjwvSW1wcmVzc2lvbj5cbiAgICAgICAgPENyZWF0aXZlcz48L0NyZWF0aXZlcz5cbiAgICAgIDwvV3JhcHBlcj5cbiAgICA8L0FkPlxuICA8L1ZBU1Q+IikpLHR0bHNlY29uZHM6TnVtYmVyKGUudHRsKX07cmV0dXJuIGkuYi5nZXRDb25maWcoImNhY2hlLnZhc3R0cmFjayIpJiYoYS5iaWRkZXI9ZS5iaWRkZXIsYS5iaWRpZD1lLnJlcXVlc3RJZCxhLmFpZD1lLmF1Y3Rpb25JZCxPYmplY3Qoby5pc1BsYWluT2JqZWN0KSh0aGlzKSYmdGhpcy5oYXNPd25Qcm9wZXJ0eSgiYXVjdGlvblN0YXJ0IikmJihhLnRpbWVzdGFtcD10aGlzLmF1Y3Rpb25TdGFydCkpLCJzdHJpbmciPT10eXBlb2YgZS5jdXN0b21DYWNoZUtleSYmIiIhPT1lLmN1c3RvbUNhY2hlS2V5JiYoYS5rZXk9ZS5jdXN0b21DYWNoZUtleSksYX19LDEwNjpmdW5jdGlvbihlLHQsbil7bigxMDcpO3ZhciByPW4oNTUpO2UuZXhwb3J0cz1yKCJBcnJheSIsImZpbmQiKX0sMTA3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDY1KS5maW5kLG89big1NCksYT0iZmluZCIsYz0hMDthIGluW10mJkFycmF5KDEpLmZpbmQoKGZ1bmN0aW9uKCl7Yz0hMX0pKSxyKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6Y30se2ZpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKGEpfSwxMDg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9bigxMDkpLG89big0NCksYT1uKDQ5KSxjPW4oNjQpLHU9bigzMSkscz1uKDg1KSxkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7dC5mPXI/ZDpmdW5jdGlvbihlLHQpe2lmKGU9YShlKSx0PWModCwhMCkscyl0cnl7cmV0dXJuIGQoZSx0KX1jYXRjaChlKXt9aWYodShlLHQpKXJldHVybiBvKCFpLmYuY2FsbChlLHQpLGVbdF0pfX0sMTA5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9e30ucHJvcGVydHlJc0VudW1lcmFibGUsaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLG89aSYmIXIuY2FsbCh7MToyfSwxKTt0LmY9bz9mdW5jdGlvbihlKXt2YXIgdD1pKHRoaXMsZSk7cmV0dXJuISF0JiZ0LmVudW1lcmFibGV9OnJ9LDExOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEwNik7ZS5leHBvcnRzPXJ9LDExMDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSksaT0vI3xcLnByb3RvdHlwZVwuLyxvPWZ1bmN0aW9uKGUsdCl7dmFyIG49Y1thKGUpXTtyZXR1cm4gbj09c3x8biE9dSYmKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3IodCk6ISF0KX0sYT1vLm5vcm1hbGl6ZT1mdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nKGUpLnJlcGxhY2UoaSwiLiIpLnRvTG93ZXJDYXNlKCl9LGM9by5kYXRhPXt9LHU9by5OQVRJVkU9Ik4iLHM9by5QT0xZRklMTD0iUCI7ZS5leHBvcnRzPW99LDExMTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCksaT1uKDExMiksbz1uKDIxKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBpKGUpJiYoImZ1bmN0aW9uIiE9dHlwZW9mKG49ZS5jb25zdHJ1Y3Rvcil8fG4hPT1BcnJheSYmIWkobi5wcm90b3R5cGUpP3IobikmJm51bGw9PT0obj1uW29dKSYmKG49dm9pZCAwKTpuPXZvaWQgMCksbmV3KHZvaWQgMD09PW4/QXJyYXk6bikoMD09PXQ/MDp0KX19LDExMjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big1MCk7ZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PXIoZSl9fSwxMTM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpLGk9bigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dHJ5e2kocixlLHQpfWNhdGNoKG4pe3JbZV09dH1yZXR1cm4gdH19LDExNDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPW4oMjcpLGE9bigxMTUpLGM9by5wcm9jZXNzLHU9YyYmYy52ZXJzaW9ucyxzPXUmJnUudjg7cz9pPShyPXMuc3BsaXQoIi4iKSlbMF08ND8xOnJbMF0rclsxXTphJiYoIShyPWEubWF0Y2goL0VkZ2VcLyhcZCspLykpfHxyWzFdPj03NCkmJihyPWEubWF0Y2goL0Nocm9tZVwvKFxkKykvKSkmJihpPXJbMV0pLGUuZXhwb3J0cz1pJiYraX0sMTE1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI2KTtlLmV4cG9ydHM9cigibmF2aWdhdG9yIiwidXNlckFnZW50Iil8fCIifSwxMTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oODgpO2UuZXhwb3J0cz1yJiYhU3ltYm9sLnNoYW0mJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yfSwxMTc6ZnVuY3Rpb24oZSx0LG4pe24oMTE4KTt2YXIgcj1uKDU1KTtlLmV4cG9ydHM9cigiQXJyYXkiLCJpbmNsdWRlcyIpfSwxMTg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oODkpLmluY2x1ZGVzLG89big1NCk7cih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITB9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLG8oImluY2x1ZGVzIil9LDExOTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2NiksaT1NYXRoLm1heCxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuPXIoZSk7cmV0dXJuIG48MD9pKG4rdCwwKTpvKG4sdCl9fSwxMjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMTcpO2UuZXhwb3J0cz1yfSwxMjA6ZnVuY3Rpb24oZSx0LG4pe24oMTIxKSxuKDEzNiksbig5OSksbigxMzgpO3ZhciByPW4oNDUpO2UuZXhwb3J0cz1yLlNldH0sMTIxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMjIpLGk9bigxMjcpO2UuZXhwb3J0cz1yKCJTZXQiLChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSksaSl9LDEyMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigyNyksbz1uKDkxKSxhPW4oMjkpLGM9bigzMiksdT1uKDIwKSxzPW4oNzApLGQ9bigzMCksZj1uKDU5KSxsPW4oMzQpLmYscD1uKDY1KS5mb3JFYWNoLGc9bigzMyksYj1uKDQ2KSx2PWIuc2V0LHk9Yi5nZXR0ZXJGb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgYixoPS0xIT09ZS5pbmRleE9mKCJNYXAiKSxtPS0xIT09ZS5pbmRleE9mKCJXZWFrIiksTz1oPyJzZXQiOiJhZGQiLGo9aVtlXSxTPWomJmoucHJvdG90eXBlLEU9e307aWYoZyYmImZ1bmN0aW9uIj09dHlwZW9mIGomJihtfHxTLmZvckVhY2gmJiFhKChmdW5jdGlvbigpeyhuZXcgaikuZW50cmllcygpLm5leHQoKX0pKSkpe2I9dCgoZnVuY3Rpb24odCxuKXt2KHModCxiLGUpLHt0eXBlOmUsY29sbGVjdGlvbjpuZXcgan0pLG51bGwhPW4mJnUobix0W09dLHt0aGF0OnQsQVNfRU5UUklFUzpofSl9KSk7dmFyIEE9eShlKTtwKFsiYWRkIiwiY2xlYXIiLCJkZWxldGUiLCJmb3JFYWNoIiwiZ2V0IiwiaGFzIiwic2V0Iiwia2V5cyIsInZhbHVlcyIsImVudHJpZXMiXSwoZnVuY3Rpb24oZSl7dmFyIHQ9ImFkZCI9PWV8fCJzZXQiPT1lOyEoZSBpbiBTKXx8bSYmImNsZWFyIj09ZXx8YyhiLnByb3RvdHlwZSxlLChmdW5jdGlvbihuLHIpe3ZhciBpPUEodGhpcykuY29sbGVjdGlvbjtpZighdCYmbSYmIWQobikpcmV0dXJuImdldCI9PWUmJnZvaWQgMDt2YXIgbz1pW2VdKDA9PT1uPzA6bixyKTtyZXR1cm4gdD90aGlzOm99KSl9KSksbXx8bChiLnByb3RvdHlwZSwic2l6ZSIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQSh0aGlzKS5jb2xsZWN0aW9uLnNpemV9fSl9ZWxzZSBiPW4uZ2V0Q29uc3RydWN0b3IodCxlLGgsTyksby5SRVFVSVJFRD0hMDtyZXR1cm4gZihiLGUsITEsITApLEVbZV09YixyKHtnbG9iYWw6ITAsZm9yY2VkOiEwfSxFKSxtfHxuLnNldFN0cm9uZyhiLGUsaCksYn19LDEyMzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSk7ZS5leHBvcnRzPSFyKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QuaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSkpfSwxMjQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDY5KSxpPW4oNTgpO2UuZXhwb3J0cz1yP3t9LnRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgIitpKHRoaXMpKyJdIn19LDEyNTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNyksaT1uKDEyNiksbz1yLldlYWtNYXA7ZS5leHBvcnRzPSJmdW5jdGlvbiI9PXR5cGVvZiBvJiYvbmF0aXZlIGNvZGUvLnRlc3QoaShvKSl9LDEyNjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2NyksaT1GdW5jdGlvbi50b1N0cmluZzsiZnVuY3Rpb24iIT10eXBlb2Ygci5pbnNwZWN0U291cmNlJiYoci5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNhbGwoZSl9KSxlLmV4cG9ydHM9ci5pbnNwZWN0U291cmNlfSwxMjc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDM0KS5mLGk9big3Miksbz1uKDk1KSxhPW4oMjUpLGM9big3MCksdT1uKDIwKSxzPW4oNzQpLGQ9bigxMzUpLGY9bigzMyksbD1uKDkxKS5mYXN0S2V5LHA9big0NiksZz1wLnNldCxiPXAuZ2V0dGVyRm9yO2UuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LG4scyl7dmFyIGQ9ZSgoZnVuY3Rpb24oZSxyKXtjKGUsZCx0KSxnKGUse3R5cGU6dCxpbmRleDppKG51bGwpLGZpcnN0OnZvaWQgMCxsYXN0OnZvaWQgMCxzaXplOjB9KSxmfHwoZS5zaXplPTApLG51bGwhPXImJnUocixlW3NdLHt0aGF0OmUsQVNfRU5UUklFUzpufSl9KSkscD1iKHQpLHY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1wKGUpLGE9eShlLHQpO3JldHVybiBhP2EudmFsdWU9bjooby5sYXN0PWE9e2luZGV4Omk9bCh0LCEwKSxrZXk6dCx2YWx1ZTpuLHByZXZpb3VzOnI9by5sYXN0LG5leHQ6dm9pZCAwLHJlbW92ZWQ6ITF9LG8uZmlyc3R8fChvLmZpcnN0PWEpLHImJihyLm5leHQ9YSksZj9vLnNpemUrKzplLnNpemUrKywiRiIhPT1pJiYoby5pbmRleFtpXT1hKSksZX0seT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9cChlKSxpPWwodCk7aWYoIkYiIT09aSlyZXR1cm4gci5pbmRleFtpXTtmb3Iobj1yLmZpcnN0O247bj1uLm5leHQpaWYobi5rZXk9PXQpcmV0dXJuIG59O3JldHVybiBvKGQucHJvdG90eXBlLHtjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgZT1wKHRoaXMpLHQ9ZS5pbmRleCxuPWUuZmlyc3Q7bjspbi5yZW1vdmVkPSEwLG4ucHJldmlvdXMmJihuLnByZXZpb3VzPW4ucHJldmlvdXMubmV4dD12b2lkIDApLGRlbGV0ZSB0W24uaW5kZXhdLG49bi5uZXh0O2UuZmlyc3Q9ZS5sYXN0PXZvaWQgMCxmP2Uuc2l6ZT0wOnRoaXMuc2l6ZT0wfSxkZWxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXAodCkscj15KHQsZSk7aWYocil7dmFyIGk9ci5uZXh0LG89ci5wcmV2aW91cztkZWxldGUgbi5pbmRleFtyLmluZGV4XSxyLnJlbW92ZWQ9ITAsbyYmKG8ubmV4dD1pKSxpJiYoaS5wcmV2aW91cz1vKSxuLmZpcnN0PT1yJiYobi5maXJzdD1pKSxuLmxhc3Q9PXImJihuLmxhc3Q9byksZj9uLnNpemUtLTp0LnNpemUtLX1yZXR1cm4hIXJ9LGZvckVhY2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49cCh0aGlzKSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTt0PXQ/dC5uZXh0Om4uZmlyc3Q7KWZvcihyKHQudmFsdWUsdC5rZXksdGhpcyk7dCYmdC5yZW1vdmVkOyl0PXQucHJldmlvdXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4hIXkodGhpcyxlKX19KSxvKGQucHJvdG90eXBlLG4/e2dldDpmdW5jdGlvbihlKXt2YXIgdD15KHRoaXMsZSk7cmV0dXJuIHQmJnQudmFsdWV9LHNldDpmdW5jdGlvbihlLHQpe3JldHVybiB2KHRoaXMsMD09PWU/MDplLHQpfX06e2FkZDpmdW5jdGlvbihlKXtyZXR1cm4gdih0aGlzLGU9MD09PWU/MDplLGUpfX0pLGYmJnIoZC5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcCh0aGlzKS5zaXplfX0pLGR9LHNldFN0cm9uZzpmdW5jdGlvbihlLHQsbil7dmFyIHI9dCsiIEl0ZXJhdG9yIixpPWIodCksbz1iKHIpO3MoZSx0LChmdW5jdGlvbihlLHQpe2codGhpcyx7dHlwZTpyLHRhcmdldDplLHN0YXRlOmkoZSksa2luZDp0LGxhc3Q6dm9pZCAwfSl9KSwoZnVuY3Rpb24oKXtmb3IodmFyIGU9byh0aGlzKSx0PWUua2luZCxuPWUubGFzdDtuJiZuLnJlbW92ZWQ7KW49bi5wcmV2aW91cztyZXR1cm4gZS50YXJnZXQmJihlLmxhc3Q9bj1uP24ubmV4dDplLnN0YXRlLmZpcnN0KT8ia2V5cyI9PXQ/e3ZhbHVlOm4ua2V5LGRvbmU6ITF9OiJ2YWx1ZXMiPT10P3t2YWx1ZTpuLnZhbHVlLGRvbmU6ITF9Ont2YWx1ZTpbbi5rZXksbi52YWx1ZV0sZG9uZTohMX06KGUudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KX0pLG4/ImVudHJpZXMiOiJ2YWx1ZXMiLCFuLCEwKSxkKHQpfX19LDEyODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMyksaT1uKDM0KSxvPW4oMTYpLGE9bigxMjkpO2UuZXhwb3J0cz1yP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7byhlKTtmb3IodmFyIG4scj1hKHQpLGM9ci5sZW5ndGgsdT0wO2M+dTspaS5mKGUsbj1yW3UrK10sdFtuXSk7cmV0dXJuIGV9fSwxMjk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTMwKSxpPW4oOTQpO2UuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSxpKX19LDEzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPXUsdC5jPWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLnVybCl9LHQuYj1mdW5jdGlvbihlLHQpe2UucmVuZGVyKHQpfTt2YXIgcj1uKDM1KSxpPW4oMCksbz1uKDExKSxhPW4ubihvKSxjPSJvdXRzdHJlYW0iO2Z1bmN0aW9uIHUoZSl7dmFyIHQ9dGhpcyxuPWUudXJsLG89ZS5jb25maWcsYT1lLmlkLHU9ZS5jYWxsYmFjayxkPWUubG9hZGVkLGY9ZS5hZFVuaXRDb2RlO3RoaXMudXJsPW4sdGhpcy5jb25maWc9byx0aGlzLmhhbmRsZXJzPXt9LHRoaXMuaWQ9YSx0aGlzLmxvYWRlZD1kLHRoaXMuY21kPVtdLHRoaXMucHVzaD1mdW5jdGlvbihlKXsiZnVuY3Rpb24iPT10eXBlb2YgZT90LmxvYWRlZD9lLmNhbGwoKTp0LmNtZC5wdXNoKGUpOk9iamVjdChpLmxvZ0Vycm9yKSgiQ29tbWFuZHMgZ2l2ZW4gdG8gUmVuZGVyZXIucHVzaCBtdXN0IGJlIHdyYXBwZWQgaW4gYSBmdW5jdGlvbiIpfSx0aGlzLmNhbGxiYWNrPXV8fGZ1bmN0aW9uKCl7dC5sb2FkZWQ9ITAsdC5wcm9jZXNzKCl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cyxvPWZ1bmN0aW9uKCl7ZS5fcmVuZGVyP2UuX3JlbmRlci5hcHBseShlLHQpOk9iamVjdChpLmxvZ1dhcm4pKCJObyByZW5kZXIgZnVuY3Rpb24gd2FzIHByb3ZpZGVkLCBwbGVhc2UgdXNlIC5zZXRSZW5kZXIgb24gdGhlIHJlbmRlcmVyIil9O3MoZik/KE9iamVjdChpLmxvZ1dhcm4pKCJFeHRlcm5hbCBKcyBub3QgbG9hZGVkIGJ5IFJlbmRlcmVyIHNpbmNlIHJlbmRlcmVyIHVybCBhbmQgY2FsbGJhY2sgaXMgYWxyZWFkeSBkZWZpbmVkIG9uIGFkVW5pdCAiLmNvbmNhdChmKSksbygpKToodGhpcy5jbWQudW5zaGlmdChvKSxPYmplY3Qoci5hKShuLGMsdGhpcy5jYWxsYmFjaykpfS5iaW5kKHRoaXMpfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9dXBianMuYWRVbml0cyxuPWEoKSh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb2RlPT09ZX0pKTtpZighbilyZXR1cm4hMTt2YXIgcj1PYmplY3QoaS5kZWVwQWNjZXNzKShuLCJyZW5kZXJlciIpLG89ISEociYmci51cmwmJnIucmVuZGVyKSxjPU9iamVjdChpLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8ucmVuZGVyZXIiKSx1PSEhKGMmJmMudXJsJiZjLnJlbmRlcik7cmV0dXJuISEobyYmITAhPT1yLmJhY2t1cE9ubHl8fHUmJiEwIT09Yy5iYWNrdXBPbmx5KX11Lmluc3RhbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1KHt1cmw6ZS51cmwsY29uZmlnOmUuY29uZmlnLGlkOmUuaWQsY2FsbGJhY2s6ZS5jYWxsYmFjayxsb2FkZWQ6ZS5sb2FkZWQsYWRVbml0Q29kZTplLmFkVW5pdENvZGV9KX0sdS5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnfSx1LnByb3RvdHlwZS5zZXRSZW5kZXI9ZnVuY3Rpb24oZSl7dGhpcy5fcmVuZGVyPWV9LHUucHJvdG90eXBlLnNldEV2ZW50SGFuZGxlcnM9ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVycz1lfSx1LnByb3RvdHlwZS5oYW5kbGVWaWRlb0V2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PWUuaWQsbj1lLmV2ZW50TmFtZTsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5oYW5kbGVyc1tuXSYmdGhpcy5oYW5kbGVyc1tuXSgpLE9iamVjdChpLmxvZ01lc3NhZ2UpKCJQcmViaWQgUmVuZGVyZXIgZXZlbnQgZm9yIGlkICIuY29uY2F0KHQsIiB0eXBlICIpLmNvbmNhdChuKSl9LHUucHJvdG90eXBlLnByb2Nlc3M9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuY21kLmxlbmd0aD4wOyl0cnl7dGhpcy5jbWQuc2hpZnQoKS5jYWxsKCl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJFcnJvciBwcm9jZXNzaW5nIFJlbmRlcmVyIGNvbW1hbmQ6ICIsZSl9fX0sMTMwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMxKSxpPW4oNDkpLG89big4OSkuaW5kZXhPZixhPW4oNTYpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLGM9aShlKSx1PTAscz1bXTtmb3IobiBpbiBjKSFyKGEsbikmJnIoYyxuKSYmcy5wdXNoKG4pO2Zvcig7dC5sZW5ndGg+dTspcihjLG49dFt1KytdKSYmKH5vKHMsbil8fHMucHVzaChuKSk7cmV0dXJuIHN9fSwxMzE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjYpO2UuZXhwb3J0cz1yKCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIpfSwxMzI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpO2UuZXhwb3J0cz0hcigoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1udWxsLE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgZSkhPT1lLnByb3RvdHlwZX0pKX0sMTMzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oMTM0KTtlLmV4cG9ydHM9T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKCl7dmFyIGUsdD0hMSxuPXt9O3RyeXsoZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCkuY2FsbChuLFtdKSx0PW4gaW5zdGFuY2VvZiBBcnJheX1jYXRjaChlKXt9cmV0dXJuIGZ1bmN0aW9uKG4sbyl7cmV0dXJuIHIobiksaShvKSx0P2UuY2FsbChuLG8pOm4uX19wcm90b19fPW8sbn19KCk6dm9pZCAwKX0sMTM0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIXIoZSkmJm51bGwhPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3Qgc2V0ICIrU3RyaW5nKGUpKyIgYXMgYSBwcm90b3R5cGUiKTtyZXR1cm4gZX19LDEzNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjYpLGk9bigzNCksbz1uKDIxKSxhPW4oMzMpLGM9bygic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1yKGUpLG49aS5mO2EmJnQmJiF0W2NdJiZuKHQsYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sMTM2OmZ1bmN0aW9uKGUsdCl7fSwxMzc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjYpLGk9big1MSksbz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgbyxhLGM9U3RyaW5nKGkodCkpLHU9cihuKSxzPWMubGVuZ3RoO3JldHVybiB1PDB8fHU+PXM/ZT8iIjp2b2lkIDA6KG89Yy5jaGFyQ29kZUF0KHUpKTw1NTI5Nnx8bz41NjMxOXx8dSsxPT09c3x8KGE9Yy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxhPjU3MzQzP2U/Yy5jaGFyQXQodSk6bzplP2Muc2xpY2UodSx1KzIpOmEtNTYzMjArKG8tNTUyOTY8PDEwKSs2NTUzNn19O2UuZXhwb3J0cz17Y29kZUF0Om8oITEpLGNoYXJBdDpvKCEwKX19LDEzODpmdW5jdGlvbihlLHQsbil7bigxMDApO3ZhciByPW4oMTM5KSxpPW4oMjcpLG89big1OCksYT1uKDMyKSxjPW4oNDIpLHU9bigyMSkoInRvU3RyaW5nVGFnIik7Zm9yKHZhciBzIGluIHIpe3ZhciBkPWlbc10sZj1kJiZkLnByb3RvdHlwZTtmJiZvKGYpIT09dSYmYShmLHUscyksY1tzXT1jLkFycmF5fX0sMTM5OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXtDU1NSdWxlTGlzdDowLENTU1N0eWxlRGVjbGFyYXRpb246MCxDU1NWYWx1ZUxpc3Q6MCxDbGllbnRSZWN0TGlzdDowLERPTVJlY3RMaXN0OjAsRE9NU3RyaW5nTGlzdDowLERPTVRva2VuTGlzdDoxLERhdGFUcmFuc2Zlckl0ZW1MaXN0OjAsRmlsZUxpc3Q6MCxIVE1MQWxsQ29sbGVjdGlvbjowLEhUTUxDb2xsZWN0aW9uOjAsSFRNTEZvcm1FbGVtZW50OjAsSFRNTFNlbGVjdEVsZW1lbnQ6MCxNZWRpYUxpc3Q6MCxNaW1lVHlwZUFycmF5OjAsTmFtZWROb2RlTWFwOjAsTm9kZUxpc3Q6MSxQYWludFJlcXVlc3RMaXN0OjAsUGx1Z2luOjAsUGx1Z2luQXJyYXk6MCxTVkdMZW5ndGhMaXN0OjAsU1ZHTnVtYmVyTGlzdDowLFNWR1BhdGhTZWdMaXN0OjAsU1ZHUG9pbnRMaXN0OjAsU1ZHU3RyaW5nTGlzdDowLFNWR1RyYW5zZm9ybUxpc3Q6MCxTb3VyY2VCdWZmZXJMaXN0OjAsU3R5bGVTaGVldExpc3Q6MCxUZXh0VHJhY2tDdWVMaXN0OjAsVGV4dFRyYWNrTGlzdDowLFRvdWNoTGlzdDowfX0sMTQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnVwYmpzfSx3aW5kb3cudXBianM9d2luZG93LnVwYmpzfHx7fSx3aW5kb3cudXBianMuY21kPXdpbmRvdy51cGJqcy5jbWR8fFtdLHdpbmRvdy51cGJqcy5xdWU9d2luZG93LnVwYmpzLnF1ZXx8W10sd2luZG93Ll9wYmpzR2xvYmFscz13aW5kb3cuX3BianNHbG9iYWxzfHxbXSx3aW5kb3cuX3BianNHbG9iYWxzLnB1c2goInVwYmpzIil9LDE0MDpmdW5jdGlvbihlLHQsbil7bigxNSkoe3RhcmdldDoiU2V0IixzdGF0OiEwfSx7ZnJvbTpuKDE0MSl9KX0sMTQxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyNCksaT1uKDI1KSxvPW4oMjApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxuLGEsYyx1PWFyZ3VtZW50cy5sZW5ndGgscz11PjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gcih0aGlzKSwodD12b2lkIDAhPT1zKSYmcihzKSxudWxsPT1lP25ldyB0aGlzOihuPVtdLHQ/KGE9MCxjPWkocyx1PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSxvKGUsKGZ1bmN0aW9uKGUpe24ucHVzaChjKGUsYSsrKSl9KSkpOm8oZSxuLnB1c2gse3RoYXQ6bn0pLG5ldyB0aGlzKG4pKX19LDE0MjpmdW5jdGlvbihlLHQsbil7bigxNSkoe3RhcmdldDoiU2V0IixzdGF0OiEwfSx7b2Y6bigxNDMpfSl9LDE0MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpO2UtLTspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIG5ldyB0aGlzKHQpfX0sMTQ0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTQ1KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2FkZEFsbDpmdW5jdGlvbigpe3JldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KX0sMTQ1OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNiksaT1uKDI0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9cih0aGlzKSx0PWkoZS5hZGQpLG49MCxvPWFyZ3VtZW50cy5sZW5ndGg7bjxvO24rKyl0LmNhbGwoZSxhcmd1bWVudHNbbl0pO3JldHVybiBlfX0sMTQ2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTQ3KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2RlbGV0ZUFsbDpmdW5jdGlvbigpe3JldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KX0sMTQ3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNiksaT1uKDI0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1yKHRoaXMpLG49aSh0LmRlbGV0ZSksbz0hMCxhPTAsYz1hcmd1bWVudHMubGVuZ3RoO2E8YzthKyspZT1uLmNhbGwodCxhcmd1bWVudHNbYV0pLG89byYmZTtyZXR1cm4hIW99fSwxNDg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI1KSxjPW4oMzcpLHU9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtldmVyeTpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49Yyh0KSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTtyZXR1cm4hdShuLChmdW5jdGlvbihlLG4pe2lmKCFyKGUsZSx0KSlyZXR1cm4gbigpfSkse0lTX0lURVJBVE9SOiEwLElOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTQ5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oNDMpLHM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtkaWZmZXJlbmNlOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkodCkscj1jKG4uZGVsZXRlKTtyZXR1cm4gcyhlLChmdW5jdGlvbihlKXtyLmNhbGwobixlKX0pKSxufX0pfSwxNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjcpLGk9bigxMDgpLmYsbz1uKDExMCksYT1uKDQ1KSxjPW4oMjUpLHU9bigzMikscz1uKDMxKSxkPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQsbixyKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQsbil9cmV0dXJuIG5ldyBlKHQsbixyKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0LnByb3RvdHlwZT1lLnByb3RvdHlwZSx0fTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixmLGwscCxnLGIsdix5LGg9ZS50YXJnZXQsbT1lLmdsb2JhbCxPPWUuc3RhdCxqPWUucHJvdG8sUz1tP3I6Tz9yW2hdOihyW2hdfHx7fSkucHJvdG90eXBlLEU9bT9hOmFbaF18fChhW2hdPXt9KSxBPUUucHJvdG90eXBlO2ZvcihsIGluIHQpbj0hbyhtP2w6aCsoTz8iLiI6IiMiKStsLGUuZm9yY2VkKSYmUyYmcyhTLGwpLGc9RVtsXSxuJiYoYj1lLm5vVGFyZ2V0R2V0Pyh5PWkoUyxsKSkmJnkudmFsdWU6U1tsXSkscD1uJiZiP2I6dFtsXSxuJiZ0eXBlb2YgZz09dHlwZW9mIHB8fCh2PWUuYmluZCYmbj9jKHAscik6ZS53cmFwJiZuP2QocCk6aiYmImZ1bmN0aW9uIj09dHlwZW9mIHA/YyhGdW5jdGlvbi5jYWxsLHApOnAsKGUuc2hhbXx8cCYmcC5zaGFtfHxnJiZnLnNoYW0pJiZ1KHYsInNoYW0iLCEwKSxFW2xdPXYsaiYmKHMoYSxmPWgrIlByb3RvdHlwZSIpfHx1KGEsZix7fSksYVtmXVtsXT1wLGUucmVhbCYmQSYmIUFbbF0mJnUoQSxsLHApKSl9fSwxNTA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigyNiksYT1uKDE2KSxjPW4oMjQpLHU9bigyNSkscz1uKDQzKSxkPW4oMzcpLGY9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtmaWx0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPWQodCkscj11KGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyksaT1uZXcocyh0LG8oIlNldCIpKSksbD1jKGkuYWRkKTtyZXR1cm4gZihuLChmdW5jdGlvbihlKXtyKGUsZSx0KSYmbC5jYWxsKGksZSl9KSx7SVNfSVRFUkFUT1I6ITB9KSxpfX0pfSwxNTE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI1KSxjPW4oMzcpLHU9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtmaW5kOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1jKHQpLHI9YShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO3JldHVybiB1KG4sKGZ1bmN0aW9uKGUsbil7aWYocihlLGUsdCkpcmV0dXJuIG4oZSl9KSx7SVNfSVRFUkFUT1I6ITAsSU5URVJSVVBURUQ6ITB9KS5yZXN1bHR9fSl9LDE1MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDI2KSxhPW4oMTYpLGM9bigyNCksdT1uKDQzKSxzPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aW50ZXJzZWN0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkscj1jKHQuaGFzKSxpPWMobi5hZGQpO3JldHVybiBzKGUsKGZ1bmN0aW9uKGUpe3IuY2FsbCh0LGUpJiZpLmNhbGwobixlKX0pKSxufX0pfSwxNTM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI0KSxjPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aXNEaXNqb2ludEZyb206ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWEodC5oYXMpO3JldHVybiFjKGUsKGZ1bmN0aW9uKGUscil7aWYoITA9PT1uLmNhbGwodCxlKSlyZXR1cm4gcigpfSkse0lOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTU0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oNzUpLHM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtpc1N1YnNldE9mOmZ1bmN0aW9uKGUpe3ZhciB0PXUodGhpcyksbj1hKGUpLHI9bi5oYXM7cmV0dXJuImZ1bmN0aW9uIiE9dHlwZW9mIHImJihuPW5ldyhvKCJTZXQiKSkoZSkscj1jKG4uaGFzKSksIXModCwoZnVuY3Rpb24oZSx0KXtpZighMT09PXIuY2FsbChuLGUpKXJldHVybiB0KCl9KSx7SVNfSVRFUkFUT1I6ITAsSU5URVJSVVBURUQ6ITB9KS5zdG9wcGVkfX0pfSwxNTU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI0KSxjPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aXNTdXBlcnNldE9mOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1hKHQuaGFzKTtyZXR1cm4hYyhlLChmdW5jdGlvbihlLHIpe2lmKCExPT09bi5jYWxsKHQsZSkpcmV0dXJuIHIoKX0pLHtJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE1NjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDE2KSxhPW4oMzcpLGM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtqb2luOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1hKHQpLHI9dm9pZCAwPT09ZT8iLCI6U3RyaW5nKGUpLGk9W107cmV0dXJuIGMobixpLnB1c2gse3RoYXQ6aSxJU19JVEVSQVRPUjohMH0pLGkuam9pbihyKX19KX0sMTU3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oMjUpLHM9big0MyksZD1uKDM3KSxmPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7bWFwOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1kKHQpLHI9dShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpLGk9bmV3KHModCxvKCJTZXQiKSkpLGw9YyhpLmFkZCk7cmV0dXJuIGYobiwoZnVuY3Rpb24oZSl7bC5jYWxsKGkscihlLGUsdCkpfSkse0lTX0lURVJBVE9SOiEwfSksaX19KX0sMTU4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTYpLGE9bigyNCksYz1uKDM3KSx1PW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7cmVkdWNlOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1jKHQpLHI9YXJndW1lbnRzLmxlbmd0aDwyLGk9cj92b2lkIDA6YXJndW1lbnRzWzFdO2lmKGEoZSksdShuLChmdW5jdGlvbihuKXtyPyhyPSExLGk9bik6aT1lKGksbixuLHQpfSkse0lTX0lURVJBVE9SOiEwfSkscil0aHJvdyBUeXBlRXJyb3IoIlJlZHVjZSBvZiBlbXB0eSBzZXQgd2l0aCBubyBpbml0aWFsIHZhbHVlIik7cmV0dXJuIGl9fSl9LDE1OTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDE2KSxhPW4oMjUpLGM9bigzNyksdT1uKDIwKTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3NvbWU6ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWModCkscj1hKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7cmV0dXJuIHUobiwoZnVuY3Rpb24oZSxuKXtpZihyKGUsZSx0KSlyZXR1cm4gbigpfSkse0lTX0lURVJBVE9SOiEwLElOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighcihlKSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGFuIG9iamVjdCIpO3JldHVybiBlfX0sMTYwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oNDMpLHM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtzeW1tZXRyaWNEaWZmZXJlbmNlOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkodCkscj1jKG4uZGVsZXRlKSxpPWMobi5hZGQpO3JldHVybiBzKGUsKGZ1bmN0aW9uKGUpe3IuY2FsbChuLGUpfHxpLmNhbGwobixlKX0pKSxufX0pfSwxNjE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigyNiksYT1uKDE2KSxjPW4oMjQpLHU9big0Mykscz1uKDIwKTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3VuaW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkodCk7cmV0dXJuIHMoZSxjKG4uYWRkKSx7dGhhdDpufSksbn19KX0sMTYyOmZ1bmN0aW9uKGUsdCxuKXtuKDk5KSxuKDE2Myk7dmFyIHI9big0NSk7ZS5leHBvcnRzPXIuQXJyYXkuZnJvbX0sMTYzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE1KSxpPW4oMTY0KTtyKHt0YXJnZXQ6IkFycmF5IixzdGF0OiEwLGZvcmNlZDohbigxNjcpKChmdW5jdGlvbihlKXtBcnJheS5mcm9tKGUpfSkpfSx7ZnJvbTppfSl9LDE2NDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjUpLGk9big1Miksbz1uKDE2NSksYT1uKDkyKSxjPW4oNTMpLHU9bigxNjYpLHM9big1Nyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LG4sZCxmLGwscCxnPWkoZSksYj0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOkFycmF5LHY9YXJndW1lbnRzLmxlbmd0aCx5PXY+MT9hcmd1bWVudHNbMV06dm9pZCAwLGg9dm9pZCAwIT09eSxtPXMoZyksTz0wO2lmKGgmJih5PXIoeSx2PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksbnVsbD09bXx8Yj09QXJyYXkmJmEobSkpZm9yKG49bmV3IGIodD1jKGcubGVuZ3RoKSk7dD5PO08rKylwPWg/eShnW09dLE8pOmdbT10sdShuLE8scCk7ZWxzZSBmb3IobD0oZj1tLmNhbGwoZykpLm5leHQsbj1uZXcgYjshKGQ9bC5jYWxsKGYpKS5kb25lO08rKylwPWg/byhmLHksW2QudmFsdWUsT10sITApOmQudmFsdWUsdShuLE8scCk7cmV0dXJuIG4ubGVuZ3RoPU8sbn19LDE2NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDkzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4sbyl7dHJ5e3JldHVybiBvP3QocihuKVswXSxuWzFdKTp0KG4pfWNhdGNoKHQpe3Rocm93IGkoZSksdH19fSwxNjY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDY0KSxpPW4oMzQpLG89big0NCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgYT1yKHQpO2EgaW4gZT9pLmYoZSxhLG8oMCxuKSk6ZVthXT1ufX0sMTY3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIxKSgiaXRlcmF0b3IiKSxpPSExO3RyeXt2YXIgbz0wLGE9e25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTohIW8rK319LHJldHVybjpmdW5jdGlvbigpe2k9ITB9fTthW3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEFycmF5LmZyb20oYSwoZnVuY3Rpb24oKXt0aHJvdyAyfSkpfWNhdGNoKGUpe31lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIWkpcmV0dXJuITE7dmFyIG49ITE7dHJ5e3ZhciBvPXt9O29bcl09ZnVuY3Rpb24oKXtyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOm49ITB9fX19LGUobyl9Y2F0Y2goZSl7fXJldHVybiBufX0sMTY4OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uIGUodCl7dmFyIG49QXJyYXkuaXNBcnJheSh0KT9bXTp7fTtmb3IodmFyIHIgaW4gdCl7dmFyIGk9dFtyXTtuW3JdPWkmJiJvYmplY3QiPT10eXBlb2YgaT9lKGkpOml9cmV0dXJuIG59fSwxNjk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0LG4scixpKXtmb3IodD10LnNwbGl0P3Quc3BsaXQoIi4iKTp0LHI9MDtyPHQubGVuZ3RoO3IrKyllPWU/ZVt0W3JdXTppO3JldHVybiBlPT09aT9uOmV9fSwxNzA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0LG4pe3Quc3BsaXQmJih0PXQuc3BsaXQoIi4iKSk7Zm9yKHZhciByLGk9MCxvPXQubGVuZ3RoLGE9ZTtpPG87KytpKXI9YVt0W2ldXSxhPWFbdFtpXV09aT09PW8tMT9uOm51bGwhPXI/cjohfnRbaSsxXS5pbmRleE9mKCIuIikmJit0W2krMV0+LTE/W106e319fSwxNzE6ZnVuY3Rpb24oZSx0KXsKLyoKKiBAbGljZW5zZSBNSVQKKiBGdW4gSG9va3MgdjAuOS4xMAoqIChjKSBAc25hcHdpY2gKKi8KYy5TWU5DPTEsYy5BU1lOQz0yLGMuUVVFVUU9NDt2YXIgbj1PYmplY3QuZnJlZXplKHt1c2VQcm94eTohMCxyZWFkeTowfSkscj1uZXcgV2Vha01hcCxpPSIyLDEsMCI9PT1bMV0ucmVkdWNlKChmdW5jdGlvbihlLHQsbil7cmV0dXJuW2UsdCxuXX0pLDIpLnRvU3RyaW5nKCk/QXJyYXkucHJvdG90eXBlLnJlZHVjZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9T2JqZWN0KHRoaXMpLGk9ci5sZW5ndGg+Pj4wLG89MDtpZih0KW49dDtlbHNle2Zvcig7bzxpJiYhKG8gaW4gcik7KW8rKztuPXJbbysrXX1mb3IoO288aTspbyBpbiByJiYobj1lKG4scltvXSxvLHIpKSxvKys7cmV0dXJuIG59O2Z1bmN0aW9uIG8oZSx0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSx0KX12YXIgYT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtyZXR1cm4gaS5jYWxsKG8oYXJndW1lbnRzLDEpLChmdW5jdGlvbihlLHQpe3JldHVybiB0JiZPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW25dPXRbbl19KSksZX0pLGUpfTtmdW5jdGlvbiBjKGUpe3ZhciB0LHU9e30scz1bXTtmdW5jdGlvbiBkKGUsdCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGU/Zy5jYWxsKG51bGwsInN5bmMiLGUsdCk6InN0cmluZyI9PXR5cGVvZiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgdD9nLmFwcGx5KG51bGwsYXJndW1lbnRzKToib2JqZWN0Ij09dHlwZW9mIGU/Zi5hcHBseShudWxsLGFyZ3VtZW50cyk6dm9pZCAwfWZ1bmN0aW9uIGYoZSx0LG4pe3ZhciByPSEwO3ZvaWQgMD09PXQmJih0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLHI9ITEpO3ZhciBpPXt9LG89WyJjb25zdHJ1Y3RvciJdO2Rveyh0PXQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hKCJmdW5jdGlvbiIhPXR5cGVvZiBlW3RdfHwtMSE9PW8uaW5kZXhPZih0KXx8dC5tYXRjaCgvXl8vKSl9KSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPXQuc3BsaXQoIjoiKSxvPXJbMF0sYT1yWzFdfHwic3luYyI7aWYoIWlbb10pe3ZhciBjPWVbb107aVtvXT1lW29dPWcoYSxjLG4/W24sb106dm9pZCAwKX19KSksZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9d2hpbGUociYmZSk7cmV0dXJuIGl9ZnVuY3Rpb24gbChlKXt2YXIgbj1BcnJheS5pc0FycmF5KGUpP2U6ZS5zcGxpdCgiLiIpO3JldHVybiBpLmNhbGwobiwoZnVuY3Rpb24ocixpLG8pe3ZhciBhPXJbaV0sYz0hMTtyZXR1cm4gYXx8KG89PT1uLmxlbmd0aC0xPyh0fHxzLnB1c2goKGZ1bmN0aW9uKCl7Y3x8Y29uc29sZS53YXJuKCJmdW4taG9va3M6IHJlZmVyZW5jZWQgJyIrZSsiJyBidXQgaXQgd2FzIG5ldmVyIGNyZWF0ZWQiKX0pKSxyW2ldPXAoKGZ1bmN0aW9uKGUpe3JbaV09ZSxjPSEwfSkpKTpyW2ldPXt9KX0pLHUpfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9W10sbj1bXSxpPWZ1bmN0aW9uKCl7fSxvPXtiZWZvcmU6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdS5jYWxsKHRoaXMsdCwiYmVmb3JlIixlLG4pfSxhZnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiB1LmNhbGwodGhpcyxuLCJhZnRlciIsZSx0KX0sZ2V0SG9va3M6ZnVuY3Rpb24oZSl7dmFyIHI9dC5jb25jYXQobik7Im9iamVjdCI9PXR5cGVvZiBlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmV2ZXJ5KChmdW5jdGlvbihuKXtyZXR1cm4gdFtuXT09PWVbbl19KSl9KSkpO3RyeXthKHIse3JlbW92ZTpmdW5jdGlvbigpe3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KSksdGhpc319KX1jYXRjaChlKXtjb25zb2xlLmVycm9yKCJlcnJvciBhZGRpbmcgYHJlbW92ZWAgdG8gYXJyYXksIGRpZCB5b3UgbW9kaWZ5IEFycmF5LnByb3RvdHlwZT8iKX1yZXR1cm4gcn0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SG9va3MoKS5yZW1vdmUoKX19LGM9e2luc3RhbGw6ZnVuY3Rpb24ocixvLGEpe3RoaXMudHlwZT1yLGk9YSxhKHQsbiksZSYmZShvKX19O3JldHVybiByLnNldChvLmFmdGVyLGMpLG87ZnVuY3Rpb24gdShlLHIsbyxhKXt2YXIgYz17aG9vazpvLHR5cGU6cixwcmlvcml0eTphfHwxMCxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgcj1lLmluZGV4T2YoYyk7LTEhPT1yJiYoZS5zcGxpY2UociwxKSxpKHQsbikpfX07cmV0dXJuIGUucHVzaChjKSxlLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucHJpb3JpdHktZS5wcmlvcml0eX0pKSxpKHQsbiksdGhpc319ZnVuY3Rpb24gZyhuLGksdSl7dmFyIGQ9aS5hZnRlciYmci5nZXQoaS5hZnRlcik7aWYoZCl7aWYoZC50eXBlIT09bil0aHJvdyJmdW4taG9va3M6IHJlY3JlYXRlZCBob29rYWJsZSB3aXRoIGRpZmZlcmVudCB0eXBlIjtyZXR1cm4gaX12YXIgZixnLGI9dT9sKHUpOnAoKSx2PXtnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYlt0XXx8UmVmbGVjdC5nZXQuYXBwbHkoUmVmbGVjdCxhcmd1bWVudHMpfX07cmV0dXJuIHR8fHMucHVzaCh5KSxlLnVzZVByb3h5JiYiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkmJlByb3h5LnJldm9jYWJsZT9nPW5ldyBQcm94eShpLHYpOmEoZz1mdW5jdGlvbigpe3JldHVybiB2LmFwcGx5P3YuYXBwbHkoaSx0aGlzLG8oYXJndW1lbnRzKSk6aS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGIpLHIuZ2V0KGcuYWZ0ZXIpLmluc3RhbGwobixnLChmdW5jdGlvbihlLHQpe3ZhciByLGk9W107ZS5sZW5ndGh8fHQubGVuZ3RoPyhlLmZvckVhY2goYSkscj1pLnB1c2godm9pZCAwKS0xLHQuZm9yRWFjaChhKSxmPWZ1bmN0aW9uKGUsdCxhKXt2YXIgYyx1PTAscz0iYXN5bmMiPT09biYmImZ1bmN0aW9uIj09dHlwZW9mIGFbYS5sZW5ndGgtMV0mJmEucG9wKCk7ZnVuY3Rpb24gZChlKXsic3luYyI9PT1uP2M9ZTpzJiZzLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBmKGUpe2lmKGlbdV0pe3ZhciByPW8oYXJndW1lbnRzKTtyZXR1cm4gZi5iYWlsPWQsci51bnNoaWZ0KGYpLGlbdSsrXS5hcHBseSh0LHIpfSJzeW5jIj09PW4/Yz1lOnMmJnMuYXBwbHkobnVsbCxhcmd1bWVudHMpfXJldHVybiBpW3JdPWZ1bmN0aW9uKCl7dmFyIHI9byhhcmd1bWVudHMsMSk7ImFzeW5jIj09PW4mJnMmJihkZWxldGUgZi5iYWlsLHIucHVzaChmKSk7dmFyIGk9ZS5hcHBseSh0LHIpOyJzeW5jIj09PW4mJmYoaSl9LGYuYXBwbHkobnVsbCxhKSxjfSk6Zj12b2lkIDA7ZnVuY3Rpb24gYShlKXtpLnB1c2goZS5ob29rKX15KCl9KSksZztmdW5jdGlvbiB5KCl7IXQmJigic3luYyIhPT1ufHxlLnJlYWR5JmMuU1lOQykmJigiYXN5bmMiIT09bnx8ZS5yZWFkeSZjLkFTWU5DKT8ic3luYyIhPT1uJiZlLnJlYWR5JmMuUVVFVUU/di5hcHBseT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztzLnB1c2goKGZ1bmN0aW9uKCl7Zy5hcHBseShlWzFdLGVbMl0pfSkpfTp2LmFwcGx5PWZ1bmN0aW9uKCl7dGhyb3ciZnVuLWhvb2tzOiBob29rZWQgZnVuY3Rpb24gbm90IHJlYWR5In06di5hcHBseT1mfX1yZXR1cm4oZT1hKHt9LG4sZSkpLnJlYWR5P2QucmVhZHk9ZnVuY3Rpb24oKXt0PSEwLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdDt0PWUuc2hpZnQoKTspdCgpfShzKX06dD0hMCxkLmdldD1sLGR9ZS5leHBvcnRzPWN9LDE4OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSEwfSwxOTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTt2YXIgcj1uKDMpLGk9bigwKTt2YXIgbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciB0PXIuYi5nZXRDb25maWcoInBhZ2VVcmwiKTtpZih0KXJldHVybiB0O3RyeXt2YXIgbj1lLnF1ZXJ5U2VsZWN0b3IoImxpbmtbcmVsPSdjYW5vbmljYWwnXSIpO2lmKG51bGwhPT1uKXJldHVybiBuLmhyZWZ9Y2F0Y2goZSl7fXJldHVybiBudWxsfXJldHVybiBmdW5jdGlvbigpe3ZhciBuLG8sYSxjPVtdLHU9ZnVuY3Rpb24oZSl7dHJ5e2lmKCFlLmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2lucylyZXR1cm47cmV0dXJuIGUubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zfWNhdGNoKGUpe319KGUpLHM9ci5iLmdldENvbmZpZygibWF4TmVzdGVkSWZyYW1lcyIpLGQ9ITEsZj0wLGw9ITEscD0hMTtkb3t2YXIgZz1uLGI9cCx2PXZvaWQgMCx5PSExLGg9bnVsbDtwPSExLG49bj9uLnBhcmVudDplO3RyeXt2PW4ubG9jYXRpb24uaHJlZnx8bnVsbH1jYXRjaChlKXt5PSEwfWlmKHkpaWYoYil7dmFyIG09Zy5jb250ZXh0O3RyeXtvPWg9bS5zb3VyY2VVcmwsbD0hMCxuPT09ZS50b3AmJihkPSEwKSxtLmNhbm9uaWNhbFVybCYmKGE9bS5jYW5vbmljYWxVcmwpfWNhdGNoKGUpe319ZWxzZXtPYmplY3QoaS5sb2dXYXJuKSgiVHJ5aW5nIHRvIGFjY2VzcyBjcm9zcyBkb21haW4gaWZyYW1lLiBDb250aW51aW5nIHdpdGhvdXQgcmVmZXJyZXIgYW5kIGxvY2F0aW9uIik7dHJ5e3ZhciBPPWcuZG9jdW1lbnQucmVmZXJyZXI7TyYmKGg9TyxuPT09ZS50b3AmJihkPSEwKSl9Y2F0Y2goZSl7fSFoJiZ1JiZ1W2YtMV0mJihoPXVbZi0xXSksaCYmIWwmJihvPWgpfWVsc2V7aWYodiYmKG89aD12LGw9ITEsbj09PWUudG9wKSl7ZD0hMDt2YXIgaj10KG4uZG9jdW1lbnQpO2omJihhPWopfW4uY29udGV4dCYmbi5jb250ZXh0LnNvdXJjZVVybCYmKHA9ITApfWMucHVzaChoKSxmKyt9d2hpbGUobiE9PWUudG9wJiZmPHMpO3JldHVybiBjLnJldmVyc2UoKSx7cmVmZXJlcjpvfHxudWxsLHJlYWNoZWRUb3A6ZCxpc0FtcDpsLG51bUlmcmFtZXM6Zi0xLHN0YWNrOmMsY2Fub25pY2FsVXJsOmF8fG51bGx9fX0od2luZG93KX0sMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj0ibmF0aXZlIixpPSJ2aWRlbyIsbz0iYmFubmVyIixhPSJhZHBvZCJ9LDIwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oOTIpLG89big1MyksYT1uKDI1KSxjPW4oNTcpLHU9big5Mykscz1mdW5jdGlvbihlLHQpe3RoaXMuc3RvcHBlZD1lLHRoaXMucmVzdWx0PXR9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGQsZixsLHAsZyxiLHYseT1uJiZuLnRoYXQsaD0hKCFufHwhbi5BU19FTlRSSUVTKSxtPSEoIW58fCFuLklTX0lURVJBVE9SKSxPPSEoIW58fCFuLklOVEVSUlVQVEVEKSxqPWEodCx5LDEraCtPKSxTPWZ1bmN0aW9uKGUpe3JldHVybiBkJiZ1KGQpLG5ldyBzKCEwLGUpfSxFPWZ1bmN0aW9uKGUpe3JldHVybiBoPyhyKGUpLE8/aihlWzBdLGVbMV0sUyk6aihlWzBdLGVbMV0pKTpPP2ooZSxTKTpqKGUpfTtpZihtKWQ9ZTtlbHNle2lmKCJmdW5jdGlvbiIhPXR5cGVvZihmPWMoZSkpKXRocm93IFR5cGVFcnJvcigiVGFyZ2V0IGlzIG5vdCBpdGVyYWJsZSIpO2lmKGkoZikpe2ZvcihsPTAscD1vKGUubGVuZ3RoKTtwPmw7bCsrKWlmKChnPUUoZVtsXSkpJiZnIGluc3RhbmNlb2YgcylyZXR1cm4gZztyZXR1cm4gbmV3IHMoITEpfWQ9Zi5jYWxsKGUpfWZvcihiPWQubmV4dDshKHY9Yi5jYWxsKGQpKS5kb25lOyl7dHJ5e2c9RSh2LnZhbHVlKX1jYXRjaChlKXt0aHJvdyB1KGQpLGV9aWYoIm9iamVjdCI9PXR5cGVvZiBnJiZnJiZnIGluc3RhbmNlb2YgcylyZXR1cm4gZ31yZXR1cm4gbmV3IHMoITEpfX0sMjE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpLGk9big4Nyksbz1uKDMxKSxhPW4oNjgpLGM9big4OCksdT1uKDExNikscz1pKCJ3a3MiKSxkPXIuU3ltYm9sLGY9dT9kOmQmJmQud2l0aG91dFNldHRlcnx8YTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8ocyxlKSYmKGN8fCJzdHJpbmciPT10eXBlb2Ygc1tlXSl8fChjJiZvKGQsZSk/c1tlXT1kW2VdOnNbZV09ZigiU3ltYm9sLiIrZSkpLHNbZV19fSwyMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksdC5kPWZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0KHIuZ2V0QmlkUmVxdWVzdCkoZS5yZXF1ZXN0SWQsdCksaT1uJiZPYmplY3Qoci5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLnZpZGVvIiksbz1pJiZPYmplY3Qoci5kZWVwQWNjZXNzKShpLCJjb250ZXh0Iik7cmV0dXJuIHMoZSxuLGksbyl9LG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTtuKDgpO3ZhciByPW4oMCksaT1uKDMpLG89bigxMiksYT0obi5uKG8pLG4oOSkpLGM9Im91dHN0cmVhbSIsdT0iaW5zdHJlYW0iO3ZhciBzPU9iamVjdChhLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSx0LG4sbyl7cmV0dXJuIXR8fG4mJm8hPT1jP2kuYi5nZXRDb25maWcoImNhY2hlLnVybCIpfHwhZS52YXN0WG1sfHxlLnZhc3RVcmw/ISghZS52YXN0VXJsJiYhZS52YXN0WG1sKTooT2JqZWN0KHIubG9nRXJyb3IpKCdcbiAgICAgICAgVGhpcyBiaWQgY29udGFpbnMgb25seSB2YXN0WG1sIGFuZCB3aWxsIG5vdCB3b3JrIHdoZW4gYSBwcmViaWQgY2FjaGUgdXJsIGlzIG5vdCBzcGVjaWZpZWQuXG4gICAgICAgIFRyeSBlbmFibGluZyBwcmViaWQgY2FjaGUgd2l0aCB1cGJqcy5zZXRDb25maWcoeyBjYWNoZToge3VybDogIi4uLiJ9IH0pO1xuICAgICAgJyksITEpOm8hPT1jfHwhIShlLnJlbmRlcmVyfHx0LnJlbmRlcmVyfHxuLnJlbmRlcmVyKX0pLCJjaGVja1ZpZGVvQmlkU2V0dXAiKX0sMjIxOmZ1bmN0aW9uKGUsdCxuKXtuKDIyMik7dmFyIHI9big1NSk7ZS5leHBvcnRzPXIoIkFycmF5IiwiZmluZEluZGV4Iil9LDIyMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big2NSkuZmluZEluZGV4LG89big1NCksYT0iZmluZEluZGV4IixjPSEwO2EgaW5bXSYmQXJyYXkoMSkuZmluZEluZGV4KChmdW5jdGlvbigpe2M9ITF9KSkscih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOmN9LHtmaW5kSW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKGEpfSwyMjk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaCwhMSl9O3ZhciByPW4oMTApLGk9bi5uKHIpLG89bigzOCksYT1uKDUpLGM9bi5uKGEpLHU9bigwKSxzPW4oMjMpLGQ9bigxMSksZj1uLm4oZCksbD1uKDEzKSxwPW4oMTIpLGc9bi5uKHApLGI9bigzKSx2PWMuYS5FVkVOVFMuQklEX1dPTix5PWMuYS5FVkVOVFMuU1RBTEVfUkVOREVSO2Z1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5tZXNzYWdlPyJtZXNzYWdlIjoiZGF0YSIsbj17fTt0cnl7bj1KU09OLnBhcnNlKGVbdF0pfWNhdGNoKGUpe3JldHVybn1pZihuJiZuLmFkSWQpe3ZhciByPWYoKShzLmEuZ2V0Qmlkc1JlY2VpdmVkKCksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWQ9PT1uLmFkSWR9KSk7aWYociYmIlByZWJpZCBSZXF1ZXN0Ij09PW4ubWVzc2FnZSl7aWYoci5zdGF0dXM9PT1jLmEuQklEX1NUQVRVUy5SRU5ERVJFRCYmKE9iamVjdCh1LmxvZ1dhcm4pKCJBZCBpZCAiLmNvbmNhdChyLmFkSWQsIiBoYXMgYmVlbiByZW5kZXJlZCBiZWZvcmUiKSksaS5hLmVtaXQoeSxyKSxPYmplY3QodS5kZWVwQWNjZXNzKShiLmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpLCJzdXBwcmVzc1N0YWxlUmVuZGVyIikpKXJldHVybjshZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmFkSWQscj1lLmFkLGk9ZS5hZFVybCxvPWUud2lkdGgsYT1lLmhlaWdodCxjPWUucmVuZGVyZXIscz1lLmNwbTtPYmplY3QobC5jKShjKT9PYmplY3QobC5iKShjLGUpOm4mJihtKGUpLHQuc291cmNlLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHttZXNzYWdlOiJSZW5kZXIgU2VjdXJlIENyZWF0aXZlIixhZDpPYmplY3QodS5yZXBsYWNlQXVjdGlvblByaWNlKShyLHMpLGFkVXJsOk9iamVjdCh1LnJlcGxhY2VBdWN0aW9uUHJpY2UpKGkscyksYWRJZDpuLHdpZHRoOm8saGVpZ2h0OmF9KSx0Lm9yaWdpbikpfShyLGUpLHMuYS5hZGRXaW5uaW5nQmlkKHIpLGkuYS5lbWl0KHYscil9aWYociYmIlByZWJpZCBOYXRpdmUiPT09bi5tZXNzYWdlKWlmKCJhc3NldFJlcXVlc3QiPT09bi5hY3Rpb24pe3ZhciBhPU9iamVjdChvLmQpKG4scik7ZS5zb3VyY2UucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoYSksZS5vcmlnaW4pfWVsc2UgaWYoImFsbEFzc2V0UmVxdWVzdCI9PT1uLmFjdGlvbil7dmFyIGQ9T2JqZWN0KG8uYykobixyKTtlLnNvdXJjZS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShkKSxlLm9yaWdpbil9ZWxzZSBpZigicmVzaXplTmF0aXZlSGVpZ2h0Ij09PW4uYWN0aW9uKXIuaGVpZ2h0PW4uaGVpZ2h0LHIud2lkdGg9bi53aWR0aCxtKHIpO2Vsc2V7aWYoImNsaWNrIj09PU9iamVjdChvLmIpKG4scikpcmV0dXJuO3MuYS5hZGRXaW5uaW5nQmlkKHIpLGkuYS5lbWl0KHYscil9fX1mdW5jdGlvbiBtKGUpe3ZhciB0PWUuYWRJZCxuPWUuYWRVbml0Q29kZSxyPWUud2lkdGgsaT1lLmhlaWdodDtbImRpdiIsImlmcmFtZSJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUsdCl7dmFyIG47T2JqZWN0KHUuaXNHcHRQdWJhZHNEZWZpbmVkKSgpJiYobj1mdW5jdGlvbihlKXt2YXIgdD1mKCkod2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLChmdW5jdGlvbih0KXtyZXR1cm4gZigpKHQuZ2V0VGFyZ2V0aW5nS2V5cygpLChmdW5jdGlvbihuKXtyZXR1cm4gZygpKHQuZ2V0VGFyZ2V0aW5nKG4pLGUpfSkpfSkpO3JldHVybiB0JiZ0LmdldFNsb3RFbGVtZW50SWQoKX0oZSkpOyFuJiZPYmplY3QodS5pc0FwbkdldFRhZ0RlZmluZWQpKCkmJihuPWZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5hcG50YWcuZ2V0VGFnKGUpO3JldHVybiB0JiZ0LnRhcmdldElkfSh0KSk7bnx8KG49dCk7cmV0dXJuIG59KHQsbiksaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyKTtyZXR1cm4gaSYmaS5xdWVyeVNlbGVjdG9yKGUpfShlKyc6bm90KFtzdHlsZSo9ImRpc3BsYXk6IG5vbmUiXSknKTtpZihvKXt2YXIgYT1vLnN0eWxlO2Eud2lkdGg9cisicHgiLGEuaGVpZ2h0PWkrInB4In1lbHNlIE9iamVjdCh1LmxvZ1dhcm4pKCJVbmFibGUgdG8gbG9jYXRlIG1hdGNoaW5nIHBhZ2UgZWxlbWVudCBmb3IgYWRVbml0Q29kZSAiLmNvbmNhdChuLCIuICBDYW4ndCByZXNpemUgaXQgdG8gYWQncyBkaW1lbnNpb25zLiAgUGxlYXNlIHJldmlldyBzZXR1cC4iKSl9KSl9fSwyMzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgcj1uKDApLGk9bigyOCksbz1uKDExKSxhPW4ubihvKSxjPW4oNSk7dmFyIHU9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXt9O3JldHVybiB0LmFkZFdpbm5pbmdCaWQ9ZnVuY3Rpb24odCl7dmFyIG49YSgpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF1Y3Rpb25JZCgpPT09dC5hdWN0aW9uSWR9KSk7bj8odC5zdGF0dXM9Yy5CSURfU1RBVFVTLlJFTkRFUkVELG4uYWRkV2lubmluZ0JpZCh0KSk6T2JqZWN0KHIubG9nV2FybikoIkF1Y3Rpb24gbm90IGZvdW5kIHdoZW4gYWRkaW5nIHdpbm5pbmcgYmlkIil9LHQuZ2V0QWxsV2lubmluZ0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFdpbm5pbmdCaWRzKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LHQuZ2V0Qmlkc1JlcXVlc3RlZD1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QmlkUmVxdWVzdHMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sdC5nZXROb0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldE5vQmlkcygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pfSx0LmdldEJpZHNSZWNlaXZlZD1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7aWYoZS5nZXRBdWN0aW9uU3RhdHVzKCk9PT1pLmEpcmV0dXJuIGUuZ2V0Qmlkc1JlY2VpdmVkKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKX0sdC5nZXRBbGxCaWRzRm9yQWRVbml0Q29kZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEJpZHNSZWNlaXZlZCgpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuYWRVbml0Q29kZT09PXR9KSl9LHQuZ2V0QWRVbml0cz1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QWRVbml0cygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pfSx0LmdldEFkVW5pdENvZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBZFVuaXRDb2RlcygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcihyLnVuaXF1ZXMpfSx0LmNyZWF0ZUF1Y3Rpb249ZnVuY3Rpb24odCl7dmFyIG49dC5hZFVuaXRzLHI9dC5hZFVuaXRDb2RlcyxvPXQuY2FsbGJhY2ssYT10LmNiVGltZW91dCxjPXQubGFiZWxzLHU9dC5hdWN0aW9uSWQscz1PYmplY3QoaS5rKSh7YWRVbml0czpuLGFkVW5pdENvZGVzOnIsY2FsbGJhY2s6byxjYlRpbWVvdXQ6YSxsYWJlbHM6YyxhdWN0aW9uSWQ6dX0pO3JldHVybiBmdW5jdGlvbih0KXtlLnB1c2godCl9KHMpLHN9LHQuZmluZEJpZEJ5QWRJZD1mdW5jdGlvbih0KXtyZXR1cm4gYSgpKGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRCaWRzUmVjZWl2ZWQoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRJZD09PXR9KSl9LHQuZ2V0U3RhbmRhcmRCaWRkZXJBZFNlcnZlclRhcmdldGluZz1mdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5qKSgpW2MuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR119LHQuc2V0U3RhdHVzRm9yQmlkcz1mdW5jdGlvbihuLHIpe3ZhciBpPXQuZmluZEJpZEJ5QWRJZChuKTtpZihpJiYoaS5zdGF0dXM9ciksaSYmcj09PWMuQklEX1NUQVRVUy5CSURfVEFSR0VUSU5HX1NFVCl7dmFyIG89YSgpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF1Y3Rpb25JZCgpPT09aS5hdWN0aW9uSWR9KSk7byYmby5zZXRCaWRUYXJnZXRpbmcoaSl9fSx0LmdldExhc3RBdWN0aW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5sZW5ndGgmJmVbZS5sZW5ndGgtMV0uZ2V0QXVjdGlvbklkKCl9LHQuY2xlYXJBbGxBdWN0aW9ucz1mdW5jdGlvbigpe2UubGVuZ3RoPTB9LHR9KCl9LDIzMDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlKXt2YXIgdDt0cnl7ZT1lfHx3aW5kb3cuc2Vzc2lvblN0b3JhZ2UsdD1KU09OLnBhcnNlKGUuZ2V0SXRlbSh1KSl9Y2F0Y2goZSl7fXQmJnAodCwhMCl9O3ZhciByLGksbz1uKDMpLGE9bigwKSxjPW4oMjgpLHU9InVwYmpzOmRlYnVnZ2luZyI7ZnVuY3Rpb24gcyhlKXtPYmplY3QoYS5sb2dNZXNzYWdlKSgiREVCVUc6ICIrZSl9ZnVuY3Rpb24gZChlKXtPYmplY3QoYS5sb2dXYXJuKSgiREVCVUc6ICIrZSl9ZnVuY3Rpb24gZihlKXtyPXkuYmluZChlKSxjLmMuYmVmb3JlKHIsNSksaT1oLmJpbmQoZSksYy5lLmJlZm9yZShpLDUpfWZ1bmN0aW9uIGwoKXtjLmMuZ2V0SG9va3Moe2hvb2s6cn0pLnJlbW92ZSgpLGMuZS5nZXRIb29rcyh7aG9vazppfSkucmVtb3ZlKCl9ZnVuY3Rpb24gcChlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO28uYi5zZXRDb25maWcoe2RlYnVnOiEwfSksbCgpLGYoZSkscygiYmlkZGVyIG92ZXJyaWRlcyBlbmFibGVkIi5jb25jYXQodD8iIGZyb20gc2Vzc2lvbiI6IiIpKX1mdW5jdGlvbiBnKGUsdCxuKXtyZXR1cm4hKCFlLmJpZGRlcnx8ZS5iaWRkZXI9PT10KXx8ISghZS5hZFVuaXRDb2RlfHxlLmFkVW5pdENvZGU9PT1uKX1mdW5jdGlvbiBiKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJi0xPT09ZS5pbmRleE9mKHQpfWZ1bmN0aW9uIHYoZSx0LG4pe3JldHVybiBPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09WyJhZFVuaXRDb2RlIiwiYmlkZGVyIl0uaW5kZXhPZihlKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7cmV0dXJuIHMoImJpZGRlciBvdmVycmlkZXMgY2hhbmdlZCAnIi5jb25jYXQodC5hZFVuaXRDb2RlLCIvIikuY29uY2F0KHQuYmlkZGVyQ29kZSwiJyAiKS5jb25jYXQobiwiLiIpLmNvbmNhdChyLCIgZnJvbSAnIikuY29uY2F0KHRbcl0sIi5qcycgdG8gJyIpLmNvbmNhdChlW3JdLCInIikpLHRbcl09ZVtyXSx0fSksdCl9ZnVuY3Rpb24geShlLHQsbil7dmFyIHI9dGhpcztiKHIuYmlkZGVycyxuLmJpZGRlckNvZGUpP2QoImJpZGRlciAnIi5jb25jYXQobi5iaWRkZXJDb2RlLCInIGV4Y2x1ZGVkIGZyb20gYXVjdGlvbiBieSBiaWRkZXIgb3ZlcnJpZGVzIikpOihBcnJheS5pc0FycmF5KHIuYmlkcykmJnIuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtnKGUsbi5iaWRkZXJDb2RlLHQpfHx2KGUsbiwiYmlkZGVyIil9KSksZSh0LG4pKX1mdW5jdGlvbiBoKGUsdCl7dmFyIG49dGhpcyxyPXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hYihuLmJpZGRlcnMsZS5iaWRkZXJDb2RlKXx8KGQoImJpZFJlcXVlc3QgJyIuY29uY2F0KGUuYmlkZGVyQ29kZSwiJyBleGNsdWRlZCBmcm9tIGF1Y3Rpb24gYnkgYmlkZGVyIG92ZXJyaWRlcyIpKSwhMSl9KSk7QXJyYXkuaXNBcnJheShuLmJpZFJlcXVlc3RzKSYmci5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmJpZFJlcXVlc3RzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihuKXtnKHQsZS5iaWRkZXJDb2RlLG4uYWRVbml0Q29kZSl8fHYodCxuLCJiaWRSZXF1ZXN0Iil9KSl9KSl9KSksZShyKX1mdW5jdGlvbiBtKGUpe2lmKGUuZW5hYmxlZCl7dHJ5e3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHUsSlNPTi5zdHJpbmdpZnkoZSkpfWNhdGNoKGUpe31wKGUpfWVsc2V7bCgpLHMoImJpZGRlciBvdmVycmlkZXMgZGlzYWJsZWQiKTt0cnl7d2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0odSl9Y2F0Y2goZSl7fX19by5iLmdldENvbmZpZygiZGVidWdnaW5nIiwoZnVuY3Rpb24oZSl7cmV0dXJuIG0oZS5kZWJ1Z2dpbmcpfSkpfSwyNDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtyZXR1cm4gZX19LDI1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2lmKHIoZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gobil7Y2FzZSAwOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodCl9O2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGUuY2FsbCh0LG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIGUuY2FsbCh0LG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLGkpe3JldHVybiBlLmNhbGwodCxuLHIsaSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSwyNjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big0NSksaT1uKDI3KSxvPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6dm9pZCAwfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP28ocltlXSl8fG8oaVtlXSk6cltlXSYmcltlXVt0XXx8aVtlXSYmaVtlXVt0XX19LDI3OmZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuTWF0aD09TWF0aCYmZX07ZS5leHBvcnRzPW4oIm9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXx8bigib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93KXx8bigib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGYpfHxuKCJvYmplY3QiPT10eXBlb2YgdCYmdCl8fGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCl8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9KS5jYWxsKHQsbig0MSkpfSwyODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSksdC5rPWZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxhLHM9ZS5hZFVuaXRzLGQ9ZS5hZFVuaXRDb2RlcyxmPWUuY2FsbGJhY2sscD1lLmNiVGltZW91dCx2PWUubGFiZWxzLFU9ZS5hdWN0aW9uSWQsaz1zLE49dixQPWQscT1bXSxHPVtdLEw9W10sVz1VfHxPYmplY3Qoci5nZW5lcmF0ZVVVSUQpKCksRj1mLHo9cCxWPVtdLEg9bmV3IFNldDtmdW5jdGlvbiBLKCl7cmV0dXJue2F1Y3Rpb25JZDpXLHRpbWVzdGFtcDp0LGF1Y3Rpb25FbmQ6bixhdWN0aW9uU3RhdHVzOm8sYWRVbml0czprLGFkVW5pdENvZGVzOlAsbGFiZWxzOk4sYmlkZGVyUmVxdWVzdHM6cSxub0JpZHM6TCxiaWRzUmVjZWl2ZWQ6Ryx3aW5uaW5nQmlkczpWLHRpbWVvdXQ6en19ZnVuY3Rpb24gSihlLHQpe2lmKHQmJmNsZWFyVGltZW91dChhKSx2b2lkIDA9PT1uKXt2YXIgaT1bXTtlJiYoT2JqZWN0KHIubG9nTWVzc2FnZSkoIkF1Y3Rpb24gIi5jb25jYXQoVywiIHRpbWVkT3V0IikpLGM9SCwoaT1xLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuKGUuYmlkc3x8W10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWMuaGFzKGUuYmlkZGVyKX0pKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntiaWRJZDplLmJpZElkLGJpZGRlcjplLmJpZGRlcixhZFVuaXRDb2RlOmUuYWRVbml0Q29kZSxhdWN0aW9uSWQ6ZS5hdWN0aW9uSWR9fSkpKS5sZW5ndGgmJmouZW1pdChTLkVWRU5UUy5CSURfVElNRU9VVCxpKSksbz1BLG49RGF0ZS5ub3coKSxqLmVtaXQoUy5FVkVOVFMuQVVDVElPTl9FTkQsSygpKSxfKGssKGZ1bmN0aW9uKCl7dHJ5e2lmKG51bGwhPUYpe3ZhciB0PVAsbj1HLmZpbHRlcihyLmJpbmQuY2FsbChyLmFkVW5pdHNGaWx0ZXIsdGhpcyx0KSkucmVkdWNlKE0se30pO0YuYXBwbHkodXBianMsW24sZSxXXSksRj1udWxsfX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiLG51bGwsZSl9ZmluYWxseXtpLmxlbmd0aCYmTy5jYWxsVGltZWRPdXRCaWRkZXJzKHMsaSx6KTt2YXIgbz11LmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpfHx7fTtvLmVuYWJsZU92ZXJyaWRlfHxtKG8uc3luY0RlbGF5KX19KSl9dmFyIGN9ZnVuY3Rpb24gWSgpe3UuYi5yZXNldEJpZGRlcigpLE9iamVjdChyLmxvZ0luZm8pKCJCaWRzIFJlY2VpdmVkIGZvciBBdWN0aW9uIHdpdGggaWQ6ICIuY29uY2F0KFcpLEcpLG89QSxKKCExLCEwKX1mdW5jdGlvbiBRKGUpe0guYWRkKGUpfWZ1bmN0aW9uICQoZSl7dmFyIHQ9dGhpcztlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0O3Q9ZSxxPXEuY29uY2F0KHQpfSkpO3ZhciBuPXt9LHM9e2JpZFJlcXVlc3RzOmUscnVuOmZ1bmN0aW9uKCl7dmFyIHMscDtzPUouYmluZChudWxsLCEwKSxwPXNldFRpbWVvdXQocyx6KSxhPXAsbz1FLGouZW1pdChTLkVWRU5UUy5BVUNUSU9OX0lOSVQsSygpKTt2YXIgdj1mdW5jdGlvbihlLHQpe3ZhciBuPTAsbz0hMSxhPW5ldyBTZXQscz17fTtmdW5jdGlvbiBkKCl7bi0tLG8mJjA9PT1uJiZlKCl9ZnVuY3Rpb24gZihlLG8pe3ZhciBhPXRoaXMsZj10LmdldEJpZFJlcXVlc3RzKCk7aWYoby5hZGRSZXF1ZXN0T25seSYmYS5pc0R5bmFtaWMmJiFmLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlclJlcXVlc3RJZD09PWEuYmlkZGVyUmVxdWVzdElkfSkpKWYucHVzaChhKTtlbHNle3Nbby5yZXF1ZXN0SWRdPSEwLG4rKzt2YXIgcD10LmdldEF1Y3Rpb25JZCgpLGc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZFVuaXRDb2RlLG49ZS5iaWQsbz1lLmJpZGRlclJlcXVlc3QsYT1lLmF1Y3Rpb25JZCxzPW8uc3RhcnQsZD1oKHt9LG4se2F1Y3Rpb25JZDphLHJlc3BvbnNlVGltZXN0YW1wOk9iamVjdChyLnRpbWVzdGFtcCkoKSxyZXF1ZXN0VGltZXN0YW1wOnMsY3BtOnBhcnNlRmxvYXQobi5jcG0pfHwwLGJpZGRlcjpuLmJpZGRlckNvZGUsYWRVbml0Q29kZTp0fSk7ZC50aW1lVG9SZXNwb25kPWQucmVzcG9uc2VUaW1lc3RhbXAtZC5yZXF1ZXN0VGltZXN0YW1wLGouZW1pdChTLkVWRU5UUy5CSURfQURKVVNUTUVOVCxkKTt2YXIgZj1vLmJpZHMmJmwoKShvLmJpZHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGU9PXQmJmUuYmlkSWQ9PWQucmVxdWVzdElkfSkpLHA9ZiYmZi5yZW5kZXJlcixnPWQubWVkaWFUeXBlLGI9ZiYmZi5tZWRpYVR5cGVzJiZmLm1lZGlhVHlwZXNbZ10sdj1iJiZiLnJlbmRlcmVyLG09bnVsbDt2JiZ2LnVybCYmdi5yZW5kZXImJighMCE9PXYuYmFja3VwT25seXx8IW4ucmVuZGVyZXIpP209djpwJiZwLnVybCYmcC5yZW5kZXImJighMCE9PXAuYmFja3VwT25seXx8IW4ucmVuZGVyZXIpJiYobT1wKTttJiYoZC5yZW5kZXJlcj1jLmEuaW5zdGFsbCh7dXJsOm0udXJsfSksZC5yZW5kZXJlci5zZXRSZW5kZXIobS5yZW5kZXIpKTt2YXIgTz1EKG4ubWVkaWFUeXBlLGYsdS5iLmdldENvbmZpZygibWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSIpKSxFPU9iamVjdChpLmEpKGQuY3BtLCJvYmplY3QiPT09eShPKT9POnUuYi5nZXRDb25maWcoImN1c3RvbVByaWNlQnVja2V0IiksdS5iLmdldENvbmZpZygiY3VycmVuY3kuZ3JhbnVsYXJpdHlNdWx0aXBsaWVyIikpO3JldHVybiBkLnBiTGc9RS5sb3csZC5wYk1nPUUubWVkLGQucGJIZz1FLmhpZ2gsZC5wYkFnPUUuYXV0byxkLnBiRGc9RS5kZW5zZSxkLnBiQ2c9RS5jdXN0b20sZH0oe2FkVW5pdENvZGU6ZSxiaWQ6byxiaWRkZXJSZXF1ZXN0OmEsYXVjdGlvbklkOnB9KTsidmlkZW8iPT09Zy5tZWRpYVR5cGU/ZnVuY3Rpb24oZSx0LG4saSl7dmFyIG89ITAsYT1PYmplY3Qoci5nZXRCaWRSZXF1ZXN0KSh0Lm9yaWdpbmFsUmVxdWVzdElkfHx0LnJlcXVlc3RJZCxbbl0pLGM9YSYmT2JqZWN0KHIuZGVlcEFjY2VzcykoYSwibWVkaWFUeXBlcy52aWRlbyIpLHM9YyYmT2JqZWN0KHIuZGVlcEFjY2VzcykoYywiY29udGV4dCIpO3UuYi5nZXRDb25maWcoImNhY2hlLnVybCIpJiZzIT09Yi5iJiYoIXQudmlkZW9DYWNoZUtleXx8dS5iLmdldENvbmZpZygiY2FjaGUuaWdub3JlQmlkZGVyQ2FjaGVLZXkiKT8obz0hMSx4KGUsdCxpLGEpKTp0LnZhc3RVcmx8fChPYmplY3Qoci5sb2dFcnJvcikoInZpZGVvQ2FjaGVLZXkgc3BlY2lmaWVkIGJ1dCBub3QgcmVxdWlyZWQgdmFzdFVybCBmb3IgdmlkZW8gYmlkIiksbz0hMSkpO28mJihCKGUsdCksaSgpKX0odCxnLGEsZCk6KEIodCxnKSxkKCkpfX1mdW5jdGlvbiBwKCl7dmFyIGk9dGhpcyxjPXQuZ2V0QmlkUmVxdWVzdHMoKTtpZigiczJzQmlkZGVyUGxhY2Vob2xkZXIiIT09aS5iaWRkZXJDb2RlKXt2YXIgZD11LmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpO2lmKGEuYWRkKGkpLGQmJiFPYmplY3Qoci5pc0VtcHR5KShkKSl7dmFyIGY9ZC5zZWNvbmRhcnlCaWRkZXJzO2YmJiFjLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gZygpKGYsZS5iaWRkZXJDb2RlKX0pKSYmKGM9Yy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFnKCkoZixlLmJpZGRlckNvZGUpfSkpKX1vPWMuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmhhcyhlKX0pKSxpLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7c1tlLmJpZElkXXx8KHQuYWRkTm9CaWQoZSksai5lbWl0KFMuRVZFTlRTLk5PX0JJRCxlKSl9KSksbyYmMD09PW4mJmUoKX1lbHNle3ZhciBsPWMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJSZXF1ZXN0SWR9KSkuaW5kZXhPZihpLmJpZGRlclJlcXVlc3RJZCk7bD4tMSYmYy5zcGxpY2UobCwxKX19cmV0dXJue2FkZEJpZFJlc3BvbnNlOmYsYWRhcHRlckRvbmU6cH19KFksdCk7Ty5jYWxsQmlkcyhrLGUsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07Qy5hcHBseSh7ZGlzcGF0Y2g6di5hZGRCaWRSZXNwb25zZSxiaWRkZXJSZXF1ZXN0OnRoaXN9LHQpfSksdi5hZGFwdGVyRG9uZSx7cmVxdWVzdDpmdW5jdGlvbihlLHQpe2YoVCx0KSxmKG4sZSksSVtlXXx8KElbZV09e1NSQTohMCxvcmlnaW46dH0pLG5bZV0+MSYmKElbZV0uU1JBPSExKX0sZG9uZTpmdW5jdGlvbihlKXtUW2VdLS0sd1swXSYmZCh3WzBdKSYmdy5zaGlmdCgpfX0seixRKX19O2Z1bmN0aW9uIGQoZSl7dmFyIHQ9ITAsbj11LmIuZ2V0Q29uZmlnKCJtYXhSZXF1ZXN0c1Blck9yaWdpbiIpfHw0O3JldHVybiBlLmJpZFJlcXVlc3RzLnNvbWUoKGZ1bmN0aW9uKGUpe3ZhciByPTEsaT12b2lkIDAhPT1lLnNyYyYmZS5zcmM9PT1TLlMyUy5TUkM/InMycyI6ZS5iaWRkZXJDb2RlO3JldHVybiBJW2ldJiYoITE9PT1JW2ldLlNSQSYmKHI9TWF0aC5taW4oZS5iaWRzLmxlbmd0aCxuKSksVFtJW2ldLm9yaWdpbl0rcj5uJiYodD0hMSkpLCF0fSkpLHQmJmUucnVuKCksdH1mdW5jdGlvbiBmKGUsdCl7dm9pZCAwPT09ZVt0XT9lW3RdPTE6ZVt0XSsrfWQocyl8fChPYmplY3Qoci5sb2dXYXJuKSgicXVldWVpbmcgYXVjdGlvbiBkdWUgdG8gbGltaXRlZCBlbmRwb2ludCBjYXBhY2l0eSIpLHcucHVzaChzKSl9cmV0dXJue2FkZEJpZFJlY2VpdmVkOmZ1bmN0aW9uKGUpe0c9Ry5jb25jYXQoZSl9LGFkZE5vQmlkOmZ1bmN0aW9uKGUpe0w9TC5jb25jYXQoZSl9LGV4ZWN1dGVDYWxsYmFjazpKLGNhbGxCaWRzOmZ1bmN0aW9uKCl7bz0ic3RhcnRlZCIsdD1EYXRlLm5vdygpO3ZhciBlPU8ubWFrZUJpZFJlcXVlc3RzKGssdCxXLHosTik7T2JqZWN0KHIubG9nSW5mbykoIkJpZHMgUmVxdWVzdGVkIGZvciBBdWN0aW9uIHdpdGggaWQ6ICIuY29uY2F0KFcpLGUpLGUubGVuZ3RoPDE/KE9iamVjdChyLmxvZ1dhcm4pKCJObyB2YWxpZCBiaWQgcmVxdWVzdHMgcmV0dXJuZWQgZm9yIGF1Y3Rpb24iKSxZKCkpOlIuY2FsbCh7ZGlzcGF0Y2g6JCxjb250ZXh0OnRoaXN9LGUpfSxhZGRXaW5uaW5nQmlkOmZ1bmN0aW9uKGUpe1Y9Vi5jb25jYXQoZSksTy5jYWxsQmlkV29uQmlkZGVyKGUuYmlkZGVyLGUscyl9LHNldEJpZFRhcmdldGluZzpmdW5jdGlvbihlKXtPLmNhbGxTZXRUYXJnZXRpbmdCaWRkZXIoZS5iaWRkZXIsZSl9LGdldFdpbm5pbmdCaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIFZ9LGdldFRpbWVvdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gen0sZ2V0QXVjdGlvbklkOmZ1bmN0aW9uKCl7cmV0dXJuIFd9LGdldEF1Y3Rpb25TdGF0dXM6ZnVuY3Rpb24oKXtyZXR1cm4gb30sZ2V0QWRVbml0czpmdW5jdGlvbigpe3JldHVybiBrfSxnZXRBZFVuaXRDb2RlczpmdW5jdGlvbigpe3JldHVybiBQfSxnZXRCaWRSZXF1ZXN0czpmdW5jdGlvbigpe3JldHVybiBxfSxnZXRCaWRzUmVjZWl2ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gR30sZ2V0Tm9CaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIEx9fX0sbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZCh0LCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gUn0pKSx0Lmc9VSx0LmQ9QixuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKHQsImkiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLG4uZCh0LCJoIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKSx0Lmo9UDt2YXIgcj1uKDApLGk9big0OCksbz1uKDM4KSxhPW4oMTAyKSxjPW4oMTMpLHU9bigzKSxzPW4oNjEpLGQ9big5KSxmPW4oMTEpLGw9bi5uKGYpLHA9bigxMiksZz1uLm4ocCksYj1uKDIyKSx2PW4oMik7ZnVuY3Rpb24geShlKXtyZXR1cm4oeT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGgoKXtyZXR1cm4oaD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBtPXMuYS5zeW5jVXNlcnMsTz1uKDgpLmRlZmF1bHQsaj1uKDEwKSxTPW4oNSksRT0iaW5Qcm9ncmVzcyIsQT0iY29tcGxldGVkIjtqLm9uKFMuRVZFTlRTLkJJRF9BREpVU1RNRU5ULChmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmJpZGRlckNvZGUsaT1lLmNwbTtpZih1cGJqcy5iaWRkZXJTZXR0aW5ncyYmKG4mJnVwYmpzLmJpZGRlclNldHRpbmdzW25dJiYiZnVuY3Rpb24iPT10eXBlb2YgdXBianMuYmlkZGVyU2V0dGluZ3Nbbl0uYmlkQ3BtQWRqdXN0bWVudD90PXVwYmpzLmJpZGRlclNldHRpbmdzW25dLmJpZENwbUFkanVzdG1lbnQ6dXBianMuYmlkZGVyU2V0dGluZ3NbUy5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0mJiJmdW5jdGlvbiI9PXR5cGVvZiB1cGJqcy5iaWRkZXJTZXR0aW5nc1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXS5iaWRDcG1BZGp1c3RtZW50JiYodD11cGJqcy5iaWRkZXJTZXR0aW5nc1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXS5iaWRDcG1BZGp1c3RtZW50KSx0KSl0cnl7aT10KGUuY3BtLGgoe30sZSkpfWNhdGNoKGUpe09iamVjdChyLmxvZ0Vycm9yKSgiRXJyb3IgZHVyaW5nIGJpZCBhZGp1c3RtZW50IiwiYmlkbWFuYWdlci5qcyIsZSl9aT49MCYmKGUuY3BtPWkpfShlKX0pKTt2YXIgVD17fSxJPXt9LHc9W107dmFyIEM9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSx0KXt0aGlzLmRpc3BhdGNoLmNhbGwodGhpcy5iaWRkZXJSZXF1ZXN0LGUsdCl9KSwiYWRkQmlkUmVzcG9uc2UiKSxSPU9iamVjdChkLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSl7dGhpcy5kaXNwYXRjaC5jYWxsKHRoaXMuY29udGV4dCxlKX0pLCJhZGRCaWRkZXJSZXF1ZXN0cyIpLF89T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSx0KXt0JiZ0KCl9KSwiYmlkc0JhY2tDYWxsYmFjayIpO2Z1bmN0aW9uIFUoZSx0KXt0LnRpbWVUb1Jlc3BvbmQ+ZS5nZXRUaW1lb3V0KCkrdS5iLmdldENvbmZpZygidGltZW91dEJ1ZmZlciIpJiZlLmV4ZWN1dGVDYWxsYmFjayghMCl9ZnVuY3Rpb24gQihlLHQpe3ZhciBuPWUuZ2V0QmlkUmVxdWVzdHMoKSxyPWwoKShuLChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJDb2RlPT09dC5iaWRkZXJDb2RlfSkpOyFmdW5jdGlvbihlLHQpe3ZhciBuO2lmKGUuYmlkZGVyQ29kZSYmKGUuY3BtPjB8fGUuZGVhbElkKSl7dmFyIHI9bCgpKHQuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWUuYWRVbml0Q29kZX0pKTtuPWZ1bmN0aW9uKGUsdCxuKXtpZighdClyZXR1cm57fTt2YXIgcj17fSxpPXVwYmpzLmJpZGRlclNldHRpbmdzO2lmKGkpe3EocixQKHQubWVkaWFUeXBlLGUpLHQsbiksZSYmaVtlXSYmaVtlXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddJiYocShyLGlbZV0sdCxuKSx0LnNlbmRTdGFuZGFyZFRhcmdldGluZz1pW2VdLnNlbmRTdGFuZGFyZFRhcmdldGluZyl9dC5uYXRpdmUmJihyPWgoe30scixPYmplY3Qoby5lKSh0LG4pKSk7cmV0dXJuIHJ9KGUuYmlkZGVyQ29kZSxlLHIpfWUuYWRzZXJ2ZXJUYXJnZXRpbmc9aChlLmFkc2VydmVyVGFyZ2V0aW5nfHx7fSxuKX0odCxyKSxqLmVtaXQoUy5FVkVOVFMuQklEX1JFU1BPTlNFLHQpLGUuYWRkQmlkUmVjZWl2ZWQodCksVShlLHQpfXZhciB4PU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLGkpe09iamVjdChhLmIpKFt0XSwoZnVuY3Rpb24oaSxvKXtpPyhPYmplY3Qoci5sb2dXYXJuKSgiRmFpbGVkIHRvIHNhdmUgdG8gdGhlIHZpZGVvIGNhY2hlOiAiLmNvbmNhdChpLCIuIFZpZGVvIGJpZCBtdXN0IGJlIGRpc2NhcmRlZC4iKSksVShlLHQpKToiIj09PW9bMF0udXVpZD8oT2JqZWN0KHIubG9nV2FybikoIlN1cHBsaWVkIHZpZGVvIGNhY2hlIGtleSB3YXMgYWxyZWFkeSBpbiB1c2UgYnkgUHJlYmlkIENhY2hlOyBjYWNoaW5nIGF0dGVtcHQgd2FzIHJlamVjdGVkLiBWaWRlbyBiaWQgbXVzdCBiZSBkaXNjYXJkZWQuIiksVShlLHQpKToodC52aWRlb0NhY2hlS2V5PW9bMF0udXVpZCx0LnZhc3RVcmx8fCh0LnZhc3RVcmw9T2JqZWN0KGEuYSkodC52aWRlb0NhY2hlS2V5KSksQihlLHQpLG4oKSl9KSxpKX0pLCJjYWxsUHJlYmlkQ2FjaGUiKTtmdW5jdGlvbiBEKGUsdCxuKXtpZihlJiZuKXtpZihlPT09di5kKXt2YXIgaT1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLiIuY29uY2F0KHYuZCwiLmNvbnRleHQiKSwiaW5zdHJlYW0iKTtpZihuWyIiLmNvbmNhdCh2LmQsIi0iKS5jb25jYXQoaSldKXJldHVybiBuWyIiLmNvbmNhdCh2LmQsIi0iKS5jb25jYXQoaSldfXJldHVybiBuW2VdfX12YXIgaz1mdW5jdGlvbihlLHQpe3ZhciBuPUQoZSx0LHUuYi5nZXRDb25maWcoIm1lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHkiKSk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZuPyJzdHJpbmciPT10eXBlb2Ygbj9uOiJjdXN0b20iOnUuYi5nZXRDb25maWcoInByaWNlR3JhbnVsYXJpdHkiKX0sTj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4oZT1lfHxrKHQubWVkaWFUeXBlLG4pKT09PVMuR1JBTlVMQVJJVFlfT1BUSU9OUy5BVVRPP3QucGJBZzplPT09Uy5HUkFOVUxBUklUWV9PUFRJT05TLkRFTlNFP3QucGJEZzplPT09Uy5HUkFOVUxBUklUWV9PUFRJT05TLkxPVz90LnBiTGc6ZT09PVMuR1JBTlVMQVJJVFlfT1BUSU9OUy5NRURJVU0/dC5wYk1nOmU9PT1TLkdSQU5VTEFSSVRZX09QVElPTlMuSElHSD90LnBiSGc6ZT09PVMuR1JBTlVMQVJJVFlfT1BUSU9OUy5DVVNUT00/dC5wYkNnOnZvaWQgMH19O2Z1bmN0aW9uIFAoZSx0KXtmdW5jdGlvbiBuKGUsdCl7cmV0dXJue2tleTplLHZhbDoiZnVuY3Rpb24iPT10eXBlb2YgdD9mdW5jdGlvbihlLG4pe3JldHVybiB0KGUsbil9OmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5nZXRWYWx1ZSkoZSx0KX19fXZhciBpPVMuVEFSR0VUSU5HX0tFWVMsbz11cGJqcy5iaWRkZXJTZXR0aW5ncztpZihvW1MuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdfHwob1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXT17fSksb1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddfHwob1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddPVtuKGkuQklEREVSLCJiaWRkZXJDb2RlIiksbihpLkFEX0lELCJhZElkIiksbihpLlBSSUNFX0JVQ0tFVCxOKCkpLG4oaS5TSVpFLCJzaXplIiksbihpLkRFQUwsImRlYWxJZCIpLG4oaS5TT1VSQ0UsInNvdXJjZSIpLG4oaS5GT1JNQVQsIm1lZGlhVHlwZSIpLG4oaS5BRE9NQUlOLChmdW5jdGlvbihlKXtyZXR1cm4gZS5tZXRhJiZlLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnMmJmUubWV0YS5hZHZlcnRpc2VyRG9tYWlucy5sZW5ndGg+MD9lLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnNbMF06IiJ9KSldKSwidmlkZW8iPT09ZSl7dmFyIGE9b1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddO2lmKFtpLlVVSUQsaS5DQUNIRV9JRF0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dm9pZCAwPT09bCgpKGEsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleT09PWV9KSkmJmEucHVzaChuKGUsInZpZGVvQ2FjaGVLZXkiKSl9KSksdS5iLmdldENvbmZpZygiY2FjaGUudXJsIikmJighdHx8ITEhPT1PYmplY3Qoci5kZWVwQWNjZXNzKShvLCIiLmNvbmNhdCh0LCIuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nIikpKSl7dmFyIGM9T2JqZWN0KHIucGFyc2VVcmwpKHUuYi5nZXRDb25maWcoImNhY2hlLnVybCIpKTt2b2lkIDA9PT1sKCkoYSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5PT09aS5DQUNIRV9IT1NUfSkpJiZhLnB1c2gobihpLkNBQ0hFX0hPU1QsKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJhZHNlcnZlclRhcmdldGluZy4iLmNvbmNhdChpLkNBQ0hFX0hPU1QpKT9lLmFkc2VydmVyVGFyZ2V0aW5nW2kuQ0FDSEVfSE9TVF06Yy5ob3N0bmFtZX0pKSl9fXJldHVybiBvW1MuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdfWZ1bmN0aW9uIHEoZSx0LG4saSl7dmFyIG89dFtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddO3JldHVybiBuLnNpemU9bi5nZXRTaXplKCksT2JqZWN0KHIuX2VhY2gpKG8sKGZ1bmN0aW9uKG8pe3ZhciBhPW8ua2V5LGM9by52YWw7aWYoZVthXSYmT2JqZWN0KHIubG9nV2FybikoIlRoZSBrZXk6ICIrYSsiIGlzIGdldHRpbmcgb3Zld3JpdHRlbiIpLE9iamVjdChyLmlzRm4pKGMpKXRyeXtjPWMobixpKX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoImJpZG1hbmFnZXIiLCJFUlJPUiIsZSl9KHZvaWQgMD09PXQuc3VwcHJlc3NFbXB0eUtleXN8fCEwIT09dC5zdXBwcmVzc0VtcHR5S2V5cykmJmEhPT1TLlRBUkdFVElOR19LRVlTLkRFQUx8fCFPYmplY3Qoci5pc0VtcHR5U3RyKShjKSYmbnVsbCE9Yz9lW2FdPWM6T2JqZWN0KHIubG9nSW5mbykoInN1cHByZXNzaW5nIGVtcHR5IGtleSAnIithKyInIGZyb20gYWRzZXJ2ZXIgdGFyZ2V0aW5nIil9KSksZX1mdW5jdGlvbiBNKGUsdCl7cmV0dXJuIGVbdC5hZFVuaXRDb2RlXXx8KGVbdC5hZFVuaXRDb2RlXT17YmlkczpbXX0pLGVbdC5hZFVuaXRDb2RlXS5iaWRzLnB1c2godCksZX19LDI5OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19fSwzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBPfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKTt2YXIgcj1uKDQ4KSxpPW4oMTEpLG89bi5uKGkpLGE9bigxMiksYz1uLm4oYSksdT1uKDkwKSxzPW4ubih1KSxkPW4oMCksZj1bImZwZCJdO2Z1bmN0aW9uIGwoZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLHIsaT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG4scixpPXt9LG89T2JqZWN0LmtleXMoZSk7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyluPW9bcl0sdC5pbmRleE9mKG4pPj0wfHwoaVtuXT1lW25dKTtyZXR1cm4gaX0oZSx0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2ZvcihyPTA7cjxvLmxlbmd0aDtyKyspbj1vW3JdLHQuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbikmJihpW25dPWVbbl0pfXJldHVybiBpfWZ1bmN0aW9uIHAoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIGcoZSl7cmV0dXJuKGc9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBiKCl7cmV0dXJuKGI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdj1uKDc2KSx5PW4oNSksaD0iVFJVRSI9PT1PYmplY3QoZC5nZXRQYXJhbWV0ZXJCeU5hbWUpKHkuREVCVUdfTU9ERSkudG9VcHBlckNhc2UoKSxtPXdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sTz0icmFuZG9tIixqPXt9O2pbT109ITAsai5maXhlZD0hMDt2YXIgUz1PLEU9e0xPVzoibG93IixNRURJVU06Im1lZGl1bSIsSElHSDoiaGlnaCIsQVVUTzoiYXV0byIsREVOU0U6ImRlbnNlIixDVVNUT006ImN1c3RvbSJ9O3ZhciBBPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGk9W10sYT1udWxsO2Z1bmN0aW9uIHUoKXtlPXt9O3ZhciBpPXtfZGVidWc6aCxnZXQgZGVidWcoKXtyZXR1cm4gdGhpcy5fZGVidWd9LHNldCBkZWJ1ZyhlKXt0aGlzLl9kZWJ1Zz1lfSxfYmlkZGVyVGltZW91dDozZTMsZ2V0IGJpZGRlclRpbWVvdXQoKXtyZXR1cm4gdGhpcy5fYmlkZGVyVGltZW91dH0sc2V0IGJpZGRlclRpbWVvdXQoZSl7dGhpcy5fYmlkZGVyVGltZW91dD1lfSxfcHVibGlzaGVyRG9tYWluOm0sZ2V0IHB1Ymxpc2hlckRvbWFpbigpe3JldHVybiB0aGlzLl9wdWJsaXNoZXJEb21haW59LHNldCBwdWJsaXNoZXJEb21haW4oZSl7dGhpcy5fcHVibGlzaGVyRG9tYWluPWV9LF9wcmljZUdyYW51bGFyaXR5OkUuTUVESVVNLHNldCBwcmljZUdyYW51bGFyaXR5KGUpe2MoZSkmJigic3RyaW5nIj09dHlwZW9mIGU/dGhpcy5fcHJpY2VHcmFudWxhcml0eT1hKGUpP2U6RS5NRURJVU06T2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZSkmJih0aGlzLl9jdXN0b21QcmljZUJ1Y2tldD1lLHRoaXMuX3ByaWNlR3JhbnVsYXJpdHk9RS5DVVNUT00sT2JqZWN0KGQubG9nTWVzc2FnZSkoIlVzaW5nIGN1c3RvbSBwcmljZSBncmFudWxhcml0eSIpKSl9LGdldCBwcmljZUdyYW51bGFyaXR5KCl7cmV0dXJuIHRoaXMuX3ByaWNlR3JhbnVsYXJpdHl9LF9jdXN0b21QcmljZUJ1Y2tldDp7fSxnZXQgY3VzdG9tUHJpY2VCdWNrZXQoKXtyZXR1cm4gdGhpcy5fY3VzdG9tUHJpY2VCdWNrZXR9LF9tZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5Ont9LGdldCBtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5KCl7cmV0dXJuIHRoaXMuX21lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHl9LHNldCBtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5KGUpe3ZhciB0PXRoaXM7dGhpcy5fbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eT1PYmplY3Qua2V5cyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKG4scil7cmV0dXJuIGMoZVtyXSk/InN0cmluZyI9PXR5cGVvZiBlP25bcl09YShlW3JdKT9lW3JdOnQuX3ByaWNlR3JhbnVsYXJpdHk6T2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZSkmJihuW3JdPWVbcl0sT2JqZWN0KGQubG9nTWVzc2FnZSkoIlVzaW5nIGN1c3RvbSBwcmljZSBncmFudWxhcml0eSBmb3IgIi5jb25jYXQocikpKTpPYmplY3QoZC5sb2dXYXJuKSgiSW52YWxpZCBwcmljZSBncmFudWxhcml0eSBmb3IgbWVkaWEgdHlwZTogIi5jb25jYXQocikpLG59KSx7fSl9LF9zZW5kQWxsQmlkczp0cnVlLGdldCBlbmFibGVTZW5kQWxsQmlkcygpe3JldHVybiB0aGlzLl9zZW5kQWxsQmlkc30sc2V0IGVuYWJsZVNlbmRBbGxCaWRzKGUpe3RoaXMuX3NlbmRBbGxCaWRzPWV9LF91c2VCaWRDYWNoZTpmYWxzZSxnZXQgdXNlQmlkQ2FjaGUoKXtyZXR1cm4gdGhpcy5fdXNlQmlkQ2FjaGV9LHNldCB1c2VCaWRDYWNoZShlKXt0aGlzLl91c2VCaWRDYWNoZT1lfSxfZGV2aWNlQWNjZXNzOnRydWUsZ2V0IGRldmljZUFjY2Vzcygpe3JldHVybiB0aGlzLl9kZXZpY2VBY2Nlc3N9LHNldCBkZXZpY2VBY2Nlc3MoZSl7dGhpcy5fZGV2aWNlQWNjZXNzPWV9LF9iaWRkZXJTZXF1ZW5jZTpTLGdldCBiaWRkZXJTZXF1ZW5jZSgpe3JldHVybiB0aGlzLl9iaWRkZXJTZXF1ZW5jZX0sc2V0IGJpZGRlclNlcXVlbmNlKGUpe2pbZV0/dGhpcy5fYmlkZGVyU2VxdWVuY2U9ZTpPYmplY3QoZC5sb2dXYXJuKSgiSW52YWxpZCBvcmRlcjogIi5jb25jYXQoZSwiLiBCaWRkZXIgU2VxdWVuY2Ugd2FzIG5vdCBzZXQuIikpfSxfdGltZW91dEJ1ZmZlcjo0MDAsZ2V0IHRpbWVvdXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fdGltZW91dEJ1ZmZlcn0sc2V0IHRpbWVvdXRCdWZmZXIoZSl7dGhpcy5fdGltZW91dEJ1ZmZlcj1lfSxfZGlzYWJsZUFqYXhUaW1lb3V0OmZhbHNlLGdldCBkaXNhYmxlQWpheFRpbWVvdXQoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFqYXhUaW1lb3V0fSxzZXQgZGlzYWJsZUFqYXhUaW1lb3V0KGUpe3RoaXMuX2Rpc2FibGVBamF4VGltZW91dD1lfSxfbWF4TmVzdGVkSWZyYW1lczoxMCxnZXQgbWF4TmVzdGVkSWZyYW1lcygpe3JldHVybiB0aGlzLl9tYXhOZXN0ZWRJZnJhbWVzfSxzZXQgbWF4TmVzdGVkSWZyYW1lcyhlKXt0aGlzLl9tYXhOZXN0ZWRJZnJhbWVzPWV9LF9hdWN0aW9uT3B0aW9uczp7fSxnZXQgYXVjdGlvbk9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fYXVjdGlvbk9wdGlvbnN9LHNldCBhdWN0aW9uT3B0aW9ucyhlKXsoZnVuY3Rpb24oZSl7aWYoIU9iamVjdChkLmlzUGxhaW5PYmplY3QpKGUpKXJldHVybiBPYmplY3QoZC5sb2dXYXJuKSgiQXVjdGlvbiBPcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0IiksITE7Zm9yKHZhciB0PTAsbj1PYmplY3Qua2V5cyhlKTt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9blt0XTtpZigic2Vjb25kYXJ5QmlkZGVycyIhPT1yJiYic3VwcHJlc3NTdGFsZVJlbmRlciIhPT1yKXJldHVybiBPYmplY3QoZC5sb2dXYXJuKSgiQXVjdGlvbiBPcHRpb25zIGdpdmVuIGFuIGluY29ycmVjdCBwYXJhbTogIi5jb25jYXQocikpLCExO2lmKCJzZWNvbmRhcnlCaWRkZXJzIj09PXIpe2lmKCFPYmplY3QoZC5pc0FycmF5KShlW3JdKSlyZXR1cm4gT2JqZWN0KGQubG9nV2FybikoIkF1Y3Rpb24gT3B0aW9ucyAiLmNvbmNhdChyLCIgbXVzdCBiZSBvZiB0eXBlIEFycmF5IikpLCExO2lmKCFlW3JdLmV2ZXJ5KGQuaXNTdHIpKXJldHVybiBPYmplY3QoZC5sb2dXYXJuKSgiQXVjdGlvbiBPcHRpb25zICIuY29uY2F0KHIsIiBtdXN0IGJlIG9ubHkgc3RyaW5nIikpLCExfWVsc2UgaWYoInN1cHByZXNzU3RhbGVSZW5kZXIiPT09ciYmIU9iamVjdChkLmlzQm9vbGVhbikoZVtyXSkpcmV0dXJuIE9iamVjdChkLmxvZ1dhcm4pKCJBdWN0aW9uIE9wdGlvbnMgIi5jb25jYXQociwiIG11c3QgYmUgb2YgdHlwZSBib29sZWFuIikpLCExfXJldHVybiEwfSkoZSkmJih0aGlzLl9hdWN0aW9uT3B0aW9ucz1lKX19O2Z1bmN0aW9uIGEoZSl7cmV0dXJuIG8oKShPYmplY3Qua2V5cyhFKSwoZnVuY3Rpb24odCl7cmV0dXJuIGU9PT1FW3RdfSkpfWZ1bmN0aW9uIGMoZSl7aWYoIWUpcmV0dXJuIE9iamVjdChkLmxvZ0Vycm9yKSgiUHJlYmlkIEVycm9yOiBubyB2YWx1ZSBwYXNzZWQgdG8gYHNldFByaWNlR3JhbnVsYXJpdHkoKWAiKSwhMTtpZigic3RyaW5nIj09dHlwZW9mIGUpYShlKXx8T2JqZWN0KGQubG9nV2FybikoIlByZWJpZCBXYXJuaW5nOiBzZXRQcmljZUdyYW51bGFyaXR5IHdhcyBjYWxsZWQgd2l0aCBpbnZhbGlkIHNldHRpbmcsIHVzaW5nIGBtZWRpdW1gIGFzIGRlZmF1bHQuIik7ZWxzZSBpZihPYmplY3QoZC5pc1BsYWluT2JqZWN0KShlKSYmIU9iamVjdChyLmIpKGUpKXJldHVybiBPYmplY3QoZC5sb2dFcnJvcikoIkludmFsaWQgY3VzdG9tIHByaWNlIHZhbHVlIHBhc3NlZCB0byBgc2V0UHJpY2VHcmFudWxhcml0eSgpYCIpLCExO3JldHVybiEwfXQmJkkoT2JqZWN0LmtleXModCkucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiB0W25dIT09aVtuXSYmKGVbbl09aVtuXXx8e30pLGV9KSx7fSkpLHQ9aSxuPXt9fWZ1bmN0aW9uIHkoKXtpZihhJiZuJiZPYmplY3QoZC5pc1BsYWluT2JqZWN0KShuW2FdKSl7dmFyIGU9blthXSxyPW5ldyBzLmEoT2JqZWN0LmtleXModCkuY29uY2F0KE9iamVjdC5rZXlzKGUpKSk7cmV0dXJuIHYocikucmVkdWNlKChmdW5jdGlvbihuLHIpe3JldHVybiB2b2lkIDA9PT1lW3JdP25bcl09dFtyXTp2b2lkIDA9PT10W3JdP25bcl09ZVtyXTpPYmplY3QoZC5pc1BsYWluT2JqZWN0KShlW3JdKT9uW3JdPU9iamVjdChkLm1lcmdlRGVlcCkoe30sdFtyXSxlW3JdKTpuW3JdPWVbcl0sbn0pLHt9KX1yZXR1cm4gYih7fSx0KX1mdW5jdGlvbiBPKGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj0iY29udGV4dCI9PT1uPyJzaXRlIjpuO3Rbcl09InNpdGUiPT09cnx8InVzZXIiPT09cj9PYmplY3Qua2V5cyhlW25dKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7cmV0dXJuImRhdGEiPT09cj9PYmplY3QoZC5tZXJnZURlZXApKHQse2V4dDp7ZGF0YTplW25dW3JdfX0pOk9iamVjdChkLm1lcmdlRGVlcCkodCxwKHt9LHIsZVtuXVtyXSkpLHR9KSx7fSk6ZVtuXX0pKSx0fWZ1bmN0aW9uIEEoZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImNvbnRleHQiPT09ZX0pKS5mb3JFYWNoKChmdW5jdGlvbihuKXtPYmplY3Qua2V5cyhlW25dKS5mb3JFYWNoKChmdW5jdGlvbihyKXsiZGF0YSI9PT1yP09iamVjdChkLm1lcmdlRGVlcCkodCx7ZXh0OntkYXRhOmVbbl1bcl19fSk6Im9iamVjdCIhPT1nKGVbbl1bcl0pfHxBcnJheS5pc0FycmF5KGVbbl1bcl0pP09iamVjdChkLm1lcmdlRGVlcCkodCx7ZXh0OntkYXRhOnAoe30sci50b0xvd2VyQ2FzZSgpLGVbbl1bcl0pfX0pOk9iamVjdC5rZXlzKGVbbl1bcl0pLmZvckVhY2goKGZ1bmN0aW9uKGkpe09iamVjdChkLm1lcmdlRGVlcCkodCx7ZXh0OntkYXRhOnAoe30sci50b0xvd2VyQ2FzZSgpLHAoe30saS50b0xvd2VyQ2FzZSgpLGVbbl1bcl1baV0pKX19KX0pKX0pKX0pKSx0fWZ1bmN0aW9uIFQoZSx0KXt2YXIgbj10O2lmKCJzdHJpbmciIT10eXBlb2YgZSYmKG49ZSxlPSIqIiksImZ1bmN0aW9uIj09dHlwZW9mIG4pe3ZhciByPXt0b3BpYzplLGNhbGxiYWNrOm59O3JldHVybiBpLnB1c2gociksZnVuY3Rpb24oKXtpLnNwbGljZShpLmluZGV4T2YociksMSl9fU9iamVjdChkLmxvZ0Vycm9yKSgibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gSShlKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGMoKSh0LGUudG9waWMpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuY2FsbGJhY2socCh7fSx0LnRvcGljLGVbdC50b3BpY10pKX0pKSxpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIioiPT09ZS50b3BpY30pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jYWxsYmFjayhlKX0pKX1mdW5jdGlvbiB3KGUsdCl7YT1lO3RyeXtyZXR1cm4gdCgpfWZpbmFsbHl7QygpfX1mdW5jdGlvbiBDKCl7YT1udWxsfXJldHVybiB1KCkse2dldEN1cnJlbnRCaWRkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYX0scmVzZXRCaWRkZXI6QyxnZXRDb25maWc6ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPD0xJiYiZnVuY3Rpb24iIT10eXBlb2YoYXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdKSl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdO3JldHVybiBlP09iamVjdChkLmRlZXBBY2Nlc3MpKHkoKSxlKTp5KCl9cmV0dXJuIFQuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9LHJlYWRDb25maWc6ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPD0xJiYiZnVuY3Rpb24iIT10eXBlb2YoYXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdKSl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdLHQ9T2JqZWN0KGQuZGVlcENsb25lKSh5KCkpO3JldHVybiBlP09iamVjdChkLmRlZXBBY2Nlc3MpKHQsZSk6dH1yZXR1cm4gVC5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX0sc2V0Q29uZmlnOmZ1bmN0aW9uKG4pe2lmKE9iamVjdChkLmlzUGxhaW5PYmplY3QpKG4pKXt2YXIgcj1PYmplY3Qua2V5cyhuKSxpPXt9O3IuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIG89ImZwZCI9PT1yPyJvcnRiMiI6cixhPSJmcGQiPT09cj9PKG5bcl0pOm5bcl07T2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZVtvXSkmJk9iamVjdChkLmlzUGxhaW5PYmplY3QpKGEpJiYoYT1iKHt9LGVbb10sYSkpLGlbb109dFtvXT1hfSkpLEkoaSl9ZWxzZSBPYmplY3QoZC5sb2dFcnJvcikoInNldENvbmZpZyBvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0Iil9LHNldERlZmF1bHRzOmZ1bmN0aW9uKG4pe09iamVjdChkLmlzUGxhaW5PYmplY3QpKGUpPyhiKGUsbiksYih0LG4pKTpPYmplY3QoZC5sb2dFcnJvcikoImRlZmF1bHRzIG11c3QgYmUgYW4gb2JqZWN0Iil9LHJlc2V0Q29uZmlnOnUscnVuV2l0aEJpZGRlcjp3LGNhbGxiYWNrV2l0aEJpZGRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4pLGk9MDtpPG47aSsrKXJbaV09YXJndW1lbnRzW2ldO3JldHVybiB3KGUsZC5iaW5kLmNhbGwuYXBwbHkoZC5iaW5kLFt0LHRoaXNdLmNvbmNhdChyKSkpfU9iamVjdChkLmxvZ1dhcm4pKCJjb25maWcuY2FsbGJhY2tXaXRoQmlkZGVyIGNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uIil9fX0sc2V0QmlkZGVyQ29uZmlnOmZ1bmN0aW9uKGUpe3RyeXshZnVuY3Rpb24oZSl7aWYoIU9iamVjdChkLmlzUGxhaW5PYmplY3QpKGUpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCI7aWYoIUFycmF5LmlzQXJyYXkoZS5iaWRkZXJzKXx8IWUuYmlkZGVycy5sZW5ndGgpdGhyb3cic2V0QmlkZGVyQ29uZmlnIGJpZGRlciBvcHRpb25zIG11c3QgY29udGFpbiBhIGJpZGRlcnMgbGlzdCB3aXRoIGF0IGxlYXN0IDEgYmlkZGVyIjtpZighT2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZS5jb25maWcpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGNvbnRhaW4gYSBjb25maWcgb2JqZWN0In0oZSksZS5iaWRkZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF18fChuW3RdPXt9KSxPYmplY3Qua2V5cyhlLmNvbmZpZykuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9ImZwZCI9PT1yPyJvcnRiMiI6cixvPSJmcGQiPT09cj9PKGUuY29uZmlnW3JdKTplLmNvbmZpZ1tyXTtPYmplY3QoZC5pc1BsYWluT2JqZWN0KShvKT9uW3RdW2ldPWIoe30sblt0XVtpXXx8e30sbyk6blt0XVtpXT1vfSkpfSkpfWNhdGNoKGUpe09iamVjdChkLmxvZ0Vycm9yKShlKX19LGdldEJpZGRlckNvbmZpZzpmdW5jdGlvbigpe3JldHVybiBufSxjb252ZXJ0QWRVbml0RnBkOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZnBkPyhlLm9ydGIySW1wP09iamVjdChkLm1lcmdlRGVlcCkoZS5vcnRiMkltcCxBKGUuZnBkKSk6ZS5vcnRiMkltcD1BKGUuZnBkKSx0LnB1c2goZnVuY3Rpb24oZSl7ZS5mcGQ7cmV0dXJuIGwoZSxmKX0oZSkpKTp0LnB1c2goZSl9KSksdH0sZ2V0TGVnYWN5RnBkOmZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT09ZyhlKSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByPSJzaXRlIj09PW4/ImNvbnRleHQiOm47dFtyXT0iY29udGV4dCI9PT1yfHwidXNlciI9PT1yP09iamVjdC5rZXlzKGVbbl0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImRhdGEiIT09ZX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7cmV0dXJuImV4dCI9PT1yP09iamVjdChkLm1lcmdlRGVlcCkodCxlW25dW3JdKTpPYmplY3QoZC5tZXJnZURlZXApKHQscCh7fSxyLGVbbl1bcl0pKSx0fSkse30pOmVbbl19KSksdH19LGdldExlZ2FjeUltcEZwZDpmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09PWcoZSkpe3ZhciB0PXt9O3JldHVybiBPYmplY3QoZC5kZWVwQWNjZXNzKShlLCJleHQuZGF0YSIpJiZPYmplY3Qua2V5cyhlLmV4dC5kYXRhKS5mb3JFYWNoKChmdW5jdGlvbihuKXsicGJhZHNsb3QiPT09bj9PYmplY3QoZC5tZXJnZURlZXApKHQse2NvbnRleHQ6e3BiQWRTbG90OmUuZXh0LmRhdGFbbl19fSk6ImFkc2VydmVyIj09PW4/T2JqZWN0KGQubWVyZ2VEZWVwKSh0LHtjb250ZXh0OnthZFNlcnZlcjplLmV4dC5kYXRhW25dfX0pOk9iamVjdChkLm1lcmdlRGVlcCkodCx7Y29udGV4dDp7ZGF0YTpwKHt9LG4sZS5leHQuZGF0YVtuXSl9fSl9KSksdH19fX0oKX0sMzA6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0sMzE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTIpLGk9e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPU9iamVjdC5oYXNPd258fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuY2FsbChyKGUpLHQpfX0sMzI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9bigzNCksbz1uKDQ0KTtlLmV4cG9ydHM9cj9mdW5jdGlvbihlLHQsbil7cmV0dXJuIGkuZihlLHQsbygxLG4pKX06ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW4sZX19LDMzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KTtlLmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKX0sMzQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9big4NSksbz1uKDE2KSxhPW4oNjQpLGM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3QuZj1yP2M6ZnVuY3Rpb24oZSx0LG4pe2lmKG8oZSksdD1hKHQsITApLG8obiksaSl0cnl7cmV0dXJuIGMoZSx0LG4pfWNhdGNoKGUpe31pZigiZ2V0ImluIG58fCJzZXQiaW4gbil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIik7cmV0dXJuInZhbHVlImluIG4mJihlW3RdPW4udmFsdWUpLGV9fSwzNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQsbil7aWYoIXR8fCFlKXJldHVybiB2b2lkIE9iamVjdChvLmxvZ0Vycm9yKSgiY2Fubm90IGxvYWQgZXh0ZXJuYWwgc2NyaXB0IHdpdGhvdXQgdXJsIGFuZCBtb2R1bGVDb2RlIik7aWYoZT1hLmMoZSksIWkoKSh1LHQpKXJldHVybiB2b2lkIE9iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQodCwiIG5vdCB3aGl0ZWxpc3RlZCBmb3IgbG9hZGluZyBleHRlcm5hbCBKYXZhU2NyaXB0IikpO2lmKGNbZV0pcmV0dXJuIG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYoY1tlXS5sb2FkZWQ/bigpOmNbZV0uY2FsbGJhY2tzLnB1c2gobikpLGNbZV0udGFnO2NbZV09e2xvYWRlZDohMSx0YWc6bnVsbCxjYWxsYmFja3M6W119LG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiZjW2VdLmNhbGxiYWNrcy5wdXNoKG4pO3JldHVybiBPYmplY3Qoby5sb2dXYXJuKSgibW9kdWxlICIuY29uY2F0KHQsIiBpcyBsb2FkaW5nIGV4dGVybmFsIEphdmFTY3JpcHQiKSksZnVuY3Rpb24odCxuKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtyLnR5cGU9InRleHQvamF2YXNjcmlwdCIsci5hc3luYz0hMCxjW2VdLnRhZz1yLHIucmVhZHlTdGF0ZT9yLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpeyJsb2FkZWQiIT09ci5yZWFkeVN0YXRlJiYiY29tcGxldGUiIT09ci5yZWFkeVN0YXRlfHwoci5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxuKCkpfTpyLm9ubG9hZD1mdW5jdGlvbigpe24oKX07cmV0dXJuIHIuc3JjPXQsT2JqZWN0KG8uaW5zZXJ0RWxlbWVudCkocikscn0oZSwoZnVuY3Rpb24oKXtjW2VdLmxvYWRlZD0hMDt0cnl7Zm9yKHZhciB0PTA7dDxjW2VdLmNhbGxiYWNrcy5sZW5ndGg7dCsrKWNbZV0uY2FsbGJhY2tzW3RdKCl9Y2F0Y2goZSl7T2JqZWN0KG8ubG9nRXJyb3IpKCJFcnJvciBleGVjdXRpbmcgY2FsbGJhY2siLCJhZGxvYWRlci5qczpsb2FkRXh0ZXJuYWxTY3JpcHQiLGUpfX0pKX07dmFyIHI9bigxMiksaT1uLm4ociksbz1uKDApLGE9big2MCksYz17fSx1PVsiYWRsb294IiwiY3JpdGVvIiwib3V0c3RyZWFtIiwiYWRhZ2lvIiwiYnJvd3NpIl19LDM3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE4KSxpPW4oNzUpO2UuZXhwb3J0cz1yP2k6ZnVuY3Rpb24oZSl7cmV0dXJuIFNldC5wcm90b3R5cGUudmFsdWVzLmNhbGwoZSl9fSwzNzg6ZnVuY3Rpb24oZSx0LG4pe24oMzc5KTt2YXIgcj1uKDU1KTtlLmV4cG9ydHM9cigiU3RyaW5nIiwiaW5jbHVkZXMiKX0sMzc5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDM4MCksbz1uKDUxKTtyKHt0YXJnZXQ6IlN0cmluZyIscHJvdG86ITAsZm9yY2VkOiFuKDM4MikoImluY2x1ZGVzIil9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4hIX5TdHJpbmcobyh0aGlzKSkuaW5kZXhPZihpKGUpLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sMzg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLHQuaD1mdW5jdGlvbihlKXtpZihlJiZlLnR5cGUmJmZ1bmN0aW9uKGUpe2lmKCFlfHwhbygpKE9iamVjdC5rZXlzKHApLGUpKXJldHVybiBPYmplY3Qoci5sb2dFcnJvcikoIiIuY29uY2F0KGUsIiBuYXRpdmVQYXJhbSBpcyBub3Qgc3VwcG9ydGVkIikpLCExO3JldHVybiEwfShlLnR5cGUpKXJldHVybiBwW2UudHlwZV07cmV0dXJuIGV9LHQuZz1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdChyLmdldEJpZFJlcXVlc3QpKGUucmVxdWVzdElkLHQpO2lmKCFuKXJldHVybiExO2lmKCFPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJuYXRpdmUuY2xpY2tVcmwiKSlyZXR1cm4hMTt2YXIgaT1uLm5hdGl2ZVBhcmFtcztpZighaSlyZXR1cm4hMDt2YXIgYT1PYmplY3Qua2V5cyhpKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpW2VdLnJlcXVpcmVkfSkpLGM9T2JqZWN0LmtleXMoZS5uYXRpdmUpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGUubmF0aXZlW3RdfSkpO3JldHVybiBhLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gbygpKGMsZSl9KSl9LHQuYj1mdW5jdGlvbihlLHQpe3ZhciBuOyJjbGljayI9PT1lLmFjdGlvbj9uPXQubmF0aXZlJiZ0Lm5hdGl2ZS5jbGlja1RyYWNrZXJzOihuPXQubmF0aXZlJiZ0Lm5hdGl2ZS5pbXByZXNzaW9uVHJhY2tlcnMsdC5uYXRpdmUmJnQubmF0aXZlLmphdmFzY3JpcHRUcmFja2VycyYmT2JqZWN0KHIuaW5zZXJ0SHRtbEludG9JZnJhbWUpKHQubmF0aXZlLmphdmFzY3JpcHRUcmFja2VycykpO3JldHVybihufHxbXSkuZm9yRWFjaChyLnRyaWdnZXJQaXhlbCksZS5hY3Rpb259LHQuZT1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O09iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5yZW5kZXJlclVybCIpP2UubmF0aXZlLnJlbmRlcmVyVXJsPWcodC5uYXRpdmVQYXJhbXMucmVuZGVyZXJVcmwpOk9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5hZFRlbXBsYXRlIikmJihlLm5hdGl2ZS5hZFRlbXBsYXRlPWcodC5uYXRpdmVQYXJhbXMuYWRUZW1wbGF0ZSkpO3ZhciBpPSExIT09T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLnNlbmRUYXJnZXRpbmdLZXlzIiksbz1mdW5jdGlvbihlKXt2YXIgdD17fTtPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJuYXRpdmVQYXJhbXMuZXh0IikmJk9iamVjdC5rZXlzKGUubmF0aXZlUGFyYW1zLmV4dCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlXT0iaGJfbmF0aXZlXyIuY29uY2F0KGUpfSkpO3JldHVybiB1KHUoe30sZC5OQVRJVkVfS0VZUyksdCl9KHQpLGE9dSh1KHt9LGUubmF0aXZlKSxlLm5hdGl2ZS5leHQpO3JldHVybiBkZWxldGUgYS5leHQsT2JqZWN0LmtleXMoYSkuZm9yRWFjaCgoZnVuY3Rpb24oYSl7dmFyIGM9b1thXSx1PWcoZS5uYXRpdmVbYV0pfHxnKE9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm5hdGl2ZS5leHQuIi5jb25jYXQoYSkpKTtpZigiYWRUZW1wbGF0ZSIhPT1hJiZjJiZ1KXt2YXIgcz1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuIi5jb25jYXQoYSwiLnNlbmRJZCIpKTtpZigiYm9vbGVhbiIhPXR5cGVvZiBzJiYocz1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuZXh0LiIuY29uY2F0KGEsIi5zZW5kSWQiKSkpLHMpdT0iIi5jb25jYXQoYywiOiIpLmNvbmNhdChlLmFkSWQpO3ZhciBkPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy4iLmNvbmNhdChhLCIuc2VuZFRhcmdldGluZ0tleXMiKSk7ImJvb2xlYW4iIT10eXBlb2YgZCYmKGQ9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLmV4dC4iLmNvbmNhdChhLCIuc2VuZFRhcmdldGluZ0tleXMiKSkpLCgiYm9vbGVhbiI9PXR5cGVvZiBkP2Q6aSkmJihuW2NdPXUpfX0pKSxufSx0LmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj17bWVzc2FnZToiYXNzZXRSZXNwb25zZSIsYWRJZDplLmFkSWQsYXNzZXRzOltdfTt0Lm5hdGl2ZS5oYXNPd25Qcm9wZXJ0eSgiYWRUZW1wbGF0ZSIpJiYobi5hZFRlbXBsYXRlPWcodC5uYXRpdmUuYWRUZW1wbGF0ZSkpO3QubmF0aXZlLmhhc093blByb3BlcnR5KCJyZW5kZXJlclVybCIpJiYobi5yZW5kZXJlclVybD1nKHQubmF0aXZlLnJlbmRlcmVyVXJsKSk7cmV0dXJuIGUuYXNzZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPU9iamVjdChyLmdldEtleUJ5VmFsdWUpKGQuTkFUSVZFX0tFWVMsZSksbz1nKHQubmF0aXZlW2ldKTtuLmFzc2V0cy5wdXNoKHtrZXk6aSx2YWx1ZTpvfSl9KSksbn0sdC5jPWZ1bmN0aW9uKGUsdCl7dmFyIG49e21lc3NhZ2U6ImFzc2V0UmVzcG9uc2UiLGFkSWQ6ZS5hZElkLGFzc2V0czpbXX07cmV0dXJuIE9iamVjdC5rZXlzKHQubmF0aXZlKS5mb3JFYWNoKChmdW5jdGlvbihlLHIpe2lmKCJhZFRlbXBsYXRlIj09PWUmJnQubmF0aXZlW2VdKW4uYWRUZW1wbGF0ZT1nKHQubmF0aXZlW2VdKTtlbHNlIGlmKCJyZW5kZXJlclVybCI9PT1lJiZ0Lm5hdGl2ZVtlXSluLnJlbmRlcmVyVXJsPWcodC5uYXRpdmVbZV0pO2Vsc2UgaWYoImV4dCI9PT1lKU9iamVjdC5rZXlzKHQubmF0aXZlW2VdKS5mb3JFYWNoKChmdW5jdGlvbihyKXtpZih0Lm5hdGl2ZVtlXVtyXSl7dmFyIGk9Zyh0Lm5hdGl2ZVtlXVtyXSk7bi5hc3NldHMucHVzaCh7a2V5OnIsdmFsdWU6aX0pfX0pKTtlbHNlIGlmKHQubmF0aXZlW2VdJiZkLk5BVElWRV9LRVlTLmhhc093blByb3BlcnR5KGUpKXt2YXIgaT1nKHQubmF0aXZlW2VdKTtuLmFzc2V0cy5wdXNoKHtrZXk6ZSx2YWx1ZTppfSl9fSkpLG59O3ZhciByPW4oMCksaT1uKDEyKSxvPW4ubihpKTtmdW5jdGlvbiBhKGUpe3JldHVybihhPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gdShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9jKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cyhlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBzKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX12YXIgZD1uKDUpLGY9W10sbD1PYmplY3Qua2V5cyhkLk5BVElWRV9LRVlTKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBkLk5BVElWRV9LRVlTW2VdfSkpLHA9e2ltYWdlOntpbWFnZTp7cmVxdWlyZWQ6ITB9LHRpdGxlOntyZXF1aXJlZDohMH0sc3BvbnNvcmVkQnk6e3JlcXVpcmVkOiEwfSxjbGlja1VybDp7cmVxdWlyZWQ6ITB9LGJvZHk6e3JlcXVpcmVkOiExfSxpY29uOntyZXF1aXJlZDohMX19fTtmdW5jdGlvbiBnKGUpe3JldHVybiJvYmplY3QiPT09YShlKSYmZS51cmw/ZS51cmw6ZX19LDM4MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzODEpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihyKGUpKXRocm93IFR5cGVFcnJvcigiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zIik7cmV0dXJuIGV9fSwzODE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApLGk9big1MCksbz1uKDIxKSgibWF0Y2giKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHIoZSkmJih2b2lkIDAhPT0odD1lW29dKT8hIXQ6IlJlZ0V4cCI9PWkoZSkpfX0sMzgyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIxKSgibWF0Y2giKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9Ly4vO3RyeXsiLy4vIltlXSh0KX1jYXRjaChuKXt0cnl7cmV0dXJuIHRbcl09ITEsIi8uLyJbZV0odCl9Y2F0Y2goZSl7fX1yZXR1cm4hMX19LDM5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBpKGUsdCl9O3ZhciByPW4oMCk7ZnVuY3Rpb24gaShlLHQpe3ZhciBuPXQmJnQuc3JjfHwiY2xpZW50IixpPWV8fDA7dGhpcy5iaWRkZXJDb2RlPXQmJnQuYmlkZGVyfHwiIix0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLnN0YXR1c01lc3NhZ2U9ZnVuY3Rpb24oKXtzd2l0Y2goaSl7Y2FzZSAwOnJldHVybiJQZW5kaW5nIjtjYXNlIDE6cmV0dXJuIkJpZCBhdmFpbGFibGUiO2Nhc2UgMjpyZXR1cm4iQmlkIHJldHVybmVkIGVtcHR5IG9yIGVycm9yIHJlc3BvbnNlIjtjYXNlIDM6cmV0dXJuIkJpZCB0aW1lZCBvdXQifX0oKSx0aGlzLmFkSWQ9T2JqZWN0KHIuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSx0aGlzLnJlcXVlc3RJZD10JiZ0LmJpZElkLHRoaXMubWVkaWFUeXBlPSJiYW5uZXIiLHRoaXMuc291cmNlPW4sdGhpcy5nZXRTdGF0dXNDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIGl9LHRoaXMuZ2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRoKyJ4Iit0aGlzLmhlaWdodH19fSw0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLHQuYj1zO3ZhciByPW4oMyksaT1uKDApLG89big2MCk7ZnVuY3Rpb24gYSgpe3JldHVybihhPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4oYz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciB1PXMoKTtmdW5jdGlvbiBzKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjNlMyx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPXQucmVxdWVzdCx1PXQuZG9uZTtyZXR1cm4gZnVuY3Rpb24odCxzLGQpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fTt0cnl7dmFyIGwscD1mLm1ldGhvZHx8KGQ/IlBPU1QiOiJHRVQiKSxnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTt0PW8uYyh0KSxnLmhyZWY9dDt2YXIgYj0ib2JqZWN0Ij09PWMocykmJm51bGwhPT1zP3M6e3N1Y2Nlc3M6ZnVuY3Rpb24oKXtPYmplY3QoaS5sb2dNZXNzYWdlKSgieGhyIHN1Y2Nlc3MiKX0sZXJyb3I6ZnVuY3Rpb24oZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJ4aHIgZXJyb3IiLG51bGwsZSl9fTtpZigiZnVuY3Rpb24iPT10eXBlb2YgcyYmKGIuc3VjY2Vzcz1zKSwobD1uZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT09bC5yZWFkeVN0YXRlKXsiZnVuY3Rpb24iPT10eXBlb2YgdSYmdShnLm9yaWdpbik7dmFyIGU9bC5zdGF0dXM7ZT49MjAwJiZlPDMwMHx8MzA0PT09ZT9iLnN1Y2Nlc3MobC5yZXNwb25zZVRleHQsbCk6Yi5lcnJvcihsLnN0YXR1c1RleHQsbCl9fSxyLmIuZ2V0Q29uZmlnKCJkaXNhYmxlQWpheFRpbWVvdXQiKXx8KGwub250aW1lb3V0PWZ1bmN0aW9uKCl7T2JqZWN0KGkubG9nRXJyb3IpKCIgIHhociB0aW1lb3V0IGFmdGVyICIsbC50aW1lb3V0LCJtcyIpfSksIkdFVCI9PT1wJiZkKXt2YXIgdj1PYmplY3QoaS5wYXJzZVVybCkodCxmKTthKHYuc2VhcmNoLGQpLHQ9T2JqZWN0KGkuYnVpbGRVcmwpKHYpfWwub3BlbihwLHQsITApLHIuYi5nZXRDb25maWcoImRpc2FibGVBamF4VGltZW91dCIpfHwobC50aW1lb3V0PWUpLGYud2l0aENyZWRlbnRpYWxzJiYobC53aXRoQ3JlZGVudGlhbHM9ITApLE9iamVjdChpLl9lYWNoKShmLmN1c3RvbUhlYWRlcnMsKGZ1bmN0aW9uKGUsdCl7bC5zZXRSZXF1ZXN0SGVhZGVyKHQsZSl9KSksZi5wcmVmbGlnaHQmJmwuc2V0UmVxdWVzdEhlYWRlcigiWC1SZXF1ZXN0ZWQtV2l0aCIsIlhNTEh0dHBSZXF1ZXN0IiksbC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLGYuY29udGVudFR5cGV8fCJ0ZXh0L3BsYWluIiksImZ1bmN0aW9uIj09dHlwZW9mIG4mJm4oZy5vcmlnaW4pLCJQT1NUIj09PXAmJmQ/bC5zZW5kKGQpOmwuc2VuZCgpfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgieGhyIGNvbnN0cnVjdGlvbiIsZSksIm9iamVjdCI9PT1jKHMpJiZudWxsIT09cyYmcy5lcnJvcihlKX19fX0sNDA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGp9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBTfSkpLHQuYz1FLG4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKTt2YXIgcj1uKDApLGk9bigzKSxvPW4oMzgpLGE9bigyMyksYz1uKDEwMSksdT1uKDIpLHM9big5KSxkPW4oMTIpLGY9bi5uKGQpLGw9bigxMSkscD1uLm4obCk7ZnVuY3Rpb24gZygpe3JldHVybihnPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYihlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gdihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4geShlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4geShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4geShlLHQpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB5KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIGg9big1KSxtPVtdLE89T2JqZWN0LmtleXMoaC5UQVJHRVRJTkdfS0VZUykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaC5UQVJHRVRJTkdfS0VZU1tlXX0pKSxqPXtpc0JpZE5vdEV4cGlyZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVzcG9uc2VUaW1lc3RhbXArMWUzKmUudHRsLTFlMz5PYmplY3Qoci50aW1lc3RhbXApKCl9LGlzVW51c2VkQmlkOmZ1bmN0aW9uKGUpe3JldHVybiBlJiYoZS5zdGF0dXMmJiFmKCkoW2guQklEX1NUQVRVUy5SRU5ERVJFRF0sZS5zdGF0dXMpfHwhZS5zdGF0dXMpfX0sUz1PYmplY3Qocy5iKSgic3luYyIsKGZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjAsbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdO2lmKCFvKXt2YXIgYT1bXSxjPWkuYi5nZXRDb25maWcoInNlbmRCaWRzQ29udHJvbC5kZWFsUHJpb3JpdGl6YXRpb24iKSx1PU9iamVjdChyLmdyb3VwQnkpKGUsImFkVW5pdENvZGUiKTtyZXR1cm4gT2JqZWN0LmtleXModSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9W10sbz1PYmplY3Qoci5ncm91cEJ5KSh1W2VdLCJiaWRkZXJDb2RlIik7T2JqZWN0LmtleXMobykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGkucHVzaChvW2VdLnJlZHVjZSh0KSl9KSksbj4wPyhpPWM/aS5zb3J0KEUoITApKTppLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuY3BtLWUuY3BtfSkpLGEucHVzaC5hcHBseShhLHYoaS5zbGljZSgwLG4pKSkpOmEucHVzaC5hcHBseShhLHYoaSkpfSkpLGF9cmV0dXJuIGV9KSk7ZnVuY3Rpb24gRSgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIHZvaWQgMCE9PXQuYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfZGVhbCYmdm9pZCAwPT09bi5hZHNlcnZlclRhcmdldGluZy5oYl9kZWFsPy0xOnZvaWQgMD09PXQuYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfZGVhbCYmdm9pZCAwIT09bi5hZHNlcnZlclRhcmdldGluZy5oYl9kZWFsPzE6ZT9uLmNwbS10LmNwbTpuLmFkc2VydmVyVGFyZ2V0aW5nLmhiX3BiLXQuYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfcGJ9fXZhciBBPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49e307ZnVuY3Rpb24gYShlLHQpe3JldHVybiBlLmFkc2VydmVyVGFyZ2V0aW5nJiZ0JiYoT2JqZWN0KHIuaXNBcnJheSkodCkmJmYoKSh0LGUuYWRVbml0Q29kZSl8fCJzdHJpbmciPT10eXBlb2YgdCYmZS5hZFVuaXRDb2RlPT09dCl9ZnVuY3Rpb24gcyhlLHQpe2lmKCEwPT09aS5iLmdldENvbmZpZygidGFyZ2V0aW5nQ29udHJvbHMuYWx3YXlzSW5jbHVkZURlYWxzIikpe3ZhciBuPU8uY29uY2F0KG8uYSk7cmV0dXJuIFModCxyLmdldEhpZ2hlc3RDcG0pLm1hcCgoZnVuY3Rpb24odCl7aWYodC5kZWFsSWQmJmEodCxlKSlyZXR1cm4gYih7fSx0LmFkVW5pdENvZGUseCh0LG4uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dC5hZHNlcnZlclRhcmdldGluZ1tlXX0pKSkpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9cmV0dXJuW119ZnVuY3Rpb24gZChlLHQpe3ZhciBuPWcoe30saC5UQVJHRVRJTkdfS0VZUyxoLk5BVElWRV9LRVlTKSxpPU9iamVjdC5rZXlzKG4pLG89e307T2JqZWN0KHIubG9nSW5mbykoImFsbG93VGFyZ2V0aW5nS2V5cyAtIGFsbG93ZWQga2V5cyBbICIuY29uY2F0KHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbltlXX0pKS5qb2luKCIsICIpLCIgXSIpKSxlLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0LmtleXMoZSlbMF0sYT1lW3JdLmZpbHRlcigoZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0LmtleXMoZSlbMF0sYT0wPT09aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAwPT09ci5pbmRleE9mKG5bZV0pfSkpLmxlbmd0aHx8cCgpKHQsKGZ1bmN0aW9uKGUpe3ZhciB0PW5bZV07cmV0dXJuIDA9PT1yLmluZGV4T2YodCl9KSk7cmV0dXJuIG9bcl09IWEsYX0pKTtlW3JdPWF9KSk7dmFyIGE9T2JqZWN0LmtleXMobykuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gb1tlXX0pKTtyZXR1cm4gT2JqZWN0KHIubG9nSW5mbykoImFsbG93VGFyZ2V0aW5nS2V5cyAtIHJlbW92ZWQga2V5cyBbICIuY29uY2F0KGEuam9pbigiLCAiKSwiIF0iKSksZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlW09iamVjdC5rZXlzKGUpWzBdXS5sZW5ndGg+MH0pKX1mdW5jdGlvbiBsKGUsdCl7dmFyIG49T2JqZWN0KHIuZGVlcENsb25lKShlKTtyZXR1cm4gT2JqZWN0LmtleXMobikubWFwKChmdW5jdGlvbihlKXtyZXR1cm57YWRVbml0Q29kZTplLGFkc2VydmVyVGFyZ2V0aW5nOm5bZV19fSkpLnNvcnQoRSgpKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsaSxvLGEpe3ZhciBjLHU9KGM9aS5hZHNlcnZlclRhcmdldGluZyxPYmplY3Qua2V5cyhjKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIiIuY29uY2F0KHQsIiUzZCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoY1t0XSksIiUyNiIpfSksIiIpKTtvKzE9PT1hLmxlbmd0aCYmKHU9dS5zbGljZSgwLC0zKSk7dmFyIHM9aS5hZFVuaXRDb2RlLGQ9dS5sZW5ndGg7cmV0dXJuIGQ8PXQ/KHQtPWQsT2JqZWN0KHIubG9nSW5mbykoIkFkVW5pdCAnIi5jb25jYXQocywiJyBhdWN0aW9uIGtleXMgY29tcHJpc2VkIG9mICIpLmNvbmNhdChkLCIgY2hhcmFjdGVycy4gIERlZHVjdGVkIGZyb20gcnVubmluZyB0aHJlc2hvbGQ7IG5ldyBsaW1pdCBpcyAiKS5jb25jYXQodCksbltzXSksZVtzXT1uW3NdKTpPYmplY3Qoci5sb2dXYXJuKSgiVGhlIGZvbGxvd2luZyBrZXlzIGZvciBhZFVuaXRDb2RlICciLmNvbmNhdChzLCInIGV4Y2VlZGVkIHRoZSBjdXJyZW50IGxpbWl0IG9mIHRoZSAnYXVjdGlvbktleU1heENoYXJzJyBzZXR0aW5nLlxuVGhlIGtleS1zZXQgc2l6ZSB3YXMgIikuY29uY2F0KGQsIiwgdGhlIGN1cnJlbnQgYWxsb3R0ZWQgYW1vdW50IHdhcyAiKS5jb25jYXQodCwiLlxuIiksbltzXSksbysxPT09YS5sZW5ndGgmJjA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJk9iamVjdChyLmxvZ0Vycm9yKSgiTm8gYXVjdGlvbiB0YXJnZXRpbmcga2V5cyB3ZXJlIHBlcm1pdHRlZCBkdWUgdG8gdGhlIHNldHRpbmcgaW4gc2V0Q29uZmlnKHRhcmdldGluZ0NvbnRyb2xzLmF1Y3Rpb25LZXlNYXhDaGFycykuICBQbGVhc2UgcmV2aWV3IHNldHVwIGFuZCBjb25zaWRlciBhZGp1c3RpbmcuIiksZX0pLHt9KX1mdW5jdGlvbiB5KGUpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoe30sT2JqZWN0LmtleXMoZSlbMF0sZVtPYmplY3Qua2V5cyhlKVswXV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYih7fSxPYmplY3Qua2V5cyhlKVswXSxlW09iamVjdC5rZXlzKGUpWzBdXS5qb2luKCIsIikpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZyh0LGUpfSkse30pKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0LmtleXModClbMF07cmV0dXJuIGVbbl09Zyh7fSxlW25dLHRbbl0pLGV9KSx7fSl9ZnVuY3Rpb24gQSh0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/W3RdOk9iamVjdChyLmlzQXJyYXkpKHQpP3Q6ZS5nZXRBZFVuaXRDb2RlcygpfHxbXX1mdW5jdGlvbiBUKCl7dmFyIHQ9ZS5nZXRCaWRzUmVjZWl2ZWQoKTtyZXR1cm4gaS5iLmdldENvbmZpZygidXNlQmlkQ2FjaGUiKXx8KHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBuW2UuYWRVbml0Q29kZV09PT1lLmF1Y3Rpb25JZH0pKSksdD10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGUsInZpZGVvLmNvbnRleHQiKSE9PXUuYX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiIT09ZS5tZWRpYVR5cGV8fE9iamVjdChjLmMpKFtlLndpZHRoLGUuaGVpZ2h0XSl9KSkuZmlsdGVyKGouaXNVbnVzZWRCaWQpLmZpbHRlcihqLmlzQmlkTm90RXhwaXJlZCksUyh0LHIuZ2V0T2xkZXN0SGlnaGVzdENwbUJpZCl9ZnVuY3Rpb24gSShlLG4pe3ZhciByPXQuZ2V0V2lubmluZ0JpZHMoZSxuKSxpPXcoKTtyZXR1cm4gcj1yLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoe30sZS5hZFVuaXRDb2RlLE9iamVjdC5rZXlzKGUuYWRzZXJ2ZXJUYXJnZXRpbmcpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PWUuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nfHxlLnNlbmRTdGFuZGFyZFRhcmdldGluZ3x8LTE9PT1pLmluZGV4T2YodCl9KSkucmVkdWNlKChmdW5jdGlvbih0LG4pe3ZhciByPVtlLmFkc2VydmVyVGFyZ2V0aW5nW25dXSxpPWIoe30sbi5zdWJzdHJpbmcoMCwyMCkscik7aWYobj09PWguVEFSR0VUSU5HX0tFWVMuREVBTCl7dmFyIG89Yih7fSwiIi5jb25jYXQobiwiXyIpLmNvbmNhdChlLmJpZGRlckNvZGUpLnN1YnN0cmluZygwLDIwKSxyKTtyZXR1cm5bXS5jb25jYXQodih0KSxbaSxvXSl9cmV0dXJuW10uY29uY2F0KHYodCksW2ldKX0pLFtdKSl9KSl9ZnVuY3Rpb24gdygpe3JldHVybiBlLmdldFN0YW5kYXJkQmlkZGVyQWRTZXJ2ZXJUYXJnZXRpbmcoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmtleX0pKS5jb25jYXQoTykuZmlsdGVyKHIudW5pcXVlcyl9ZnVuY3Rpb24gQyhlLHQsbixpKXtyZXR1cm4gT2JqZWN0LmtleXModC5hZHNlcnZlclRhcmdldGluZykuZmlsdGVyKFIoKSkuZm9yRWFjaCgoZnVuY3Rpb24obil7ZS5sZW5ndGgmJmUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbi5hZFVuaXRDb2RlPT09dC5hZFVuaXRDb2RlJiZuLmFkc2VydmVyVGFyZ2V0aW5nW2VdfX0obikpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe09iamVjdChyLmlzQXJyYXkpKG4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV0pfHwobi5hZHNlcnZlclRhcmdldGluZ1tlXT1bbi5hZHNlcnZlclRhcmdldGluZ1tlXV0pLG4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV09bi5hZHNlcnZlclRhcmdldGluZ1tlXS5jb25jYXQodC5hZHNlcnZlclRhcmdldGluZ1tlXSkuZmlsdGVyKHIudW5pcXVlcyksZGVsZXRlIHQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV19fShuKSl9KSksZS5wdXNoKHQpLGV9ZnVuY3Rpb24gUigpe3ZhciBlPXcoKS5jb25jYXQoby5hKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuLTE9PT1lLmluZGV4T2YodCl9fWZ1bmN0aW9uIF8oZSl7cmV0dXJuIGIoe30sZS5hZFVuaXRDb2RlLE9iamVjdC5rZXlzKGUuYWRzZXJ2ZXJUYXJnZXRpbmcpLmZpbHRlcihSKCkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGIoe30sdC5zdWJzdHJpbmcoMCwyMCksW2UuYWRzZXJ2ZXJUYXJnZXRpbmdbdF1dKX0pKSl9ZnVuY3Rpb24gVShlLHQpe3JldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGYoKShlLHQuYWRVbml0Q29kZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZyh7fSxlKX0pKS5yZWR1Y2UoQyxbXSkubWFwKF8pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9ZnVuY3Rpb24gQihlLHQpe3ZhciBuPU8uY29uY2F0KG8uYSksYz1pLmIuZ2V0Q29uZmlnKCJzZW5kQmlkc0NvbnRyb2wuYmlkTGltaXQiKSx1PVModCxyLmdldEhpZ2hlc3RDcG0sYykscz1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbGxvd1NlbmRBbGxCaWRzVGFyZ2V0aW5nS2V5cyIpLGQ9cz9zLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGguVEFSR0VUSU5HX0tFWVNbZV19KSk6bjtyZXR1cm4gdS5tYXAoKGZ1bmN0aW9uKHQpe2lmKGEodCxlKSlyZXR1cm4gYih7fSx0LmFkVW5pdENvZGUseCh0LG4uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dC5hZHNlcnZlclRhcmdldGluZ1tlXSYmLTEhPT1kLmluZGV4T2YoZSl9KSkpKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfWZ1bmN0aW9uIHgoZSx0KXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBiKHt9LCIiLmNvbmNhdCh0LCJfIikuY29uY2F0KGUuYmlkZGVyQ29kZSkuc3Vic3RyaW5nKDAsMjApLFtlLmFkc2VydmVyVGFyZ2V0aW5nW3RdXSl9KSl9ZnVuY3Rpb24gRCh0KXtmdW5jdGlvbiBuKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLGguSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElORyl9cmV0dXJuIGUuZ2V0QWRVbml0cygpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGYoKSh0LGUuY29kZSkmJm4oZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYih7fSxlLmNvZGUsZnVuY3Rpb24oZSl7dmFyIHQ9bihlKTtyZXR1cm4gT2JqZWN0LmtleXModCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuaXNTdHIpKHRbZV0pJiYodFtlXT10W2VdLnNwbGl0KCIsIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KSkpLE9iamVjdChyLmlzQXJyYXkpKHRbZV0pfHwodFtlXT1bdFtlXV0pLGIoe30sZSx0W2VdKX0pKX0oZSkpfSkpfXJldHVybiB0LnNldExhdGVzdEF1Y3Rpb25Gb3JBZFVuaXQ9ZnVuY3Rpb24oZSx0KXtuW2VdPXR9LHQucmVzZXRQcmVzZXRUYXJnZXRpbmc9ZnVuY3Rpb24odCxuKXtpZihPYmplY3Qoci5pc0dwdFB1YmFkc0RlZmluZWQpKCkpe3ZhciBpPUEodCksbz1lLmdldEFkVW5pdHMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmKCkoaSxlLmNvZGUpfSkpLGE9bS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF09bnVsbCxlfSkse30pO3dpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qoci5pc0ZuKShuKSYmbihlKTtvLmZvckVhY2goKGZ1bmN0aW9uKG4peyhuLmNvZGU9PT1lLmdldEFkVW5pdFBhdGgoKXx8bi5jb2RlPT09ZS5nZXRTbG90RWxlbWVudElkKCl8fE9iamVjdChyLmlzRm4pKHQpJiZ0KG4uY29kZSkpJiZlLnVwZGF0ZVRhcmdldGluZ0Zyb21NYXAoYSl9KSl9KSl9fSx0LnJlc2V0UHJlc2V0VGFyZ2V0aW5nQVNUPWZ1bmN0aW9uKGUpe0EoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LmFwbnRhZy5nZXRUYWcoZSk7aWYodCYmdC5rZXl3b3Jkcyl7dmFyIG49T2JqZWN0LmtleXModC5rZXl3b3Jkcykscj17fTtuLmZvckVhY2goKGZ1bmN0aW9uKGUpe2YoKShtLGUudG9Mb3dlckNhc2UoKSl8fChyW2VdPXQua2V5d29yZHNbZV0pfSkpLHdpbmRvdy5hcG50YWcubW9kaWZ5VGFnKGUse2tleXdvcmRzOnJ9KX19KSl9LHQuZ2V0QWxsVGFyZ2V0aW5nPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpUKCksbj1BKGUpLG89SShuLHQpLmNvbmNhdChVKG4sdCkpLmNvbmNhdChpLmIuZ2V0Q29uZmlnKCJlbmFibGVTZW5kQWxsQmlkcyIpP0Iobix0KTpzKG4sdCkpLmNvbmNhdChEKG4pKTtvLm1hcCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbih0KXtlW3RdLm1hcCgoZnVuY3Rpb24oZSl7LTE9PT1tLmluZGV4T2YoT2JqZWN0LmtleXMoZSlbMF0pJiYobT1PYmplY3Qua2V5cyhlKS5jb25jYXQobSkpfSkpfSkpfSkpO3ZhciBhPU9iamVjdC5rZXlzKGcoe30saC5ERUZBVUxUX1RBUkdFVElOR19LRVlTLGguTkFUSVZFX0tFWVMpKSxjPWkuYi5nZXRDb25maWcoInRhcmdldGluZ0NvbnRyb2xzLmFsbG93VGFyZ2V0aW5nS2V5cyIpfHxhO0FycmF5LmlzQXJyYXkoYykmJmMubGVuZ3RoPjAmJihvPWQobyxjKSksbz15KG8pO3ZhciB1PWkuYi5nZXRDb25maWcoInRhcmdldGluZ0NvbnRyb2xzLmF1Y3Rpb25LZXlNYXhDaGFycyIpO3JldHVybiB1JiYoT2JqZWN0KHIubG9nSW5mbykoIkRldGVjdGVkICd0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMnIHdhcyBhY3RpdmUgZm9yIHRoaXMgYXVjdGlvbjsgc2V0IHdpdGggYSBsaW1pdCBvZiAiLmNvbmNhdCh1LCIgY2hhcmFjdGVycy4gIFJ1bm5pbmcgY2hlY2tzIG9uIGF1Y3Rpb24ga2V5cy4uLiIpKSxvPWwobyx1KSksbi5mb3JFYWNoKChmdW5jdGlvbihlKXtvW2VdfHwob1tlXT17fSl9KSksb30sdC5zZXRUYXJnZXRpbmdGb3JHUFQ9ZnVuY3Rpb24oZSx0KXt3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCkuZm9yRWFjaCgoZnVuY3Rpb24obil7T2JqZWN0LmtleXMoZSkuZmlsdGVyKHQ/dChuKTpPYmplY3Qoci5pc0FkVW5pdENvZGVNYXRjaGluZ1Nsb3QpKG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3Qua2V5cyhlW3RdKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj1lW3RdW25dOyJzdHJpbmciPT10eXBlb2YgciYmLTEhPT1yLmluZGV4T2YoIiwiKSYmKHI9ci5zcGxpdCgiLCIpKSxlW3RdW25dPXJ9KSksT2JqZWN0KHIubG9nTWVzc2FnZSkoIkF0dGVtcHRpbmcgdG8gc2V0IHRhcmdldGluZy1tYXAgZm9yIHNsb3Q6ICIuY29uY2F0KG4uZ2V0U2xvdEVsZW1lbnRJZCgpLCIgd2l0aCB0YXJnZXRpbmctbWFwOiIpLGVbdF0pLG4udXBkYXRlVGFyZ2V0aW5nRnJvbU1hcChlW3RdKX0pKX0pKX0sdC5nZXRXaW5uaW5nQmlkcz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06VCgpLG49QShlKTtyZXR1cm4gdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmKCkobixlLmFkVW5pdENvZGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY3BtPjB9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSkpLmZpbHRlcihyLnVuaXF1ZXMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZT90Om51bGx9KSkucmVkdWNlKHIuZ2V0SGlnaGVzdENwbSl9KSl9LHQuc2V0VGFyZ2V0aW5nRm9yQXN0PWZ1bmN0aW9uKGUpe3ZhciBuPXQuZ2V0QWxsVGFyZ2V0aW5nKGUpO3RyeXt0LnJlc2V0UHJlc2V0VGFyZ2V0aW5nQVNUKGUpfWNhdGNoKGUpe09iamVjdChyLmxvZ0Vycm9yKSgidW5hYmxlIHRvIHJlc2V0IHRhcmdldGluZyBmb3IgQVNUIitlKX1PYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMobltlXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoT2JqZWN0KHIubG9nTWVzc2FnZSkoIkF0dGVtcHRpbmcgdG8gc2V0IHRhcmdldGluZyBmb3IgdGFyZ2V0SWQ6ICIuY29uY2F0KGUsIiBrZXk6ICIpLmNvbmNhdCh0LCIgdmFsdWU6ICIpLmNvbmNhdChuW2VdW3RdKSksT2JqZWN0KHIuaXNTdHIpKG5bZV1bdF0pfHxPYmplY3Qoci5pc0FycmF5KShuW2VdW3RdKSl7dmFyIGk9e307dC5zZWFyY2goL3B0WzAtOV0vKTwwP2lbdC50b1VwcGVyQ2FzZSgpXT1uW2VdW3RdOmlbdF09bltlXVt0XSx3aW5kb3cuYXBudGFnLnNldEtleXdvcmRzKGUsaSx7b3ZlcnJpZGVLZXlWYWx1ZTohMH0pfX0pKX0pKX0sdC5pc0FwbnRhZ0RlZmluZWQ9ZnVuY3Rpb24oKXtpZih3aW5kb3cuYXBudGFnJiZPYmplY3Qoci5pc0ZuKSh3aW5kb3cuYXBudGFnLnNldEtleXdvcmRzKSlyZXR1cm4hMH0sdH0oYS5hKX0sNDE6ZnVuY3Rpb24oZSx0KXt2YXIgbjtuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e249bnx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKXx8KDAsZXZhbCkoInRoaXMiKX1jYXRjaChlKXsib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX1lLmV4cG9ydHM9bn0sNDI6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LDQzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oMjQpLG89bigyMSkoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixhPXIoZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PWF8fG51bGw9PShuPXIoYSlbb10pP3Q6aShuKX19LDQ0OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0sNDU6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LDQ1MTpmdW5jdGlvbihlLHQsbil7big0NTIpO3ZhciByPW4oNDUpO2UuZXhwb3J0cz1yLlVSTFNlYXJjaFBhcmFtc30sNDUyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bigxMDApO3ZhciByPW4oMTUpLGk9bigyNiksbz1uKDQ1MyksYT1uKDczKSxjPW4oOTUpLHU9big1OSkscz1uKDk2KSxkPW4oNDYpLGY9big3MCksbD1uKDMxKSxwPW4oMjUpLGc9big1OCksYj1uKDE2KSx2PW4oMzApLHk9big3MiksaD1uKDQ0KSxtPW4oNzUpLE89big1Nyksaj1uKDIxKSxTPWkoImZldGNoIiksRT1pKCJIZWFkZXJzIiksQT1qKCJpdGVyYXRvciIpLFQ9IlVSTFNlYXJjaFBhcmFtcyIsST0iVVJMU2VhcmNoUGFyYW1zSXRlcmF0b3IiLHc9ZC5zZXQsQz1kLmdldHRlckZvcihUKSxSPWQuZ2V0dGVyRm9yKEkpLF89L1wrL2csVT1BcnJheSg0KSxCPWZ1bmN0aW9uKGUpe3JldHVybiBVW2UtMV18fChVW2UtMV09UmVnRXhwKCIoKD86JVtcXGRhLWZdezJ9KXsiK2UrIn0pIiwiZ2kiKSl9LHg9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9Y2F0Y2godCl7cmV0dXJuIGV9fSxEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShfLCIgIiksbj00O3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQpfWNhdGNoKGUpe2Zvcig7bjspdD10LnJlcGxhY2UoQihuLS0pLHgpO3JldHVybiB0fX0saz0vWyEnKCl+XXwlMjAvZyxOPXsiISI6IiUyMSIsIiciOiIlMjciLCIoIjoiJTI4IiwiKSI6IiUyOSIsIn4iOiIlN0UiLCIlMjAiOiIrIn0sUD1mdW5jdGlvbihlKXtyZXR1cm4gTltlXX0scT1mdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoayxQKX0sTT1mdW5jdGlvbihlLHQpe2lmKHQpZm9yKHZhciBuLHIsaT10LnNwbGl0KCImIiksbz0wO288aS5sZW5ndGg7KShuPWlbbysrXSkubGVuZ3RoJiYocj1uLnNwbGl0KCI9IiksZS5wdXNoKHtrZXk6RChyLnNoaWZ0KCkpLHZhbHVlOkQoci5qb2luKCI9IikpfSkpfSxHPWZ1bmN0aW9uKGUpe3RoaXMuZW50cmllcy5sZW5ndGg9MCxNKHRoaXMuZW50cmllcyxlKX0sTD1mdW5jdGlvbihlLHQpe2lmKGU8dCl0aHJvdyBUeXBlRXJyb3IoIk5vdCBlbm91Z2ggYXJndW1lbnRzIil9LFc9cygoZnVuY3Rpb24oZSx0KXt3KHRoaXMse3R5cGU6SSxpdGVyYXRvcjptKEMoZSkuZW50cmllcyksa2luZDp0fSl9KSwiSXRlcmF0b3IiLChmdW5jdGlvbigpe3ZhciBlPVIodGhpcyksdD1lLmtpbmQsbj1lLml0ZXJhdG9yLm5leHQoKSxyPW4udmFsdWU7cmV0dXJuIG4uZG9uZXx8KG4udmFsdWU9ImtleXMiPT09dD9yLmtleToidmFsdWVzIj09PXQ/ci52YWx1ZTpbci5rZXksci52YWx1ZV0pLG59KSksRj1mdW5jdGlvbigpe2YodGhpcyxGLFQpO3ZhciBlLHQsbixyLGksbyxhLGMsdSxzPWFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwLGQ9dGhpcyxwPVtdO2lmKHcoZCx7dHlwZTpULGVudHJpZXM6cCx1cGRhdGVVUkw6ZnVuY3Rpb24oKXt9LHVwZGF0ZVNlYXJjaFBhcmFtczpHfSksdm9pZCAwIT09cylpZih2KHMpKWlmKCJmdW5jdGlvbiI9PXR5cGVvZihlPU8ocykpKWZvcihuPSh0PWUuY2FsbChzKSkubmV4dDshKHI9bi5jYWxsKHQpKS5kb25lOyl7aWYoKGE9KG89KGk9bShiKHIudmFsdWUpKSkubmV4dCkuY2FsbChpKSkuZG9uZXx8KGM9by5jYWxsKGkpKS5kb25lfHwhby5jYWxsKGkpLmRvbmUpdGhyb3cgVHlwZUVycm9yKCJFeHBlY3RlZCBzZXF1ZW5jZSB3aXRoIGxlbmd0aCAyIik7cC5wdXNoKHtrZXk6YS52YWx1ZSsiIix2YWx1ZTpjLnZhbHVlKyIifSl9ZWxzZSBmb3IodSBpbiBzKWwocyx1KSYmcC5wdXNoKHtrZXk6dSx2YWx1ZTpzW3VdKyIifSk7ZWxzZSBNKHAsInN0cmluZyI9PXR5cGVvZiBzPyI/Ij09PXMuY2hhckF0KDApP3Muc2xpY2UoMSk6czpzKyIiKX0sej1GLnByb3RvdHlwZTtjKHose2FwcGVuZDpmdW5jdGlvbihlLHQpe0woYXJndW1lbnRzLmxlbmd0aCwyKTt2YXIgbj1DKHRoaXMpO24uZW50cmllcy5wdXNoKHtrZXk6ZSsiIix2YWx1ZTp0KyIifSksbi51cGRhdGVVUkwoKX0sZGVsZXRlOmZ1bmN0aW9uKGUpe0woYXJndW1lbnRzLmxlbmd0aCwxKTtmb3IodmFyIHQ9Qyh0aGlzKSxuPXQuZW50cmllcyxyPWUrIiIsaT0wO2k8bi5sZW5ndGg7KW5baV0ua2V5PT09cj9uLnNwbGljZShpLDEpOmkrKzt0LnVwZGF0ZVVSTCgpfSxnZXQ6ZnVuY3Rpb24oZSl7TChhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgdD1DKHRoaXMpLmVudHJpZXMsbj1lKyIiLHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdLmtleT09PW4pcmV0dXJuIHRbcl0udmFsdWU7cmV0dXJuIG51bGx9LGdldEFsbDpmdW5jdGlvbihlKXtMKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciB0PUModGhpcykuZW50cmllcyxuPWUrIiIscj1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXS5rZXk9PT1uJiZyLnB1c2godFtpXS52YWx1ZSk7cmV0dXJuIHJ9LGhhczpmdW5jdGlvbihlKXtMKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciB0PUModGhpcykuZW50cmllcyxuPWUrIiIscj0wO3I8dC5sZW5ndGg7KWlmKHRbcisrXS5rZXk9PT1uKXJldHVybiEwO3JldHVybiExfSxzZXQ6ZnVuY3Rpb24oZSx0KXtMKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciBuLHI9Qyh0aGlzKSxpPXIuZW50cmllcyxvPSExLGE9ZSsiIixjPXQrIiIsdT0wO3U8aS5sZW5ndGg7dSsrKShuPWlbdV0pLmtleT09PWEmJihvP2kuc3BsaWNlKHUtLSwxKToobz0hMCxuLnZhbHVlPWMpKTtvfHxpLnB1c2goe2tleTphLHZhbHVlOmN9KSxyLnVwZGF0ZVVSTCgpfSxzb3J0OmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9Qyh0aGlzKSxpPXIuZW50cmllcyxvPWkuc2xpY2UoKTtmb3IoaS5sZW5ndGg9MCxuPTA7bjxvLmxlbmd0aDtuKyspe2ZvcihlPW9bbl0sdD0wO3Q8bjt0KyspaWYoaVt0XS5rZXk+ZS5rZXkpe2kuc3BsaWNlKHQsMCxlKTticmVha310PT09biYmaS5wdXNoKGUpfXIudXBkYXRlVVJMKCl9LGZvckVhY2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49Qyh0aGlzKS5lbnRyaWVzLHI9cChlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpLGk9MDtpPG4ubGVuZ3RoOylyKCh0PW5baSsrXSkudmFsdWUsdC5rZXksdGhpcyl9LGtleXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFcodGhpcywia2V5cyIpfSx2YWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFcodGhpcywidmFsdWVzIil9LGVudHJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFcodGhpcywiZW50cmllcyIpfX0se2VudW1lcmFibGU6ITB9KSxhKHosQSx6LmVudHJpZXMpLGEoeiwidG9TdHJpbmciLChmdW5jdGlvbigpe2Zvcih2YXIgZSx0PUModGhpcykuZW50cmllcyxuPVtdLHI9MDtyPHQubGVuZ3RoOyllPXRbcisrXSxuLnB1c2gocShlLmtleSkrIj0iK3EoZS52YWx1ZSkpO3JldHVybiBuLmpvaW4oIiYiKX0pLHtlbnVtZXJhYmxlOiEwfSksdShGLFQpLHIoe2dsb2JhbDohMCxmb3JjZWQ6IW99LHtVUkxTZWFyY2hQYXJhbXM6Rn0pLG98fCJmdW5jdGlvbiIhPXR5cGVvZiBTfHwiZnVuY3Rpb24iIT10eXBlb2YgRXx8cih7Z2xvYmFsOiEwLGVudW1lcmFibGU6ITAsZm9yY2VkOiEwfSx7ZmV0Y2g6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9W2VdO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjEmJih2KHQ9YXJndW1lbnRzWzFdKSYmKG49dC5ib2R5LGcobik9PT1UJiYoKHI9dC5oZWFkZXJzP25ldyBFKHQuaGVhZGVycyk6bmV3IEUpLmhhcygiY29udGVudC10eXBlIil8fHIuc2V0KCJjb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCIpLHQ9eSh0LHtib2R5OmgoMCxTdHJpbmcobikpLGhlYWRlcnM6aCgwLHIpfSkpKSxpLnB1c2godCkpLFMuYXBwbHkodGhpcyxpKX19KSxlLmV4cG9ydHM9e1VSTFNlYXJjaFBhcmFtczpGLGdldFN0YXRlOkN9fSw0NTM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpLGk9bigyMSksbz1uKDE4KSxhPWkoIml0ZXJhdG9yIik7ZS5leHBvcnRzPSFyKChmdW5jdGlvbigpe3ZhciBlPW5ldyBVUkwoImI/YT0xJmI9MiZjPTMiLCJodHRwOi8vYSIpLHQ9ZS5zZWFyY2hQYXJhbXMsbj0iIjtyZXR1cm4gZS5wYXRobmFtZT0iYyUyMGQiLHQuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXt0LmRlbGV0ZSgiYiIpLG4rPXIrZX0pKSxvJiYhZS50b0pTT058fCF0LnNvcnR8fCJodHRwOi8vYS9jJTIwZD9hPTEmYz0zIiE9PWUuaHJlZnx8IjMiIT09dC5nZXQoImMiKXx8ImE9MSIhPT1TdHJpbmcobmV3IFVSTFNlYXJjaFBhcmFtcygiP2E9MSIpKXx8IXRbYV18fCJhIiE9PW5ldyBVUkwoImh0dHBzOi8vYUBiIikudXNlcm5hbWV8fCJiIiE9PW5ldyBVUkxTZWFyY2hQYXJhbXMobmV3IFVSTFNlYXJjaFBhcmFtcygiYT1iIikpLmdldCgiYSIpfHwieG4tLWUxYXliYyIhPT1uZXcgVVJMKCJodHRwOi8v0YLQtdGB0YIiKS5ob3N0fHwiIyVEMCVCMSIhPT1uZXcgVVJMKCJodHRwOi8vYSPQsSIpLmhhc2h8fCJhMWMzIiE9PW58fCJ4IiE9PW5ldyBVUkwoImh0dHA6Ly94Iix2b2lkIDApLmhvc3R9KSl9LDQ2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1uKDEyNSksYz1uKDI3KSx1PW4oMzApLHM9bigzMiksZD1uKDMxKSxmPW4oNjcpLGw9big3MSkscD1uKDU2KSxnPSJPYmplY3QgYWxyZWFkeSBpbml0aWFsaXplZCIsYj1jLldlYWtNYXA7aWYoYXx8Zi5zdGF0ZSl7dmFyIHY9Zi5zdGF0ZXx8KGYuc3RhdGU9bmV3IGIpLHk9di5nZXQsaD12LmhhcyxtPXYuc2V0O3I9ZnVuY3Rpb24oZSx0KXtpZihoLmNhbGwodixlKSl0aHJvdyBuZXcgVHlwZUVycm9yKGcpO3JldHVybiB0LmZhY2FkZT1lLG0uY2FsbCh2LGUsdCksdH0saT1mdW5jdGlvbihlKXtyZXR1cm4geS5jYWxsKHYsZSl8fHt9fSxvPWZ1bmN0aW9uKGUpe3JldHVybiBoLmNhbGwodixlKX19ZWxzZXt2YXIgTz1sKCJzdGF0ZSIpO3BbT109ITAscj1mdW5jdGlvbihlLHQpe2lmKGQoZSxPKSl0aHJvdyBuZXcgVHlwZUVycm9yKGcpO3JldHVybiB0LmZhY2FkZT1lLHMoZSxPLHQpLHR9LGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGQoZSxPKT9lW09dOnt9fSxvPWZ1bmN0aW9uKGUpe3JldHVybiBkKGUsTyl9fWUuZXhwb3J0cz17c2V0OnIsZ2V0OmksaGFzOm8sZW5mb3JjZTpmdW5jdGlvbihlKXtyZXR1cm4gbyhlKT9pKGUpOnIoZSx7fSl9LGdldHRlckZvcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG47aWYoIXUodCl8fChuPWkodCkpLnR5cGUhPT1lKXRocm93IFR5cGVFcnJvcigiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAiK2UrIiByZXF1aXJlZCIpO3JldHVybiBufX19fSw0ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHI9bigxMSksaT1uLm4ociksbz1uKDApLGE9e2J1Y2tldHM6W3ttYXg6NSxpbmNyZW1lbnQ6LjV9XX0sYz17YnVja2V0czpbe21heDoyMCxpbmNyZW1lbnQ6LjF9XX0sdT17YnVja2V0czpbe21heDoyMCxpbmNyZW1lbnQ6LjAxfV19LHM9e2J1Y2tldHM6W3ttYXg6MyxpbmNyZW1lbnQ6LjAxfSx7bWF4OjgsaW5jcmVtZW50Oi4wNX0se21heDoyMCxpbmNyZW1lbnQ6LjV9XX0sZD17YnVja2V0czpbe21heDo1LGluY3JlbWVudDouMDV9LHttYXg6MTAsaW5jcmVtZW50Oi4xfSx7bWF4OjIwLGluY3JlbWVudDouNX1dfTtmdW5jdGlvbiBmKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEscj1wYXJzZUZsb2F0KGUpO3JldHVybiBpc05hTihyKSYmKHI9IiIpLHtsb3c6IiI9PT1yPyIiOmwoZSxhLG4pLG1lZDoiIj09PXI/IiI6bChlLGMsbiksaGlnaDoiIj09PXI/IiI6bChlLHUsbiksYXV0bzoiIj09PXI/IiI6bChlLGQsbiksZGVuc2U6IiI9PT1yPyIiOmwoZSxzLG4pLGN1c3RvbToiIj09PXI/IiI6bChlLHQsbil9fWZ1bmN0aW9uIGwoZSx0LG4pe3ZhciByPSIiO2lmKCFwKHQpKXJldHVybiByO3ZhciBvPXQuYnVja2V0cy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubWF4PnQubWF4P2U6dH0pLHttYXg6MH0pLGE9MCxjPWkoKSh0LmJ1Y2tldHMsKGZ1bmN0aW9uKHQpe2lmKGU+by5tYXgqbil7dmFyIGk9dC5wcmVjaXNpb247dm9pZCAwPT09aSYmKGk9Mikscj0odC5tYXgqbikudG9GaXhlZChpKX1lbHNle2lmKGU8PXQubWF4Km4mJmU+PWEqbilyZXR1cm4gdC5taW49YSx0O2E9dC5tYXh9fSkpO3JldHVybiBjJiYocj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dm9pZCAwIT09dC5wcmVjaXNpb24/dC5wcmVjaXNpb246MixpPXQuaW5jcmVtZW50Km4sbz10Lm1pbipuLGE9TWF0aC5wb3coMTAscisyKSxjPShlKmEtbyphKS8oaSphKSx1PU1hdGguZmxvb3IoYykqaStvO3JldHVybih1PU51bWJlcih1LnRvRml4ZWQoMTApKSkudG9GaXhlZChyKX0oZSxjLG4pKSxyfWZ1bmN0aW9uIHAoZSl7aWYoT2JqZWN0KG8uaXNFbXB0eSkoZSl8fCFlLmJ1Y2tldHN8fCFBcnJheS5pc0FycmF5KGUuYnVja2V0cykpcmV0dXJuITE7dmFyIHQ9ITA7cmV0dXJuIGUuYnVja2V0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm1heCYmZS5pbmNyZW1lbnR8fCh0PSExKX0pKSx0fX0sNDk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oODQpLGk9big1MSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByKGkoZSkpfX0sNTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17SlNPTl9NQVBQSU5HOntQTF9DT0RFOiJjb2RlIixQTF9TSVpFOiJzaXplcyIsUExfQklEUzoiYmlkcyIsQkRfQklEREVSOiJiaWRkZXIiLEJEX0lEOiJwYXJhbXNkIixCRF9QTF9JRDoicGxhY2VtZW50SWQiLEFEU0VSVkVSX1RBUkdFVElORzoiYWRzZXJ2ZXJUYXJnZXRpbmciLEJEX1NFVFRJTkdfU1RBTkRBUkQ6InN0YW5kYXJkIn0sREVCVUdfTU9ERToicGJqc19kZWJ1ZyIsU1RBVFVTOntHT09EOjEsTk9fQklEOjJ9LENCOntUWVBFOntBTExfQklEU19CQUNLOiJhbGxSZXF1ZXN0ZWRCaWRzQmFjayIsQURfVU5JVF9CSURTX0JBQ0s6ImFkVW5pdEJpZHNCYWNrIixCSURfV09OOiJiaWRXb24iLFJFUVVFU1RfQklEUzoicmVxdWVzdEJpZHMifX0sRVZFTlRTOntBVUNUSU9OX0lOSVQ6ImF1Y3Rpb25Jbml0IixBVUNUSU9OX0VORDoiYXVjdGlvbkVuZCIsQklEX0FESlVTVE1FTlQ6ImJpZEFkanVzdG1lbnQiLEJJRF9USU1FT1VUOiJiaWRUaW1lb3V0IixCSURfUkVRVUVTVEVEOiJiaWRSZXF1ZXN0ZWQiLEJJRF9SRVNQT05TRToiYmlkUmVzcG9uc2UiLE5PX0JJRDoibm9CaWQiLEJJRF9XT046ImJpZFdvbiIsQklEREVSX0RPTkU6ImJpZGRlckRvbmUiLEJJRERFUl9FUlJPUjoiYmlkZGVyRXJyb3IiLFNFVF9UQVJHRVRJTkc6InNldFRhcmdldGluZyIsQkVGT1JFX1JFUVVFU1RfQklEUzoiYmVmb3JlUmVxdWVzdEJpZHMiLEJFRk9SRV9CSURERVJfSFRUUDoiYmVmb3JlQmlkZGVySHR0cCIsUkVRVUVTVF9CSURTOiJyZXF1ZXN0QmlkcyIsQUREX0FEX1VOSVRTOiJhZGRBZFVuaXRzIixBRF9SRU5ERVJfRkFJTEVEOiJhZFJlbmRlckZhaWxlZCIsQURfUkVOREVSX1NVQ0NFRURFRDoiYWRSZW5kZXJTdWNjZWVkZWQiLFRDRjJfRU5GT1JDRU1FTlQ6InRjZjJFbmZvcmNlbWVudCIsQVVDVElPTl9ERUJVRzoiYXVjdGlvbkRlYnVnIixCSURfVklFV0FCTEU6ImJpZFZpZXdhYmxlIixTVEFMRV9SRU5ERVI6InN0YWxlUmVuZGVyIn0sQURfUkVOREVSX0ZBSUxFRF9SRUFTT046e1BSRVZFTlRfV1JJVElOR19PTl9NQUlOX0RPQ1VNRU5UOiJwcmV2ZW50V3JpdGluZ09uTWFpbkRvY3VtZW50IixOT19BRDoibm9BZCIsRVhDRVBUSU9OOiJleGNlcHRpb24iLENBTk5PVF9GSU5EX0FEOiJjYW5ub3RGaW5kQWQiLE1JU1NJTkdfRE9DX09SX0FESUQ6Im1pc3NpbmdEb2NPckFkaWQifSxFVkVOVF9JRF9QQVRIUzp7YmlkV29uOiJhZFVuaXRDb2RlIn0sR1JBTlVMQVJJVFlfT1BUSU9OUzp7TE9XOiJsb3ciLE1FRElVTToibWVkaXVtIixISUdIOiJoaWdoIixBVVRPOiJhdXRvIixERU5TRToiZGVuc2UiLENVU1RPTToiY3VzdG9tIn0sVEFSR0VUSU5HX0tFWVM6e0JJRERFUjoiaGJfYmlkZGVyIixBRF9JRDoiaGJfYWRpZCIsUFJJQ0VfQlVDS0VUOiJoYl9wYiIsU0laRToiaGJfc2l6ZSIsREVBTDoiaGJfZGVhbCIsU09VUkNFOiJoYl9zb3VyY2UiLEZPUk1BVDoiaGJfZm9ybWF0IixVVUlEOiJoYl91dWlkIixDQUNIRV9JRDoiaGJfY2FjaGVfaWQiLENBQ0hFX0hPU1Q6ImhiX2NhY2hlX2hvc3QiLEFET01BSU46ImhiX2Fkb21haW4ifSxERUZBVUxUX1RBUkdFVElOR19LRVlTOntCSURERVI6ImhiX2JpZGRlciIsQURfSUQ6ImhiX2FkaWQiLFBSSUNFX0JVQ0tFVDoiaGJfcGIiLFNJWkU6ImhiX3NpemUiLERFQUw6ImhiX2RlYWwiLEZPUk1BVDoiaGJfZm9ybWF0IixVVUlEOiJoYl91dWlkIixDQUNIRV9IT1NUOiJoYl9jYWNoZV9ob3N0In0sTkFUSVZFX0tFWVM6e3RpdGxlOiJoYl9uYXRpdmVfdGl0bGUiLGJvZHk6ImhiX25hdGl2ZV9ib2R5Iixib2R5MjoiaGJfbmF0aXZlX2JvZHkyIixwcml2YWN5TGluazoiaGJfbmF0aXZlX3ByaXZhY3kiLHByaXZhY3lJY29uOiJoYl9uYXRpdmVfcHJpdmljb24iLHNwb25zb3JlZEJ5OiJoYl9uYXRpdmVfYnJhbmQiLGltYWdlOiJoYl9uYXRpdmVfaW1hZ2UiLGljb246ImhiX25hdGl2ZV9pY29uIixjbGlja1VybDoiaGJfbmF0aXZlX2xpbmt1cmwiLGRpc3BsYXlVcmw6ImhiX25hdGl2ZV9kaXNwbGF5dXJsIixjdGE6ImhiX25hdGl2ZV9jdGEiLHJhdGluZzoiaGJfbmF0aXZlX3JhdGluZyIsYWRkcmVzczoiaGJfbmF0aXZlX2FkZHJlc3MiLGRvd25sb2FkczoiaGJfbmF0aXZlX2Rvd25sb2FkcyIsbGlrZXM6ImhiX25hdGl2ZV9saWtlcyIscGhvbmU6ImhiX25hdGl2ZV9waG9uZSIscHJpY2U6ImhiX25hdGl2ZV9wcmljZSIsc2FsZVByaWNlOiJoYl9uYXRpdmVfc2FsZXByaWNlIixyZW5kZXJlclVybDoiaGJfcmVuZGVyZXJfdXJsIixhZFRlbXBsYXRlOiJoYl9hZFRlbXBsYXRlIn0sUzJTOntTUkM6InMycyIsREVGQVVMVF9FTkRQT0lOVDoiaHR0cHM6Ly9wcmViaWQuYWRueHMuY29tL3Bicy92MS9vcGVucnRiMi9hdWN0aW9uIixTWU5DRURfQklEREVSU19LRVk6InBianNTeW5jcyJ9LEJJRF9TVEFUVVM6e0JJRF9UQVJHRVRJTkdfU0VUOiJ0YXJnZXRpbmdTZXQiLFJFTkRFUkVEOiJyZW5kZXJlZCIsQklEX1JFSkVDVEVEOiJiaWRSZWplY3RlZCJ9fX0sNTA6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fS50b1N0cmluZztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LDUxOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAiK2UpO3JldHVybiBlfX0sNTI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTEpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIoZSkpfX0sNTM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjYpLGk9TWF0aC5taW47ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/aShyKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSw1NDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbigpe319LDU1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI2KTtlLmV4cG9ydHM9cn0sNTY6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LDU3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDU4KSxpPW4oNDIpLG89bigyMSkoIml0ZXJhdG9yIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKG51bGwhPWUpcmV0dXJuIGVbb118fGVbIkBAaXRlcmF0b3IiXXx8aVtyKGUpXX19LDU4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDY5KSxpPW4oNTApLG89bigyMSkoInRvU3RyaW5nVGFnIiksYT0iQXJndW1lbnRzIj09aShmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO2UuZXhwb3J0cz1yP2k6ZnVuY3Rpb24oZSl7dmFyIHQsbixyO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKG49ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2goZSl7fX0odD1PYmplY3QoZSksbykpP246YT9pKHQpOiJPYmplY3QiPT0ocj1pKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOnJ9fSw1OTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2OSksaT1uKDM0KS5mLG89bigzMiksYT1uKDMxKSxjPW4oMTI0KSx1PW4oMjEpKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixzKXtpZihlKXt2YXIgZD1uP2U6ZS5wcm90b3R5cGU7YShkLHUpfHxpKGQsdSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KSxzJiYhciYmbyhkLCJ0b1N0cmluZyIsYyl9fX0sNjA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7aS5wdXNoKGUpfSx0LmM9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWU7cmV0dXJuIGkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dD1lKHQpfSkpLHR9Y2F0Y2godCl7cmV0dXJuIGV9fSx0LmE9ZnVuY3Rpb24oKXtyZXR1cm4gb30sdC5mPWZ1bmN0aW9uKGUpe3IoZSl9LHQuZD1mdW5jdGlvbihlKXthLnB1c2goZSl9LHQuZT1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpbXSxyPWFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106dm9pZCAwO2EuZm9yRWFjaCgoZnVuY3Rpb24oaSl7aShlLHQsbixyKX0pKX07dmFyIHIsaT1bXTt2YXIgbz1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cj1lfSkpO3ZhciBhPVtdfSw2MTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcj1uKDApLGk9bigzKSxvPW4oMTIpLGE9bi5uKG8pLGM9big3KTtmdW5jdGlvbiB1KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsaSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEoYT0ocj1uLm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBzKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBzKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBzKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9aS5iLnNldERlZmF1bHRzKHt1c2VyU3luYzpPYmplY3Qoci5kZWVwQ2xvbmUpKHtzeW5jRW5hYmxlZDohMCxmaWx0ZXJTZXR0aW5nczp7aW1hZ2U6e2JpZGRlcnM6IioiLGZpbHRlcjoiaW5jbHVkZSJ9fSxzeW5jc1BlckJpZGRlcjo1LHN5bmNEZWxheTozZTMsYXVjdGlvbkRlbGF5OjB9KX0pO3ZhciBmPU9iamVjdChjLmEpKCJ1c2Vyc3luYyIpO3ZhciBsPSFPYmplY3Qoci5pc1NhZmFyaUJyb3dzZXIpKCkmJmYuY29va2llc0FyZUVuYWJsZWQoKSxwPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49e2ltYWdlOltdLGlmcmFtZTpbXX0sbz1uZXcgU2V0LGM9e30scz17aW1hZ2U6ITAsaWZyYW1lOiExfSxmPWUuY29uZmlnO2Z1bmN0aW9uIGwoKXtpZihmLnN5bmNFbmFibGVkJiZlLmJyb3dzZXJTdXBwb3J0c0Nvb2tpZXMpe3RyeXshZnVuY3Rpb24oKXtpZighcy5pZnJhbWUpcmV0dXJuO3Aobi5pZnJhbWUsKGZ1bmN0aW9uKGUpe3ZhciB0PXUoZSwyKSxpPXRbMF0sbz10WzFdO09iamVjdChyLmxvZ01lc3NhZ2UpKCJJbnZva2luZyBpZnJhbWUgdXNlciBzeW5jIGZvciBiaWRkZXI6ICIuY29uY2F0KGkpKSxPYmplY3Qoci5pbnNlcnRVc2VyU3luY0lmcmFtZSkobyksZnVuY3Rpb24oZSx0KXtlLmltYWdlPWUuaW1hZ2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZVswXSE9PXR9KSl9KG4saSl9KSl9KCksZnVuY3Rpb24oKXtpZighcy5pbWFnZSlyZXR1cm47cChuLmltYWdlLChmdW5jdGlvbihlKXt2YXIgdD11KGUsMiksbj10WzBdLGk9dFsxXTtPYmplY3Qoci5sb2dNZXNzYWdlKSgiSW52b2tpbmcgaW1hZ2UgcGl4ZWwgdXNlciBzeW5jIGZvciBiaWRkZXI6ICIuY29uY2F0KG4pKSxPYmplY3Qoci50cmlnZ2VyUGl4ZWwpKGkpfSkpfSgpfWNhdGNoKGUpe3JldHVybiBPYmplY3Qoci5sb2dFcnJvcikoIkVycm9yIGZpcmluZyB1c2VyIHN5bmNzIixlKX1uPXtpbWFnZTpbXSxpZnJhbWU6W119fX1mdW5jdGlvbiBwKGUsdCl7T2JqZWN0KHIuc2h1ZmZsZSkoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dChlKSxvLmFkZChlWzBdKX0pKX1mdW5jdGlvbiBnKGUsdCl7dmFyIG49Zi5maWx0ZXJTZXR0aW5ncztpZihmdW5jdGlvbihlLHQpe2lmKGUuYWxsJiZlW3RdKXJldHVybiBPYmplY3Qoci5sb2dXYXJuKSgnRGV0ZWN0ZWQgcHJlc2VuY2Ugb2YgdGhlICJmaWx0ZXJTZXR0aW5ncy5hbGwiIGFuZCAiZmlsdGVyU2V0dGluZ3MuJy5jb25jYXQodCwnIiBpbiB1c2VyU3luYyBjb25maWcuICBZb3UgY2Fubm90IG1peCAiYWxsIiB3aXRoICJpZnJhbWUvaW1hZ2UiIGNvbmZpZ3M7IHRoZXkgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZS4nKSksITE7dmFyIG49ZS5hbGw/ZS5hbGw6ZVt0XSxpPWUuYWxsPyJhbGwiOnQ7aWYoIW4pcmV0dXJuITE7dmFyIG89bi5maWx0ZXIsYT1uLmJpZGRlcnM7aWYobyYmImluY2x1ZGUiIT09byYmImV4Y2x1ZGUiIT09bylyZXR1cm4gT2JqZWN0KHIubG9nV2FybikoJ1VzZXJTeW5jICJmaWx0ZXJTZXR0aW5ncy4nLmNvbmNhdChpLCIuZmlsdGVyXCIgc2V0dGluZyAnIikuY29uY2F0KG8sIicgaXMgbm90IGEgdmFsaWQgb3B0aW9uOyB1c2UgZWl0aGVyICdpbmNsdWRlJyBvciAnZXhjbHVkZScuIikpLCExO2lmKCIqIiE9PWEmJiEoQXJyYXkuaXNBcnJheShhKSYmYS5sZW5ndGg+MCYmYS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmlzU3RyKShlKSYmIioiIT09ZX0pKSkpcmV0dXJuIE9iamVjdChyLmxvZ1dhcm4pKCdEZXRlY3RlZCBhbiBpbnZhbGlkIHNldHVwIGluIHVzZXJTeW5jICJmaWx0ZXJTZXR0aW5ncy4nLmNvbmNhdChpLCIuYmlkZGVyc1wiOyB1c2UgZWl0aGVyICcqJyAodG8gcmVwcmVzZW50IGFsbCBiaWRkZXJzKSBvciBhbiBhcnJheSBvZiBiaWRkZXJzLiIpKSwhMTtyZXR1cm4hMH0obixlKSl7c1tlXT0hMDt2YXIgaT1uLmFsbD9uLmFsbDpuW2VdLG89IioiPT09aS5iaWRkZXJzP1t0XTppLmJpZGRlcnM7cmV0dXJue2luY2x1ZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hYSgpKGUsdCl9LGV4Y2x1ZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYSgpKGUsdCl9fVtpLmZpbHRlcnx8ImluY2x1ZGUiXShvLHQpfXJldHVybiFzW2VdfXJldHVybiBpLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIsKGZ1bmN0aW9uKGUpe2lmKGUudXNlclN5bmMpe3ZhciB0PWUudXNlclN5bmMuZmlsdGVyU2V0dGluZ3M7T2JqZWN0KHIuaXNQbGFpbk9iamVjdCkodCkmJih0LmltYWdlfHx0LmFsbHx8KGUudXNlclN5bmMuZmlsdGVyU2V0dGluZ3MuaW1hZ2U9e2JpZGRlcnM6IioiLGZpbHRlcjoiaW5jbHVkZSJ9KSl9Zj1kKGYsZS51c2VyU3luYyl9KSksdC5yZWdpc3RlclN5bmM9ZnVuY3Rpb24oZSxpLGEpe3JldHVybiBvLmhhcyhpKT9PYmplY3Qoci5sb2dNZXNzYWdlKSgnYWxyZWFkeSBmaXJlZCBzeW5jcyBmb3IgIicuY29uY2F0KGksJyIsIGlnbm9yaW5nIHJlZ2lzdGVyU3luYyBjYWxsJykpOmYuc3luY0VuYWJsZWQmJk9iamVjdChyLmlzQXJyYXkpKG5bZV0pP2k/MCE9PWYuc3luY3NQZXJCaWRkZXImJk51bWJlcihjW2ldKT49Zi5zeW5jc1BlckJpZGRlcj9PYmplY3Qoci5sb2dXYXJuKSgnTnVtYmVyIG9mIHVzZXIgc3luY3MgZXhjZWVkZWQgZm9yICInLmNvbmNhdChpLCciJykpOnQuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jKGUsaSk/KG5bZV0ucHVzaChbaSxhXSksdm9pZChjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF0/ZVt0XSs9MTplW3RdPTEsZX0oYyxpKSkpOk9iamVjdChyLmxvZ1dhcm4pKCdCaWRkZXIgIicuY29uY2F0KGksJyIgbm90IHBlcm1pdHRlZCB0byByZWdpc3RlciB0aGVpciAiJykuY29uY2F0KGUsJyIgdXNlclN5bmMgcGl4ZWxzLicpKTpPYmplY3Qoci5sb2dXYXJuKSgiQmlkZGVyIGlzIHJlcXVpcmVkIGZvciByZWdpc3RlcmluZyBzeW5jIik6T2JqZWN0KHIubG9nV2FybikoJ1VzZXIgc3luYyB0eXBlICInLmNvbmNhdChlLCciIG5vdCBzdXBwb3J0ZWQnKSl9LHQuc3luY1VzZXJzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7aWYoZSlyZXR1cm4gc2V0VGltZW91dChsLE51bWJlcihlKSk7bCgpfSx0LnRyaWdnZXJVc2VyU3luY3M9ZnVuY3Rpb24oKXtmLmVuYWJsZU92ZXJyaWRlJiZ0LnN5bmNVc2VycygpfSx0LmNhbkJpZGRlclJlZ2lzdGVyU3luYz1mdW5jdGlvbihlLHQpe3JldHVybiFmLmZpbHRlclNldHRpbmdzfHwhZyhlLHQpfSx0fSh7Y29uZmlnOmkuYi5nZXRDb25maWcoInVzZXJTeW5jIiksYnJvd3NlclN1cHBvcnRzQ29va2llczpsfSl9LDYyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7by5hZFNlcnZlcnM9by5hZFNlcnZlcnN8fHt9LG8uYWRTZXJ2ZXJzW2VdPW8uYWRTZXJ2ZXJzW2VdfHx7fSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtvLmFkU2VydmVyc1tlXVtuXT9PYmplY3QoaS5sb2dXYXJuKSgiQXR0ZW1wdGluZyB0byBhZGQgYW4gYWxyZWFkeSByZWdpc3RlcmVkIGZ1bmN0aW9uIHByb3BlcnR5ICIuY29uY2F0KG4sIiBmb3IgQWRTZXJ2ZXIgIikuY29uY2F0KGUsIi4iKSk6by5hZFNlcnZlcnNbZV1bbl09dFtuXX0pKX07dmFyIHI9bigxNCksaT1uKDApLG89T2JqZWN0KHIuYSkoKX0sNjM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtyZXR1cm57Y2FsbEJpZHM6ZnVuY3Rpb24oKXt9LHNldEJpZGRlckNvZGU6ZnVuY3Rpb24oZSl7dD1lfSxnZXRCaWRkZXJDb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHR9fX19LDY0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighcihlKSlyZXR1cm4gZTt2YXIgbixpO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZihuPWUudG9TdHJpbmcpJiYhcihpPW4uY2FsbChlKSkpcmV0dXJuIGk7aWYoImZ1bmN0aW9uIj09dHlwZW9mKG49ZS52YWx1ZU9mKSYmIXIoaT1uLmNhbGwoZSkpKXJldHVybiBpO2lmKCF0JiYiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwoZSkpKXJldHVybiBpO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSw2NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNSksaT1uKDg0KSxvPW4oNTIpLGE9big1MyksYz1uKDExMSksdT1bXS5wdXNoLHM9ZnVuY3Rpb24oZSl7dmFyIHQ9MT09ZSxuPTI9PWUscz0zPT1lLGQ9ND09ZSxmPTY9PWUsbD03PT1lLHA9NT09ZXx8ZjtyZXR1cm4gZnVuY3Rpb24oZyxiLHYseSl7Zm9yKHZhciBoLG0sTz1vKGcpLGo9aShPKSxTPXIoYix2LDMpLEU9YShqLmxlbmd0aCksQT0wLFQ9eXx8YyxJPXQ/VChnLEUpOm58fGw/VChnLDApOnZvaWQgMDtFPkE7QSsrKWlmKChwfHxBIGluIGopJiYobT1TKGg9altBXSxBLE8pLGUpKWlmKHQpSVtBXT1tO2Vsc2UgaWYobSlzd2l0Y2goZSl7Y2FzZSAzOnJldHVybiEwO2Nhc2UgNTpyZXR1cm4gaDtjYXNlIDY6cmV0dXJuIEE7Y2FzZSAyOnUuY2FsbChJLGgpfWVsc2Ugc3dpdGNoKGUpe2Nhc2UgNDpyZXR1cm4hMTtjYXNlIDc6dS5jYWxsKEksaCl9cmV0dXJuIGY/LTE6c3x8ZD9kOkl9fTtlLmV4cG9ydHM9e2ZvckVhY2g6cygwKSxtYXA6cygxKSxmaWx0ZXI6cygyKSxzb21lOnMoMyksZXZlcnk6cyg0KSxmaW5kOnMoNSksZmluZEluZGV4OnMoNiksZmlsdGVyT3V0OnMoNyl9fSw2NjpmdW5jdGlvbihlLHQpe3ZhciBuPU1hdGguY2VpbCxyPU1hdGguZmxvb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/cjpuKShlKX19LDY3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI3KSxpPW4oMTEzKSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGE9cltvXXx8aShvLHt9KTtlLmV4cG9ydHM9YX0sNjg6ZnVuY3Rpb24oZSx0KXt2YXIgbj0wLHI9TWF0aC5yYW5kb20oKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIlN5bWJvbCgiK1N0cmluZyh2b2lkIDA9PT1lPyIiOmUpKyIpXyIrKCsrbityKS50b1N0cmluZygzNil9fSw2OTpmdW5jdGlvbihlLHQsbil7dmFyIHI9e307cltuKDIxKSgidG9TdHJpbmdUYWciKV09InoiLGUuZXhwb3J0cz0iW29iamVjdCB6XSI9PT1TdHJpbmcocil9LDc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5kKHQsImQiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLHQuYT1mdW5jdGlvbihlKXtyZXR1cm4gcyh7bW9kdWxlTmFtZTplLG1vZHVsZVR5cGU6ImNvcmUifSl9LHQuYj1mdW5jdGlvbihlLHQpe3JldHVybiBzKHtndmxpZDplLG1vZHVsZU5hbWU6dH0pfTt2YXIgcj1uKDkpLGk9bigwKSxvPW4oMTIpLGE9bi5uKG8pLGM9WyJjb3JlIiwicHJlYmlkLW1vZHVsZSJdLHU9W107ZnVuY3Rpb24gcygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUuZ3ZsaWQsbj1lLm1vZHVsZU5hbWUscj1lLm1vZHVsZVR5cGU7ZnVuY3Rpb24gbyhlKXtpZihhKCkoYyxyKSl7cmV0dXJuIGUoe3ZhbGlkOiEwfSl9dmFyIG87cmV0dXJuIGQodCxuLHtoYXNFbmZvcmNlbWVudEhvb2s6ITF9LChmdW5jdGlvbih0KXtpZih0JiZ0Lmhhc0VuZm9yY2VtZW50SG9vaylvPWUodCk7ZWxzZXt2YXIgbj17aGFzRW5mb3JjZW1lbnRIb29rOiExLHZhbGlkOk9iamVjdChpLmhhc0RldmljZUFjY2VzcykoKX07bz1lKG4pfX0pKSxvfXZhciBzPWZ1bmN0aW9uKGUsdCxuLHIsaSxhKXt2YXIgYz1mdW5jdGlvbihvKXtpZihvJiZvLnZhbGlkKXt2YXIgYT1pJiYiIiE9PWk/IiA7ZG9tYWluPSIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChpKSk6IiIsYz1uJiYiIiE9PW4/IiA7ZXhwaXJlcz0iLmNvbmNhdChuKToiIix1PW51bGwhPXImJiJub25lIj09ci50b0xvd2VyQ2FzZSgpPyI7IFNlY3VyZSI6IiI7ZG9jdW1lbnQuY29va2llPSIiLmNvbmNhdChlLCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0KSkuY29uY2F0KGMsIjsgcGF0aD0vIikuY29uY2F0KGEpLmNvbmNhdChyPyI7IFNhbWVTaXRlPSIuY29uY2F0KHIpOiIiKS5jb25jYXQodSl9fTtpZighYXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGEpcmV0dXJuIG8oYyk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8oYyk7YShlKX0pKX0sZj1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe2lmKHQmJnQudmFsaWQpe3ZhciBuPXdpbmRvdy5kb2N1bWVudC5jb29raWUubWF0Y2goIihefDspXFxzKiIrZSsiXFxzKj1cXHMqKFteO10qKVxccyooO3wkKSIpO3JldHVybiBuP2RlY29kZVVSSUNvbXBvbmVudChuWzJdKTpudWxsfXJldHVybiBudWxsfTtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIG8obik7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8obik7dChlKX0pKX0sbD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtpZihlJiZlLnZhbGlkKXRyeXtyZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oInByZWJpZC5jb29raWVUZXN0IiwiMSIpLCIxIj09PWxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwcmViaWQuY29va2llVGVzdCIpfWNhdGNoKGUpe31maW5hbGx5e3RyeXtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgicHJlYmlkLmNvb2tpZVRlc3QiKX1jYXRjaChlKXt9fXJldHVybiExfTtpZighZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUpcmV0dXJuIG8odCk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBuPW8odCk7ZShuKX0pKX0scD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS52YWxpZCkmJighIU9iamVjdChpLmNoZWNrQ29va2llU3VwcG9ydCkoKXx8KHdpbmRvdy5kb2N1bWVudC5jb29raWU9InByZWJpZC5jb29raWVUZXN0IiwtMSE9PXdpbmRvdy5kb2N1bWVudC5jb29raWUuaW5kZXhPZigicHJlYmlkLmNvb2tpZVRlc3QiKSkpfTtpZighZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUpcmV0dXJuIG8odCk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBuPW8odCk7ZShuKX0pKX0sZz1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZnVuY3Rpb24obil7biYmbi52YWxpZCYmeSgpJiZ3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oZSx0KX07aWYoIW58fCJmdW5jdGlvbiIhPXR5cGVvZiBuKXJldHVybiBvKHIpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKHIpO24oZSl9KSl9LGI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC52YWxpZCYmeSgpP3dpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKTpudWxsfTtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIG8obik7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8obik7dChlKX0pKX0sdj1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe3QmJnQudmFsaWQmJnkoKSYmd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGUpfTtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIG8obik7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8obik7dChlKX0pKX0seT1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtpZihlJiZlLnZhbGlkKXRyeXtyZXR1cm4hIXdpbmRvdy5sb2NhbFN0b3JhZ2V9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJMb2NhbCBzdG9yYWdlIGFwaSBkaXNhYmxlZCIpfXJldHVybiExfTtpZighZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUpcmV0dXJuIG8odCk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBuPW8odCk7ZShuKX0pKX0saD1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe2lmKHQmJnQudmFsaWQpe3ZhciBuPVtdO2lmKE9iamVjdChpLmhhc0RldmljZUFjY2VzcykoKSlmb3IodmFyIHI9ZG9jdW1lbnQuY29va2llLnNwbGl0KCI7Iik7ci5sZW5ndGg7KXt2YXIgbz1yLnBvcCgpLGE9by5pbmRleE9mKCI9Iik7YT1hPDA/by5sZW5ndGg6YSxkZWNvZGVVUklDb21wb25lbnQoby5zbGljZSgwLGEpLnJlcGxhY2UoL15ccysvLCIiKSkuaW5kZXhPZihlKT49MCYmbi5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChvLnNsaWNlKGErMSkpKX1yZXR1cm4gbn19O2lmKCF0fHwiZnVuY3Rpb24iIT10eXBlb2YgdClyZXR1cm4gbyhuKTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIGU9byhuKTt0KGUpfSkpfTtyZXR1cm57c2V0Q29va2llOnMsZ2V0Q29va2llOmYsbG9jYWxTdG9yYWdlSXNFbmFibGVkOmwsY29va2llc0FyZUVuYWJsZWQ6cCxzZXREYXRhSW5Mb2NhbFN0b3JhZ2U6ZyxnZXREYXRhRnJvbUxvY2FsU3RvcmFnZTpiLHJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlOnYsaGFzTG9jYWxTdG9yYWdlOnksZmluZFNpbWlsYXJDb29raWVzOmh9fXZhciBkPU9iamVjdChyLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLHIpe3Iobil9KSwidmFsaWRhdGVTdG9yYWdlRW5mb3JjZW1lbnQiKX0sNzA6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcigiSW5jb3JyZWN0ICIrKG4/bisiICI6IiIpKyJpbnZvY2F0aW9uIik7cmV0dXJuIGV9fSw3MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big4NyksaT1uKDY4KSxvPXIoImtleXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV18fChvW2VdPWkoZSkpfX0sNzI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9bigxNiksbz1uKDEyOCksYT1uKDk0KSxjPW4oNTYpLHU9bigxMzEpLHM9big4NiksZD1uKDcxKSxmPWQoIklFX1BST1RPIiksbD1mdW5jdGlvbigpe30scD1mdW5jdGlvbihlKXtyZXR1cm4iPHNjcmlwdD4iK2UrIjwvIisic2NyaXB0PiJ9LGc9ZnVuY3Rpb24oKXt0cnl7cj1kb2N1bWVudC5kb21haW4mJm5ldyBBY3RpdmVYT2JqZWN0KCJodG1sZmlsZSIpfWNhdGNoKGUpe312YXIgZSx0O2c9cj9mdW5jdGlvbihlKXtlLndyaXRlKHAoIiIpKSxlLmNsb3NlKCk7dmFyIHQ9ZS5wYXJlbnRXaW5kb3cuT2JqZWN0O3JldHVybiBlPW51bGwsdH0ocik6KCh0PXMoImlmcmFtZSIpKS5zdHlsZS5kaXNwbGF5PSJub25lIix1LmFwcGVuZENoaWxkKHQpLHQuc3JjPVN0cmluZygiamF2YXNjcmlwdDoiKSwoZT10LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpLm9wZW4oKSxlLndyaXRlKHAoImRvY3VtZW50LkY9T2JqZWN0IikpLGUuY2xvc2UoKSxlLkYpO2Zvcih2YXIgbj1hLmxlbmd0aDtuLS07KWRlbGV0ZSBnLnByb3RvdHlwZVthW25dXTtyZXR1cm4gZygpfTtjW2ZdPSEwLGUuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBudWxsIT09ZT8obC5wcm90b3R5cGU9aShlKSxuPW5ldyBsLGwucHJvdG90eXBlPW51bGwsbltmXT1lKTpuPWcoKSx2b2lkIDA9PT10P246byhuLHQpfX0sNzM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixpKXtpJiZpLmVudW1lcmFibGU/ZVt0XT1uOnIoZSx0LG4pfX0sNzQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oOTYpLG89big5OCksYT1uKDEzMyksYz1uKDU5KSx1PW4oMzIpLHM9big3MyksZD1uKDIxKSxmPW4oMTgpLGw9big0MikscD1uKDk3KSxnPXAuSXRlcmF0b3JQcm90b3R5cGUsYj1wLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMsdj1kKCJpdGVyYXRvciIpLHk9ImtleXMiLGg9InZhbHVlcyIsbT0iZW50cmllcyIsTz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4sZCxwLGosUyl7aShuLHQsZCk7dmFyIEUsQSxULEk9ZnVuY3Rpb24oZSl7aWYoZT09PXAmJlUpcmV0dXJuIFU7aWYoIWImJmUgaW4gUilyZXR1cm4gUltlXTtzd2l0Y2goZSl7Y2FzZSB5OmNhc2UgaDpjYXNlIG06cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzKX19LHc9dCsiIEl0ZXJhdG9yIixDPSExLFI9ZS5wcm90b3R5cGUsXz1SW3ZdfHxSWyJAQGl0ZXJhdG9yIl18fHAmJlJbcF0sVT0hYiYmX3x8SShwKSxCPSJBcnJheSI9PXQmJlIuZW50cmllc3x8XztpZihCJiYoRT1vKEIuY2FsbChuZXcgZSkpLGchPT1PYmplY3QucHJvdG90eXBlJiZFLm5leHQmJihmfHxvKEUpPT09Z3x8KGE/YShFLGcpOiJmdW5jdGlvbiIhPXR5cGVvZiBFW3ZdJiZ1KEUsdixPKSksYyhFLHcsITAsITApLGYmJihsW3ddPU8pKSkscD09aCYmXyYmXy5uYW1lIT09aCYmKEM9ITAsVT1mdW5jdGlvbigpe3JldHVybiBfLmNhbGwodGhpcyl9KSxmJiYhU3x8Ult2XT09PVV8fHUoUix2LFUpLGxbdF09VSxwKWlmKEE9e3ZhbHVlczpJKGgpLGtleXM6aj9VOkkoeSksZW50cmllczpJKG0pfSxTKWZvcihUIGluIEEpKGJ8fEN8fCEoVCBpbiBSKSkmJnMoUixULEFbVF0pO2Vsc2Ugcih7dGFyZ2V0OnQscHJvdG86ITAsZm9yY2VkOmJ8fEN9LEEpO3JldHVybiBBfX0sNzU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9big1Nyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWkoZSk7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKFN0cmluZyhlKSsiIGlzIG5vdCBpdGVyYWJsZSIpO3JldHVybiByKHQuY2FsbChlKSl9fSw3NjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNjIpO2UuZXhwb3J0cz1yfSw3NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj1uKDApLGk9e307ZnVuY3Rpb24gbyhlLHQsbil7dmFyIHI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1pW2VdPWlbZV18fHtiaWRkZXJzOnt9fTtyZXR1cm4gdD9uLmJpZGRlcnNbdF09bi5iaWRkZXJzW3RdfHx7fTpufShlLG4pO3JldHVybiByW3RdPShyW3RdfHwwKSsxLHJbdF19dmFyIGE9e2luY3JlbWVudFJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlKXtyZXR1cm4gbyhlLCJyZXF1ZXN0c0NvdW50ZXIiKX0saW5jcmVtZW50QmlkZGVyUmVxdWVzdHNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oZSwicmVxdWVzdHNDb3VudGVyIix0KX0saW5jcmVtZW50QmlkZGVyV2luc0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyhlLCJ3aW5zQ291bnRlciIsdCl9LGdldFJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoaSwiIi5jb25jYXQoZSwiLnJlcXVlc3RzQ291bnRlciIpKXx8MH0sZ2V0QmlkZGVyUmVxdWVzdHNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGksIiIuY29uY2F0KGUsIi5iaWRkZXJzLiIpLmNvbmNhdCh0LCIucmVxdWVzdHNDb3VudGVyIikpfHwwfSxnZXRCaWRkZXJXaW5zQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShpLCIiLmNvbmNhdChlLCIuYmlkZGVycy4iKS5jb25jYXQodCwiLndpbnNDb3VudGVyIikpfHwwfX19LDg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsImdkcHJEYXRhSGFuZGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSksbi5kKHQsInVzcERhdGFIYW5kbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gVX0pKSxuLmQodCwiY29wcGFEYXRhSGFuZGxlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksbi5kKHQsImNsaWVudFRlc3RBZGFwdGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKHQsImFsbFMyU0JpZGRlcnMiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLHQuZ2V0QWxsUzJTQmlkZGVycz1rLHQuc2V0UzJTVGVzdGluZ01vZHVsZT1mdW5jdGlvbihlKXtqPWV9O3ZhciByPW4oMCksaT1uKDEwMSksbz1uKDM4KSxhPW4oMSksYz1uKDQpLHU9bigzKSxzPW4oOSksZD1uKDEyKSxmPW4ubihkKSxsPW4oMTEpLHA9bi5uKGwpLGc9big3NyksYj1uKDE5KTtmdW5jdGlvbiB2KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsaSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEoYT0ocj1uLm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8aChlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbShlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGgoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gaChlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP20oZSx0KTp2b2lkIDB9fWZ1bmN0aW9uIG0oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBPKCl7cmV0dXJuKE89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgaixTPW4oNSksRT1uKDEwKSxBPXt9LFQ9QS5iaWRkZXJSZWdpc3RyeT17fSxJPUEuYWxpYXNSZWdpc3RyeT17fSx3PVtdO3UuYi5nZXRDb25maWcoInMyc0NvbmZpZyIsKGZ1bmN0aW9uKGUpe2UmJmUuczJzQ29uZmlnJiYodz1PYmplY3Qoci5pc0FycmF5KShlLnMyc0NvbmZpZyk/ZS5zMnNDb25maWc6W2UuczJzQ29uZmlnXSl9KSk7dmFyIEM9e307dmFyIFI9T2JqZWN0KHMuYikoInN5bmMiLChmdW5jdGlvbihlKXt2YXIgdD1lLmJpZGRlckNvZGUsbj1lLmF1Y3Rpb25JZCxhPWUuYmlkZGVyUmVxdWVzdElkLGM9ZS5hZFVuaXRzLHU9ZS5sYWJlbHMscz1lLnNyYztyZXR1cm4gYy5yZWR1Y2UoKGZ1bmN0aW9uKGUsYyl7dmFyIGQ9T2JqZWN0KGkuYikoT2JqZWN0KGkuYSkoYyx1KSxjLm1lZGlhVHlwZXMsYy5zaXplcyksZj1kLmFjdGl2ZSxsPWQubWVkaWFUeXBlcyxwPWQuZmlsdGVyUmVzdWx0cztyZXR1cm4gZj9wJiZPYmplY3Qoci5sb2dJbmZvKSgnU2l6ZSBtYXBwaW5nIGZpbHRlcmVkIGFkVW5pdCAiJy5jb25jYXQoYy5jb2RlLCciIGJhbm5lciBzaXplcyBmcm9tICcpLHAuYmVmb3JlLCJ0byAiLHAuYWZ0ZXIpOk9iamVjdChyLmxvZ0luZm8pKCdTaXplIG1hcHBpbmcgZGlzYWJsZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyInKSksZiYmZS5wdXNoKGMuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PXR9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBkPWMubmF0aXZlUGFyYW1zfHxPYmplY3Qoci5kZWVwQWNjZXNzKShjLCJtZWRpYVR5cGVzLm5hdGl2ZSIpO2QmJih0PU8oe30sdCx7bmF0aXZlUGFyYW1zOk9iamVjdChvLmgpKGQpfSkpLHQ9Tyh7fSx0LE9iamVjdChyLmdldERlZmluZWRQYXJhbXMpKGMsWyJvcnRiMkltcCIsIm1lZGlhVHlwZSIsInJlbmRlcmVyIiwic3RvcmVkQXVjdGlvblJlc3BvbnNlIl0pKTt2YXIgZj1PYmplY3QoaS5iKShPYmplY3QoaS5hKSh0LHUpLGwpLHA9Zi5hY3RpdmUsYj1mLm1lZGlhVHlwZXMsdj1mLmZpbHRlclJlc3VsdHM7cmV0dXJuIHA/diYmT2JqZWN0KHIubG9nSW5mbykoJ1NpemUgbWFwcGluZyBmaWx0ZXJlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIiBiaWRkZXIgIicpLmNvbmNhdCh0LmJpZGRlciwnIiBiYW5uZXIgc2l6ZXMgZnJvbSAnKSx2LmJlZm9yZSwidG8gIix2LmFmdGVyKTpPYmplY3Qoci5sb2dJbmZvKSgnU2l6ZSBtYXBwaW5nIGRlYWN0aXZhdGVkIGFkVW5pdCAiJy5jb25jYXQoYy5jb2RlLCciIGJpZGRlciAiJykuY29uY2F0KHQuYmlkZGVyLCciJykpLE9iamVjdChyLmlzVmFsaWRNZWRpYVR5cGVzKShiKT90PU8oe30sdCx7bWVkaWFUeXBlczpifSk6T2JqZWN0KHIubG9nRXJyb3IpKCJtZWRpYVR5cGVzIGlzIG5vdCBjb3JyZWN0bHkgY29uZmlndXJlZCBmb3IgYWR1bml0ICIuY29uY2F0KGMuY29kZSkpLHAmJmUucHVzaChPKHt9LHQse2FkVW5pdENvZGU6Yy5jb2RlLHRyYW5zYWN0aW9uSWQ6Yy50cmFuc2FjdGlvbklkLHNpemVzOk9iamVjdChyLmRlZXBBY2Nlc3MpKGIsImJhbm5lci5zaXplcyIpfHxPYmplY3Qoci5kZWVwQWNjZXNzKShiLCJ2aWRlby5wbGF5ZXJTaXplIil8fFtdLGJpZElkOnQuYmlkX2lkfHxPYmplY3Qoci5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLGJpZGRlclJlcXVlc3RJZDphLGF1Y3Rpb25JZDpuLHNyYzpzLGJpZFJlcXVlc3RzQ291bnQ6Zy5hLmdldFJlcXVlc3RzQ291bnRlcihjLmNvZGUpLGJpZGRlclJlcXVlc3RzQ291bnQ6Zy5hLmdldEJpZGRlclJlcXVlc3RzQ291bnRlcihjLmNvZGUsdC5iaWRkZXIpLGJpZGRlcldpbnNDb3VudDpnLmEuZ2V0QmlkZGVyV2luc0NvdW50ZXIoYy5jb2RlLHQuYmlkZGVyKX0pKSxlfSksW10pKSxlfSksW10pLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIiIhPT1lfSkpfSksImdldEJpZHMiKTt2YXIgXz17Y29uc2VudERhdGE6bnVsbCxzZXRDb25zZW50RGF0YTpmdW5jdGlvbihlKXtfLmNvbnNlbnREYXRhPWV9LGdldENvbnNlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIF8uY29uc2VudERhdGF9fSxVPXtjb25zZW50RGF0YTpudWxsLHNldENvbnNlbnREYXRhOmZ1bmN0aW9uKGUpe1UuY29uc2VudERhdGE9ZX0sZ2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gVS5jb25zZW50RGF0YX19LEI9e2dldENvcHBhOmZ1bmN0aW9uKCl7cmV0dXJuISF1LmIuZ2V0Q29uZmlnKCJjb3BwYSIpfX0seD1bXSxEPVtdO2Z1bmN0aW9uIGsoKXtBLnMyU1Rlc3RpbmdFbmFibGVkPSExLHcuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSYmZS5lbmFibGVkJiZlLmJpZGRlcnMmJmUuYmlkZGVycy5sZW5ndGgmJkQucHVzaC5hcHBseShELHkoZS5iaWRkZXJzKSl9KSl9ZnVuY3Rpb24gTihlKXtyZXR1cm4gZSYmZS5lbmFibGVkJiZlLnRlc3RpbmcmJmp9ZnVuY3Rpb24gUChlLHQsbil7dHJ5e3ZhciBpPVRbZV0uZ2V0U3BlYygpO2kmJmlbdF0mJiJmdW5jdGlvbiI9PXR5cGVvZiBpW3RdJiYoT2JqZWN0KHIubG9nSW5mbykoIkludm9raW5nICIuY29uY2F0KGUsIi4iKS5jb25jYXQodCkpLHUuYi5ydW5XaXRoQmlkZGVyKGUsci5iaW5kLmNhbGwoaVt0XSxpLG4pKSl9Y2F0Y2gobil7T2JqZWN0KHIubG9nV2FybikoIkVycm9yIGNhbGxpbmcgIi5jb25jYXQodCwiIG9mICIpLmNvbmNhdChlKSl9fUEubWFrZUJpZFJlcXVlc3RzPU9iamVjdChzLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSx0LG4saSxvKXtFLmVtaXQoUy5FVkVOVFMuQkVGT1JFX1JFUVVFU1RfQklEUyxlKTt2YXIgYT1PYmplY3Qoci5nZXRCaWRkZXJDb2RlcykoZSk7dS5iLmdldENvbmZpZygiYmlkZGVyU2VxdWVuY2UiKT09PXUuYSYmKGE9T2JqZWN0KHIuc2h1ZmZsZSkoYSkpO3ZhciBjPU9iamVjdChiLmEpKCkscz1hLGQ9W107MD09PUQubGVuZ3RoJiZrKCksdy5mb3JFYWNoKChmdW5jdGlvbih0KXt0JiZ0LmVuYWJsZWQmJihOKHQpJiYoai5jYWxjdWxhdGVCaWRTb3VyY2VzKHQpLGouZ2V0U291cmNlQmlkZGVyTWFwKGUsRClbai5DTElFTlRdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2YoKSh4LGUpfHx4LnB1c2goZSl9KSkpKX0pKSxzPWEuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZigpKEQsZSl8fGYoKSh4LGUpfSkpO3ZhciBsPUQ7dy5mb3JFYWNoKChmdW5jdGlvbihpKXtpZihpJiZpLmVuYWJsZWQpeyhmdW5jdGlvbihlKXtyZXR1cm4gQm9vbGVhbihOKGUpJiZlLnRlc3RTZXJ2ZXJPbmx5KX0pKGkpJiZmdW5jdGlvbihlLHQpe3JldHVybiBCb29sZWFuKHAoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gcCgpKGUuYmlkcywoZnVuY3Rpb24oZSl7cmV0dXJuKGUuYmlkU291cmNlfHx0LmJpZGRlckNvbnRyb2wmJnQuYmlkZGVyQ29udHJvbFtlLmJpZGRlcl0pJiZlLmZpbmFsU291cmNlPT09ai5TRVJWRVJ9KSl9KSkpfShlLGkpJiYoT2JqZWN0KHIubG9nV2FybikoInRlc3RTZXJ2ZXJPbmx5OiBUcnVlLiAgQWxsIGNsaWVudCByZXF1ZXN0cyB3aWxsIGJlIHN1cHByZXNzZWQuIikscy5sZW5ndGg9MCk7dmFyIGE9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmJpZGRlcnMsaT1PYmplY3Qoci5kZWVwQ2xvbmUpKGUpO3JldHVybiBpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkcz1lLmJpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG4sZS5iaWRkZXIpJiYoIU4odCl8fGUuZmluYWxTb3VyY2UhPT1qLkNMSUVOVCl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRfaWQ9T2JqZWN0KHIuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxlfSkpfSkpLGkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMCE9PWUuYmlkcy5sZW5ndGh9KSl9KGUsaSksdT1PYmplY3Qoci5nZW5lcmF0ZVVVSUQpKCk7bC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcz1PYmplY3Qoci5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLGY9e2JpZGRlckNvZGU6ZSxhdWN0aW9uSWQ6bixiaWRkZXJSZXF1ZXN0SWQ6cyx0aWQ6dSxiaWRzOlIoe2JpZGRlckNvZGU6ZSxhdWN0aW9uSWQ6bixiaWRkZXJSZXF1ZXN0SWQ6cyxhZFVuaXRzOk9iamVjdChyLmRlZXBDbG9uZSkoYSksbGFiZWxzOm8sc3JjOlMuUzJTLlNSQ30pLGF1Y3Rpb25TdGFydDp0LHRpbWVvdXQ6aS50aW1lb3V0LHNyYzpTLlMyUy5TUkMscmVmZXJlckluZm86Y307MCE9PWYuYmlkcy5sZW5ndGgmJmQucHVzaChmKX0pKSxhLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoZCwoZnVuY3Rpb24odCl7cmV0dXJuIHAoKSh0LmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJpZElkPT09ZS5iaWRfaWR9KSl9KSl9KSk7ZS5iaWRzPXR9KSksZC5mb3JFYWNoKChmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmFkVW5pdHNTMlNDb3B5JiYoZS5hZFVuaXRzUzJTQ29weT1hLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5sZW5ndGg+MH0pKSl9KSl9fSkpO3ZhciBnPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChyLmRlZXBDbG9uZSkoZSk7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWRzPWUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiF4Lmxlbmd0aHx8ZS5maW5hbFNvdXJjZSE9PWouU0VSVkVSfSkpfSkpLHQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMCE9PWUuYmlkcy5sZW5ndGh9KSl9KGUpO3JldHVybiBzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBhPU9iamVjdChyLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksdT17YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDphLGJpZHM6Uih7YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDphLGFkVW5pdHM6T2JqZWN0KHIuZGVlcENsb25lKShnKSxsYWJlbHM6byxzcmM6ImNsaWVudCJ9KSxhdWN0aW9uU3RhcnQ6dCx0aW1lb3V0OmkscmVmZXJlckluZm86Y30scz1UW2VdO3N8fE9iamVjdChyLmxvZ0Vycm9yKSgiVHJ5aW5nIHRvIG1ha2UgYSByZXF1ZXN0IGZvciBiaWRkZXIgdGhhdCBkb2VzIG5vdCBleGlzdDogIi5jb25jYXQoZSkpLHMmJnUuYmlkcyYmMCE9PXUuYmlkcy5sZW5ndGgmJmQucHVzaCh1KX0pKSxfLmdldENvbnNlbnREYXRhKCkmJmQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5nZHByQ29uc2VudD1fLmdldENvbnNlbnREYXRhKCl9KSksVS5nZXRDb25zZW50RGF0YSgpJiZkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UudXNwQ29uc2VudD1VLmdldENvbnNlbnREYXRhKCl9KSksZH0pLCJtYWtlQmlkUmVxdWVzdHMiKSxBLmNhbGxCaWRzPWZ1bmN0aW9uKGUsdCxuLGksbyxhLHMpe2lmKHQubGVuZ3RoKXt2YXIgZD12KHQucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlW051bWJlcih2b2lkIDAhPT10LnNyYyYmdC5zcmM9PT1TLlMyUy5TUkMpXS5wdXNoKHQpLGV9KSxbW10sW11dKSwyKSxsPWRbMF0scD1kWzFdLGc9W107cC5mb3JFYWNoKChmdW5jdGlvbihlKXtmb3IodmFyIHQ9LTEsbj0wO248Zy5sZW5ndGg7KytuKWlmKGUudGlkPT09Z1tuXS50aWQpe3Q9bjticmVha310PD0tMSYmZy5wdXNoKGUpfSkpO3ZhciBiPTA7dy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlJiZnW2JdJiZmKCkoZS5iaWRkZXJzLGdbYl0uYmlkZGVyQ29kZSkpe3ZhciB0PU9iamVjdChjLmIpKGEsbz97cmVxdWVzdDpvLnJlcXVlc3QuYmluZChudWxsLCJzMnMiKSxkb25lOm8uZG9uZX06dm9pZCAwKSx1PWUuYmlkZGVycyxzPVRbZS5hZGFwdGVyXSxkPWdbYl0udGlkLGw9Z1tiXS5hZFVuaXRzUzJTQ29weSx2PXAuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS50aWQ9PT1kfSkpO2lmKHMpe3ZhciB5PXt0aWQ6ZCxhZF91bml0czpsLHMyc0NvbmZpZzplfTtpZih5LmFkX3VuaXRzLmxlbmd0aCl7dmFyIGg9di5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXJ0PU9iamVjdChyLnRpbWVzdGFtcCkoKSxpLmJpbmQoZSl9KSksbT15LmFkX3VuaXRzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQoKHQuYmlkc3x8W10pLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodC5iaWRkZXIpfSksW10pKX0pLFtdKTtPYmplY3Qoci5sb2dNZXNzYWdlKSgiQ0FMTElORyBTMlMgSEVBREVSIEJJRERFUlMgPT09PSAiLmNvbmNhdCh1LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGYoKShtLGUpfSkpLmpvaW4oIiwiKSkpLHYuZm9yRWFjaCgoZnVuY3Rpb24oZSl7RS5lbWl0KFMuRVZFTlRTLkJJRF9SRVFVRVNURUQsZSl9KSkscy5jYWxsQmlkcyh5LHAsKGZ1bmN0aW9uKGUsdCl7dmFyIGk9T2JqZWN0KHIuZ2V0QmlkZGVyUmVxdWVzdCkocCx0LmJpZGRlckNvZGUsZSk7aSYmbi5jYWxsKGksZSx0KX0pLChmdW5jdGlvbigpe3AuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0R5bmFtaWN9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aC5wdXNoKGkuYmluZChlKSl9KSksaC5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSkpfSksdCl9fWVsc2UgT2JqZWN0KHIubG9nRXJyb3IpKCJtaXNzaW5nICIrZS5hZGFwdGVyKTtiKyt9fSkpLGwuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zdGFydD1PYmplY3Qoci50aW1lc3RhbXApKCk7dmFyIHQ9VFtlLmJpZGRlckNvZGVdO3UuYi5ydW5XaXRoQmlkZGVyKGUuYmlkZGVyQ29kZSwoZnVuY3Rpb24oKXtPYmplY3Qoci5sb2dNZXNzYWdlKSgiQ0FMTElORyBCSURERVIiKSxFLmVtaXQoUy5FVkVOVFMuQklEX1JFUVVFU1RFRCxlKX0pKTt2YXIgZD1PYmplY3QoYy5iKShhLG8/e3JlcXVlc3Q6by5yZXF1ZXN0LmJpbmQobnVsbCxlLmJpZGRlckNvZGUpLGRvbmU6by5kb25lfTp2b2lkIDApLGY9aS5iaW5kKGUpO3RyeXt1LmIucnVuV2l0aEJpZGRlcihlLmJpZGRlckNvZGUsci5iaW5kLmNhbGwodC5jYWxsQmlkcyx0LGUsbi5iaW5kKGUpLGYsZCxzLHUuYi5jYWxsYmFja1dpdGhCaWRkZXIoZS5iaWRkZXJDb2RlKSkpfWNhdGNoKHQpe09iamVjdChyLmxvZ0Vycm9yKSgiIi5jb25jYXQoZS5iaWRkZXJDb2RlLCIgQmlkIEFkYXB0ZXIgZW1pdHRlZCBhbiB1bmNhdWdodCBlcnJvciB3aGVuIHBhcnNpbmcgdGhlaXIgYmlkUmVxdWVzdCIpLHtlOnQsYmlkUmVxdWVzdDplfSksZigpfX0pKX1lbHNlIE9iamVjdChyLmxvZ1dhcm4pKCJjYWxsQmlkcyBleGVjdXRlZCB3aXRoIG5vIGJpZFJlcXVlc3RzLiAgV2VyZSB0aGV5IGZpbHRlcmVkIGJ5IGxhYmVscyBvciBzaXppbmc/Iil9LEEudmlkZW9BZGFwdGVycz1bXSxBLnJlZ2lzdGVyQmlkQWRhcHRlcj1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxpPW4uc3VwcG9ydGVkTWVkaWFUeXBlcyxhPXZvaWQgMD09PWk/W106aTtlJiZ0PyJmdW5jdGlvbiI9PXR5cGVvZiBlLmNhbGxCaWRzPyhUW3RdPWUsZigpKGEsInZpZGVvIikmJkEudmlkZW9BZGFwdGVycy5wdXNoKHQpLGYoKShhLCJuYXRpdmUiKSYmby5mLnB1c2godCkpOk9iamVjdChyLmxvZ0Vycm9yKSgiQmlkZGVyIGFkYXB0b3IgZXJyb3IgZm9yIGJpZGRlciBjb2RlOiAiK3QrImJpZGRlciBtdXN0IGltcGxlbWVudCBhIGNhbGxCaWRzKCkgZnVuY3Rpb24iKTpPYmplY3Qoci5sb2dFcnJvcikoImJpZEFkYXB0ZXIgb3IgYmlkZGVyQ29kZSBub3Qgc3BlY2lmaWVkIil9LEEuYWxpYXNCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCxuKXtpZih2b2lkIDA9PT1UW3RdKXt2YXIgaT1UW2VdO2lmKHZvaWQgMD09PWkpe3ZhciBjPVtdO3cuZm9yRWFjaCgoZnVuY3Rpb24obil7aWYobi5iaWRkZXJzJiZuLmJpZGRlcnMubGVuZ3RoKXt2YXIgcj1uJiZuLmJpZGRlcnM7biYmZigpKHIsdCk/SVt0XT1lOmMucHVzaChlKX19KSksYy5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qoci5sb2dFcnJvcikoJ2JpZGRlckNvZGUgIicrZSsnIiBpcyBub3QgYW4gZXhpc3RpbmcgYmlkZGVyLicsImFkYXB0ZXJNYW5hZ2VyLmFsaWFzQmlkQWRhcHRlciIpfSkpfWVsc2UgdHJ5e3ZhciB1LHM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGYoKShBLnZpZGVvQWRhcHRlcnMsZSkmJnQucHVzaCgidmlkZW8iKSxmKCkoby5mLGUpJiZ0LnB1c2goIm5hdGl2ZSIpLHR9KGUpO2lmKGkuY29uc3RydWN0b3IucHJvdG90eXBlIT1PYmplY3QucHJvdG90eXBlKSh1PW5ldyBpLmNvbnN0cnVjdG9yKS5zZXRCaWRkZXJDb2RlKHQpO2Vsc2V7dmFyIGQ9aS5nZXRTcGVjKCksbD1uJiZuLmd2bGlkLHA9biYmbi5za2lwUGJzQWxpYXNpbmc7dT1PYmplY3QoYS5uZXdCaWRkZXIpKE8oe30sZCx7Y29kZTp0LGd2bGlkOmwsc2tpcFBic0FsaWFzaW5nOnB9KSksSVt0XT1lfUEucmVnaXN0ZXJCaWRBZGFwdGVyKHUsdCx7c3VwcG9ydGVkTWVkaWFUeXBlczpzfSl9Y2F0Y2godCl7T2JqZWN0KHIubG9nRXJyb3IpKGUrIiBiaWRkZXIgZG9lcyBub3QgY3VycmVudGx5IHN1cHBvcnQgYWxpYXNpbmcuIiwiYWRhcHRlck1hbmFnZXIuYWxpYXNCaWRBZGFwdGVyIil9fWVsc2UgT2JqZWN0KHIubG9nTWVzc2FnZSkoJ2FsaWFzIG5hbWUgIicrdCsnIiBoYXMgYmVlbiBhbHJlYWR5IHNwZWNpZmllZC4nKX0sQS5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZGFwdGVyLG49ZS5jb2RlLGk9ZS5ndmxpZDt0JiZuPyJmdW5jdGlvbiI9PXR5cGVvZiB0LmVuYWJsZUFuYWx5dGljcz8odC5jb2RlPW4sQ1tuXT17YWRhcHRlcjp0LGd2bGlkOml9KTpPYmplY3Qoci5sb2dFcnJvcikoJ1ByZWJpZCBFcnJvcjogQW5hbHl0aWNzIGFkYXB0b3IgZXJyb3IgZm9yIGFuYWx5dGljcyAiJy5jb25jYXQobiwnIlxuICAgICAgICBhbmFseXRpY3MgYWRhcHRlciBtdXN0IGltcGxlbWVudCBhbiBlbmFibGVBbmFseXRpY3MoKSBmdW5jdGlvbicpKTpPYmplY3Qoci5sb2dFcnJvcikoIlByZWJpZCBFcnJvcjogYW5hbHl0aWNzQWRhcHRlciBvciBhbmFseXRpY3NDb2RlIG5vdCBzcGVjaWZpZWQiKX0sQS5lbmFibGVBbmFseXRpY3M9ZnVuY3Rpb24oZSl7T2JqZWN0KHIuaXNBcnJheSkoZSl8fChlPVtlXSksT2JqZWN0KHIuX2VhY2gpKGUsKGZ1bmN0aW9uKGUpe3ZhciB0PUNbZS5wcm92aWRlcl0uYWRhcHRlcjt0P3QuZW5hYmxlQW5hbHl0aWNzKGUpOk9iamVjdChyLmxvZ0Vycm9yKSgiUHJlYmlkIEVycm9yOiBubyBhbmFseXRpY3MgYWRhcHRlciBmb3VuZCBpbiByZWdpc3RyeSBmb3JcbiAgICAgICAgIi5jb25jYXQoZS5wcm92aWRlciwiLiIpKX0pKX0sQS5nZXRCaWRBZGFwdGVyPWZ1bmN0aW9uKGUpe3JldHVybiBUW2VdfSxBLmdldEFuYWx5dGljc0FkYXB0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIENbZV19LEEuY2FsbFRpbWVkT3V0QmlkZGVycz1mdW5jdGlvbihlLHQsbil7dD10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyYW1zPU9iamVjdChyLmdldFVzZXJDb25maWd1cmVkUGFyYW1zKShlLHQuYWRVbml0Q29kZSx0LmJpZGRlciksdC50aW1lb3V0PW4sdH0pKSx0PU9iamVjdChyLmdyb3VwQnkpKHQsImJpZGRlciIpLE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe1AoZSwib25UaW1lb3V0Iix0W2VdKX0pKX0sQS5jYWxsQmlkV29uQmlkZGVyPWZ1bmN0aW9uKGUsdCxuKXt0LnBhcmFtcz1PYmplY3Qoci5nZXRVc2VyQ29uZmlndXJlZFBhcmFtcykobix0LmFkVW5pdENvZGUsdC5iaWRkZXIpLGcuYS5pbmNyZW1lbnRCaWRkZXJXaW5zQ291bnRlcih0LmFkVW5pdENvZGUsdC5iaWRkZXIpLFAoZSwib25CaWRXb24iLHQpfSxBLmNhbGxTZXRUYXJnZXRpbmdCaWRkZXI9ZnVuY3Rpb24oZSx0KXtQKGUsIm9uU2V0VGFyZ2V0aW5nIix0KX0sQS5jYWxsQmlkVmlld2FibGVCaWRkZXI9ZnVuY3Rpb24oZSx0KXtQKGUsIm9uQmlkVmlld2FibGUiLHQpfSxBLmNhbGxCaWRkZXJFcnJvcj1mdW5jdGlvbihlLHQsbil7UChlLCJvbkJpZGRlckVycm9yIix7ZXJyb3I6dCxiaWRkZXJSZXF1ZXN0Om59KX0sdC5kZWZhdWx0PUF9LDgxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIyMSk7ZS5leHBvcnRzPXJ9LDgyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJhZFVuaXRTZXR1cENoZWNrcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEp9KSksbi5kKHQsImNoZWNrQWRVbml0U2V0dXAiLChmdW5jdGlvbigpe3JldHVybiBZfSkpLHQuZXhlY3V0ZUNhbGxiYWNrcz1aO3ZhciByPW4oMTQpLGk9bigwKSxvPW4oMjI5KSxhPW4oNjEpLGM9bigzKSx1PW4oMjMpLHM9big0MCksZD1uKDkpLGY9bigyMzApLGw9bigxMikscD1uLm4obCksZz1uKDc3KSxiPW4oMTMpLHY9bigzOSkseT1uKDcpLGg9big2MCk7ZnVuY3Rpb24gbShlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gTyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gTyhlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gTyhlLHQpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBPKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gaigpe3JldHVybihqPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIFM9T2JqZWN0KHIuYSkoKSxFPW4oNSksQT1uKDgpLmRlZmF1bHQsVD1uKDEwKSxJPWEuYS50cmlnZ2VyVXNlclN5bmNzLHc9RS5FVkVOVFMsQz13LkFERF9BRF9VTklUUyxSPXcuQklEX1dPTixfPXcuUkVRVUVTVF9CSURTLFU9dy5TRVRfVEFSR0VUSU5HLEI9dy5BRF9SRU5ERVJfRkFJTEVELHg9dy5BRF9SRU5ERVJfU1VDQ0VFREVELEQ9dy5TVEFMRV9SRU5ERVIsaz1FLkFEX1JFTkRFUl9GQUlMRURfUkVBU09OLE49ay5QUkVWRU5UX1dSSVRJTkdfT05fTUFJTl9ET0NVTUVOVCxQPWsuTk9fQUQscT1rLkVYQ0VQVElPTixNPWsuQ0FOTk9UX0ZJTkRfQUQsRz1rLk1JU1NJTkdfRE9DX09SX0FESUQsTD17YmlkV29uOmZ1bmN0aW9uKGUpe3ZhciB0PXUuYS5nZXRCaWRzUmVxdWVzdGVkKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZX0pKX0pKS5yZWR1Y2UoaS5mbGF0dGVuKS5maWx0ZXIoaS51bmlxdWVzKTtpZighT2JqZWN0KGkuY29udGFpbnMpKHQsZSkpcmV0dXJuIHZvaWQgT2JqZWN0KGkubG9nRXJyb3IpKCdUaGUgIicrZSsnIiBwbGFjZW1lbnQgaXMgbm90IGRlZmluZWQuJyk7cmV0dXJuITB9fTtmdW5jdGlvbiBXKGUsdCxuKXtlLmRlZmF1bHRWaWV3JiZlLmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudCYmKGUuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50LndpZHRoPXQsZS5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQuaGVpZ2h0PW4pfWZ1bmN0aW9uIEYoZSx0KXt2YXIgbj1bXTtyZXR1cm4gT2JqZWN0KGkuaXNBcnJheSkoZSkmJih0P2UubGVuZ3RoPT09dDplLmxlbmd0aD4wKSYmKGUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5pc0FycmF5T2ZOdW1zKShlLDIpfSkpP249ZTpPYmplY3QoaS5pc0FycmF5T2ZOdW1zKShlLDIpJiZuLnB1c2goZSkpLG59ZnVuY3Rpb24geihlKXt2YXIgdD1PYmplY3QoaS5kZWVwQ2xvbmUpKGUpLG49dC5tZWRpYVR5cGVzLmJhbm5lcixyPUYobi5zaXplcyk7cmV0dXJuIHIubGVuZ3RoPjA/KG4uc2l6ZXM9cix0LnNpemVzPXIpOihPYmplY3QoaS5sb2dFcnJvcikoIkRldGVjdGVkIGEgbWVkaWFUeXBlcy5iYW5uZXIgb2JqZWN0IHdpdGhvdXQgYSBwcm9wZXIgc2l6ZXMgZmllbGQuICBQbGVhc2UgZW5zdXJlIHRoZSBzaXplcyBhcmUgbGlzdGVkIGxpa2U6IFtbMzAwLCAyNTBdLCAuLi5dLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLmJhbm5lciBvYmplY3QgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMuYmFubmVyKSx0fWZ1bmN0aW9uIFYoZSl7dmFyIHQ9T2JqZWN0KGkuZGVlcENsb25lKShlKSxuPXQubWVkaWFUeXBlcy52aWRlbztpZihuLnBsYXllclNpemUpe3ZhciByPSJudW1iZXIiPT10eXBlb2Ygbi5wbGF5ZXJTaXplWzBdPzI6MSxvPUYobi5wbGF5ZXJTaXplLHIpO28ubGVuZ3RoPjA/KDI9PT1yJiZPYmplY3QoaS5sb2dJbmZvKSgiVHJhbnNmb3JtaW5nIHZpZGVvLnBsYXllclNpemUgZnJvbSBbNjQwLDQ4MF0gdG8gW1s2NDAsNDgwXV0gc28gaXQncyBpbiB0aGUgcHJvcGVyIGZvcm1hdC4iKSxuLnBsYXllclNpemU9byx0LnNpemVzPW8pOihPYmplY3QoaS5sb2dFcnJvcikoIkRldGVjdGVkIGluY29ycmVjdCBjb25maWd1cmF0aW9uIG9mIG1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZS4gIFBsZWFzZSBzcGVjaWZ5IG9ubHkgb25lIHNldCBvZiBkaW1lbnNpb25zIGluIGEgZm9ybWF0IGxpa2U6IFtbNjQwLCA0ODBdXS4gUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSl9cmV0dXJuIHR9ZnVuY3Rpb24gSChlKXt2YXIgdD1PYmplY3QoaS5kZWVwQ2xvbmUpKGUpLG49dC5tZWRpYVR5cGVzLm5hdGl2ZTtyZXR1cm4gbi5pbWFnZSYmbi5pbWFnZS5zaXplcyYmIUFycmF5LmlzQXJyYXkobi5pbWFnZS5zaXplcykmJihPYmplY3QoaS5sb2dFcnJvcikoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pbWFnZS5zaXplcyBmaWVsZC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2Uuc2l6ZXMgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMubmF0aXZlLmltYWdlLnNpemVzKSxuLmltYWdlJiZuLmltYWdlLmFzcGVjdF9yYXRpb3MmJiFBcnJheS5pc0FycmF5KG4uaW1hZ2UuYXNwZWN0X3JhdGlvcykmJihPYmplY3QoaS5sb2dFcnJvcikoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zIHByb3BlcnR5IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgdC5tZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zKSxuLmljb24mJm4uaWNvbi5zaXplcyYmIUFycmF5LmlzQXJyYXkobi5pY29uLnNpemVzKSYmKE9iamVjdChpLmxvZ0Vycm9yKSgiUGxlYXNlIHVzZSBhbiBhcnJheSBvZiBzaXplcyBmb3IgbmF0aXZlLmljb24uc2l6ZXMgZmllbGQuICBSZW1vdmluZyBpbnZhbGlkIG1lZGlhVHlwZXMubmF0aXZlLmljb24uc2l6ZXMgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMubmF0aXZlLmljb24uc2l6ZXMpLHR9ZnVuY3Rpb24gSyhlLHQpe3ZhciBuPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQodCwiLnBvcyIpKTtpZighbnx8IU9iamVjdChpLmlzTnVtYmVyKShuKXx8IWlzRmluaXRlKG4pKXt2YXIgcj0iVmFsdWUgb2YgcHJvcGVydHkgJ3Bvcycgb24gYWQgdW5pdCAiLmNvbmNhdChlLmNvZGUsIiBzaG91bGQgYmUgb2YgdHlwZTogTnVtYmVyIik7T2JqZWN0KGkubG9nV2FybikociksVC5lbWl0KEUuRVZFTlRTLkFVQ1RJT05fREVCVUcse3R5cGU6IldBUk5JTkciLGFyZ3VtZW50czpyfSksZGVsZXRlIGUubWVkaWFUeXBlc1t0XS5wb3N9cmV0dXJuIGV9T2JqZWN0KGYuYSkoKSxTLmJpZGRlclNldHRpbmdzPVMuYmlkZGVyU2V0dGluZ3N8fHt9LFMubGliTG9hZGVkPSEwLFMudmVyc2lvbj0idjUuMjAuMiIsT2JqZWN0KGkubG9nSW5mbykoIlByZWJpZC5qcyB2NS4yMC4yIGxvYWRlZCIpLFMuaW5zdGFsbGVkTW9kdWxlcz1bImNvbnNlbnRNYW5hZ2VtZW50IiwiY29uc2VudE1hbmFnZW1lbnRVc3AiLCIzM2Fjcm9zc0JpZEFkYXB0ZXIiLCJhbWF6b25CaWRBZGFwdGVyIiwiYWRmQmlkQWRhcHRlciIsImFvbEJpZEFkYXB0ZXIiLCJhZHlvdWxpa2VCaWRBZGFwdGVyIiwiYXBwbmV4dXNCaWRBZGFwdGVyIiwiY29udmVyc2FudEJpZEFkYXB0ZXIiLCJjcml0ZW9CaWRBZGFwdGVyIiwiZ3VtZ3VtQmlkQWRhcHRlciIsImVteF9kaWdpdGFsQmlkQWRhcHRlciIsImltcHJvdmVkaWdpdGFsQmlkQWRhcHRlciIsIml4QmlkQWRhcHRlciIsInNtYXJ0YWRzZXJ2ZXJCaWRBZGFwdGVyIiwib3BlbnhCaWRBZGFwdGVyIiwibWVkaWFuZXRCaWRBZGFwdGVyIiwiY29uc3VtYWJsZUJpZEFkYXB0ZXIiLCJ0cmlwbGVsaWZ0QmlkQWRhcHRlciIsInVuZGVyZG9nbWVkaWFCaWRBZGFwdGVyIiwicHVibWF0aWNCaWRBZGFwdGVyIiwicHVsc2Vwb2ludEJpZEFkYXB0ZXIiLCJydWJpY29uQmlkQWRhcHRlciIsInNvbm9iaUJpZEFkYXB0ZXIiLCJzb3ZybkJpZEFkYXB0ZXIiLCJzaGFyZXRocm91Z2hCaWRBZGFwdGVyIiwiZGlzdHJpY3RtRE1YQmlkQWRhcHRlciIsInJoeXRobW9uZUJpZEFkYXB0ZXIiLCJjdXJyZW5jeSIsInNjaGFpbiIsInVzZXJJZCIsInB1YlByb3ZpZGVkSWRTeXN0ZW0iLCJ5aWVsZGxhYkJpZEFkYXB0ZXIiLCJwdWJzdGFja0FuYWx5dGljc0FkYXB0ZXIiLCJub2JpZEJpZEFkYXB0ZXIiLCJzb3J0YWJsZUJpZEFkYXB0ZXIiLCJwcmViaWRTZXJ2ZXJCaWRBZGFwdGVyIiwiYnJpZ2h0Y29tQmlkQWRhcHRlciIsInRydXN0eEJpZEFkYXB0ZXIiLCJpZDVJZFN5c3RlbSIsIm9uZXRhZ0JpZEFkYXB0ZXIiLCJ5YWhvb3NzcEJpZEFkYXB0ZXIiLCJyZWxheUJpZEFkYXB0ZXIiLCJhZGFnaW9CaWRBZGFwdGVyIiwiZ3JpZEJpZEFkYXB0ZXIiLCJrYXJnb0JpZEFkYXB0ZXIiLCJlcGxhbm5pbmdCaWRBZGFwdGVyIiwiYW14QmlkQWRhcHRlciIsInByaWNlRmxvb3JzIiwidW5pZmllZElkU3lzdGVtIl0sUy5hZFVuaXRzPVMuYWRVbml0c3x8W10sUy5zZXRDb29raWVGcmFtZT1mdW5jdGlvbihlKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuc2V0Q29va2llRnJhbWUiLGFyZ3VtZW50cyksaC5mKGUpfSxTLm9uQmVmb3JlUmVxdWVzdD1mdW5jdGlvbihlKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMub25CZWZvcmVSZXF1ZXN0Iixhcmd1bWVudHMpLGguYihlKX0sUy5vblNlbmRMb2c9ZnVuY3Rpb24oZSl7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLm9uU2VuZExvZyIsYXJndW1lbnRzKSxoLmQoZSl9LFMudHJpZ2dlclVzZXJTeW5jcz1JO3ZhciBKPXt2YWxpZGF0ZUJhbm5lck1lZGlhVHlwZTp6LHZhbGlkYXRlVmlkZW9NZWRpYVR5cGU6Vix2YWxpZGF0ZU5hdGl2ZU1lZGlhVHlwZTpILHZhbGlkYXRlU2l6ZXM6Rn0sWT1PYmplY3QoZC5iKSgic3luYyIsKGZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuLHIsbyxhPWUubWVkaWFUeXBlcyxjPWUuYmlkcztpZihjJiZPYmplY3QoaS5pc0FycmF5KShjKSlpZihhJiYwIT09T2JqZWN0LmtleXMoYSkubGVuZ3RoKXthLmJhbm5lciYmKG49eihlKSxhLmJhbm5lci5oYXNPd25Qcm9wZXJ0eSgicG9zIikmJihuPUsobiwiYmFubmVyIikpKSxhLnZpZGVvJiYocj1WKG58fGUpLGEudmlkZW8uaGFzT3duUHJvcGVydHkoInBvcyIpJiYocj1LKHIsInZpZGVvIikpKSxhLm5hdGl2ZSYmKG89SChyfHwobnx8ZSkpKTt2YXIgdT1qKHt9LG4scixvKTt0LnB1c2godSl9ZWxzZSBPYmplY3QoaS5sb2dFcnJvcikoIkRldGVjdGVkIGFkVW5pdC5jb2RlICciLmNvbmNhdChlLmNvZGUsIicgZGlkIG5vdCBoYXZlIGEgJ21lZGlhVHlwZXMnIG9iamVjdCBkZWZpbmVkLiAgVGhpcyBpcyBhIHJlcXVpcmVkIGZpZWxkIGZvciB0aGUgYXVjdGlvbiwgc28gdGhpcyBhZFVuaXQgaGFzIGJlZW4gcmVtb3ZlZC4iKSk7ZWxzZSBPYmplY3QoaS5sb2dFcnJvcikoIkRldGVjdGVkIGFkVW5pdC5jb2RlICciLmNvbmNhdChlLmNvZGUsIicgZGlkIG5vdCBoYXZlICdhZFVuaXQuYmlkcycgZGVmaW5lZCBvciAnYWRVbml0LmJpZHMnIGlzIG5vdCBhbiBhcnJheS4gUmVtb3ZpbmcgYWRVbml0IGZyb20gYXVjdGlvbi4iKSl9KSksdH0pLCJjaGVja0FkVW5pdFNldHVwIik7ZnVuY3Rpb24gUShlKXt2YXIgdD11LmFbZV0oKS5maWx0ZXIoaS5iaW5kLmNhbGwoaS5hZFVuaXRzRmlsdGVyLHRoaXMsdS5hLmdldEFkVW5pdENvZGVzKCkpKSxuPXUuYS5nZXRMYXN0QXVjdGlvbklkKCk7cmV0dXJuIHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSkpLmZpbHRlcihpLnVuaXF1ZXMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hdWN0aW9uSWQ9PT1uJiZ0LmFkVW5pdENvZGU9PT1lfSkpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmVbMF0mJmVbMF0uYWRVbml0Q29kZX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0PXt9LG49ZVswXS5hZFVuaXRDb2RlLHI9e2JpZHM6ZX0sbiBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdDt2YXIgdCxuLHJ9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBqKGUsdCl9KSx7fSl9ZnVuY3Rpb24gJChlKXt2YXIgdD1lLnJlYXNvbixuPWUubWVzc2FnZSxyPWUuYmlkLG89ZS5pZCxhPXtyZWFzb246dCxtZXNzYWdlOm59O3ImJihhLmJpZD1yKSxvJiYoYS5hZElkPW8pLE9iamVjdChpLmxvZ0Vycm9yKShuKSxULmVtaXQoQixhKX1mdW5jdGlvbiBYKGUpe3ZhciB0PWUuZG9jLG49ZS5iaWQscj1lLmlkLGk9e2RvYzp0fTtuJiYoaS5iaWQ9biksciYmKGkuYWRJZD1yKSxULmVtaXQoeCxpKX1mdW5jdGlvbiBaKGUsdCl7ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQ7dD1lLnNoaWZ0KCk7KXQoKX1uKHkuYyksbihlZSksZS5jYWxsKHRoaXMsdCl9Uy5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHI9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0ciIsYXJndW1lbnRzKSxlKXt2YXIgdD1TLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZShlKTtyZXR1cm4gT2JqZWN0KGkudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmopKHQpfU9iamVjdChpLmxvZ01lc3NhZ2UpKCJOZWVkIHRvIGNhbGwgZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlU3RyIHdpdGggYWR1bml0Q29kZSIpfSxTLmdldEhpZ2hlc3RVbnVzZWRCaWRSZXNwb25zZUZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9dS5hLmdldEFsbEJpZHNGb3JBZFVuaXRDb2RlKGUpLmZpbHRlcihzLmEuaXNVbnVzZWRCaWQpLmZpbHRlcihzLmEuaXNCaWROb3RFeHBpcmVkKTtyZXR1cm4gdC5sZW5ndGg/dC5yZWR1Y2UoaS5nZXRIaWdoZXN0Q3BtKTp7fX1PYmplY3QoaS5sb2dNZXNzYWdlKSgiTmVlZCB0byBjYWxsIGdldEhpZ2hlc3RVbnVzZWRCaWRSZXNwb25zZUZvckFkVW5pdENvZGUgd2l0aCBhZHVuaXRDb2RlIil9LFMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBTLmdldEFkc2VydmVyVGFyZ2V0aW5nKGUpW2VdfSxTLmdldEFkc2VydmVyVGFyZ2V0aW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5nZXRBZHNlcnZlclRhcmdldGluZyIsYXJndW1lbnRzKSxzLmQuZ2V0QWxsVGFyZ2V0aW5nKGUsdCl9LFMuZ2V0Tm9CaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5nZXROb0JpZHMiLGFyZ3VtZW50cyksUSgiZ2V0Tm9CaWRzIil9LFMuZ2V0Tm9CaWRzRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXtyZXR1cm57Ymlkczp1LmEuZ2V0Tm9CaWRzKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZX0pKX19LFMuZ2V0QmlkUmVzcG9uc2VzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5nZXRCaWRSZXNwb25zZXMiLGFyZ3VtZW50cyksUSgiZ2V0Qmlkc1JlY2VpdmVkIil9LFMuZ2V0QmlkUmVzcG9uc2VzRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXtyZXR1cm57Ymlkczp1LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZX0pKX19LFMuc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmM9ZnVuY3Rpb24oZSx0KXtpZihPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmMiLGFyZ3VtZW50cyksT2JqZWN0KGkuaXNHcHRQdWJhZHNEZWZpbmVkKSgpKXt2YXIgbj1zLmQuZ2V0QWxsVGFyZ2V0aW5nKGUpO3MuZC5yZXNldFByZXNldFRhcmdldGluZyhlLHQpLHMuZC5zZXRUYXJnZXRpbmdGb3JHUFQobix0KSxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhuW2VdKS5mb3JFYWNoKChmdW5jdGlvbih0KXsiaGJfYWRpZCI9PT10JiZ1LmEuc2V0U3RhdHVzRm9yQmlkcyhuW2VdW3RdLEUuQklEX1NUQVRVUy5CSURfVEFSR0VUSU5HX1NFVCl9KSl9KSksVC5lbWl0KFUsbil9ZWxzZSBPYmplY3QoaS5sb2dFcnJvcikoIndpbmRvdy5nb29nbGV0YWcgaXMgbm90IGRlZmluZWQgb24gdGhlIHBhZ2UiKX0sUy5zZXRUYXJnZXRpbmdGb3JBc3Q9ZnVuY3Rpb24oZSl7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLnNldFRhcmdldGluZ0ZvckFuIixhcmd1bWVudHMpLHMuZC5pc0FwbnRhZ0RlZmluZWQoKT8ocy5kLnNldFRhcmdldGluZ0ZvckFzdChlKSxULmVtaXQoVSxzLmQuZ2V0QWxsVGFyZ2V0aW5nKCkpKTpPYmplY3QoaS5sb2dFcnJvcikoIndpbmRvdy5hcG50YWcgaXMgbm90IGRlZmluZWQgb24gdGhlIHBhZ2UiKX0sUy5yZW5kZXJBZD1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQsbil7aWYoT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLnJlbmRlckFkIixhcmd1bWVudHMpLE9iamVjdChpLmxvZ01lc3NhZ2UpKCJDYWxsaW5nIHJlbmRlckFkIHdpdGggYWRJZCA6Iit0KSxlJiZ0KXRyeXt2YXIgcj11LmEuZmluZEJpZEJ5QWRJZCh0KTtpZihyKXt2YXIgbz0hMDtpZihyJiZyLnN0YXR1cz09PUUuQklEX1NUQVRVUy5SRU5ERVJFRCYmKE9iamVjdChpLmxvZ1dhcm4pKCJBZCBpZCAiLmNvbmNhdChyLmFkSWQsIiBoYXMgYmVlbiByZW5kZXJlZCBiZWZvcmUiKSksVC5lbWl0KEQsciksT2JqZWN0KGkuZGVlcEFjY2VzcykoYy5iLmdldENvbmZpZygiYXVjdGlvbk9wdGlvbnMiKSwic3VwcHJlc3NTdGFsZVJlbmRlciIpJiYobz0hMSkpLG8pe2lmKHIuYWQ9T2JqZWN0KGkucmVwbGFjZUF1Y3Rpb25QcmljZSkoci5hZCxyLmNwbSksci5hZFVybD1PYmplY3QoaS5yZXBsYWNlQXVjdGlvblByaWNlKShyLmFkVXJsLHIuY3BtKSxuJiZuLmNsaWNrVGhyb3VnaCl7dmFyIGE9bi5jbGlja1Rocm91Z2g7ci5hZD1PYmplY3QoaS5yZXBsYWNlQ2xpY2tUaHJvdWdoKShyLmFkLGEpLHIuYWRVcmw9T2JqZWN0KGkucmVwbGFjZUNsaWNrVGhyb3VnaCkoci5hZFVybCxhKX11LmEuYWRkV2lubmluZ0JpZChyKSxULmVtaXQoUixyKTt2YXIgcz1yLmhlaWdodCxkPXIud2lkdGgsZj1yLmFkLGw9ci5tZWRpYVR5cGUscD1yLmFkVXJsLGc9ci5yZW5kZXJlcix2PWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIkNyZWF0aXZlICIuY29uY2F0KHIuY3JlYXRpdmVJZCwiIHNlcnZlZCBieSAiKS5jb25jYXQoci5iaWRkZXIsIiBQcmViaWQuanMgSGVhZGVyIEJpZGRpbmciKSk7aWYoT2JqZWN0KGIuYykoZykpT2JqZWN0KGIuYikoZyxyKSxPYmplY3QoaS5pbnNlcnRFbGVtZW50KSh2LGUsImh0bWwiKSxYKHtkb2M6ZSxiaWQ6cixpZDp0fSk7ZWxzZSBpZihlPT09ZG9jdW1lbnQmJiFPYmplY3QoaS5pbklmcmFtZSkoKXx8InZpZGVvIj09PWwpe3ZhciB5PSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQuIEFkIHJlbmRlciBjYWxsIGFkIGlkICIuY29uY2F0KHQsIiB3YXMgcHJldmVudGVkIGZyb20gd3JpdGluZyB0byB0aGUgbWFpbiBkb2N1bWVudC4iKTskKHtyZWFzb246TixtZXNzYWdlOnksYmlkOnIsaWQ6dH0pfWVsc2UgaWYoZil7aWYobmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImZpcmVmb3gvIik+LTEpe3ZhciBoPS9maXJlZm94XC8oW1xkXC5dKykvLG09bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKGgpWzFdO20mJnBhcnNlSW50KG0sMTApPDY3JiZlLm9wZW4oInRleHQvaHRtbCIsInJlcGxhY2UiKX1lLndyaXRlKGYpLGUuY2xvc2UoKSxXKGUsZCxzKSxPYmplY3QoaS5pbnNlcnRFbGVtZW50KSh2LGUsImh0bWwiKSxPYmplY3QoaS5jYWxsQnVybCkociksWCh7ZG9jOmUsYmlkOnIsaWQ6dH0pfWVsc2UgaWYocCl7dmFyIE89T2JqZWN0KGkuY3JlYXRlSW52aXNpYmxlSWZyYW1lKSgpO08uaGVpZ2h0PXMsTy53aWR0aD1kLE8uc3R5bGUuZGlzcGxheT0iaW5saW5lIixPLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLE8uc3JjPXAsT2JqZWN0KGkuaW5zZXJ0RWxlbWVudCkoTyxlLCJib2R5IiksVyhlLGQscyksT2JqZWN0KGkuaW5zZXJ0RWxlbWVudCkodixlLCJodG1sIiksT2JqZWN0KGkuY2FsbEJ1cmwpKHIpLFgoe2RvYzplLGJpZDpyLGlkOnR9KX1lbHNle3ZhciBqPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQuIE5vIGFkIGZvciBiaWQgcmVzcG9uc2UgaWQ6ICIuY29uY2F0KHQpOyQoe3JlYXNvbjpQLG1lc3NhZ2U6aixiaWQ6cixpZDp0fSl9fX1lbHNle3ZhciBTPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQuIENhbm5vdCBmaW5kIGFkIGJ5IGdpdmVuIGlkIDogIi5jb25jYXQodCk7JCh7cmVhc29uOk0sbWVzc2FnZTpTLGlkOnR9KX19Y2F0Y2goZSl7dmFyIEE9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZCBJZCA6Ii5jb25jYXQodCwiIHRvIHRoZSBwYWdlOiIpLmNvbmNhdChlLm1lc3NhZ2UpOyQoe3JlYXNvbjpxLG1lc3NhZ2U6QSxpZDp0fSl9ZWxzZXt2YXIgST0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkIElkIDoiLmNvbmNhdCh0LCIgdG8gdGhlIHBhZ2UuIE1pc3NpbmcgZG9jdW1lbnQgb3IgYWRJZCIpOyQoe3JlYXNvbjpHLG1lc3NhZ2U6SSxpZDp0fSl9fSkpLFMucmVtb3ZlQWRVbml0PWZ1bmN0aW9uKGUpeyhPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMucmVtb3ZlQWRVbml0Iixhcmd1bWVudHMpLGUpPyhPYmplY3QoaS5pc0FycmF5KShlKT9lOltlXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVMuYWRVbml0cy5sZW5ndGgtMTt0Pj0wO3QtLSlTLmFkVW5pdHNbdF0uY29kZT09PWUmJlMuYWRVbml0cy5zcGxpY2UodCwxKX0pKTpTLmFkVW5pdHM9W119LFMucmVxdWVzdEJpZHM9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmJpZHNCYWNrSGFuZGxlcixuPWUudGltZW91dCxyPWUuYWRVbml0cyxvPWUuYWRVbml0Q29kZXMsYT1lLmxhYmVscyxkPWUuYXVjdGlvbklkO1QuZW1pdChfKTt2YXIgZj1ufHxjLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iik7cj1yJiZjLmIuY29udmVydEFkVW5pdEZwZChPYmplY3QoaS5pc0FycmF5KShyKT9yOltyXSl8fFMuYWRVbml0cyxPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMucmVxdWVzdEJpZHMiLGFyZ3VtZW50cyk7dmFyIGw9ci5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LnByZWJpZC5zdG9yZWRyZXF1ZXN0Iil9KSksYj1bXSx2PWMuYi5nZXRDb25maWcoInMyc0NvbmZpZyIpO3YmJihiPUFycmF5LmlzQXJyYXkodik/djpbdl0pO3ZhciB5PVtdO2lmKGIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bCYmZS5iaWRkZXJzLnB1c2goInMyc0JpZGRlclBsYWNlaG9sZGVyIikseS5wdXNoLmFwcGx5KHksbShlLmJpZGRlcnMpKX0pKSxyPVkociksbyYmby5sZW5ndGg/cj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHAoKShvLGUuY29kZSl9KSk6bz1yJiZyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29kZX0pKSxyLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC5rZXlzKGUubWVkaWFUeXBlc3x8e2Jhbm5lcjoiYmFubmVyIn0pOyFlLmJpZHMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIj09PWUuYmlkZGVyfSkpJiZ5LmluY2x1ZGVzKCJzMnNCaWRkZXJQbGFjZWhvbGRlciIpJiZPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQucHJlYmlkLnN0b3JlZHJlcXVlc3QiKSYmZS5iaWRzLnB1c2goe2JpZGRlcjoiczJzQmlkZGVyUGxhY2Vob2xkZXIifSk7dmFyIG49ZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpLHI9QS5iaWRkZXJSZWdpc3RyeSxvPXk/bi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFwKCkoeSxlKX0pKTpuO2UudHJhbnNhY3Rpb25JZD1PYmplY3QoaS5nZW5lcmF0ZVVVSUQpKCksby5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgbz1yW25dLGE9byYmby5nZXRTcGVjJiZvLmdldFNwZWMoKSxjPWEmJmEuc3VwcG9ydGVkTWVkaWFUeXBlc3x8WyJiYW5uZXIiXTt0LnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoYyxlKX0pKT9nLmEuaW5jcmVtZW50QmlkZGVyUmVxdWVzdHNDb3VudGVyKGUuY29kZSxuKTooT2JqZWN0KGkubG9nV2FybikoT2JqZWN0KGkudW5zdXBwb3J0ZWRCaWRkZXJNZXNzYWdlKShlLG4pKSxlLmJpZHM9ZS5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyIT09bn0pKSl9KSksZy5hLmluY3JlbWVudFJlcXVlc3RzQ291bnRlcihlLmNvZGUpfSkpLHImJjAhPT1yLmxlbmd0aCl7dmFyIGg9dS5hLmNyZWF0ZUF1Y3Rpb24oe2FkVW5pdHM6cixhZFVuaXRDb2RlczpvLGNhbGxiYWNrOnQsY2JUaW1lb3V0OmYsbGFiZWxzOmEsYXVjdGlvbklkOmR9KSxPPXIubGVuZ3RoO08+MTUmJk9iamVjdChpLmxvZ0luZm8pKCJDdXJyZW50IGF1Y3Rpb24gIi5jb25jYXQoaC5nZXRBdWN0aW9uSWQoKSwiIGNvbnRhaW5zICIpLmNvbmNhdChPLCIgYWRVbml0cy4iKSxyKSxvLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBzLmQuc2V0TGF0ZXN0QXVjdGlvbkZvckFkVW5pdChlLGguZ2V0QXVjdGlvbklkKCkpfSkpLGguY2FsbEJpZHMoKX1lbHNlIGlmKE9iamVjdChpLmxvZ01lc3NhZ2UpKCJObyBhZFVuaXRzIGNvbmZpZ3VyZWQuIE5vIGJpZHMgcmVxdWVzdGVkLiIpLCJmdW5jdGlvbiI9PXR5cGVvZiB0KXRyeXt0KCl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJFcnJvciBleGVjdXRpbmcgYmlkc0JhY2tIYW5kbGVyIixudWxsLGUpfX0pKSxTLnJlcXVlc3RCaWRzLmJlZm9yZShaLDQ5KSxTLmFkZEFkVW5pdHM9ZnVuY3Rpb24oZSl7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmFkZEFkVW5pdHMiLGFyZ3VtZW50cyksUy5hZFVuaXRzLnB1c2guYXBwbHkoUy5hZFVuaXRzLGMuYi5jb252ZXJ0QWRVbml0RnBkKE9iamVjdChpLmlzQXJyYXkpKGUpP2U6W2VdKSksVC5lbWl0KEMpfSxTLm9uRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5vbkV2ZW50Iixhcmd1bWVudHMpLE9iamVjdChpLmlzRm4pKHQpPyFufHxMW2VdLmNhbGwobnVsbCxuKT9ULm9uKGUsdCxuKTpPYmplY3QoaS5sb2dFcnJvcikoJ1RoZSBpZCBwcm92aWRlZCBpcyBub3QgdmFsaWQgZm9yIGV2ZW50ICInK2UrJyIgYW5kIG5vIGhhbmRsZXIgd2FzIHNldC4nKTpPYmplY3QoaS5sb2dFcnJvcikoJ1RoZSBldmVudCBoYW5kbGVyIHByb3ZpZGVkIGlzIG5vdCBhIGZ1bmN0aW9uIGFuZCB3YXMgbm90IHNldCBvbiBldmVudCAiJytlKyciLicpfSxTLm9mZkV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMub2ZmRXZlbnQiLGFyZ3VtZW50cyksbiYmIUxbZV0uY2FsbChudWxsLG4pfHxULm9mZihlLHQsbil9LFMuZ2V0RXZlbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5nZXRFdmVudHMiKSxULmdldEV2ZW50cygpfSxTLnJlZ2lzdGVyQmlkQWRhcHRlcj1mdW5jdGlvbihlLHQpe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5yZWdpc3RlckJpZEFkYXB0ZXIiLGFyZ3VtZW50cyk7dHJ5e0EucmVnaXN0ZXJCaWRBZGFwdGVyKGUoKSx0KX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkVycm9yIHJlZ2lzdGVyaW5nIGJpZGRlciBhZGFwdGVyIDogIitlLm1lc3NhZ2UpfX0sUy5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXI9ZnVuY3Rpb24oZSl7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlciIsYXJndW1lbnRzKTt0cnl7QS5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXIoZSl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJFcnJvciByZWdpc3RlcmluZyBhbmFseXRpY3MgYWRhcHRlciA6ICIrZS5tZXNzYWdlKX19LFMuY3JlYXRlQmlkPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuY3JlYXRlQmlkIixhcmd1bWVudHMpLE9iamVjdCh2LmEpKGUpfTt2YXIgZWU9W10sdGU9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSl7ZSYmIU9iamVjdChpLmlzRW1wdHkpKGUpPyhPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuZW5hYmxlQW5hbHl0aWNzIGZvcjogIixlKSxBLmVuYWJsZUFuYWx5dGljcyhlKSk6T2JqZWN0KGkubG9nRXJyb3IpKCJ1cGJqcy5lbmFibGVBbmFseXRpY3Mgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIG9wdGlvbiB7fSIpfSksImVuYWJsZUFuYWx5dGljc0NiIik7ZnVuY3Rpb24gbmUoZSl7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lLmNhbGxlZCl0cnl7ZS5jYWxsKCksZS5jYWxsZWQ9ITB9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJFcnJvciBwcm9jZXNzaW5nIGNvbW1hbmQgOiIsInByZWJpZC5qcyIsZSl9fSkpfVMuZW5hYmxlQW5hbHl0aWNzPWZ1bmN0aW9uKGUpe2VlLnB1c2godGUuYmluZCh0aGlzLGUpKX0sUy5hbGlhc0JpZGRlcj1mdW5jdGlvbihlLHQsbil7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmFsaWFzQmlkZGVyIixhcmd1bWVudHMpLGUmJnQ/QS5hbGlhc0JpZEFkYXB0ZXIoZSx0LG4pOk9iamVjdChpLmxvZ0Vycm9yKSgiYmlkZGVyQ29kZSBhbmQgYWxpYXMgbXVzdCBiZSBwYXNzZWQgYXMgYXJndW1lbnRzIiwidXBianMuYWxpYXNCaWRkZXIiKX0sUy5nZXRBbGxXaW5uaW5nQmlkcz1mdW5jdGlvbigpe3JldHVybiB1LmEuZ2V0QWxsV2lubmluZ0JpZHMoKX0sUy5nZXRBbGxQcmViaWRXaW5uaW5nQmlkcz1mdW5jdGlvbigpe3JldHVybiB1LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGF0dXM9PT1FLkJJRF9TVEFUVVMuQklEX1RBUkdFVElOR19TRVR9KSl9LFMuZ2V0SGlnaGVzdENwbUJpZHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHMuZC5nZXRXaW5uaW5nQmlkcyhlKX0sUy5tYXJrV2lubmluZ0JpZEFzVXNlZD1mdW5jdGlvbihlKXt2YXIgdD1bXTtlLmFkVW5pdENvZGUmJmUuYWRJZD90PXUuYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkSWQ9PT1lLmFkSWQmJnQuYWRVbml0Q29kZT09PWUuYWRVbml0Q29kZX0pKTplLmFkVW5pdENvZGU/dD1zLmQuZ2V0V2lubmluZ0JpZHMoZS5hZFVuaXRDb2RlKTplLmFkSWQ/dD11LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZElkPT09ZS5hZElkfSkpOk9iamVjdChpLmxvZ1dhcm4pKCJJbXByb3BlciB1c2Ugb2YgbWFya1dpbm5pbmdCaWRBc1VzZWQuIEl0IG5lZWRzIGFuIGFkVW5pdENvZGUgb3IgYW4gYWRJZCB0byBmdW5jdGlvbi4iKSx0Lmxlbmd0aD4wJiYodFswXS5zdGF0dXM9RS5CSURfU1RBVFVTLlJFTkRFUkVEKX0sUy5nZXRDb25maWc9Yy5iLmdldENvbmZpZyxTLnJlYWRDb25maWc9Yy5iLnJlYWRDb25maWcsUy5zZXRDb25maWc9Yy5iLnNldENvbmZpZyxTLnNldEJpZGRlckNvbmZpZz1jLmIuc2V0QmlkZGVyQ29uZmlnLFMucXVlLnB1c2goKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChvLmEpKCl9KSksUy5jbWQucHVzaD1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSl0cnl7ZS5jYWxsKCl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJFcnJvciBwcm9jZXNzaW5nIGNvbW1hbmQgOiIsZS5tZXNzYWdlLGUuc3RhY2spfWVsc2UgT2JqZWN0KGkubG9nRXJyb3IpKCJDb21tYW5kcyB3cml0dGVuIGludG8gdXBianMuY21kLnB1c2ggbXVzdCBiZSB3cmFwcGVkIGluIGEgZnVuY3Rpb24iKX0sUy5xdWUucHVzaD1TLmNtZC5wdXNoLFMucHJvY2Vzc1F1ZXVlPWZ1bmN0aW9uKCl7ZC5iLnJlYWR5KCksbmUoUy5xdWUpLG5lKFMuY21kKX0sdC5kZWZhdWx0PVN9LDgzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM3OCk7ZS5leHBvcnRzPXJ9LDg0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KSxpPW4oNTApLG89IiIuc3BsaXQ7ZS5leHBvcnRzPXIoKGZ1bmN0aW9uKCl7cmV0dXJuIU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1pKGUpP28uY2FsbChlLCIiKTpPYmplY3QoZSl9Ok9iamVjdH0sODU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9bigyOSksbz1uKDg2KTtlLmV4cG9ydHM9IXImJiFpKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobygiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpfSw4NjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNyksaT1uKDMwKSxvPXIuZG9jdW1lbnQsYT1pKG8pJiZpKG8uY3JlYXRlRWxlbWVudCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBhP28uY3JlYXRlRWxlbWVudChlKTp7fX19LDg3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE4KSxpPW4oNjcpOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaVtlXXx8KGlbZV09dm9pZCAwIT09dD90Ont9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246IjMuMTUuMSIsbW9kZTpyPyJwdXJlIjoiZ2xvYmFsIixjb3B5cmlnaHQ6IsKpIDIwMjEgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSkifSl9LDg4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDExNCksaT1uKDI5KTtlLmV4cG9ydHM9ISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYhaSgoZnVuY3Rpb24oKXt2YXIgZT1TeW1ib2woKTtyZXR1cm4hU3RyaW5nKGUpfHwhKE9iamVjdChlKWluc3RhbmNlb2YgU3ltYm9sKXx8IVN5bWJvbC5zaGFtJiZyJiZyPDQxfSkpfSw4OTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big0OSksaT1uKDUzKSxvPW4oMTE5KSxhPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4sYSl7dmFyIGMsdT1yKHQpLHM9aSh1Lmxlbmd0aCksZD1vKGEscyk7aWYoZSYmbiE9bil7Zm9yKDtzPmQ7KWlmKChjPXVbZCsrXSkhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3M+ZDtkKyspaWYoKGV8fGQgaW4gdSkmJnVbZF09PT1uKXJldHVybiBlfHxkfHwwO3JldHVybiFlJiYtMX19O2UuZXhwb3J0cz17aW5jbHVkZXM6YSghMCksaW5kZXhPZjphKCExKX19LDk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLHQuZD1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxNSxyPWUuZ2V0SG9va3Moe2hvb2s6dH0pOzA9PT1yLmxlbmd0aCYmZS5iZWZvcmUodCxuKX0sdC5jPWZ1bmN0aW9uKGUsdCl7YSgiYXN5bmMiLChmdW5jdGlvbihlKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KHZvaWQgMCxmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBvKGUpfShuPWUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KG4pfHxmdW5jdGlvbihlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbyhlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP28oZSx0KTp2b2lkIDB9fShuKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKSk7dmFyIG59KSl9KSxlKShbXSl9LHQuZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKW5bci0xXT1hcmd1bWVudHNbcl07YyhlKS5iZWZvcmUoKGZ1bmN0aW9uKGUsdCl7dC5wdXNoKG4pLGUodCl9KSl9O3ZhciByPW4oMTcxKSxpPW4ubihyKTtmdW5jdGlvbiBvKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIGE9aSgpKHtyZWFkeTppLmEuU1lOQ3xpLmEuQVNZTkN8aS5hLlFVRVVFfSksYz1hLmdldH0sOTA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTIwKTtuKDE0MCksbigxNDIpLG4oMTQ0KSxuKDE0NiksbigxNDgpLG4oMTQ5KSxuKDE1MCksbigxNTEpLG4oMTUyKSxuKDE1MyksbigxNTQpLG4oMTU1KSxuKDE1NiksbigxNTcpLG4oMTU4KSxuKDE1OSksbigxNjApLG4oMTYxKSxlLmV4cG9ydHM9cn0sOTE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTYpLGk9bigzMCksbz1uKDMxKSxhPW4oMzQpLmYsYz1uKDY4KSx1PW4oMTIzKSxzPWMoIm1ldGEiKSxkPTAsZj1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSxsPWZ1bmN0aW9uKGUpe2EoZSxzLHt2YWx1ZTp7b2JqZWN0SUQ6Ik8iKyArK2Qsd2Vha0RhdGE6e319fSl9LHA9ZS5leHBvcnRzPXtSRVFVSVJFRDohMSxmYXN0S2V5OmZ1bmN0aW9uKGUsdCl7aWYoIWkoZSkpcmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlP2U6KCJzdHJpbmciPT10eXBlb2YgZT8iUyI6IlAiKStlO2lmKCFvKGUscykpe2lmKCFmKGUpKXJldHVybiJGIjtpZighdClyZXR1cm4iRSI7bChlKX1yZXR1cm4gZVtzXS5vYmplY3RJRH0sZ2V0V2Vha0RhdGE6ZnVuY3Rpb24oZSx0KXtpZighbyhlLHMpKXtpZighZihlKSlyZXR1cm4hMDtpZighdClyZXR1cm4hMTtsKGUpfXJldHVybiBlW3NdLndlYWtEYXRhfSxvbkZyZWV6ZTpmdW5jdGlvbihlKXtyZXR1cm4gdSYmcC5SRVFVSVJFRCYmZihlKSYmIW8oZSxzKSYmbChlKSxlfX07cltzXT0hMH0sOTI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjEpLGk9big0Miksbz1yKCJpdGVyYXRvciIpLGE9QXJyYXkucHJvdG90eXBlO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKGkuQXJyYXk9PT1lfHxhW29dPT09ZSl9fSw5MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmV0dXJuO2lmKHZvaWQgMCE9PXQpcmV0dXJuIHIodC5jYWxsKGUpKS52YWx1ZX19LDk0OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPVsiY29uc3RydWN0b3IiLCJoYXNPd25Qcm9wZXJ0eSIsImlzUHJvdG90eXBlT2YiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRvTG9jYWxlU3RyaW5nIiwidG9TdHJpbmciLCJ2YWx1ZU9mIl19LDk1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDczKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaSBpbiB0KW4mJm4udW5zYWZlJiZlW2ldP2VbaV09dFtpXTpyKGUsaSx0W2ldLG4pO3JldHVybiBlfX0sOTUxOmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big4Mil9LDk2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big5NykuSXRlcmF0b3JQcm90b3R5cGUsaT1uKDcyKSxvPW4oNDQpLGE9big1OSksYz1uKDQyKSx1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIHM9dCsiIEl0ZXJhdG9yIjtyZXR1cm4gZS5wcm90b3R5cGU9aShyLHtuZXh0Om8oMSxuKX0pLGEoZSxzLCExLCEwKSxjW3NdPXUsZX19LDk3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHIsaSxvLGE9bigyOSksYz1uKDk4KSx1PW4oMzIpLHM9bigzMSksZD1uKDIxKSxmPW4oMTgpLGw9ZCgiaXRlcmF0b3IiKSxwPSExO1tdLmtleXMmJigibmV4dCJpbihvPVtdLmtleXMoKSk/KGk9YyhjKG8pKSkhPT1PYmplY3QucHJvdG90eXBlJiYocj1pKTpwPSEwKTt2YXIgZz1udWxsPT1yfHxhKChmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiByW2xdLmNhbGwoZSkhPT1lfSkpO2cmJihyPXt9KSxmJiYhZ3x8cyhyLGwpfHx1KHIsbCwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxlLmV4cG9ydHM9e0l0ZXJhdG9yUHJvdG90eXBlOnIsQlVHR1lfU0FGQVJJX0lURVJBVE9SUzpwfX0sOTg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzEpLGk9big1Miksbz1uKDcxKSxhPW4oMTMyKSxjPW8oIklFX1BST1RPIiksdT1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1hP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZT1pKGUpLHIoZSxjKT9lW2NdOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P3U6bnVsbH19LDk5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMzcpLmNoYXJBdCxpPW4oNDYpLG89big3NCksYT0iU3RyaW5nIEl0ZXJhdG9yIixjPWkuc2V0LHU9aS5nZXR0ZXJGb3IoYSk7byhTdHJpbmcsIlN0cmluZyIsKGZ1bmN0aW9uKGUpe2ModGhpcyx7dHlwZTphLHN0cmluZzpTdHJpbmcoZSksaW5kZXg6MH0pfSksKGZ1bmN0aW9uKCl7dmFyIGUsdD11KHRoaXMpLG49dC5zdHJpbmcsaT10LmluZGV4O3JldHVybiBpPj1uLmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPXIobixpKSx0LmluZGV4Kz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KSl9fSk7CnVwYmpzQ2h1bmsoWzM3OV0sezEwNDpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMTA1KX0sMTA1OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKTt2YXIgbj1yKDEpLGk9cigzKSxvPXIoMCksYT1yKDIpO2Z1bmN0aW9uIHMoKXtyZXR1cm4ocz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGMoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIGQoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/YyhPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3UoZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOmMoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gdShlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9dmFyIHA9IjMzYWNyb3NzIixsPSJodHRwczovL3NzYy4zM2Fjcm9zcy5jb20vYXBpL3YxL2hiIixiPSJodHRwczovL3NzYy1jbXMuMzNhY3Jvc3MuY29tL3BzLz9tPXhjaCZydD1odG1sJnJ1PWRlYiIsZj0vXlthLXpBLVowLTlfLV17MjJ9JC8sbT0ic2lhYiIsZz0iaW52aWV3IixoPSJpbnN0cmVhbSIsdj1bIm1pbWVzIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInBsYWNlbWVudCIsInByb3RvY29scyIsInN0YXJ0ZGVsYXkiLCJza2lwIiwic2tpcGFmdGVyIiwibWluYml0cmF0ZSIsIm1heGJpdHJhdGUiLCJkZWxpdmVyeSIsInBsYXliYWNrbWV0aG9kIiwiYXBpIiwibGluZWFyaXR5Il0seT17dW5pcXVlU2l0ZUlkczpbXX0sTz0ibm0iO2Z1bmN0aW9uIGooKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxyPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwO3JldHVybiBzKHt9LGUse2V4dDpzKHt9LGUuZXh0LHUoe30sdCxyKSl9KX1mdW5jdGlvbiBBKGUpe3JldHVybnt3OnBhcnNlSW50KGVbMF0sMTApLGg6cGFyc2VJbnQoZVsxXSwxMCl9fWZ1bmN0aW9uIHcoZSl7dmFyIHQ9ZS5wYXJhbXMscj1lLm1lZGlhVHlwZXMsbj1yLmJhbm5lcixpPXIudmlkZW87cmV0dXJuIGkmJiFuJiYiaW5zdHJlYW0iPT09aS5jb250ZXh0P2g6dC5wcm9kdWN0SWQ9PT1nP3QucHJvZHVjdElkOm19ZnVuY3Rpb24geChlLHQscil7dmFyIG49ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOnIsc2l6ZTpbdC53LHQuaF19KTtpZighaXNOYU4obi5mbG9vcikmJiJVU0QiPT09bi5jdXJyZW5jeSlyZXR1cm4gbi5mbG9vcn1mdW5jdGlvbiBJKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXQudyxuPXQuaCxpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1pLndpZHRoLGE9aS5oZWlnaHQscz1pLmxlZnQsYz1pLnRvcCxkPWkucmlnaHQsdT1pLmJvdHRvbTtyZXR1cm4oMD09PW98fDA9PT1hKSYmciYmbiYmKG89cixhPW4sZD1zK3IsdT1jK24pLHt3aWR0aDpvLGhlaWdodDphLGxlZnQ6cyx0b3A6YyxyaWdodDpkLGJvdHRvbTp1fX1mdW5jdGlvbiBTKGUpe2Zvcih2YXIgdD17bGVmdDplWzBdLmxlZnQscmlnaHQ6ZVswXS5yaWdodCx0b3A6ZVswXS50b3AsYm90dG9tOmVbMF0uYm90dG9tfSxyPTE7cjxlLmxlbmd0aDsrK3Ipe2lmKHQubGVmdD1NYXRoLm1heCh0LmxlZnQsZVtyXS5sZWZ0KSx0LnJpZ2h0PU1hdGgubWluKHQucmlnaHQsZVtyXS5yaWdodCksdC5sZWZ0Pj10LnJpZ2h0KXJldHVybiBudWxsO2lmKHQudG9wPU1hdGgubWF4KHQudG9wLGVbcl0udG9wKSx0LmJvdHRvbT1NYXRoLm1pbih0LmJvdHRvbSxlW3JdLmJvdHRvbSksdC50b3A+PXQuYm90dG9tKXJldHVybiBudWxsfXJldHVybiB0LndpZHRoPXQucmlnaHQtdC5sZWZ0LHQuaGVpZ2h0PXQuYm90dG9tLXQudG9wLHR9ZnVuY3Rpb24gQyhlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPXIudyxpPXIuaCxvPUkoZSx7dzpuLGg6aX0pLGE9Uyhbe2xlZnQ6MCx0b3A6MCxyaWdodDp0LmlubmVyV2lkdGgsYm90dG9tOnQuaW5uZXJIZWlnaHR9LG9dKTtyZXR1cm4gbnVsbCE9PWE/YS53aWR0aCphLmhlaWdodC8oby53aWR0aCpvLmhlaWdodCkqMTAwOjB9dmFyIFQ9e05PTl9NRUFTVVJBQkxFOk8sY29kZTpwLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihlLmJpZGRlciE9PXB8fHZvaWQgMD09PWUucGFyYW1zKXJldHVybiExO2lmKCFmdW5jdGlvbihlKXtpZihudWxsPT09KE9iamVjdChvLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5zaXRlSWQiLCIiKXx8IiIpLnRyaW0oKS5tYXRjaChmKSlyZXR1cm4hMTtyZXR1cm4hMH0oZSkpcmV0dXJuITE7cmV0dXJuITB9KGUpJiZmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpO2lmKHZvaWQgMD09PXQpcmV0dXJuITA7aWYoIUFycmF5LmlzQXJyYXkodC5zaXplcykpcmV0dXJuITE7cmV0dXJuITB9KGUpJiZmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIikscj1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8iLHt9KTtpZih2b2lkIDA9PT10KXJldHVybiEwO2lmKCFBcnJheS5pc0FycmF5KHQucGxheWVyU2l6ZSkpcmV0dXJuITE7aWYoIXQuY29udGV4dClyZXR1cm4hMTt2YXIgbj1kKGQoe30sdCkscik7aWYoIUFycmF5LmlzQXJyYXkobi5taW1lcyl8fDA9PT1uLm1pbWVzLmxlbmd0aClyZXR1cm4hMTtpZighQXJyYXkuaXNBcnJheShuLnByb3RvY29scyl8fDA9PT1uLnByb3RvY29scy5sZW5ndGgpcmV0dXJuITE7aWYodm9pZCAwIT09bi5wbGFjZW1lbnQmJiJudW1iZXIiIT10eXBlb2Ygbi5wbGFjZW1lbnQpcmV0dXJuITE7aWYoImluc3RyZWFtIj09PXQuY29udGV4dCYmdm9pZCAwIT09bi5zdGFydGRlbGF5JiYibnVtYmVyIiE9dHlwZW9mIG4uc3RhcnRkZWxheSlyZXR1cm4hMTtyZXR1cm4hMH0oZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj1zKHtjb25zZW50U3RyaW5nOnZvaWQgMCxnZHByQXBwbGllczohMX0sdCYmdC5nZHByQ29uc2VudCksbj10JiZ0LnVzcENvbnNlbnQsYz10JiZ0LnJlZmVyZXJJbmZvP3QucmVmZXJlckluZm8ucmVmZXJlcjp2b2lkIDA7cmV0dXJuIHkudW5pcXVlU2l0ZUlkcz1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLnNpdGVJZH0pKS5maWx0ZXIoby51bmlxdWVzKSxlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUuYmlkUmVxdWVzdCxyPWUuZ2RwckNvbnNlbnQsbj12b2lkIDA9PT1yP3t9OnIsYz1lLnVzcENvbnNlbnQsdT1lLnBhZ2VVcmwscD17fSxiPXQucGFyYW1zO3AuaW1wPVt7fV0sT2JqZWN0KG8uZGVlcEFjY2VzcykodCwibWVkaWFUeXBlcy5iYW5uZXIiKSYmKHAuaW1wWzBdLmJhbm5lcj1kKHt9LGZ1bmN0aW9uKGUpe3ZhciB0LHI9T2JqZWN0KG8uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiLHt9KSxuPShjPWUuYWRVbml0Q29kZSxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjKXx8ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZnVuY3Rpb24oZSl7aWYoT2JqZWN0KG8uaXNHcHRQdWJhZHNEZWZpbmVkKSgpKWZvcih2YXIgdD1nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSxyPU9iamVjdChvLmlzU2xvdE1hdGNoaW5nQWRVbml0Q29kZSkoZSksbj0wO248dC5sZW5ndGg7bisrKWlmKHIodFtuXSkpe3ZhciBpPXRbbl0uZ2V0U2xvdEVsZW1lbnRJZCgpO3JldHVybiBPYmplY3Qoby5sb2dJbmZvKSgiWzMzQWNyb3NzIEFkYXB0ZXJdIE1hcCBhZCB1bml0IHBhdGggdG8gSFRNTCBlbGVtZW50IGlkOiAnIi5jb25jYXQoZSwiJyAtPiAiKS5jb25jYXQoaSkpLGl9cmV0dXJuIE9iamVjdChvLmxvZ1dhcm4pKCJbMzNBY3Jvc3MgQWRhcHRlcl0gVW5hYmxlIHRvIGxvY2F0ZSBlbGVtZW50IGZvciBhZCB1bml0IGNvZGU6ICciLmNvbmNhdChlLCInIikpLG51bGx9KGMpKSksaT1mdW5jdGlvbihlKXtpZihPYmplY3Qoby5pc0FycmF5KShlKSYmMj09PWUubGVuZ3RoJiYhT2JqZWN0KG8uaXNBcnJheSkoZVswXSkpcmV0dXJuW0EoZSldO3JldHVybiBlLm1hcChBKX0oci5zaXplcyk7dmFyIGM7dD0iZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcj9pLm1hcCgoZnVuY3Rpb24odCl7dmFyIHIsbj14KGUsdCxhLmIpO3JldHVybiBuJiYocj17ZXh0Ont0dHg6e2JpZGZsb29yczpbbl19fX0pLHMoe30sdCxyKX0pKTppO3ZhciBkPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5oKnQudzxlLmgqZS53P3Q6ZX0pKX0oaSksdT1mdW5jdGlvbihlKXtyZXR1cm57dHR4Ont2aWV3YWJpbGl0eTp7YW1vdW50OmlzTmFOKGUpP2U6TWF0aC5yb3VuZChlKX19fX0oZnVuY3Rpb24oZSl7cmV0dXJuIWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBPYmplY3Qoby5nZXRXaW5kb3dTZWxmKSgpIT09T2JqZWN0KG8uZ2V0V2luZG93VG9wKSgpfWNhdGNoKGUpe3JldHVybiEwfX0oKSYmbnVsbCE9PWV9KG4pP2Z1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49ci53LGk9ci5oO3JldHVybiJ2aXNpYmxlIj09PXQuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlP0MoZSx0LHt3Om4saDppfSk6MH0obixPYmplY3Qoby5nZXRXaW5kb3dUb3ApKCksZCk6Tyk7cmV0dXJue2Zvcm1hdDp0LGV4dDp1fX0odCkpKTtPYmplY3Qoby5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLnZpZGVvIikmJihwLmltcFswXS52aWRlbz1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIix7fSkscj1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8iLHt9KSxuPWQoZCh7fSx0KSxyKSxpPXt9LGM9QShuLnBsYXllclNpemVbMF0pLHU9Yy53LHA9Yy5oO2kudz11LGkuaD1wLHYuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5oYXNPd25Qcm9wZXJ0eShlKSYmKGlbZV09bltlXSl9KSk7dmFyIGw9dyhlKTtpLnBsYWNlbWVudD1pLnBsYWNlbWVudHx8MixsPT09aCYmKGkuc3RhcnRkZWxheT1pLnN0YXJ0ZGVsYXl8fDAsaS5wbGFjZW1lbnQ9MSk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciBiPXgoZSx7dzppLncsaDppLmh9LGEuZCk7YiYmcyhpLHtleHQ6e3R0eDp7YmlkZmxvb3JzOltiXX19fSl9cmV0dXJuIGl9KHQpKTtwLmltcFswXS5leHQ9e3R0eDp7cHJvZDp3KHQpfX0scC5zaXRlPXtpZDpiLnNpdGVJZH0sdSYmKHAuc2l0ZS5wYWdlPXUpO3AuaWQ9dC5iaWRJZCxuLmNvbnNlbnRTdHJpbmcmJihwLnVzZXI9aihwLnVzZXIsImNvbnNlbnQiLG4uY29uc2VudFN0cmluZykpO0FycmF5LmlzQXJyYXkodC51c2VySWRBc0VpZHMpJiZ0LnVzZXJJZEFzRWlkcy5sZW5ndGg+MCYmKHAudXNlcj1qKHAudXNlciwiZWlkcyIsdC51c2VySWRBc0VpZHMpKTtwLnJlZ3M9aihwLnJlZ3MsImdkcHIiLE51bWJlcihuLmdkcHJBcHBsaWVzKSksYyYmKHAucmVncz1qKHAucmVncywidXNfcHJpdmFjeSIsYykpO3AuZXh0PXt0dHg6e3ByZWJpZFN0YXJ0ZWRBdDpEYXRlLm5vdygpLGNhbGxlcjpbe25hbWU6InByZWJpZGpzIix2ZXJzaW9uOiI1LjIwLjIifV19fSx0LnNjaGFpbiYmKHAuc291cmNlPWoocC5zb3VyY2UsInNjaGFpbiIsdC5zY2hhaW4pKTsxPT09Yi50ZXN0JiYocC50ZXN0PTEpO3ZhciBmPXtjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSxtPWkuYi5nZXRDb25maWcoInR0eFNldHRpbmdzIik7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOm0mJm0udXJsfHwiIi5jb25jYXQobCwiP2d1aWQ9IikuY29uY2F0KGIuc2l0ZUlkKSxkYXRhOkpTT04uc3RyaW5naWZ5KHApLG9wdGlvbnM6Zn19KHtiaWRSZXF1ZXN0OmUsZ2RwckNvbnNlbnQ6cix1c3BDb25zZW50Om4scGFnZVVybDpjfSl9KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIGUuYm9keS5zZWF0YmlkLmxlbmd0aD4wJiZlLmJvZHkuc2VhdGJpZFswXS5iaWQubGVuZ3RoPjAmJnIucHVzaChmdW5jdGlvbihlKXt2YXIgdD1lLnNlYXRiaWRbMF0uYmlkWzBdLmFkb21haW4mJmUuc2VhdGJpZFswXS5iaWRbMF0uYWRvbWFpbi5sZW5ndGgscj17cmVxdWVzdElkOmUuaWQsYmlkZGVyQ29kZTpwLGNwbTplLnNlYXRiaWRbMF0uYmlkWzBdLnByaWNlLHdpZHRoOmUuc2VhdGJpZFswXS5iaWRbMF0udyxoZWlnaHQ6ZS5zZWF0YmlkWzBdLmJpZFswXS5oLGFkOmUuc2VhdGJpZFswXS5iaWRbMF0uYWRtLHR0bDplLnNlYXRiaWRbMF0uYmlkWzBdLnR0bHx8NjAsY3JlYXRpdmVJZDplLnNlYXRiaWRbMF0uYmlkWzBdLmNyaWQsbWVkaWFUeXBlOk9iamVjdChvLmRlZXBBY2Nlc3MpKGUuc2VhdGJpZFswXS5iaWRbMF0sImV4dC50dHgubWVkaWFUeXBlIixhLmIpLGN1cnJlbmN5OmUuY3VyLG5ldFJldmVudWU6ITB9O3QmJihyLm1ldGE9e2FkdmVydGlzZXJEb21haW5zOmUuc2VhdGJpZFswXS5iaWRbMF0uYWRvbWFpbn0pO2lmKHIubWVkaWFUeXBlPT09YS5kKXsieG1sIj09PU9iamVjdChvLmRlZXBBY2Nlc3MpKGUuc2VhdGJpZFswXS5iaWRbMF0sImV4dC50dHgudmFzdFR5cGUiLCJ4bWwiKT9yLnZhc3RYbWw9ci5hZDpyLnZhc3RVcmw9ci5hZH1yZXR1cm4gcn0oZS5ib2R5KSkscn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWUuaWZyYW1lRW5hYmxlZD95LnVuaXF1ZVNpdGVJZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zaXRlSWQscj12b2lkIDA9PT10PyJ6enowMDAwMDAwMDAwMDN6enoiOnQsbj1lLmdkcHJDb25zZW50LG89dm9pZCAwPT09bj97fTpuLGE9ZS51c3BDb25zZW50LHM9aS5iLmdldENvbmZpZygidHR4U2V0dGluZ3MiKSxjPXMmJnMuc3luY1VybHx8YixkPW8uY29uc2VudFN0cmluZyx1PW8uZ2RwckFwcGxpZXMscD17dHlwZToiaWZyYW1lIix1cmw6IiIuY29uY2F0KGMsIiZpZD0iKS5jb25jYXQociwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGQpLCImdXNfcHJpdmFjeT0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGEpKX07ImJvb2xlYW4iPT10eXBlb2YgdSYmKHAudXJsKz0iJmdkcHI9Ii5jb25jYXQoTnVtYmVyKHUpKSk7cmV0dXJuIHB9KHtnZHByQ29uc2VudDpyLHVzcENvbnNlbnQ6bixzaXRlSWQ6ZX0pfSkpOltdO3JldHVybiB5LnVuaXF1ZVNpdGVJZHM9W10sb319O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShUKX19LFsxMDRdKTsKdXBianNDaHVuayhbMV0sezE3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpaWYoInB1YlByb3ZpZGVkSWQiPT09cil0PXQuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgbj1hKGVbcl0scik7biYmdC5wdXNoKG4pfXJldHVybiB0fSx0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4uaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZPYmplY3Qobi5kZWVwQWNjZXNzKShpLHIrIi5zb3VyY2UiKSYmdC5wdXNoKHtzb3VyY2U6aVtyXS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSksdH07dmFyIG49cigwKSxpPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0sbmF2ZWdnSWQ6e3NvdXJjZToibmF2ZWdnLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG4ucGljaykoZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiB0fX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LHB1YmxpbmtJZDp7c291cmNlOiJlcHNpbG9uLmNvbSIsYXR5cGU6M30sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9LGNvbm5lY3RJZDp7c291cmNlOiJ5YWhvby5jb20iLGF0eXBlOjN9fTtmdW5jdGlvbiBhKGUsdCl7dmFyIHI9aVt0XTtpZihyJiZlKXt2YXIgYT17fTthLnNvdXJjZT1yLnNvdXJjZTt2YXIgbz1PYmplY3Qobi5pc0ZuKShyLmdldFZhbHVlKT9yLmdldFZhbHVlKGUpOmU7aWYoT2JqZWN0KG4uaXNTdHIpKG8pKXt2YXIgcz17aWQ6byxhdHlwZTpyLmF0eXBlfTtpZihPYmplY3Qobi5pc0ZuKShyLmdldFVpZEV4dCkpe3ZhciBjPXIuZ2V0VWlkRXh0KGUpO2MmJihzLmV4dD1jKX1pZihhLnVpZHM9W3NdLE9iamVjdChuLmlzRm4pKHIuZ2V0RWlkRXh0KSl7dmFyIHU9ci5nZXRFaWRFeHQoZSk7dSYmKGEuZXh0PXUpfXJldHVybiBhfX1yZXR1cm4gbnVsbH19LDE4MjpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMTgzKX0sMTgzOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJFTkRQT0lOVCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR9KSksci5kKHQsInN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiB4fSkpLHIuZCh0LCJSRU5ERVJFUl9VUkwiLChmdW5jdGlvbigpe3JldHVybiBTfSkpLHIuZCh0LCJPUlRCX1ZJREVPX1BBUkFNUyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksci5kKHQsIkdsb2JhbEV4Y2hhbmdlIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSx0LmFkYWdpb1NjcmlwdEZyb21Mb2NhbFN0b3JhZ2VDYj1VLHQuZ2V0QWRhZ2lvU2NyaXB0PUMsci5kKHQsImludGVybmFsIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKSx0LnNldEV4dHJhUGFyYW09RyxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEp9KSk7dmFyIG49cigxMSksaT1yLm4obiksYT1yKDApLG89cigzKSxzPXIoMSksYz1yKDM1KSx1PXIoNzgpLGQ9KHIubih1KSxyKDcpKSxwPXIoMTkpLGY9cigxNyksbT1yKDIpLGw9cigxMyksaD1yKDIyKTtmdW5jdGlvbiBnKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiB5KGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2coT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtiKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpnKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGIoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciB2LE8sQSxJPSJhZGFnaW8iLGo9IkFkYWdpbzoiLFQ9Imh0dHBzOi8vbXAuNGRleC5pby9wcmViaWQiLEQ9W20uYixtLmMsbS5kXSx3PSJhZGFnaW9TY3JpcHQiLHg9T2JqZWN0KGQuYikoNjE3LCJhZGFnaW8iKSxTPSJodHRwczovL3NjcmlwdC40ZGV4LmlvL291dHN0cmVhbS1wbGF5ZXIuanMiLEU9e21pbWVzOmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wJiZlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9KSl9LG1pbmR1cmF0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0ludGVnZXIpKGUpfSxtYXhkdXJhdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0scHJvdG9jb2xzOmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVsxLDIsMyw0LDUsNiw3LDgsOSwxMF0uaW5kZXhPZihlKX0pKX0sdzpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0saDpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0sc3RhcnRkZWxheTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0scGxhY2VtZW50OmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVsxLDIsMyw0LDVdLmluZGV4T2YoZSl9KSl9LGxpbmVhcml0eTpmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVsxLDJdLmluZGV4T2YoZSl9LHNraXA6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1bMCwxXS5pbmRleE9mKGUpfSxza2lwbWluOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0ludGVnZXIpKGUpfSxza2lwYWZ0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LHNlcXVlbmNlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0ludGVnZXIpKGUpfSxiYXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1BcnJheS5mcm9tKHtsZW5ndGg6MTd9LChmdW5jdGlvbihlLHQpe3JldHVybiB0KzF9KSkuaW5kZXhPZihlKX0pKX0sbWF4ZXh0ZW5kZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LG1pbmJpdHJhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LG1heGJpdHJhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LGJveGluZ2FsbG93ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1bMCwxXS5pbmRleE9mKGUpfSxwbGF5YmFja21ldGhvZDpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1bMSwyLDMsNCw1LDZdLmluZGV4T2YoZSl9KSl9LHBsYXliYWNrZW5kOmZ1bmN0aW9uKGUpe3JldHVybi0xIT09WzEsMiwzXS5pbmRleE9mKGUpfSxkZWxpdmVyeTpmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVsxLDIsM10uaW5kZXhPZihlKX0scG9zOmZ1bmN0aW9uKGUpe3JldHVybi0xIT09WzAsMSwyLDMsNCw1LDYsN10uaW5kZXhPZihlKX0sYXBpOmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVsxLDIsMyw0LDUsNl0uaW5kZXhPZihlKX0pKX19LGs9KEE9e30se2NsZWFyRmVhdHVyZXM6ZnVuY3Rpb24oKXtPPXZvaWQgMH0sY2xlYXJFeGNoYW5nZURhdGE6ZnVuY3Rpb24oKXtBPXt9fSxnZXRPclNldEdsb2JhbEZlYXR1cmVzOmZ1bmN0aW9uKCl7cmV0dXJuIE98fChPPXtwYWdlX2RpbWVuc2lvbnM6VigpLnRvU3RyaW5nKCksdmlld3BvcnRfZGltZW5zaW9uczp6KCkudG9TdHJpbmcoKSx1c2VyX3RpbWVzdGFtcDooTWF0aC5mbG9vcigobmV3IERhdGUpLmdldFRpbWUoKS8xZTMpLTYwKihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSkudG9TdHJpbmcoKSxkb21fbG9hZGluZzpMKCkudG9TdHJpbmcoKX0pLE99LHByZXBhcmVFeGNoYW5nZURhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5wYXJzZShlLChmdW5jdGlvbihlLHQpe2lmKCJfIiE9PWUuY2hhckF0KDApfHwiIj09PWUpcmV0dXJuIHR9KSkscj1PYmplY3QoYS5kZWVwQWNjZXNzKSh0LCJzZXNzaW9uLnJuZCIpLG49ITE7Ti5pc05ld1Nlc3Npb24odCkmJihuPSEwLHI9TWF0aC5yYW5kb20oKSk7dmFyIGk9e3Nlc3Npb246e25ldzpuLHJuZDpyfX07T2JqZWN0KGEubWVyZ2VEZWVwKShBLHQsaSksTi5lbnF1ZXVlKHthY3Rpb246InNlc3Npb24iLHRzOkRhdGUubm93KCksZGF0YTpBfSl9LGdldEV4Y2hhbmdlRGF0YTpmdW5jdGlvbigpe3JldHVybiBBfX0pO2Z1bmN0aW9uIFUoZSl7dHJ5e2lmKCFlKXJldHVybiB2b2lkIE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChqLCIgc2NyaXB0IG5vdCBmb3VuZC4iKSk7dmFyIHQ9L14oXC9cLyBoYXNoOiAoLispXG4pKC4rXG4pJC87aWYodC50ZXN0KGUpKXt2YXIgcj1lLm1hdGNoKHQpLG49clsyXSxpPXJbM107T2JqZWN0KHUudmVyaWZ5KShpLG4sIkFMMTZYVDQ0U2ZwKzhTSFZGMVVkQzdoeWRQU01WTE1oc1lrbktEZHdxcSswVG9EU0pyUDArUWgwa2k5SkpJMnVZbS82VkVZbzhUSkVEOVdmTWtpSjR2ZjAyQ1czUnZTV3djMzViaWYyU0sxTDhObi9HZkZZci8yL0dHL1JtMHZVc3YrdkJIa3k2bnV1WWxzMjBPZzBIRGhNZ2FPbFhvUS9jeE11aXk1UVNrdHAiLDY1NTM3KT8oT2JqZWN0KGEubG9nSW5mbykoIiIuY29uY2F0KGosIiBzdGFydCBzY3JpcHQuIikpLEZ1bmN0aW9uKGUpKCkpOihPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQoaiwiIGludmFsaWQgc2NyaXB0IGZvdW5kLiIpKSx4LnJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlKHcpKX1lbHNlIE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChqLCIgbm8gaGFzaCBmb3VuZC4iKSkseC5yZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZSh3KX1jYXRjaChlKXtPYmplY3QoYS5sb2dFcnJvcikoaixlKX19ZnVuY3Rpb24gQygpe3guZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UodywoZnVuY3Rpb24oZSl7Ti5hZGFnaW9TY3JpcHRGcm9tTG9jYWxTdG9yYWdlQ2IoZSl9KSkseC5sb2NhbFN0b3JhZ2VJc0VuYWJsZWQoKGZ1bmN0aW9uKGUpe2lmKGUpT2JqZWN0KGMuYSkoImh0dHBzOi8vc2NyaXB0LjRkZXguaW8vbG9jYWxzdG9yZS5qcyIsSSk7ZWxzZSB0cnl7d2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHcpLHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiYWRhZ2lvIil9Y2F0Y2goZSl7T2JqZWN0KGEubG9nSW5mbykoIiIuY29uY2F0KGosIiB1bmFibGUgdG8gY2xlYXIgQWRhZ2lvIHNjcmlwdHMgZnJvbSBsb2NhbHN0b3JhZ2UuIikpfX0pKX1mdW5jdGlvbiBSKCl7dHJ5e2lmKE9iamVjdChhLmdldFdpbmRvd1RvcCkoKS5sb2NhdGlvbi5ocmVmKXJldHVybiEwfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBQKCl7cmV0dXJuIHZ8fE9iamVjdChhLmdldFdpbmRvd1NlbGYpKCl9ZnVuY3Rpb24gVygpe3ZhciBlPU9iamVjdChhLmdldFdpbmRvd1NlbGYpKCk7cmV0dXJuISghZS4kc2Z8fCFlLiRzZi5leHQpfWZ1bmN0aW9uIE0oZSl7dmFyIHQ9Ti5pc1JlbmRlcmVyUHJlZmVycmVkRnJvbVB1Ymxpc2hlcihlKT8ib3RoZXIiOiJhZGFnaW8iO3JldHVybiJvdGhlciI9PT10JiZPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQoaiwiIHJlbmRlcmVyLmJhY2t1cE9ubHkgaGFzIG5vdCBiZWVuIHNldC4gQWRhZ2lvIHJlY29tbWVuZHMgdG8gdXNlIGl0cyBvd24gcGxheWVyIHRvIGdldCBleHBlY3RlZCBiZWhhdmlvci4iKSksdH12YXIgTj17ZW5xdWV1ZTpmdW5jdGlvbihlKXt2YXIgdD1OLmdldEN1cnJlbnRXaW5kb3coKTt0LkFEQUdJTz10LkFEQUdJT3x8e30sdC5BREFHSU8ucXVldWU9dC5BREFHSU8ucXVldWV8fFtdLHQuQURBR0lPLnF1ZXVlLnB1c2goZSl9LGdldFBhZ2V2aWV3SWQ6ZnVuY3Rpb24oKXt2YXIgZT1OLmdldEN1cnJlbnRXaW5kb3coKTtyZXR1cm4gZS5BREFHSU89ZS5BREFHSU98fHt9LGUuQURBR0lPLnBhZ2V2aWV3SWQ9ZS5BREFHSU8ucGFnZXZpZXdJZHx8T2JqZWN0KGEuZ2VuZXJhdGVVVUlEKSgpLGUuQURBR0lPLnBhZ2V2aWV3SWR9LGdldERldmljZTpmdW5jdGlvbigpe3ZhciBlPW5hdmlnYXRvci5sYW5ndWFnZT8ibGFuZ3VhZ2UiOiJ1c2VyTGFuZ3VhZ2UiO3JldHVybnt1c2VyQWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudCxsYW5ndWFnZTpuYXZpZ2F0b3JbZV0sZG50Ok9iamVjdChhLmdldEROVCkoKT8xOjAsZ2VvOnt9LGpzOjF9fSxnZXRTaXRlOmZ1bmN0aW9uKGUpe3ZhciB0PSIiLHI9IiIsbj0iIixpPWUucmVmZXJlckluZm87aWYoUigpKXt2YXIgbz1PYmplY3QoYS5nZXRXaW5kb3dUb3ApKCk7dD1vLmxvY2F0aW9uLmhvc3RuYW1lLHI9by5sb2NhdGlvbi5ocmVmLG49by5kb2N1bWVudC5yZWZlcnJlcnx8IiJ9ZWxzZSBpZihpLnJlYWNoZWRUb3Ape3Q9T2JqZWN0KGEucGFyc2VVcmwpKGkucmVmZXJlcikuaG9zdG5hbWUscj1pLnJlZmVyZXJ9ZWxzZSBpZihpLnN0YWNrJiZpLnN0YWNrLmxlbmd0aCYmaS5zdGFja1swXSl7dD1PYmplY3QoYS5wYXJzZVVybCkoaS5zdGFja1swXSkuaG9zdG5hbWV9cmV0dXJue2RvbWFpbjp0LHBhZ2U6cixyZWZlcnJlcjpufX0sZ2V0RWxlbWVudEZyb21Ub3BXaW5kb3c6ZnVuY3Rpb24gZSh0LHIpe3RyeXtpZihPYmplY3QoYS5nZXRXaW5kb3dUb3ApKCk9PT1yKXJldHVybiB0LmdldEF0dHJpYnV0ZSgiaWQiKXx8dC5zZXRBdHRyaWJ1dGUoImlkIiwiYWRnLSIuY29uY2F0KE9iamVjdChhLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCkpKSx0O3ZhciBuPXIuZnJhbWVFbGVtZW50LGk9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIGkud2lkdGg9PT1vLndpZHRoJiZpLmhlaWdodD09PW8uaGVpZ2h0JiZlKG4sci5wYXJlbnQpfWNhdGNoKGUpe3JldHVybiBPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQoaiksZSksITF9fSxnZXRSZWZlcmVySW5mbzpwLmEsYWRhZ2lvU2NyaXB0RnJvbUxvY2FsU3RvcmFnZUNiOlUsZ2V0Q3VycmVudFdpbmRvdzpQLGNhbkFjY2Vzc1RvcFdpbmRvdzpSLGlzUmVuZGVyZXJQcmVmZXJyZWRGcm9tUHVibGlzaGVyOmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsInJlbmRlcmVyIikscj0hISh0JiZ0LnVybCYmdC5yZW5kZXIpLG49T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5yZW5kZXJlciIpLGk9ISEobiYmbi51cmwmJm4ucmVuZGVyKTtyZXR1cm4hIShyJiYhMCE9PXQuYmFja3VwT25seXx8aSYmITAhPT1uLmJhY2t1cE9ubHkpfSxpc05ld1Nlc3Npb246ZnVuY3Rpb24oZSl7dmFyIHQ9RGF0ZS5ub3coKSxyPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsInNlc3Npb24iLHt9KSxuPXIubGFzdEFjdGl2aXR5VGltZSxpPXIudndTbXBsZztyZXR1cm4hT2JqZWN0KGEuaXNOdW1iZXIpKG4pfHwhT2JqZWN0KGEuaXNOdW1iZXIpKGkpfHx0LW4+MThlNX19O2Z1bmN0aW9uIHEoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpeyJmdW5jdGlvbiI9PXR5cGVvZiB3aW5kb3cuQURBR0lPLm91dHN0cmVhbVBsYXllcj93aW5kb3cuQURBR0lPLm91dHN0cmVhbVBsYXllcihlKTpPYmplY3QoYS5sb2dFcnJvcikoIiIuY29uY2F0KGosIiBBZGFnaW8gb3V0c3RyZWFtIHBsYXllciBpcyBub3QgZGVmaW5lZCIpKX0pKX1mdW5jdGlvbiBCKGUpe2lmKGUuYWRtTmF0aXZlJiZBcnJheS5pc0FycmF5KGUuYWRtTmF0aXZlLmFzc2V0cykpe3ZhciB0PXt9O2UuYWRtTmF0aXZlLmFzc2V0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlLnRpdGxlKXQudGl0bGU9ZS50aXRsZS50ZXh0O2Vsc2UgaWYoZS5kYXRhKXI9ZS5kYXRhLChuPXsxOiJzcG9uc29yZWRCeSIsMjoiYm9keSIsMzoicmF0aW5nIiw0OiJsaWtlcyIsNToiZG93bmxvYWRzIiw2OiJwcmljZSIsNzoic2FsZVByaWNlIiw4OiJwaG9uZSIsOToiYWRkcmVzcyIsMTA6ImJvZHkyIiwxMToiZGlzcGxheVVybCIsMTI6ImN0YSJ9KS5oYXNPd25Qcm9wZXJ0eShyLnR5cGUpJiYic3RyaW5nIj09dHlwZW9mIHIudmFsdWUmJih0W25bci50eXBlXV09ci52YWx1ZSk7ZWxzZSBpZihlLmltZylzd2l0Y2goZS5pbWcudHlwZSl7Y2FzZSAxOnQuaWNvbj17dXJsOmUuaW1nLnVybCx3aWR0aDplLmltZy53LGhlaWdodDplLmltZy5ofTticmVhaztkZWZhdWx0OnQuaW1hZ2U9e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH19dmFyIHIsbn0pKSxlLmFkbU5hdGl2ZS5saW5rJiYoZS5hZG1OYXRpdmUubGluay51cmwmJih0LmNsaWNrVXJsPWUuYWRtTmF0aXZlLmxpbmsudXJsKSxBcnJheS5pc0FycmF5KGUuYWRtTmF0aXZlLmxpbmsuY2xpY2t0cmFja2VycykmJih0LmNsaWNrVHJhY2tlcnM9ZS5hZG1OYXRpdmUubGluay5jbGlja3RyYWNrZXJzKSksQXJyYXkuaXNBcnJheShlLmFkbU5hdGl2ZS5ldmVudHRyYWNrZXJzKT8odC5pbXByZXNzaW9uVHJhY2tlcnM9W10sZS5hZG1OYXRpdmUuZXZlbnR0cmFja2Vycy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigxPT09ZS5ldmVudClzd2l0Y2goZS5tZXRob2Qpe2Nhc2UgMTp0LmltcHJlc3Npb25UcmFja2Vycy5wdXNoKGUudXJsKTticmVhaztjYXNlIDI6dC5qYXZhc2NyaXB0VHJhY2tlcnM9JzxzY3JpcHQgc3JjPSInLmNvbmNhdChlLnVybCwnIj48XC9zY3JpcHQ+Jyl9fSkpKToodC5pbXByZXNzaW9uVHJhY2tlcnM9QXJyYXkuaXNBcnJheShlLmFkbU5hdGl2ZS5pbXB0cmFja2Vycyk/ZS5hZG1OYXRpdmUuaW1wdHJhY2tlcnM6W10sZS5hZG1OYXRpdmUuanN0cmFja2VyJiYodC5qYXZhc2NyaXB0VHJhY2tlcnM9ZS5hZG1OYXRpdmUuanN0cmFja2VyKSksZS5hZG1OYXRpdmUucHJpdmFjeSYmKHQucHJpdmFjeUxpbms9ZS5hZG1OYXRpdmUucHJpdmFjeSksZS5hZG1OYXRpdmUuZXh0JiYodC5leHQ9e30sZS5hZG1OYXRpdmUuZXh0LmJ2dyYmKHQuZXh0LmFkYWdpb19idnc9ZS5hZG1OYXRpdmUuZXh0LmJ2dykpLGUubmF0aXZlPXR9ZWxzZSBPYmplY3QoYS5sb2dFcnJvcikoIiIuY29uY2F0KGosIiBJbnZhbGlkIG5hdGl2ZSByZXNwb25zZSIpKX1mdW5jdGlvbiBHKGUsdCl7aWYoZS5wYXJhbXM9ZS5wYXJhbXN8fHt9LCFlLnBhcmFtc1t0XSl7dmFyIHI9by5iLmdldENvbmZpZygiYWRhZ2lvIil8fHt9LG49by5iLmdldENvbmZpZygib3J0YjIiKSxpPXJbdF18fE9iamVjdChhLmRlZXBBY2Nlc3MpKG4sInNpdGUuZXh0LmRhdGEuIi5jb25jYXQodCksbnVsbCk7aSYmKGUucGFyYW1zW3RdPWkpfX1mdW5jdGlvbiBGKGUpe3ZhciB0PW8uYi5nZXRDb25maWcoImFkYWdpbyIpfHx7fTtlLnBhcmFtcz1lLnBhcmFtc3x8e30sdC5zaXRlSWQmJihlLnBhcmFtcy5vcmdhbml6YXRpb25JZD10LnNpdGVJZC5zcGxpdCgiOiIpWzBdLGUucGFyYW1zLnNpdGU9dC5zaXRlSWQuc3BsaXQoIjoiKVsxXSksITAhPT10LnVzZUFkVW5pdENvZGVBc1BsYWNlbWVudCYmITAhPT1lLnBhcmFtcy51c2VBZFVuaXRDb2RlQXNQbGFjZW1lbnR8fChlLnBhcmFtcy5wbGFjZW1lbnQ9ZS5hZFVuaXRDb2RlKSxlLnBhcmFtcy5hZFVuaXRFbGVtZW50SWQ9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEuZWxlbWVudElkIixudWxsKXx8ZS5wYXJhbXMuYWRVbml0RWxlbWVudElkLGUucGFyYW1zLmFkVW5pdEVsZW1lbnRJZHx8KCEwPT09dC51c2VBZFVuaXRDb2RlQXNBZFVuaXRFbGVtZW50SWR8fCEwPT09ZS5wYXJhbXMudXNlQWRVbml0Q29kZUFzQWRVbml0RWxlbWVudElkP2UucGFyYW1zLmFkVW5pdEVsZW1lbnRJZD1lLmFkVW5pdENvZGU6ZS5wYXJhbXMuYWRVbml0RWxlbWVudElkPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChhLmdldEdwdFNsb3RJbmZvRm9yQWRVbml0Q29kZSkoZSk7aWYodCYmdC5kaXZJZClyZXR1cm4gdC5kaXZJZH0oZS5hZFVuaXRDb2RlKSksRyhlLCJlbnZpcm9ubWVudCIpLEcoZSwicGFnZXR5cGUiKSxHKGUsImNhdGVnb3J5IiksRyhlLCJzdWJjYXRlZ29yeSIpfWZ1bmN0aW9uIFYoKXtpZihXKCl8fCFSKCkpcmV0dXJuIiI7dmFyIGU9T2JqZWN0KGEuZ2V0V2luZG93VG9wKSgpLHQ9ZS5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJib2R5Iik7aWYoIXQpcmV0dXJuIiI7dmFyIHI9ZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsbj1NYXRoLm1heCh0LnNjcm9sbFdpZHRoLHQub2Zmc2V0V2lkdGgsci5jbGllbnRXaWR0aCxyLnNjcm9sbFdpZHRoLHIub2Zmc2V0V2lkdGgpLGk9TWF0aC5tYXgodC5zY3JvbGxIZWlnaHQsdC5vZmZzZXRIZWlnaHQsci5jbGllbnRIZWlnaHQsci5zY3JvbGxIZWlnaHQsci5vZmZzZXRIZWlnaHQpO3JldHVybiIiLmNvbmNhdChuLCJ4IikuY29uY2F0KGkpfWZ1bmN0aW9uIHooKXtpZighVygpJiYhUigpKXJldHVybiIiO3ZhciBlPXt3OjAsaDowfTtpZihXKCkpe3ZhciB0PU9iamVjdChhLmdldFdpbmRvd1NlbGYpKCk7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQuJHNmLmV4dC5nZW9tKXJldHVybiBPYmplY3QoYS5sb2dXYXJuKShqLCJVbmFibGUgdG8gY29tcHV0ZSBmcm9tIHNhZmVmcmFtZSBhcGkuIiksIiI7dmFyIHI9dC4kc2YuZXh0Lmdlb20oKTtpZighcnx8IXIud2luKXJldHVybiBPYmplY3QoYS5sb2dXYXJuKShqLCJVbmFibGUgdG8gY29tcHV0ZSBmcm9tIHNhZmVmcmFtZSBhcGkuIE1pc3NpbmcgYGdlb20oKS53aW5gIHByb3BlcnR5IiksIiI7ZS53PU1hdGgucm91bmQoci53KSxlLmg9TWF0aC5yb3VuZChyLmgpfWVsc2V7dmFyIG49T2JqZWN0KGEuZ2V0V2luZG93VG9wKSgpO2Uudz1uLmlubmVyV2lkdGgsZS5oPW4uaW5uZXJIZWlnaHR9cmV0dXJuIiIuY29uY2F0KGUudywieCIpLmNvbmNhdChlLmgpfWZ1bmN0aW9uIF8oZSl7aWYoIWUpcmV0dXJuIiI7aWYoIVcoKSYmIVIoKSlyZXR1cm4iIjt2YXIgdD17eDowLHk6MH07aWYoVygpKXt2YXIgcj1PYmplY3QoYS5nZXRXaW5kb3dTZWxmKSgpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByLiRzZi5leHQuZ2VvbSlyZXR1cm4gT2JqZWN0KGEubG9nV2FybikoaiwiVW5hYmxlIHRvIGNvbXB1dGUgZnJvbSBzYWZlZnJhbWUgYXBpLiIpLCIiO3ZhciBuPXIuJHNmLmV4dC5nZW9tKCk7aWYoIW58fCFuLnNlbGYpcmV0dXJuIE9iamVjdChhLmxvZ1dhcm4pKGosIlVuYWJsZSB0byBjb21wdXRlIGZyb20gc2FmZWZyYW1lIGFwaS4gTWlzc2luZyBgZ2VvbSgpLnNlbGZgIHByb3BlcnR5IiksIiI7dC54PU1hdGgucm91bmQobi50KSx0Lnk9TWF0aC5yb3VuZChuLmwpfWVsc2V7aWYoIVIoKSlyZXR1cm4iIjt2YXIgaSxvPU9iamVjdChhLmdldFdpbmRvd1RvcCkoKSxzPW8uZG9jdW1lbnQ7aWYoITA9PT1PYmplY3QoYS5pbklmcmFtZSkoKSl7dmFyIGM9T2JqZWN0KGEuZ2V0V2luZG93U2VsZikoKSx1PWMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7aT1OLmdldEVsZW1lbnRGcm9tVG9wV2luZG93KHUsYyl9ZWxzZSBpPW8uZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYoIWkpcmV0dXJuIiI7dmFyIGQ9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxwPXMuZG9jdW1lbnRFbGVtZW50LGY9cy5ib2R5LG09cy5jbGllbnRUb3B8fGYuY2xpZW50VG9wfHwwLGw9cy5jbGllbnRMZWZ0fHxmLmNsaWVudExlZnR8fDAsaD1vLnBhZ2VZT2Zmc2V0fHxwLnNjcm9sbFRvcHx8Zi5zY3JvbGxUb3AsZz1vLnBhZ2VYT2Zmc2V0fHxwLnNjcm9sbExlZnR8fGYuc2Nyb2xsTGVmdCx5PW8uZ2V0Q29tcHV0ZWRTdHlsZShpLG51bGwpLmRpc3BsYXl8fCJibG9jayI7Im5vbmUiPT09eSYmKGkuc3R5bGU9aS5zdHlsZXx8e30saS5zdHlsZS5kaXNwbGF5PSJibG9jayIsZD1pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGkuc3R5bGUuZGlzcGxheT15KSx0Lng9TWF0aC5yb3VuZChkLmxlZnQrZy1sKSx0Lnk9TWF0aC5yb3VuZChkLnRvcCtoLW0pfXJldHVybiIiLmNvbmNhdCh0LngsIngiKS5jb25jYXQodC55KX1mdW5jdGlvbiBIKGUsdCl7cmV0dXJuIHQuYmlkcyYmdC5iaWRzLmxlbmd0aCYmaSgpKHQuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWV9KSkuYmlkUmVxdWVzdHNDb3VudHx8MX1mdW5jdGlvbiBMKCl7dmFyIGUsdD0tMTtpZigoZT1SKCk/T2JqZWN0KGEuZ2V0V2luZG93VG9wKSgpLnBlcmZvcm1hbmNlOk9iamVjdChhLmdldFdpbmRvd1NlbGYpKCkucGVyZm9ybWFuY2UpJiZlLnRpbWluZyYmZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0PjApe3ZhciByPWUudGltaW5nLmRvbUxvYWRpbmctZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0O3I+MCYmKHQ9cil9cmV0dXJuIHR9ZnVuY3Rpb24gWihlKXt2YXIgdCxyPVAoKTtyLkFEQUdJTz1yLkFEQUdJT3x8e30sci5BREFHSU8ucGJqc0FkVW5pdHM9ci5BREFHSU8ucGJqc0FkVW5pdHMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb2RlIT09ZS5hZFVuaXRDb2RlfSkpLGUuZmVhdHVyZXMmJmUuZmVhdHVyZXMucHJpbnRfbnVtYmVyP3Q9ZS5mZWF0dXJlcy5wcmludF9udW1iZXI6ZS5wYXJhbXMuZmVhdHVyZXMmJmUucGFyYW1zLmZlYXR1cmVzLnByaW50X251bWJlciYmKHQ9ZS5wYXJhbXMuZmVhdHVyZXMucHJpbnRfbnVtYmVyKSxyLkFEQUdJTy5wYmpzQWRVbml0cy5wdXNoKHtjb2RlOmUuYWRVbml0Q29kZSxtZWRpYVR5cGVzOmUubWVkaWFUeXBlc3x8e30sc2l6ZXM6ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZBcnJheS5pc0FycmF5KGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcyxiaWRzOlt7YmlkZGVyOmUuYmlkZGVyLHBhcmFtczplLnBhcmFtc31dLGF1Y3Rpb25JZDplLmF1Y3Rpb25JZCxwYWdldmlld0lkOk4uZ2V0UGFnZXZpZXdJZCgpLHByaW50TnVtYmVyOnR9KSxyLkFEQUdJTy5hZFVuaXRzW2UuYWRVbml0Q29kZV09e2F1Y3Rpb25JZDplLmF1Y3Rpb25JZCxwYWdldmlld0lkOk4uZ2V0UGFnZXZpZXdJZCgpLHByaW50TnVtYmVyOnR9fXZhciBKPXtjb2RlOkksZ3ZsaWQ6NjE3LHN1cHBvcnRlZE1lZGlhVHlwZXM6RCxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXM9ZS5wYXJhbXN8fHt9LEYoZSksTi5nZXRSZWZlcmVySW5mbygpLnJlYWNoZWRUb3A/ISEoZS5wYXJhbXMub3JnYW5pemF0aW9uSWQmJmUucGFyYW1zLnNpdGUmJmUucGFyYW1zLnBsYWNlbWVudCl8fChPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQoaiwiIGF0IGxlYXN0IG9uZSByZXF1aXJlZCBwYXJhbSBpcyBtaXNzaW5nLiIpKSwhMSk6KE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChqLCIgdGhlIG1haW4gcGFnZSB1cmwgaXMgdW5yZWFjaGFibGVkLiIpKSwhMSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcixuPSJodHRwczoiPT09bG9jYXRpb24ucHJvdG9jb2w/MTowLGk9Ti5nZXREZXZpY2UoKSxzPU4uZ2V0U2l0ZSh0KSxjPU4uZ2V0UGFnZXZpZXdJZCgpLHU9ZnVuY3Rpb24oZSl7aWYoIU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsImdkcHJDb25zZW50IikpcmV0dXJuITE7dmFyIHQ9ZS5nZHByQ29uc2VudCxyPXQuYXBpVmVyc2lvbixuPXQuZ2RwckFwcGxpZXMsaT10LmNvbnNlbnRTdHJpbmcsbz10LmFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50O3JldHVybiBPYmplY3QoYS5jbGVhbk9iaikoe2FwaVZlcnNpb246cixjb25zZW50U3RyaW5nOmksY29uc2VudFJlcXVpcmVkOm4/MTowLGFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50Om8/MTowfSl9KHQpfHx7fSxkPWZ1bmN0aW9uKGUpe3JldHVybiEhT2JqZWN0KGEuZGVlcEFjY2VzcykoZSwidXNwQ29uc2VudCIpJiZ7dXNwQ29uc2VudDplLnVzcENvbnNlbnR9fSh0KXx8e30scD17cmVxdWlyZWQ6ITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpPzE6MH0sbD0ocj1lWzBdLE9iamVjdChhLmRlZXBBY2Nlc3MpKHIsInNjaGFpbiIpKSxnPWZ1bmN0aW9uKGUpe2lmKE9iamVjdChhLmRlZXBBY2Nlc3MpKGUsInVzZXJJZCIpKXJldHVybiBPYmplY3QoZi5iKShlLnVzZXJJZCl9KGVbMF0pfHxbXSxiPU9iamVjdChhLl9tYXApKGUsKGZ1bmN0aW9uKGUpe3ZhciByPXkoeSh7fSxrLmdldE9yU2V0R2xvYmFsRmVhdHVyZXMoKSkse30se3ByaW50X251bWJlcjpIKGUuYWRVbml0Q29kZSx0KS50b1N0cmluZygpLGFkdW5pdF9wb3NpdGlvbjpfKGUucGFyYW1zLmFkVW5pdEVsZW1lbnRJZCl9KTtyZXR1cm4gT2JqZWN0LmtleXMocikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7IiI9PT1yW2VdJiZkZWxldGUgcltlXX0pKSxlLmZlYXR1cmVzPXIsTi5lbnF1ZXVlKHthY3Rpb246ImZlYXR1cmVzIix0czpEYXRlLm5vdygpLGRhdGE6e2ZlYXR1cmVzOmUuZmVhdHVyZXMscGFyYW1zOmUucGFyYW1zLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfX0pLGUuZmxvb3JzPWZ1bmN0aW9uKGUpe2lmKCFPYmplY3QoYS5pc0ZuKShlLmdldEZsb29yKSlyZXR1cm4hMTt2YXIgdD1bXSxyPWZ1bmN0aW9uKHIsbil7dmFyIGk9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOnIsc2l6ZTpbXX0pO3QucHVzaChPYmplY3QoYS5jbGVhbk9iaikoe210OnIsczpPYmplY3QoYS5pc0FycmF5KShuKT8iIi5jb25jYXQoblswXSwieCIpLmNvbmNhdChuWzFdKTp2b2lkIDAsZjppc05hTihpLmZsb29yKXx8IlVTRCIhPT1pLmN1cnJlbmN5Py4xOmkuZmxvb3J9KSl9O3JldHVybiBPYmplY3Qua2V5cyhlLm1lZGlhVHlwZXMpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKC0xIT09RC5pbmRleE9mKHQpKXt2YXIgbj10PT09bS5kPyJwbGF5ZXJTaXplIjoic2l6ZXMiO2UubWVkaWFUeXBlc1t0XVtuXSYmZS5tZWRpYVR5cGVzW3RdW25dLmxlbmd0aD9PYmplY3QoYS5pc0FycmF5KShlLm1lZGlhVHlwZXNbdF1bbl1bMF0pP2UubWVkaWFUeXBlc1t0XVtuXS5mb3JFYWNoKChmdW5jdGlvbihlKXtyKHQsW2VbMF0sZVsxXV0pfSkpOnIodCxbZS5tZWRpYVR5cGVzW3RdW25dWzBdLGUubWVkaWFUeXBlc1t0XVtuXVsxXV0pOnIodCwiKiIpfX0pKSx0fShlKSxPYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIikmJmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iLHt9KSxyPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIse30pLG49e307aWYoQXJyYXkuaXNBcnJheSh0LnBsYXllclNpemUpKXt2YXIgaT1BcnJheS5pc0FycmF5KHQucGxheWVyU2l6ZVswXSk/dC5wbGF5ZXJTaXplWzBdOnQucGxheWVyU2l6ZTtuLnc9aVswXSxuLmg9aVsxXX12YXIgbz15KHkoeSh7fSxuKSx0KSxyKTtvLmNvbnRleHQmJm8uY29udGV4dD09PWguYiYmKGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJOYW1lPU0oZSkpLE9iamVjdC5rZXlzKEUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe28uaGFzT3duUHJvcGVydHkodCkmJihFW3RdKG9bdF0pP2UubWVkaWFUeXBlcy52aWRlb1t0XT1vW3RdOihkZWxldGUgZS5tZWRpYVR5cGVzLnZpZGVvW3RdLE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChqLCIgVGhlIE9wZW5SVEIgdmlkZW8gcGFyYW0gIikuY29uY2F0KHQsIiBoYXMgYmVlbiBza2lwcGVkIGR1ZSB0byBtaXNmb3JtYXRpbmcuIFBsZWFzZSByZWZlciB0byBPcGVuUlRCIDIuNSBzcGVjLiIpKSkpfSkpfShlKSxaKGUpLGV9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciByPU9iamVjdChhLmRlZXBDbG9uZSkodCk7cmV0dXJuIHIucGFyYW1zLm9yZ2FuaXphdGlvbklkPXIucGFyYW1zLm9yZ2FuaXphdGlvbklkLnRvU3RyaW5nKCksZGVsZXRlIHIuZmxvb3JEYXRhLGRlbGV0ZSByLnBhcmFtcy5zaXRlSWQsZVtyLnBhcmFtcy5vcmdhbml6YXRpb25JZF09ZVtyLnBhcmFtcy5vcmdhbml6YXRpb25JZF18fFtdLGVbci5wYXJhbXMub3JnYW5pemF0aW9uSWRdLnB1c2gociksZX0pLHt9KTtyZXR1cm4gT2JqZWN0KGEuX21hcCkoT2JqZWN0LmtleXMoYiksKGZ1bmN0aW9uKGUpe3JldHVybnttZXRob2Q6IlBPU1QiLHVybDpULGRhdGE6e2lkOk9iamVjdChhLmdlbmVyYXRlVVVJRCkoKSxvcmdhbml6YXRpb25JZDplLHNlY3VyZTpuLGRldmljZTppLHNpdGU6cyxwYWdldmlld0lkOmMsYWRVbml0czpiW2VdLGRhdGE6ay5nZXRFeGNoYW5nZURhdGEoKSxyZWdzOntnZHByOnUsY29wcGE6cCxjY3BhOmR9LHNjaGFpbjpsLHVzZXI6e2VpZHM6Z30scHJlYmlkVmVyc2lvbjoiNS4yMC4yIixmZWF0dXJlc1ZlcnNpb246IjEifSxvcHRpb25zOntjb250ZW50VHlwZToidGV4dC9wbGFpbiJ9fX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTt0cnl7dmFyIG49ZS5ib2R5O24mJihuLmRhdGEmJk4uZW5xdWV1ZSh7YWN0aW9uOiJzc3AtZGF0YSIsdHM6RGF0ZS5ub3coKSxkYXRhOm4uZGF0YX0pLG4uYmlkcyYmbi5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWkoKSh0LmRhdGEuYWRVbml0cywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmlkSWQ9PT1lLnJlcXVlc3RJZH0pKTtpZihuKXtpZihlLm1ldGE9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWV0YSIse30pLGUubWV0YS5tZWRpYVR5cGU9ZS5tZWRpYVR5cGUsZS5tZXRhLmFkdmVydGlzZXJEb21haW5zPUFycmF5LmlzQXJyYXkoZS5hRG9tYWluKSYmZS5hRG9tYWluLmxlbmd0aD9lLmFEb21haW46W10sZS5tZWRpYVR5cGU9PT1tLmQpe3ZhciBvPU9iamVjdChhLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpOyFlLnZhc3RVcmwmJmUudmFzdFhtbCYmKGUudmFzdFVybD0iZGF0YTp0ZXh0L3htbDtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwiK2J0b2EoZS52YXN0WG1sLnJlcGxhY2UoL1xcIi9nLCciJykpKSxvPT09aC5iJiYoZS5yZW5kZXJlcj1sLmEuaW5zdGFsbCh7aWQ6ZS5yZXF1ZXN0SWQsYWRVbml0Q29kZTplLmFkVW5pdENvZGUsdXJsOmUudXJsUmVuZGVyZXJ8fFMsY29uZmlnOnkoeSh7fSxPYmplY3QoYS5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLnZpZGVvIikpLE9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm91dHN0cmVhbSIse30pKX0pLGUucmVuZGVyZXIuc2V0UmVuZGVyKHEpKX1lLm1lZGlhVHlwZT09PW0uYyYmQihlKSxlLnNpdGU9bi5wYXJhbXMuc2l0ZSxlLnBsYWNlbWVudD1uLnBhcmFtcy5wbGFjZW1lbnQsZS5wYWdldHlwZT1uLnBhcmFtcy5wYWdldHlwZSxlLmNhdGVnb3J5PW4ucGFyYW1zLmNhdGVnb3J5LGUuc3ViY2F0ZWdvcnk9bi5wYXJhbXMuc3ViY2F0ZWdvcnksZS5lbnZpcm9ubWVudD1uLnBhcmFtcy5lbnZpcm9ubWVudH1yLnB1c2goZSl9KSkpfWNhdGNoKGUpe09iamVjdChhLmxvZ0Vycm9yKShlKX1yZXR1cm4gcn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISghdC5sZW5ndGh8fCIiPT09dFswXS5ib2R5fHwhdFswXS5ib2R5LnVzZXJTeW5jcykmJnRbMF0uYm9keS51c2VyU3luY3MubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dHlwZToicCI9PT1lLnQ/ImltYWdlIjoiaWZyYW1lIix1cmw6ZS51fX0pKX0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWkoKShuLChmdW5jdGlvbihlKXtyZXR1cm4iYWRhZ2lvIj09PWUuYmlkZGVyQ29kZX0pKSxzPWkoKShvLmJpZHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGU9PT1yLmNvZGV9KSk7aWYodCl7RihzKSxzLnBhcmFtcy5hdWN0aW9uSWQ9T2JqZWN0KGEuZGVlcEFjY2VzcykobywiYXVjdGlvbklkIik7dmFyIGM9ay5nZXRPclNldEdsb2JhbEZlYXR1cmVzKCk7cy5wYXJhbXMuZmVhdHVyZXM9eSh5KHt9LGMpLHt9LHtwcmludF9udW1iZXI6SChzLmFkVW5pdENvZGUsbykudG9TdHJpbmcoKSxhZHVuaXRfcG9zaXRpb246XyhzLnBhcmFtcy5hZFVuaXRFbGVtZW50SWQpfSkscy5wYXJhbXMucGFnZXZpZXdJZD1OLmdldFBhZ2V2aWV3SWQoKSxzLnBhcmFtcy5wcmViaWRWZXJzaW9uPSI1LjIwLjIiLHMucGFyYW1zLmRhdGE9ay5nZXRFeGNoYW5nZURhdGEoKSxPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKT09PWguYiYmKHMucGFyYW1zLnBsYXllck5hbWU9TShzKSksWihzKX1yZXR1cm4gcy5wYXJhbXN9fTshZnVuY3Rpb24oKXtSKCkmJih2PVIoKT9PYmplY3QoYS5nZXRXaW5kb3dUb3ApKCk6T2JqZWN0KGEuZ2V0V2luZG93U2VsZikoKSk7dmFyIGU9Ti5nZXRDdXJyZW50V2luZG93KCk7ZS5BREFHSU89ZS5BREFHSU98fHt9LGUuQURBR0lPLmFkVW5pdHM9ZS5BREFHSU8uYWRVbml0c3x8e30sZS5BREFHSU8ucGJqc0FkVW5pdHM9ZS5BREFHSU8ucGJqc0FkVW5pdHN8fFtdLGUuQURBR0lPLnF1ZXVlPWUuQURBR0lPLnF1ZXVlfHxbXSxlLkFEQUdJTy52ZXJzaW9ucz1lLkFEQUdJTy52ZXJzaW9uc3x8e30sZS5BREFHSU8udmVyc2lvbnMucGJqcz0iNS4yMC4yIixlLkFEQUdJTy5pc1NhZmVGcmFtZVdpbmRvdz1XKCkseC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSgiYWRhZ2lvIiwoZnVuY3Rpb24oZSl7dHJ5e2sucHJlcGFyZUV4Y2hhbmdlRGF0YShlKX1jYXRjaChlKXtPYmplY3QoYS5sb2dFcnJvcikoaixlKX19KSksQygpfSgpLE9iamVjdChzLnJlZ2lzdGVyQmlkZGVyKShKKX0sNzg6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig3OSksaT1yKDgwKTt0LnZlcmlmeT1mdW5jdGlvbihlLHQscixhKXt2YXIgbz1uZXcgbi5CaWdJbnRlZ2VyKG4uYjY0dG9IZXgodCkpLHM9bmV3IG4uQmlnSW50ZWdlcihuLmI2NHRvSGV4KHIpKSxjPW8ubW9kUG93SW50KGEscyk7cmV0dXJuIG4ucmVtb3ZlRXh0cmFTeW1ib2xzKGMudG9IZXhTdHJpbmcoKSk9PT1pLlNoYTI1Ni5oYXNoKGUpfX0sNzk6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe251bGwhPT1lJiZ0aGlzLmZyb21IZXhTdHJpbmcoZSl9cmV0dXJuIGUucHJvdG90eXBlLnRvSGV4U3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5zPDApcmV0dXJuIi0iK3RoaXMubmVnYXRlKCkudG9IZXhTdHJpbmcoKTt2YXIgZSx0PSExLHI9IiIsbj10aGlzLnQsaT10aGlzLkRCLW4qdGhpcy5EQiU0O2lmKG4tLSA+MClmb3IoaTx0aGlzLkRCJiYoZT10aGlzW25dPj5pKT4wJiYodD0hMCxyPXAoZSkpO24+PTA7KWk8ND8oZT0odGhpc1tuXSYoMTw8aSktMSk8PDQtaSxlfD10aGlzWy0tbl0+PihpKz10aGlzLkRCLTQpKTooZT10aGlzW25dPj4oaS09NCkmMTUsaTw9MCYmKGkrPXRoaXMuREIsLS1uKSksZT4wJiYodD0hMCksdCYmKHIrPXAoZSkpO3JldHVybiB0P3I6IjAifSxlLnByb3RvdHlwZS5mcm9tSGV4U3RyaW5nPWZ1bmN0aW9uKHQpe2lmKG51bGwhPT10KXt0aGlzLnQ9MCx0aGlzLnM9MDtmb3IodmFyIHI9dC5sZW5ndGgsbj0hMSxpPTA7LS1yPj0wOyl7dmFyIGE9ZCh0LHIpO2E8MD8iLSI9PXQuY2hhckF0KHIpJiYobj0hMCk6KG49ITEsMD09aT90aGlzW3RoaXMudCsrXT1hOmkrND50aGlzLkRCPyh0aGlzW3RoaXMudC0xXXw9KGEmKDE8PHRoaXMuREItaSktMSk8PGksdGhpc1t0aGlzLnQrK109YT4+dGhpcy5EQi1pKTp0aGlzW3RoaXMudC0xXXw9YTw8aSwoaSs9NCk+PXRoaXMuREImJihpLT10aGlzLkRCKSl9MCx0aGlzLmNsYW1wKCksbiYmZS5aRVJPLnN1YlRvKHRoaXMsdGhpcyl9fSxlLnByb3RvdHlwZS5uZWdhdGU9ZnVuY3Rpb24oKXt2YXIgdD1hKCk7cmV0dXJuIGUuWkVSTy5zdWJUbyh0aGlzLHQpLHR9LGUucHJvdG90eXBlLmFicz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnM8MD90aGlzLm5lZ2F0ZSgpOnRoaXN9LGUucHJvdG90eXBlLm1vZD1mdW5jdGlvbih0KXt2YXIgcj1hKCk7cmV0dXJuIHRoaXMuYWJzKCkuZGl2UmVtVG8odCxudWxsLHIpLHRoaXMuczwwJiZyLmNvbXBhcmVUbyhlLlpFUk8pPjAmJnQuc3ViVG8ocixyKSxyfSxlLnByb3RvdHlwZS5jb3B5VG89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudC0xO3Q+PTA7LS10KWVbdF09dGhpc1t0XTtlLnQ9dGhpcy50LGUucz10aGlzLnN9LGUucHJvdG90eXBlLmxTaGlmdFRvPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUldGhpcy5EQixuPXRoaXMuREItcixpPSgxPDxuKS0xLGE9TWF0aC5mbG9vcihlL3RoaXMuREIpLG89dGhpcy5zPDxyJnRoaXMuRE0scz10aGlzLnQtMTtzPj0wOy0tcyl0W3MrYSsxXT10aGlzW3NdPj5ufG8sbz0odGhpc1tzXSZpKTw8cjtmb3Iocz1hLTE7cz49MDstLXMpdFtzXT0wO3RbYV09byx0LnQ9dGhpcy50K2ErMSx0LnM9dGhpcy5zLHQuY2xhbXAoKX0sZS5wcm90b3R5cGUuaW52RGlnaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLnQ8MSlyZXR1cm4gMDt2YXIgZT10aGlzWzBdO2lmKDA9PSgxJmUpKXJldHVybiAwO3ZhciB0PTMmZTtyZXR1cm4odD0odD0odD0odD10KigyLSgxNSZlKSp0KSYxNSkqKDItKDI1NSZlKSp0KSYyNTUpKigyLSgoNjU1MzUmZSkqdCY2NTUzNSkpJjY1NTM1KSooMi1lKnQldGhpcy5EVikldGhpcy5EVik+MD90aGlzLkRWLXQ6LXR9LGUucHJvdG90eXBlLmRsU2hpZnRUbz1mdW5jdGlvbihlLHQpe3ZhciByO2ZvcihyPXRoaXMudC0xO3I+PTA7LS1yKXRbcitlXT10aGlzW3JdO2ZvcihyPWUtMTtyPj0wOy0tcil0W3JdPTA7dC50PXRoaXMudCtlLHQucz10aGlzLnN9LGUucHJvdG90eXBlLnNxdWFyZVRvPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmFicygpLHI9ZS50PTIqdC50Oy0tcj49MDspZVtyXT0wO2ZvcihyPTA7cjx0LnQtMTsrK3Ipe3ZhciBuPXQuYW0ocix0W3JdLGUsMipyLDAsMSk7KGVbcit0LnRdKz10LmFtKHIrMSwyKnRbcl0sZSwyKnIrMSxuLHQudC1yLTEpKT49dC5EViYmKGVbcit0LnRdLT10LkRWLGVbcit0LnQrMV09MSl9ZS50PjAmJihlW2UudC0xXSs9dC5hbShyLHRbcl0sZSwyKnIsMCwxKSksZS5zPTAsZS5jbGFtcCgpfSxlLnByb3RvdHlwZS5tdWx0aXBseVRvPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcy5hYnMoKSxpPXQuYWJzKCksYT1uLnQ7Zm9yKHIudD1hK2kudDstLWE+PTA7KXJbYV09MDtmb3IoYT0wO2E8aS50OysrYSlyW2Erbi50XT1uLmFtKDAsaVthXSxyLGEsMCxuLnQpO3Iucz0wLHIuY2xhbXAoKSx0aGlzLnMhPXQucyYmZS5aRVJPLnN1YlRvKHIscil9LGUucHJvdG90eXBlLmRpdlJlbVRvPWZ1bmN0aW9uKHQscixuKXt2YXIgaT10LmFicygpO2lmKCEoaS50PD0wKSl7dmFyIHM9dGhpcy5hYnMoKTtpZihzLnQ8aS50KXJldHVybiBudWxsIT1yJiZyLmZyb21IZXhTdHJpbmcoIjAiKSx2b2lkKG51bGwhPW4mJnRoaXMuY29weVRvKG4pKTtudWxsPT1uJiYobj1hKCkpO3ZhciBjPWEoKSx1PXRoaXMucyxkPXQucyxwPXRoaXMuREItbyhpW2kudC0xXSk7cD4wPyhpLmxTaGlmdFRvKHAsYykscy5sU2hpZnRUbyhwLG4pKTooaS5jb3B5VG8oYykscy5jb3B5VG8obikpO3ZhciBmPWMudCxtPWNbZi0xXTtpZigwIT1tKXt2YXIgbD1tKigxPDx0aGlzLkYxKSsoZj4xP2NbZi0yXT4+dGhpcy5GMjowKSxoPXRoaXMuRlYvbCxnPSgxPDx0aGlzLkYxKS9sLHk9MTw8dGhpcy5GMixiPW4udCx2PWItZixPPW51bGw9PXI/YSgpOnI7Zm9yKGMuZGxTaGlmdFRvKHYsTyksbi5jb21wYXJlVG8oTyk+PTAmJihuW24udCsrXT0xLG4uc3ViVG8oTyxuKSksZS5PTkUuZGxTaGlmdFRvKGYsTyksTy5zdWJUbyhjLGMpO2MudDxmOyljW2MudCsrXT0wO2Zvcig7LS12Pj0wOyl7dmFyIEE9blstLWJdPT1tP3RoaXMuRE06TWF0aC5mbG9vcihuW2JdKmgrKG5bYi0xXSt5KSpnKTtpZigobltiXSs9Yy5hbSgwLEEsbix2LDAsZikpPEEpZm9yKGMuZGxTaGlmdFRvKHYsTyksbi5zdWJUbyhPLG4pO25bYl08LS1BOyluLnN1YlRvKE8sbil9bnVsbCE9ciYmKG4uZHJTaGlmdFRvKGYsciksdSE9ZCYmZS5aRVJPLnN1YlRvKHIscikpLG4udD1mLG4uY2xhbXAoKSxwPjAmJm4uclNoaWZ0VG8ocCxuKSx1PDAmJmUuWkVSTy5zdWJUbyhuLG4pfX19LGUucHJvdG90eXBlLnJTaGlmdFRvPWZ1bmN0aW9uKGUsdCl7dC5zPXRoaXMuczt2YXIgcj1NYXRoLmZsb29yKGUvdGhpcy5EQik7aWYocj49dGhpcy50KXQudD0wO2Vsc2V7dmFyIG49ZSV0aGlzLkRCLGk9dGhpcy5EQi1uLGE9KDE8PG4pLTE7dFswXT10aGlzW3JdPj5uO2Zvcih2YXIgbz1yKzE7bzx0aGlzLnQ7KytvKXRbby1yLTFdfD0odGhpc1tvXSZhKTw8aSx0W28tcl09dGhpc1tvXT4+bjtuPjAmJih0W3RoaXMudC1yLTFdfD0odGhpcy5zJmEpPDxpKSx0LnQ9dGhpcy50LXIsdC5jbGFtcCgpfX0sZS5wcm90b3R5cGUuZHJTaGlmdFRvPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWU7cjx0aGlzLnQ7KytyKXRbci1lXT10aGlzW3JdO3QudD1NYXRoLm1heCh0aGlzLnQtZSwwKSx0LnM9dGhpcy5zfSxlLnByb3RvdHlwZS5zdWJUbz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wLG49MCxpPU1hdGgubWluKGUudCx0aGlzLnQpO3I8aTspbis9dGhpc1tyXS1lW3JdLHRbcisrXT1uJnRoaXMuRE0sbj4+PXRoaXMuREI7aWYoZS50PHRoaXMudCl7Zm9yKG4tPWUucztyPHRoaXMudDspbis9dGhpc1tyXSx0W3IrK109biZ0aGlzLkRNLG4+Pj10aGlzLkRCO24rPXRoaXMuc31lbHNle2ZvcihuKz10aGlzLnM7cjxlLnQ7KW4tPWVbcl0sdFtyKytdPW4mdGhpcy5ETSxuPj49dGhpcy5EQjtuLT1lLnN9dC5zPW48MD8tMTowLG48LTE/dFtyKytdPXRoaXMuRFYrbjpuPjAmJih0W3IrK109biksdC50PXIsdC5jbGFtcCgpfSxlLnByb3RvdHlwZS5jbGFtcD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLnMmdGhpcy5ETTt0aGlzLnQ+MCYmdGhpc1t0aGlzLnQtMV09PWU7KS0tdGhpcy50fSxlLnByb3RvdHlwZS5tb2RQb3dJbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gcj1lPDI1Nnx8dC5pc0V2ZW4oKT9uZXcgZih0KTpuZXcgbSh0KSx0aGlzLmV4cChlLHIpfSxlLnByb3RvdHlwZS5leHA9ZnVuY3Rpb24odCxyKXtpZih0PjQyOTQ5NjcyOTV8fHQ8MSlyZXR1cm4gZS5PTkU7dmFyIG49YSgpLGk9YSgpLHM9ci5jb252ZXJ0KHRoaXMpLGM9byh0KS0xO2ZvcihzLmNvcHlUbyhuKTstLWM+PTA7KWlmKHIuc3FyVG8obixpKSwodCYxPDxjKT4wKXIubXVsVG8oaSxzLG4pO2Vsc2V7dmFyIHU9bjtuPWksaT11fXJldHVybiByLnJldmVydChuKX0sZS5wcm90b3R5cGUuaXNFdmVuPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PSh0aGlzLnQ+MD8xJnRoaXNbMF06dGhpcy5zKX0sZS5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucy1lLnM7aWYoMCE9dClyZXR1cm4gdDt2YXIgcj10aGlzLnQ7aWYoMCE9KHQ9ci1lLnQpKXJldHVybiB0aGlzLnM8MD8tdDp0O2Zvcig7LS1yPj0wOylpZigwIT0odD10aGlzW3JdLWVbcl0pKXJldHVybiB0O3JldHVybiAwfSxlLnByb3RvdHlwZS5hbTE9ZnVuY3Rpb24oZSx0LHIsbixpLGEpe2Zvcig7LS1hPj0wOyl7dmFyIG89dCp0aGlzW2UrK10rcltuXStpO2k9TWF0aC5mbG9vcihvLzY3MTA4ODY0KSxyW24rK109NjcxMDg4NjMmb31yZXR1cm4gaX0sZS5wcm90b3R5cGUuYW0yPWZ1bmN0aW9uKGUsdCxyLG4saSxhKXtmb3IodmFyIG89MzI3NjcmdCxzPXQ+PjE1Oy0tYT49MDspe3ZhciBjPTMyNzY3JnRoaXNbZV0sdT10aGlzW2UrK10+PjE1LGQ9cypjK3UqbztpPSgoYz1vKmMrKCgzMjc2NyZkKTw8MTUpK3Jbbl0rKDEwNzM3NDE4MjMmaSkpPj4+MzApKyhkPj4+MTUpK3MqdSsoaT4+PjMwKSxyW24rK109MTA3Mzc0MTgyMyZjfXJldHVybiBpfSxlLnByb3RvdHlwZS5hbTM9ZnVuY3Rpb24oZSx0LHIsbixpLGEpe2Zvcih2YXIgbz0xNjM4MyZ0LHM9dD4+MTQ7LS1hPj0wOyl7dmFyIGM9MTYzODMmdGhpc1tlXSx1PXRoaXNbZSsrXT4+MTQsZD1zKmMrdSpvO2k9KChjPW8qYysoKDE2MzgzJmQpPDwxNCkrcltuXStpKT4+MjgpKyhkPj4xNCkrcyp1LHJbbisrXT0yNjg0MzU0NTUmY31yZXR1cm4gaX0sZX0oKTtmdW5jdGlvbiBhKCl7cmV0dXJuIG5ldyBpKG51bGwpfWZ1bmN0aW9uIG8oZSl7dmFyIHQscj0xO3JldHVybiAwIT0odD1lPj4+MTYpJiYoZT10LHIrPTE2KSwwIT0odD1lPj44KSYmKGU9dCxyKz04KSwwIT0odD1lPj40KSYmKGU9dCxyKz00KSwwIT0odD1lPj4yKSYmKGU9dCxyKz0yKSwwIT0odD1lPj4xKSYmKGU9dCxyKz0xKSxyfXQuQmlnSW50ZWdlcj1pLHQubmJpPWEsdC5uYml0cz1vO3ZhciBzLGMsdT1bXTtmb3Iocz0iMCIuY2hhckNvZGVBdCgwKSxjPTA7Yzw9OTsrK2MpdVtzKytdPWM7Zm9yKHM9ImEiLmNoYXJDb2RlQXQoMCksYz0xMDtjPDM2OysrYyl1W3MrK109Yztmb3Iocz0iQSIuY2hhckNvZGVBdCgwKSxjPTEwO2M8MzY7KytjKXVbcysrXT1jO2Z1bmN0aW9uIGQoZSx0KXt2YXIgcj11W2UuY2hhckNvZGVBdCh0KV07cmV0dXJuIG51bGw9PXI/LTE6cn10LmludEF0PWQ7ZnVuY3Rpb24gcChlKXtyZXR1cm4iMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Ii5jaGFyQXQoZSl9dC5pbnQyY2hhcj1wO3QuYjY0dG9IZXg9ZnVuY3Rpb24oZSl7dmFyIHQscj0iIixuPTAsaT0wO2Zvcih0PTA7dDxlLmxlbmd0aCYmIj0iIT1lLmNoYXJBdCh0KTsrK3Qpe3ZhciBhPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIi5pbmRleE9mKGUuY2hhckF0KHQpKTthPDB8fCgwPT1uPyhyKz1wKGE+PjIpLGk9MyZhLG49MSk6MT09bj8ocis9cChpPDwyfGE+PjQpLGk9MTUmYSxuPTIpOjI9PW4/KHIrPXAoaSkscis9cChhPj4yKSxpPTMmYSxuPTMpOihyKz1wKGk8PDJ8YT4+NCkscis9cCgxNSZhKSxuPTApKX1yZXR1cm4gMT09biYmKHIrPXAoaTw8MikpLHJ9LHQucmVtb3ZlRXh0cmFTeW1ib2xzPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL14xZiswMC8sIiIpLnJlcGxhY2UoIjMwMzEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMTA1MDAwNDIwIiwiIil9O3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLm09ZX1yZXR1cm4gZS5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbihlKXtyZXR1cm4gZS5zPDB8fGUuY29tcGFyZVRvKHRoaXMubSk+PTA/ZS5tb2QodGhpcy5tKTplfSxlLnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGUucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlKXtlLmRpdlJlbVRvKHRoaXMubSxudWxsLGUpfSxlLnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbihlLHQscil7ZS5tdWx0aXBseVRvKHQsciksdGhpcy5yZWR1Y2Uocil9LGUucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKGUsdCl7ZS5zcXVhcmVUbyh0KSx0aGlzLnJlZHVjZSh0KX0sZX0oKSxtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLm09ZSx0aGlzLm1wPWUuaW52RGlnaXQoKSx0aGlzLm1wbD0zMjc2NyZ0aGlzLm1wLHRoaXMubXBoPXRoaXMubXA+PjE1LHRoaXMudW09KDE8PGUuREItMTUpLTEsdGhpcy5tdDI9MiplLnR9cmV0dXJuIGUucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YSgpO3JldHVybiBlLmFicygpLmRsU2hpZnRUbyh0aGlzLm0udCx0KSx0LmRpdlJlbVRvKHRoaXMubSxudWxsLHQpLGUuczwwJiZ0LmNvbXBhcmVUbyhpLlpFUk8pPjAmJnRoaXMubS5zdWJUbyh0LHQpLHR9LGUucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbihlKXt2YXIgdD1hKCk7cmV0dXJuIGUuY29weVRvKHQpLHRoaXMucmVkdWNlKHQpLHR9LGUucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlKXtmb3IoO2UudDw9dGhpcy5tdDI7KWVbZS50KytdPTA7Zm9yKHZhciB0PTA7dDx0aGlzLm0udDsrK3Qpe3ZhciByPTMyNzY3JmVbdF0sbj1yKnRoaXMubXBsKygocip0aGlzLm1waCsoZVt0XT4+MTUpKnRoaXMubXBsJnRoaXMudW0pPDwxNSkmZS5ETTtmb3IoZVtyPXQrdGhpcy5tLnRdKz10aGlzLm0uYW0oMCxuLGUsdCwwLHRoaXMubS50KTtlW3JdPj1lLkRWOyllW3JdLT1lLkRWLGVbKytyXSsrfWUuY2xhbXAoKSxlLmRyU2hpZnRUbyh0aGlzLm0udCxlKSxlLmNvbXBhcmVUbyh0aGlzLm0pPj0wJiZlLnN1YlRvKHRoaXMubSxlKX0sZS5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24oZSx0LHIpe2UubXVsdGlwbHlUbyh0LHIpLHRoaXMucmVkdWNlKHIpfSxlLnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbihlLHQpe2Uuc3F1YXJlVG8odCksdGhpcy5yZWR1Y2UodCl9LGV9KCk7ZnVuY3Rpb24gbChlKXt2YXIgdD1hKCk7cmV0dXJuIHQuZnJvbUhleFN0cmluZyhlLnRvU3RyaW5nKCkpLHR9dC5uYnY9bCxpLlpFUk89bCgwKSxpLk9ORT1sKDEpLCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXIiPT1uYXZpZ2F0b3IuYXBwTmFtZT8oaS5wcm90b3R5cGUuYW09aS5wcm90b3R5cGUuYW0yLG49MzApOiJOZXRzY2FwZSIhPW5hdmlnYXRvci5hcHBOYW1lPyhpLnByb3RvdHlwZS5hbT1pLnByb3RvdHlwZS5hbTEsbj0yNik6KGkucHJvdG90eXBlLmFtPWkucHJvdG90eXBlLmFtMyxuPTI4KSxpLnByb3RvdHlwZS5EQj1uLGkucHJvdG90eXBlLkRNPSgxPDxuKS0xLGkucHJvdG90eXBlLkRWPTE8PG47aS5wcm90b3R5cGUuRlY9TWF0aC5wb3coMiw1MiksaS5wcm90b3R5cGUuRjE9NTItbixpLnByb3RvdHlwZS5GMj0yKm4tNTJ9LDgwOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5oYXNoPWZ1bmN0aW9uKHQpe3Q9ZS51dGY4RW5jb2RlKHR8fCIiKTtmb3IodmFyIHI9WzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0sbj1bMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdLGk9KHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI4KSkubGVuZ3RoLzQrMixhPU1hdGguY2VpbChpLzE2KSxvPW5ldyBBcnJheShhKSxzPTA7czxhO3MrKyl7b1tzXT1uZXcgQXJyYXkoMTYpO2Zvcih2YXIgYz0wO2M8MTY7YysrKW9bc11bY109dC5jaGFyQ29kZUF0KDY0KnMrNCpjKTw8MjR8dC5jaGFyQ29kZUF0KDY0KnMrNCpjKzEpPDwxNnx0LmNoYXJDb2RlQXQoNjQqcys0KmMrMik8PDh8dC5jaGFyQ29kZUF0KDY0KnMrNCpjKzMpPDwwfXZhciB1PTgqKHQubGVuZ3RoLTEpL01hdGgucG93KDIsMzIpLGQ9OCoodC5sZW5ndGgtMSk+Pj4wO29bYS0xXVsxNF09TWF0aC5mbG9vcih1KSxvW2EtMV1bMTVdPWQ7Zm9yKHM9MDtzPGE7cysrKXtmb3IodmFyIHA9bmV3IEFycmF5KDY0KSxmPTA7ZjwxNjtmKyspcFtmXT1vW3NdW2ZdO2ZvcihmPTE2O2Y8NjQ7ZisrKXBbZl09ZS5xMShwW2YtMl0pK3BbZi03XStlLnEwKHBbZi0xNV0pK3BbZi0xNl0+Pj4wO3ZhciBtPW5bMF0sbD1uWzFdLGg9blsyXSxnPW5bM10seT1uWzRdLGI9bls1XSx2PW5bNl0sTz1uWzddO2ZvcihmPTA7Zjw2NDtmKyspe3ZhciBBPU8rZS56MSh5KStlLkNoKHksYix2KStyW2ZdK3BbZl0sST1lLnowKG0pK2UuTWFqKG0sbCxoKTtPPXYsdj1iLGI9eSx5PWcrQT4+PjAsZz1oLGg9bCxsPW0sbT1BK0k+Pj4wfW5bMF09blswXSttPj4+MCxuWzFdPW5bMV0rbD4+PjAsblsyXT1uWzJdK2g+Pj4wLG5bM109blszXStnPj4+MCxuWzRdPW5bNF0reT4+PjAsbls1XT1uWzVdK2I+Pj4wLG5bNl09bls2XSt2Pj4+MCxuWzddPW5bN10rTz4+PjB9dmFyIGo9bmV3IEFycmF5KG4ubGVuZ3RoKTtmb3IoTz0wO088bi5sZW5ndGg7TysrKWpbT109KCIwMDAwMDAwMCIrbltPXS50b1N0cmluZygxNikpLnNsaWNlKC04KTtyZXR1cm4gai5qb2luKCIiKX0sZS51dGY4RW5jb2RlPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK1N0cmluZy5mcm9tQ2hhckNvZGUodCl9KSwiIil9Y2F0Y2godCl7cmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSl9fSxlLlJPVFI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD4+PmV8dDw8MzItZX0sZS56MD1mdW5jdGlvbih0KXtyZXR1cm4gZS5ST1RSKDIsdCleZS5ST1RSKDEzLHQpXmUuUk9UUigyMix0KX0sZS56MT1mdW5jdGlvbih0KXtyZXR1cm4gZS5ST1RSKDYsdCleZS5ST1RSKDExLHQpXmUuUk9UUigyNSx0KX0sZS5xMD1mdW5jdGlvbih0KXtyZXR1cm4gZS5ST1RSKDcsdCleZS5ST1RSKDE4LHQpXnQ+Pj4zfSxlLnExPWZ1bmN0aW9uKHQpe3JldHVybiBlLlJPVFIoMTcsdCleZS5ST1RSKDE5LHQpXnQ+Pj4xMH0sZS5DaD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUmdF5+ZSZyfSxlLk1haj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUmdF5lJnJedCZyfSxlfSgpO3QuU2hhMjU2PW59fSxbMTgyXSk7CnVwYmpzQ2h1bmsoWzM3M10sezE4ODpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMTg5KX0sMTg5OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgbj1yKDEpLGk9cigyKSxhPXIoMCksbz1yKDMpLGQ9cigxMyk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gcChlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fHUoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gYyhlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBuLGksYT1bXSxvPSEwLGQ9ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKG89KG49ci5uZXh0KCkpLmRvbmUpJiYoYS5wdXNoKG4udmFsdWUpLCF0fHxhLmxlbmd0aCE9PXQpO289ITApO31jYXRjaChlKXtkPSEwLGk9ZX1maW5hbGx5e3RyeXtvfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKGQpdGhyb3cgaX19cmV0dXJuIGF9KGUsdCl8fHUoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHAoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09cnx8IlNldCI9PT1yP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKT9wKGUsdCk6dm9pZCAwfX1mdW5jdGlvbiBwKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59ZnVuY3Rpb24gbChlKXtyZXR1cm4obD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBtPW8uYi5nZXRDb25maWcsZj17MDoidGl0bGUiLDI6Imljb24iLDM6ImltYWdlIiw1OiJzcG9uc29yZWRCeSIsNDoiYm9keSIsMToiY3RhIn0seT17dGl0bGU6e2lkOjAsbmFtZToidGl0bGUifSxpY29uOntpZDoyLHR5cGU6MSxuYW1lOiJpbWcifSxpbWFnZTp7aWQ6Myx0eXBlOjMsbmFtZToiaW1nIn0sc3BvbnNvcmVkQnk6e2lkOjUsbmFtZToiZGF0YSIsdHlwZToxfSxib2R5OntpZDo0LG5hbWU6ImRhdGEiLHR5cGU6Mn0sY3RhOntpZDoxLHR5cGU6MTIsbmFtZToiZGF0YSJ9fSx2PXtjb2RlOiJhZGYiLGFsaWFzZXM6W3tjb2RlOiJhZGZvcm1PcGVuUlRCIixndmxpZDo1MH0se2NvZGU6ImFkZm9ybSIsZ3ZsaWQ6NTB9XSxndmxpZDo1MCxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmMsaS5iLGkuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJhbXN8fHt9LHI9dC5taWQsbj10LmludixpPXQubW5hbWU7cmV0dXJuISEocnx8biYmaSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGk9bSgib3J0YjIiKXx8e30sbz1pLnVzZXI7Im9iamVjdCI9PT1sKG0oImFwcCIpKT8ocj1tKCJhcHAiKXx8e30saS5hcHAmJk9iamVjdChhLm1lcmdlRGVlcCkocixpLmFwcCkpOihuPW0oInNpdGUiKXx8e30saS5zaXRlJiZPYmplY3QoYS5tZXJnZURlZXApKG4saS5zaXRlKSxuLnBhZ2V8fChuLnBhZ2U9dC5yZWZlcmVySW5mby5yZWZlcmVyKSk7dmFyIGQ9bSgiZGV2aWNlIil8fHt9O2Qudz1kLnd8fHdpbmRvdy5pbm5lcldpZHRoLGQuaD1kLmh8fHdpbmRvdy5pbm5lckhlaWdodCxkLnVhPWQudWF8fG5hdmlnYXRvci51c2VyQWdlbnQ7dmFyIHM9YihlLCJwYXJhbXMuYWR4RG9tYWluIil8fCJhZHguYWRmb3JtLm5ldCIsdT1iKGUsInBhcmFtcy5wdCIpfHxiKGUsInBhcmFtcy5wcmljZVR5cGUiKXx8Im5ldCIscD1lWzBdLnRyYW5zYWN0aW9uSWQsZj1iKGUsInBhcmFtcy50ZXN0Iiksdj1tKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5IiksaD12JiZbdl0saj1iKGUsInVzZXJJZEFzRWlkcyIpLFM9YihlLCJzY2hhaW4iKSx3PWUubWFwKChmdW5jdGlvbihlLHQpe2UubmV0UmV2ZW51ZT11O3ZhciByPWUuZ2V0Rmxvb3I/ZS5nZXRGbG9vcih7Y3VycmVuY3k6dnx8IlVTRCJ9KTp7fSxuPXIuZmxvb3IsaT1yLmN1cnJlbmN5LG89ZS5wYXJhbXMsZD17aWQ6dCsxLHRhZ2lkOm8ubWlkLGJpZGZsb29yOm4sYmlkZmxvb3JjdXI6aSxleHQ6e2JpZGRlcjp7aW52Om8uaW52LG1uYW1lOm8ubW5hbWV9fX0scz1PYmplY3QoYS5fbWFwKShlLm5hdGl2ZVBhcmFtcywoZnVuY3Rpb24oZSx0KXt2YXIgcj15W3RdLG49e3JlcXVpcmVkOjEmZS5yZXF1aXJlZH07aWYocil7dmFyIGksYSxvLGQ7bi5pZD1yLmlkO3ZhciBzPWUuYXNwZWN0X3JhdGlvcztpZihzJiZzWzBdJiYoaT0ocz1zWzBdKS5taW5fd2lkdGh8fDAsYT1zLnJhdGlvX2hlaWdodCppL3MucmF0aW9fd2lkdGh8MCksZS5zaXplcyl7dmFyIGM9ZyhlLnNpemVzKTtvPWNbMF0sZD1jWzFdfXJldHVybiBuW3IubmFtZV09e2xlbjplLmxlbix0eXBlOnIudHlwZSx3bWluOmksaG1pbjphLHc6byxoOmR9LG59fSkpLmZpbHRlcihCb29sZWFuKTtzLmxlbmd0aCYmKGQubmF0aXZlPXtyZXF1ZXN0Onthc3NldHM6c319KTt2YXIgcD1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpO2lmKHAmJnAuc2l6ZXMpe3ZhciBsPU9iamVjdChhLnBhcnNlU2l6ZXNJbnB1dCkocC5zaXplcykubWFwKChmdW5jdGlvbihlKXt2YXIgdD1jKGUuc3BsaXQoIngiKSwyKSxyPXRbMF0sbj10WzFdO3JldHVybnt3OnBhcnNlSW50KHIsMTApLGg6cGFyc2VJbnQobiwxMCl9fSkpO2QuYmFubmVyPXtmb3JtYXQ6bH19dmFyIG09T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpO3JldHVybiBtJiYoZC52aWRlbz1tKSxkfSkpLE89e2lkOnQuYXVjdGlvbklkLHNpdGU6bixhcHA6cix1c2VyOm8sZGV2aWNlOmQsc291cmNlOnt0aWQ6cCxmZDoxfSxleHQ6e3B0OnV9LGN1cjpoLGltcDp3fTtyZXR1cm4gZiYmKE8uaXNfZGVidWc9ISFmLE8udGVzdD0xKSx2b2lkIDAhPT1PYmplY3QoYS5kZWVwQWNjZXNzKSh0LCJnZHByQ29uc2VudC5nZHByQXBwbGllcyIpJiYoT2JqZWN0KGEuZGVlcFNldFZhbHVlKShPLCJ1c2VyLmV4dC5jb25zZW50Iix0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLE9iamVjdChhLmRlZXBTZXRWYWx1ZSkoTywicmVncy5leHQuZ2RwciIsMSZ0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSksdC51c3BDb25zZW50JiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKE8sInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCksaiYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShPLCJ1c2VyLmV4dC5laWRzIixqKSxTJiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKE8sInNvdXJjZS5leHQuc2NoYWluIixTKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vIitzKyIvYWR4L29wZW5ydGIiLGRhdGE6SlNPTi5zdHJpbmdpZnkoTyksb3B0aW9uczp7Y29udGVudFR5cGU6ImFwcGxpY2F0aW9uL2pzb24ifSxiaWRzOmV9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPXQuYmlkcztpZihlLmJvZHkpe3ZhciBuPWUuYm9keSxvPW4uc2VhdGJpZCxzPW4uY3VyLGM9ZyhvLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkfSkpKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdC5pbXBpZC0xXT10LGV9KSxbXSk7cmV0dXJuIHIubWFwKChmdW5jdGlvbihlLHQpe3ZhciByPWNbdF07aWYocil7dmFyIG49T2JqZWN0KGEuZGVlcEFjY2VzcykociwiZXh0LnByZWJpZC50eXBlIiksbz17cmVxdWVzdElkOmUuYmlkSWQsY3BtOnIucHJpY2UsY3JlYXRpdmVJZDpyLmNyaWQsdHRsOjM2MCxuZXRSZXZlbnVlOiJuZXQiPT09ZS5uZXRSZXZlbnVlLGN1cnJlbmN5OnMsbWVkaWFUeXBlOm4sd2lkdGg6ci53LGhlaWdodDpyLmgsZGVhbElkOnIuZGVhbGlkLG1ldGE6e21lZGlhVHlwZTpuLGFkdmVydGlzZXJEb21haW5zOnIuYWRvbWFpbn19O3JldHVybiByLm5hdGl2ZT9vLm5hdGl2ZT1mdW5jdGlvbihlKXt2YXIgdD1lLm5hdGl2ZSxyPXQuYXNzZXRzLG49dC5saW5rLGk9dC5pbXB0cmFja2VycyxhPXQuanN0cmFja2VyLG89e2NsaWNrVXJsOm4udXJsLGNsaWNrVHJhY2tlcnM6bi5jbGlja3RyYWNrZXJzfHx2b2lkIDAsaW1wcmVzc2lvblRyYWNrZXJzOml8fHZvaWQgMCxqYXZhc2NyaXB0VHJhY2tlcnM6YT9bYV06dm9pZCAwfTtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1mW2UuaWRdLHI9dCYmZVt5W3RdLm5hbWVdO3ImJihvW3RdPXIudGV4dHx8ci52YWx1ZXx8e3VybDpyLnVybCx3aWR0aDpyLncsaGVpZ2h0OnIuaH0pfSkpLG99KHIpOm9bbj09PWkuZD8idmFzdFhtbCI6ImFkIl09ci5hZG0sZS5yZW5kZXJlcnx8biE9PWkuZHx8Im91dHN0cmVhbSIhPT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKXx8KG8ucmVuZGVyZXI9ZC5hLmluc3RhbGwoe2lkOmUuYmlkSWQsdXJsOiJodHRwczovL3MyLmFkZm9ybS5uZXQvYmFubmVycy9zY3JpcHRzL3ZpZGVvL291dHN0cmVhbS9yZW5kZXIuanMiLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfSksby5yZW5kZXJlci5zZXRSZW5kZXIoaCkpLG99fSkpLmZpbHRlcihCb29sZWFuKX19fTtmdW5jdGlvbiBiKGUsdCl7Zm9yKHZhciByLG49MDtuPGUubGVuZ3RoO24rKylpZihyPU9iamVjdChhLmRlZXBBY2Nlc3MpKGVbbl0sdCkpcmV0dXJuIHJ9ZnVuY3Rpb24gZyhlKXt2YXIgdDtyZXR1cm4odD1bXSkuY29uY2F0LmFwcGx5KHQscyhlKSl9ZnVuY3Rpb24gaChlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93LkFkZm9ybS5yZW5kZXJPdXRzdHJlYW0oZSl9KSl9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHYpfX0sWzE4OF0pOwp1cGJqc0NodW5rKFszNDZdLHsyNTk6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDI2MCl9LDI2MDpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSk7dmFyIG49dCgwKSxpPXQoMSksYT10KDMpLG89dCgxMSkscz10Lm4obyksYz10KDIpO2Z1bmN0aW9uIGQoZSl7cmV0dXJuKGQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdT0iVVNEIixmPXtpbWFnZTp7cmVxdWlyZWQ6ITB9LHRpdGxlOntyZXF1aXJlZDohMH0sc3BvbnNvcmVkQnk6e3JlcXVpcmVkOiEwfSxjbGlja1VybDp7cmVxdWlyZWQ6ITB9LGJvZHk6e3JlcXVpcmVkOiExfSxpY29uOntyZXF1aXJlZDohMX0sY3RhOntyZXF1aXJlZDohMX19LGw9e2NvZGU6ImFkeW91bGlrZSIsc3VwcG9ydGVkTWVkaWFUeXBlczpbYy5iLGMuYyxjLmRdLGFsaWFzZXM6WyJheWwiXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgcj1iKHkoZSkpLHQ9ci53aWR0aD4wJiZyLmhlaWdodD4wO3JldHVybiBlLnBhcmFtcyYmZS5wYXJhbXMucGxhY2VtZW50JiYodHx8ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMubmF0aXZlKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PXtWZXJzaW9uOiIxLjAiLEJpZHM6ZS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpKXJldHVybiBjLmQ7aWYoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSlyZXR1cm4gYy5iO2lmKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMubmF0aXZlIikpcmV0dXJuIGMuY30ociksaT15KHIpLGE9YihpKTtpZihlW3IuYmlkSWRdPXt9LGVbci5iaWRJZF0uUGxhY2VtZW50SUQ9ci5wYXJhbXMucGxhY2VtZW50LGVbci5iaWRJZF0uVHJhbnNhY3Rpb25JRD1yLnRyYW5zYWN0aW9uSWQsZVtyLmJpZElkXS5XaWR0aD1hLndpZHRoLGVbci5iaWRJZF0uSGVpZ2h0PWEuaGVpZ2h0LGVbci5iaWRJZF0uQXZhaWxhYmxlU2l6ZXM9aS5qb2luKCIsIiksImZ1bmN0aW9uIj09dHlwZW9mIHIuZ2V0Rmxvb3ImJihlW3IuYmlkSWRdLlByaWNpbmc9ZnVuY3Rpb24oZSxyLHQpe3ZhciBuPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OnUsbWVkaWFUeXBlOnQsc2l6ZTpbci53aWR0aCxyLmhlaWdodF19KTtpZighaXNOYU4obi5mbG9vcikmJm4uY3VycmVuY3k9PT11KXJldHVybiBuLmZsb29yfShyLGEsdCkpLHQ9PT1jLmMpe3ZhciBvPXIubWVkaWFUeXBlcy5uYXRpdmU7ImltYWdlIj09PW8udHlwZSYmKG89cCh7fSxmLG8pKSxvLmNsaWNrVXJsPXtyZXF1aXJlZDohMH0sZVtyLmJpZElkXS5OYXRpdmU9b31pZih0PT09Yy5kKXtlW3IuYmlkSWRdLlZpZGVvPXIubWVkaWFUeXBlcy52aWRlbzt2YXIgcz1yLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZTtBcnJheS5pc0FycmF5KHMpJiYhQXJyYXkuaXNBcnJheShzWzBdKSYmKGVbci5iaWRJZF0uVmlkZW8ucGxheWVyU2l6ZT1bc10pfXJldHVybiBlfSkse30pLFBhZ2VSZWZyZXNoZWQ6bSgpfTtyJiZyLmdkcHJDb25zZW50JiYodC5nZHByQ29uc2VudD17Y29uc2VudFN0cmluZzpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsY29uc2VudFJlcXVpcmVkOiJib29sZWFuIj09dHlwZW9mIHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/ci5nZHByQ29uc2VudC5nZHByQXBwbGllczpudWxsfSksciYmci51c3BDb25zZW50JiYodC51c3BDb25zZW50PXIudXNwQ29uc2VudCk7dmFyIGk9SlNPTi5zdHJpbmdpZnkodCk7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOnYoZSxyKSxkYXRhOmksb3B0aW9uczp7d2l0aENyZWRlbnRpYWxzOiEwfX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10saT17fTt0cnl7aT1KU09OLnBhcnNlKHIuZGF0YSkuQmlkc31jYXRjaChlKXt9cmV0dXJuIGUuYm9keS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlLHIpe2lmKCFlfHwhZS5BZCYmIWUuTmF0aXZlJiYhZS5WYXN0KXJldHVybjt2YXIgdD1yJiZyW2UuQmlkSURdO3QmJihlLldpZHRoJiYiMCIhPT1lLldpZHRofHwoZS5XaWR0aD10LldpZHRoKSxlLkhlaWdodCYmIjAiIT09ZS5IZWlnaHR8fChlLkhlaWdodD10LkhlaWdodCkpO3ZhciBpPXtyZXF1ZXN0SWQ6ZS5CaWRJRCx0dGw6MzYwMCxjcmVhdGl2ZUlkOmUuQ3JlYXRpdmVJRCxjcG06ZS5QcmljZSxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OnUsbWV0YTplLk1ldGF8fHthZHZlcnRpc2VyRG9tYWluczpbXX19O2lmKHQmJnQuTmF0aXZlKWkubmF0aXZlPWZ1bmN0aW9uKGUscil7aWYoIm9iamVjdCI9PT1kKGUuTmF0aXZlKSlyZXR1cm4gZS5OYXRpdmU7dmFyIHQ9e30saT17fSxhPXt9O2lmKCJzdHJpbmciPT10eXBlb2YgZS5BZCl7aT1KU09OLnBhcnNlKGUuQWQubWF0Y2goL1wvXCpQUkVCSURcKlwvKC4qKVwvXCpQUkVCSURcKlwvLylbMV0pLGE9aS5Db250ZW50LlByZXZpZXcuVGV4dDt2YXIgbz1pLlRyYWNraW5nUHJlZml4KyIvcGl4ZWw/ZXZlbnRfa2luZD1JTVBSRVNTSU9OJmF0dGVtcHQ9IitpLkF0dGVtcHQscz1pLlRyYWNraW5nUHJlZml4KyIvcGl4ZWw/ZXZlbnRfa2luZD1JTlNFUlRJT04mYXR0ZW1wdD0iK2kuQXR0ZW1wdDtpLkNhbXBhaWduJiYobys9IiZjYW1wYWlnbj0iK2kuQ2FtcGFpZ24scys9IiZjYW1wYWlnbj0iK2kuQ2FtcGFpZ24pLHQuY2xpY2tVcmw9aS5UcmFja2luZ1ByZWZpeCsiL2FyP2V2ZW50X2tpbmQ9Q0xJQ0smYXR0ZW1wdD0iK2kuQXR0ZW1wdCsiJmNhbXBhaWduPSIraS5DYW1wYWlnbisiJnVybD0iK2VuY29kZVVSSUNvbXBvbmVudChpLkNvbnRlbnQuTGFuZGluZy5VcmwpLGkuT25FdmVudHM/KHQuY2xpY2tUcmFja2Vycz1DKGkuT25FdmVudHMuQ0xJQ0spLHQuaW1wcmVzc2lvblRyYWNrZXJzPUMoaS5PbkV2ZW50cy5JTVBSRVNTSU9OKSx0LmphdmFzY3JpcHRUcmFja2Vycz1DKGkuT25FdmVudHMuSU1QUkVTU0lPTiwhMCkpOnQuaW1wcmVzc2lvblRyYWNrZXJzPVtdLHQuaW1wcmVzc2lvblRyYWNrZXJzLnB1c2gobyxzKX1yZXR1cm4gT2JqZWN0LmtleXMocikubWFwKChmdW5jdGlvbihvLHMpe3N3aXRjaChvKXtjYXNlInRpdGxlIjp0W29dPWEuVElUTEU7YnJlYWs7Y2FzZSJib2R5Ijp0W29dPWEuREVTQ1JJUFRJT047YnJlYWs7Y2FzZSJjdGEiOnRbb109YS5DQUxMVE9BQ1RJT047YnJlYWs7Y2FzZSJzcG9uc29yZWRCeSI6dFtvXT1pLkNvbnRlbnQuUHJldmlldy5TcG9uc29yLk5hbWU7YnJlYWs7Y2FzZSJpbWFnZSI6dmFyIGM9ci5pbWFnZS5zaXplc3x8W107Yy5sZW5ndGh8fChjWzBdPWUuV2lkdGh8fDMwMCxjWzFdPWUuSGVpZ2h0fHwyNTApO3ZhciBkPUkoaSxPYmplY3Qobi5kZWVwQWNjZXNzKShpLCJDb250ZW50LlByZXZpZXcuVGh1bWJuYWlsLkltYWdlIiksY1swXSxjWzFdKTtkJiYodFtvXT17dXJsOmQsd2lkdGg6Y1swXSxoZWlnaHQ6Y1sxXX0pO2JyZWFrO2Nhc2UiaWNvbiI6dmFyIHA9ci5pY29uLnNpemVzfHxbXTtwLmxlbmd0aHx8KHBbMF09NTAscFsxXT01MCk7dmFyIHU9SShpLE9iamVjdChuLmRlZXBBY2Nlc3MpKGksIkNvbnRlbnQuUHJldmlldy5TcG9uc29yLkxvZ28uUmVzb3VyY2UiKSxwWzBdLHBbMV0pO2QmJih0W29dPXt1cmw6dSx3aWR0aDpwWzBdLGhlaWdodDpwWzFdfSk7YnJlYWs7Y2FzZSJwcml2YWN5SWNvbiI6dFtvXT1JKGksT2JqZWN0KG4uZGVlcEFjY2VzcykoaSwiQ29udGVudC5QcmV2aWV3LkNyZWRpdC5Mb2dvLlJlc291cmNlIiksMjUsMjUpO2JyZWFrO2Nhc2UicHJpdmFjeUxpbmsiOnRbb109T2JqZWN0KG4uZGVlcEFjY2VzcykoaSwiQ29udGVudC5QcmV2aWV3LkNyZWRpdC5VcmwiKX19KSksdH0oZSx0Lk5hdGl2ZSksaS5tZWRpYVR5cGU9Im5hdGl2ZSI7ZWxzZSBpZih0JiZ0LlZpZGVvKXt2YXIgYT1lLlZhc3R8fGZ1bmN0aW9uKGUpe3ZhciByPXt9O2lmKCJzdHJpbmciPT10eXBlb2YgZS5BZClyZXR1cm4gcj1KU09OLnBhcnNlKGUuQWQubWF0Y2goL1wvXCpQUkVCSURcKlwvKC4qKVwvXCpQUkVCSURcKlwvLylbMV0pLE9iamVjdChuLmRlZXBBY2Nlc3MpKHIsIkNvbnRlbnQuTWFpblZpZGVvLlZhc3QiKX0oZSk7aS52YXN0WG1sPWE/d2luZG93LmF0b2IoYSk6IiIsaS5tZWRpYVR5cGU9InZpZGVvIn1lbHNlIGkud2lkdGg9ZS5XaWR0aCxpLmhlaWdodD1lLkhlaWdodCxpLmFkPWUuQWQ7cmV0dXJuIGl9KGUsaSk7ciYmdC5wdXNoKHIpfSkpLHR9fTtmdW5jdGlvbiBtKCl7dHJ5e2lmKHBlcmZvcm1hbmNlJiZwZXJmb3JtYW5jZS5uYXZpZ2F0aW9uKXJldHVybiBwZXJmb3JtYW5jZS5uYXZpZ2F0aW9uLnR5cGU9PT1wZXJmb3JtYW5jZS5uYXZpZ2F0aW9uLlRZUEVfUkVMT0FEfWNhdGNoKGUpe31yZXR1cm4hMX1mdW5jdGlvbiB2KGUscil7dmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIHI9cygpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5EQ30pKTtyZXR1cm4gcj8iLSIrci5wYXJhbXMuREM6IiJ9KGUpO3JldHVybiBPYmplY3Qobi5idWlsZFVybCkoe3Byb3RvY29sOiJodHRwcyIsaG9zdDoiIi5jb25jYXQoImhiLWFwaSIpLmNvbmNhdCh0LCIub21uaXRhZ2pzLmNvbSIpLHBhdGhuYW1lOiIvaGItYXBpL3ByZWJpZC92MSIsc2VhcmNoOmgocil9KX1mdW5jdGlvbiBoKGUpe3ZhciByPXt9O2lmKGUpe3ZhciB0PWUucmVmZXJlckluZm87dCYmKHIuUmVmZXJlclVybD1lbmNvZGVVUklDb21wb25lbnQodC5yZWZlcmVyKSx0Lm51bUlmcmFtZXM+MCYmKHIuU2FmZUZyYW1lPSEwKSl9dmFyIG49ZnVuY3Rpb24oKXt2YXIgZTtpZih3aW5kb3cuc2VsZiE9PXdpbmRvdy50b3ApdHJ5e2U9d2luZG93LnRvcC5kb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoJ2xpbmtbcmVsPSJjYW5vbmljYWwiXVtocmVmXScpfWNhdGNoKGUpe31lbHNlIGU9ZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD0iY2Fub25pY2FsIl1baHJlZl0nKTtyZXR1cm4gZT9lLmhyZWY6IiJ9KCk7biYmKHIuQ2Fub25pY2FsVXJsPWVuY29kZVVSSUNvbXBvbmVudChuKSk7dmFyIGk9YS5iLmdldENvbmZpZygicHVibGlzaGVyRG9tYWluIik7cmV0dXJuIGkmJihyLlB1Ymxpc2hlckRvbWFpbj1lbmNvZGVVUklDb21wb25lbnQoaSkpLHJ9ZnVuY3Rpb24geShlKXt2YXIgcj1lLnNpemVzfHxbXTtyZXR1cm4gZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiYocj1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHxbXSksZS5wYXJhbXMmJkFycmF5LmlzQXJyYXkoZS5wYXJhbXMuc2l6ZSkmJihyPWUucGFyYW1zLnNpemUsQXJyYXkuaXNBcnJheShyWzBdKXx8KHI9W3JdKSksT2JqZWN0KG4ucGFyc2VTaXplc0lucHV0KShyKX1mdW5jdGlvbiBiKGUpe3ZhciByPXt9LHQ9ZVswXTtpZigic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuIHI7dmFyIG49dC50b1VwcGVyQ2FzZSgpLnNwbGl0KCJYIiksaT1wYXJzZUludChuWzBdLDEwKTtpJiYoci53aWR0aD1pKTt2YXIgYT1wYXJzZUludChuWzFdLDEwKTtyZXR1cm4gYSYmKHIuaGVpZ2h0PWEpLHJ9ZnVuY3Rpb24gZyhlKXtyZXR1cm4gZT8iaHR0cHM6Ly9ibG9icy5vbW5pdGFnanMuY29tL2Jsb2JzLyIrZS5zdWJzdHIoMTYsMikrIi8iK2Uuc3Vic3RyKDE2KSsiLyIrZToiIn1mdW5jdGlvbiBJKGUscix0LG4pe3ZhciBpPSIiO2lmKHImJnIuS2luZClzd2l0Y2goci5LaW5kKXtjYXNlIklOVEVSTkFMIjppPWcoci5EYXRhLkludGVybmFsLkJsb2JSZWZlcmVuY2UuVWlkKTticmVhaztjYXNlIkVYVEVSTkFMIjp2YXIgYT1lLkR5bmFtaWNQcmVmaXgsbz1yLkRhdGEuRXh0ZXJuYWwuVXJsO2lmKChvPShvPW8ucmVwbGFjZSgvXFtoZWlnaHRcXS9pLCIiK24pKS5yZXBsYWNlKC9cW3dpZHRoXF0vaSwiIit0KSkuaW5kZXhPZihhKT49MCl7dmFyIHM9Ly4qdXJsPShbXiZdKikvZ20uZXhlYyhvKTsoaT1zP3NbMV06IiIpfHwoaT1nKC8uKmtleT0oW14mXSopL2dtLmV4ZWMobylbMV0pKX1lbHNlIGk9b31yZXR1cm4gaX1mdW5jdGlvbiBDKGUscil7dmFyIHQ9W107cmV0dXJuIGU/KGUubWFwKChmdW5jdGlvbihlLG4peyhyJiYiSkFWQVNDUklQVF9VUkwiPT09ZS5LaW5kfHwhciYmIlBJWEVMX1VSTCI9PT1lLktpbmQpJiZ0LnB1c2goZS5VcmwpfSkpLHQpOnR9T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGwpfX0sWzI1OV0pOwp1cGJqc0NodW5rKFszNDBdLHsyNzE6ZnVuY3Rpb24obixhLHQpe24uZXhwb3J0cz10KDI3Mil9LDI3MjpmdW5jdGlvbihuLGEsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxhLlByZWJpZEFtYXpvbj1mO3ZhciByPXQoNjMpLGU9dCgzOSksbz10KDApLGk9dCgxKSxjPXQoOCksZD10KDUpLG09dC5uKGQpO2Z1bmN0aW9uIHMoKXtyZXR1cm4ocz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihuKXtmb3IodmFyIGE9MTthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKXt2YXIgdD1hcmd1bWVudHNbYV07Zm9yKHZhciByIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihuW3JdPXRbcl0pfXJldHVybiBufSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGwobixhKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoQXJyYXkuaXNBcnJheShuKSlyZXR1cm4gbn0obil8fGZ1bmN0aW9uKG4sYSl7dmFyIHQ9bnVsbD09bj9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZuW1N5bWJvbC5pdGVyYXRvcl18fG5bIkBAaXRlcmF0b3IiXTtpZihudWxsPT10KXJldHVybjt2YXIgcixlLG89W10saT0hMCxjPSExO3RyeXtmb3IodD10LmNhbGwobik7IShpPShyPXQubmV4dCgpKS5kb25lKSYmKG8ucHVzaChyLnZhbHVlKSwhYXx8by5sZW5ndGghPT1hKTtpPSEwKTt9Y2F0Y2gobil7Yz0hMCxlPW59ZmluYWxseXt0cnl7aXx8bnVsbD09dC5yZXR1cm58fHQucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGV9fXJldHVybiBvfShuLGEpfHxmdW5jdGlvbihuLGEpe2lmKCFuKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIG4pcmV0dXJuIHUobixhKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT10JiZuLmNvbnN0cnVjdG9yJiYodD1uLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09dHx8IlNldCI9PT10KXJldHVybiBBcnJheS5mcm9tKG4pO2lmKCJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkpcmV0dXJuIHUobixhKX0obixhKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUobixhKXsobnVsbD09YXx8YT5uLmxlbmd0aCkmJihhPW4ubGVuZ3RoKTtmb3IodmFyIHQ9MCxyPW5ldyBBcnJheShhKTt0PGE7dCsrKXJbdF09blt0XTtyZXR1cm4gcn12YXIgcD0iYW1hem9uIjtmdW5jdGlvbiBmKCl7dmFyIG49bmV3IHIuYShwKTtyZXR1cm4gbi5jYWxsQmlkcz1mdW5jdGlvbihuLGEsdCl7aWYod2luZG93LmFwc3RhZylpZihuLmJpZHMubGVuZ3RoKXt3aW5kb3cuYXBzdGFnLmluaXQoe3B1YklEOm4uYmlkc1swXS5wYXJhbXMucHViSUQsYWRTZXJ2ZXI6Imdvb2dsZXRhZyJ9KTt2YXIgcj1uLmJpZHMubWFwKChmdW5jdGlvbihuKXt2YXIgYT1uLmFkVW5pdENvZGUsdD1uLnBhcmFtcyxyPW4uc2l6ZXM7cmV0dXJue3Nsb3RJRDphLHNsb3ROYW1lOnQuYWRVbml0R1BUUGF0aCxzaXplczpyfX0pKTt3aW5kb3cuYXBzdGFnLmZldGNoQmlkcyh7c2xvdHM6cix0aW1lb3V0OjI5NjV9LChmdW5jdGlvbihyKXshZnVuY3Rpb24obixhLHQscil7dHJ5e3ZhciBjPVtdO2EuZm9yRWFjaCgoZnVuY3Rpb24oYSl7dmFyIHQ9YS5hbXpuaWlkLHI9YS5hbXpuYmlkLG89YS5hbXpucCxpPWEuYW16bnN6LGQ9YS5zbG90SUQsdT1hLnNpemUsZj1hLnRhcmdldGluZztpZighciYmZiYmKHQ9Zi5hbXpuaWlkLHI9Zi5hbXpuYmlkLG89Zi5hbXpucCxpPWYuYW16bnN6KSx0KXt2YXIgdz1sKHUuc3BsaXQoIngiKSwyKSxiPXdbMF0sZz13WzFdLHo9bi5iaWRzLmZpbmQoKGZ1bmN0aW9uKG4pe3JldHVybiBuLmFkVW5pdENvZGU9PT1kfSkpLGg9ei5iaWRJZCx5PXouYXVjdGlvbklkLHY9ei5wYXJhbXMsQz0iIitNYXRoLnJvdW5kKDFlMTIqTWF0aC5yYW5kb20oKSkrRGF0ZS5ub3coKSxJPSJidF9ob3N0X3BsYWNlaG9sZGVyL2UvZHRiL2FkbWk/Yj0iLmNvbmNhdCh0LCImcm5kPSIpLmNvbmNhdChDLCImcHA9IikuY29uY2F0KHIsIiZwPSIpLmNvbmNhdChvLCImYnRfY3JpZF9wbGFjZWhvbGRlciIpLGo9MCxPPSJVU0QiO3dpbmRvdy51cG9fYW16biYmKHdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DaGFydCYmd2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUNoYXJ0W3JdJiYoaj13aW5kb3cudXBvX2Ftem4uYW1hem9uQ1BNQ2hhcnRbcl0pLHdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DdXJyZW5jeSYmKE89d2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUN1cnJlbmN5KSk7dmFyIFM9e2JpZGRlckNvZGU6cCxhZFVuaXRDb2RlOmQsYXVjdGlvbklkOnkscmVxdWVzdElkOmgsY3BtOmosY3VycmVuY3k6TyxoZWlnaHQ6Zyx3aWR0aDpiLGFkVGFyZ2V0aW5nOid7ImFtem5paWQiOiInLmNvbmNhdCh0LCciLCJhbXpucCI6IicpLmNvbmNhdChvLCciLCJhbXpuYmlkIjoiJykuY29uY2F0KHIsJyIsImFtem5zeiI6IicpLmNvbmNhdChpLCcifScpLGFkOiIiLGFkSHRtbDonPGJvZHkgbGVmdG1hcmdpbj0iMCIgdG9wbWFyZ2luPSIwIiBtYXJnaW53aWR0aD0iMCIgbWFyZ2luaGVpZ2h0PSIwIj48aWZyYW1lIGZyYW1lYm9yZGVyPSIwIiBtYXJnaW5oZWlnaHQ9IjAiIG1hcmdpbndpZHRoPSIwIiBzY3JvbGxpbmc9Im5vIiB3aWR0aD0iJytiKydweCIgaGVpZ2h0PSInK2crJ3B4IiBpZD0iYW16bmFkNzAzNTIiIHNhbmRib3g9ImFsbG93LWZvcm1zIGFsbG93LXBvaW50ZXItbG9jayBhbGxvdy1wb3B1cHMgYWxsb3ctcG9wdXBzLXRvLWVzY2FwZS1zYW5kYm94IGFsbG93LXNhbWUtb3JpZ2luIGFsbG93LXNjcmlwdHMgYWxsb3ctdG9wLW5hdmlnYXRpb24tYnktdXNlci1hY3RpdmF0aW9uIiBzcmM9IicrSSsnIj48L2lmcmFtZT48c2NyaXB0PnZhciBhbXogPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTthbXouc3JjID0gIi8vYy5hbWF6b24tYWRzeXN0ZW0uY29tL2Jhby1jc20vZGlyZWN0L2NzbS5qcyI7YW16LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGZ1bmN0aW9uKCl7dmFyIGNzbUZ1bmMgPSBudWxsOyBpZih3aW5kb3cuYW16bmNzbSAmJiB3aW5kb3cuYW16bmNzbS5ybUQpe2NzbUZ1bmMgPSB3aW5kb3cuYW16bmNzbS5ybUQ7fSBlbHNlIGlmICh3aW5kb3cuYW16bmNzbSkge2NzbUZ1bmMgPSB3aW5kb3cuYW16bmNzbVtPYmplY3Qua2V5cyh3aW5kb3cuYW16bmNzbSlbMF1dfTsgdmFyIGFkSWZyYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcJ2lmcmFtZVtzcmMqPSJhbWF6b24tYWRzeXN0ZW0uY29tL2UvZHRiL2FkbWlcJyk7Y3NtRnVuYyhhZElmcmFtZSwgIicrdCsnIiwgd2luZG93LCBkb2N1bWVudCwgIicrdi5wdWJJRCsnIik7fSk7KGRvY3VtZW50LmJvZHl8fGRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoYW16KTs8XC9zY3JpcHQ+PC9ib2R5PicsYWRVcmw6SSx0dGw6OTAwLGNyZWF0aXZlSWQ6IiIsbmV0UmV2ZW51ZTohMCxvcmlnaW5hbENwbTpqLG9yaWdpbmFsQ3VycmVuY3k6T30sXz1zKE9iamVjdChlLmEpKG0uYS5TVEFUVVMuR09PRCxuKSxTKTtjLnB1c2goXyl9fSkpLGMuZm9yRWFjaCgoZnVuY3Rpb24oYSl7T2JqZWN0KGkuaXNWYWxpZCkoYS5hZFVuaXRDb2RlLGEsW25dKSYmdChhLmFkVW5pdENvZGUsYSl9KSl9Y2F0Y2gobil7T2JqZWN0KG8ubG9nRXJyb3IpKCJTZXJ2ZXIgY2FsbCBmb3IgIi5jb25jYXQocCwiIGZhaWxlZDogZXJyb3IgcGFyc2luZyByZXNwb25zZSAiKS5jb25jYXQobi5zdGF0dXMsIi4iKSl9cigpfShuLHIsYSx0KX0pKX1lbHNlIE9iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQocCwiIHJlcXVlc3Qgbm90IG1hZGU6IG5vIGFtYXpvbiBiaWQgY29uZmlndXJhdGlvbi4iKSk7ZWxzZSBPYmplY3Qoby5sb2dFcnJvcikoIlNlcnZlciBjYWxsIGZvciAiLmNvbmNhdChwLCIgZmFpbGVkOiBlcnJvciBnZXR0aW5nIGFwc3RhZyBsaWJyYXJ5LiIpKX0scyh0aGlzLHtjYWxsQmlkczpuLmNhbGxCaWRzLHNldEJpZGRlckNvZGU6bi5zZXRCaWRkZXJDb2RlLGdldEJpZGRlckNvZGU6bi5nZXRCaWRkZXJDb2RlfSl9Yy5kZWZhdWx0LnJlZ2lzdGVyQmlkQWRhcHRlcihuZXcgZixwKX19LFsyNzFdKTsKdXBianNDaHVuayhbMzM5XSx7MjczOmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9bigyNzQpfSwyNzQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBTfSkpO3ZhciByPW4oMSksYz1uKDIpLGk9bigwKSxvPW4oMyksYT1uKDcpO2Z1bmN0aW9uIHUoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/dShPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2QoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnUoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gZChlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gbChlKXtyZXR1cm4obD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBwPU9iamVjdChhLmIpKDczNywiYW14IiksYj0vXC5jb20/XC5cd3syLDR9JC8sZj0vXlxzKjxcPz8oPzp2YXN0fHhtbCkvaSxtPSJfX2FtdWlkcGIiO2Z1bmN0aW9uIGcoZSx0KXtyZXR1cm4gbnVsbD09ZT9bXTplLm1hcCh0KS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGwhPXQmJmUuY29uY2F0KHQpfSksW10pfWZ1bmN0aW9uIGgoZSl7cmV0dXJuIG51bGwhPSh0PWUuYWRtKSYmZi50ZXN0KHQpP2MuZDpjLmI7dmFyIHR9dmFyIE89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZXx8bChlKT09PXR9O2Z1bmN0aW9uIHkoZSl7dmFyIHQ9ZS5ob3N0bmFtZS5zcGxpdCgiLiIpLG49dC5zbGljZSh0Lmxlbmd0aC0oYi50ZXN0KGUuaG9zdG5hbWUpPzM6MikpLmpvaW4oIi4iKTtyZXR1cm4gYnRvYShuKS5yZXBsYWNlKC89KyQvLCIiKX12YXIgaj1lbmNvZGVVUklDb21wb25lbnQ7ZnVuY3Rpb24gdigpe3RyeXtyZXR1cm4gcC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShtKX1jYXRjaChlKXtyZXR1cm4gbnVsbH19ZnVuY3Rpb24gdyhlKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0KGkuX2VhY2gpKGUsKGZ1bmN0aW9uKGUpe3RbZS5iaWRJZF09ZnVuY3Rpb24oZSl7dmFyIHQ9KGw9ZS5zaXplcyxwPWUubWVkaWFUeXBlcyxsLmNvbmNhdChPYmplY3QoaS5kZWVwQWNjZXNzKShwLCIiLmNvbmNhdChjLmIsIi5zaXplcyIpLFtdKXx8W10pLmNvbmNhdChPYmplY3QoaS5kZWVwQWNjZXNzKShwLCIiLmNvbmNhdChjLmQsIi5zaXplcyIpLFtdKXx8W10pLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRbMF0qdFsxXS1lWzBdKmVbMV19KSlbMF18fFswLDBdKSxuPWUubWVkaWFUeXBlPT09Yy5kfHxjLmQgaW4gZS5tZWRpYVR5cGVzLHI9bnx8dFsxXT4xMDAsbz1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudGFnSWQiKSxhPW51bGwhPWUucGFyYW1zJiYic3RyaW5nIj09dHlwZW9mIGUucGFyYW1zLmFkVW5pdElkP2UucGFyYW1zLmFkVW5pdElkOmUuYWRVbml0Q29kZSx1PVtlLnNpemVzLE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYy5iLCIuc2l6ZXMiKSxbXSl8fFtdLE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYy5kLCIuc2l6ZXMiKSxbXSl8fFtdXSxzPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYy5kKSx7fSl8fHt9LGQ9e2F1OmEsYXY6cix2ZDpzLHZyOm4sbXM6dSxhdzp0WzBdLGFoOnRbMV0sdGY6MCxzYzplLnNjaGFpbnx8e30sZjpJKEMoZSkpfTt2YXIgbCxwOyJzdHJpbmciPT10eXBlb2YgbyYmby5sZW5ndGg+MCYmKGQuaT1vKTtyZXR1cm4gZH0oZSl9KSksdH12YXIgQT1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QoaS50cmlnZ2VyUGl4ZWwpKCIiLmNvbmNhdCgiaHR0cHM6Ly8xeDEuYS1tby5uZXQvaGJ4LyIsImdfIikuY29uY2F0KGUsIj8iKS5jb25jYXQoT2JqZWN0KGkuZm9ybWF0UVMpKHMocyh7fSx0KSx7fSx7dHM6RGF0ZS5ub3coKSxlaWQ6T2JqZWN0KGkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKX0pKSkpfTtmdW5jdGlvbiBJKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZSYmaXNGaW5pdGUoZSkmJmU+MD9lOjB9ZnVuY3Rpb24gQyhlKXtpZighT2JqZWN0KGkuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5mbG9vciIsMCk7dHJ5e3JldHVybiBlLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioiLGJpZFJlcXVlc3Q6ZX0pLmZsb29yfWNhdGNoKGUpe3JldHVybiBPYmplY3QoaS5sb2dFcnJvcikoImNhbGwgdG8gZ2V0Rmxvb3IgZmFpbGVkOiAiLGUpLDB9fXZhciBTPXtjb2RlOiJhbXgiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2MuYixjLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBPKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5lbmRwb2ludCIsbnVsbCksInN0cmluZyIpJiZPKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy50YWdJZCIsbnVsbCksInN0cmluZyIpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixjPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVmZXJlckluZm87aWYobnVsbD09dClyZXR1cm4gT2JqZWN0KGkucGFyc2VVcmwpKGxvY2F0aW9uLmhyZWYpO2lmKHQuaXNBbXAmJm51bGwhPXQucmVmZXJlcilyZXR1cm4gT2JqZWN0KGkucGFyc2VVcmwpKHQucmVmZXJlcik7dmFyIG49dC5udW1JZnJhbWVzPjAmJm51bGwhPXQuc3RhY2tbMF0/dC5zdGFja1swXTpsb2NhdGlvbi5ocmVmO3JldHVybiBPYmplY3QoaS5wYXJzZVVybCkobil9KHQpLGE9T2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLnRhZ0lkIixudWxsKSx1PU9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy50ZXN0TW9kZSIsMCkscz1udWxsIT1lWzBdP2VbMF06e2JpZGRlclJlcXVlc3RzQ291bnQ6MCxiaWRkZXJXaW5zQ291bnQ6MCxiaWRSZXF1ZXN0c0NvdW50OjB9O3JldHVybntkYXRhOnthOnQuYXVjdGlvbklkLEI6MCxiOmMuaG9zdCxicmM6cy5iaWRkZXJSZXF1ZXN0c0NvdW50fHwwLGJ3YzpzLmJpZGRlcldpbnNDb3VudHx8MCx0cmM6cy5iaWRSZXF1ZXN0c0NvdW50fHwwLHRtOihyPXUsITA9PT1yfHwxPT09cnx8InRydWUiPT09ciksVjoiNS4yMC4yIix2ZzoidXBianMiLGk6dSYmbnVsbCE9YT9hOnkoYyksbDp7fSxmOi4wMSxjdjoicGJhMS4zLjEiLHN0OiJwcmViaWQiLGg6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxnczpPYmplY3QoaS5kZWVwQWNjZXNzKSh0LCJnZHByQ29uc2VudC5nZHByQXBwbGllcyIsIiIpLGdjOk9iamVjdChpLmRlZXBBY2Nlc3MpKHQsImdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmciLCIiKSx1Ok9iamVjdChpLmRlZXBBY2Nlc3MpKHQsInJlZmVyZXJJbmZvLmNhbm9uaWNhbFVybCIsYy5ocmVmKSxkbzpjLmhvc3RuYW1lLHJlOk9iamVjdChpLmRlZXBBY2Nlc3MpKHQsInJlZmVyZXJJbmZvLnJlZmVyZXIiKSxhbTp2KCksdXNwOnQudXNwQ29uc2VudHx8IjEtLS0iLHNtdDoxLGQ6IiIsbTp3KGUpLGNwcDpvLmIuZ2V0Q29uZmlnKCJjb3BwYSIpPzE6MCxmcGQyOm8uYi5nZXRDb25maWcoIm9ydGIyIiksdG1heDpvLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0IiksZWlkczoobj1lLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09dHx8bnVsbD09dC51c2VySWRBc0VpZHN8fE9iamVjdChpLl9lYWNoKSh0LnVzZXJJZEFzRWlkcywoZnVuY3Rpb24odCl7bnVsbCE9dCYmKGVbdC5zb3VyY2VdPXQpfSkpLGV9KSx7fSksbnVsbCE9T2JqZWN0LnZhbHVlcz9PYmplY3QudmFsdWVzKG4pOk9iamVjdC5rZXlzKG4pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV19KSkpfSxtZXRob2Q6IlBPU1QiLHVybDpPYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuZW5kcG9pbnQiLCJodHRwczovL3ByZWJpZC5hLW1vLm5ldC9hL2MiKSx3aXRoQ3JlZGVudGlhbHM6ITB9fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXtpZihudWxsPT10fHwwPT09dC5sZW5ndGgpcmV0dXJuW107dmFyIG49W107cmV0dXJuIE9iamVjdChpLl9lYWNoKSh0LChmdW5jdGlvbih0KXt2YXIgcj10LmJvZHk7bnVsbCE9ciYmbnVsbCE9ci5wJiZyLnAuaHJlcSYmT2JqZWN0KGkuX2VhY2gpKHIucC5ocmVxLChmdW5jdGlvbih0KXt2YXIgcj0tMSE9PXQuaW5kZXhPZigiX19zdD1pZnJhbWUiKT8iaWZyYW1lIjoiaW1hZ2UiOyhlLmlmcmFtZUVuYWJsZWR8fCJpbWFnZSI9PT1yKSYmbi5wdXNoKHt1cmw6dCx0eXBlOnJ9KX0pKX0pKSxufSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuYm9keTtyZXR1cm4gbnVsbD09bnx8InN0cmluZyI9PXR5cGVvZiBuP1tdOihuLmFtJiYic3RyaW5nIj09dHlwZW9mIG4uYW0mJmZ1bmN0aW9uKGUpe3RyeXtwLnNldERhdGFJbkxvY2FsU3RvcmFnZShtLGUpfWNhdGNoKGUpe319KG4uYW0pLGcoT2JqZWN0LmtleXMobi5yKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGcobi5yW2VdLChmdW5jdGlvbihuKXtyZXR1cm4gbi5iLm1hcCgoZnVuY3Rpb24obil7dmFyIHIsbz1oKG4pLGE9bz09PWMuYj9mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJleHQuaGltcCIsW10pLmNvbmNhdChudWxsIT1lLm51cmw/W2UubnVybF06W10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJmUubGVuZ3RoPjB9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4nPGltZyBzcmM9IicuY29uY2F0KGUsJyIgd2lkdGg9IjAiIGhlaWdodD0iMCIvPicpfSkpLmpvaW4oIiIpO3JldHVybiBlLmFkbSt0fShuKTpuLmFkbTtpZihudWxsPT1hKXJldHVybiBudWxsO3ZhciB1PWZ1bmN0aW9uKGUsdCxuKXtpZihudWxsIT1lLncmJmUudz4xJiZudWxsIT1lLmgmJmUuaD4xKXJldHVybltlLncsZS5oXTt2YXIgcj10Lm1bbl07cmV0dXJuIG51bGw9PXI/WzAsMF06W3IuYXcsci5haF19KG4sdC5kYXRhLGUpLHM9bz09PWMuYj8yNDA6MzAwO3JldHVybiBkKHI9e3JlcXVlc3RJZDplLGNwbTpuLnByaWNlLHdpZHRoOnVbMF0saGVpZ2h0OnVbMV0sY3JlYXRpdmVJZDpuLmNyaWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMH0sbz09PWMuZD8idmFzdFhtbCI6ImFkIixhKSxkKHIsIm1ldGEiLHthZHZlcnRpc2VyRG9tYWluczpuLmFkb21haW4sbWVkaWFUeXBlOm99KSxkKHIsIm1lZGlhVHlwZSIsbyksZChyLCJ0dGwiLCJudW1iZXIiPT10eXBlb2Ygbi5leHA/bi5leHA6cykscn0pKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lfSkpfSkpKX0sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24oZSl7dmFyIHQsbjtudWxsIT1lJiZBKCJwYnN0Iix7QTplLmJpZGRlcix3OmUud2lkdGgsaDplLmhlaWdodCxiaWQ6ZS5hZElkLGMxOmUubWVkaWFUeXBlLG5wOmUuY3BtLGF1ZDplLnJlcXVlc3RJZCxhOmUuYWRVbml0Q29kZSxjMjoodD1lLmFkc2VydmVyVGFyZ2V0aW5nLG49W10sT2JqZWN0LmtleXModHx8e30pLmZvckVhY2goKGZ1bmN0aW9uKGUpe24ucHVzaChqKGUpKyI9IitqKFN0cmluZyh0W2VdKSkpfSkpLGoobi5qb2luKCImIikpKX0pfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7bnVsbCE9ZSYmQSgicGJ0byIse0E6ZS5iaWRkZXIsYmlkOmUuYmlkSWQsYTplLmFkVW5pdENvZGUsY246ZS50aW1lb3V0LGF1ZDplLmF1Y3Rpb25JZH0pfSxvbkJpZFdvbjpmdW5jdGlvbihlKXtudWxsIT1lJiZBKCJwYndpbiIse0E6ZS5iaWRkZXIsdzplLndpZHRoLGg6ZS5oZWlnaHQsYmlkOmUuYWRJZCxDOmUubWVkaWFUeXBlPT09Yy5iPzA6MSxucDplLmNwbSxhOmUuYWRVbml0Q29kZX0pfX07T2JqZWN0KHIucmVnaXN0ZXJCaWRkZXIpKFMpfX0sWzI3M10pOwp1cGJqc0NodW5rKFszMzZdLHsyNzk6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDI4MCl9LDI4MDpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHF9KSk7dmFyIG4saSxhLG89cigwKSxzPXIoMSksYz1yKDIpO2Z1bmN0aW9uIHUoKXtyZXR1cm4odT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuKGQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuIHR8fCh0PWUuc2xpY2UoMCkpLE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSx7cmF3Ont2YWx1ZTpPYmplY3QuZnJlZXplKHQpfX0pKX12YXIgbD0iYW9sIixtPSJ2ZXJpem9uIixmPSJvbmVtb2JpbGUiLGI9Im9uZWRpc3BsYXkiLGg9e0dFVDoiZGlzcGxheS1nZXQifSx2PXtHRVQ6Im1vYmlsZS1nZXQiLFBPU1Q6Im1vYmlsZS1wb3N0In0sZz17VEFHOiJpZnJhbWUiLFRZUEU6ImlmcmFtZSJ9LHk9e1RBRzoiaW1nIixUWVBFOiJpbWFnZSJ9LE89WyJhZHNlcnZlci5vcmciLCJjcml0ZW8uY29tIiwiaWQ1LXN5bmMuY29tIiwiaW50ZW50aXEuY29tIiwibGl2ZWludGVudC5jb20iLCJxdWFudGNhc3QuY29tIiwidmVyaXpvbm1lZGlhLmNvbSIsImxpdmVyYW1wLmNvbSIsInlhaG9vLmNvbSJdLFA9QyhufHwobj1wKFsiIiwiL3B1YmFwaS8zLjAvIiwiLyIsIi8iLCIvIiwiL0FEVEVDSDt2PTI7Y21kPWJpZDtjb3JzPXllczthbGlhcz0iLCI7bWlzYz0iLCI7IiwiIl0pKSwiaG9zdCIsIm5ldHdvcmsiLCJwbGFjZW1lbnQiLCJwYWdlaWQiLCJzaXplaWQiLCJhbGlhcyIsIm1pc2MiLCJkeW5hbWljUGFyYW1zIiksaj1DKGl8fChpPXAoWyIiLCIvYmlkUmVxdWVzdD8iXSkpLCJob3N0IiksRT1DKGF8fChhPXAoWyJkY249IiwiJnBvcz0iLCImY21kPWJpZCIsIiJdKSksImRjbiIsInBvcyIsImR5bmFtaWNQYXJhbXMiKSxTPXt1czoiYWRzZXJ2ZXItdXMuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbSIsZXU6ImFkc2VydmVyLWV1LmFkdGVjaC5hZHZlcnRpc2luZy5jb20iLGFzOiJhZHNlcnZlci1hcy5hZHRlY2guYWR2ZXJ0aXNpbmcuY29tIn0sVD0iaHR0cHMiLHg9MTtmdW5jdGlvbiBDKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KHQ+MT90LTE6MCksbj0xO248dDtuKyspcltuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0KSxpPTA7aTx0O2krKyluW2ldPWFyZ3VtZW50c1tpXTt2YXIgYT1uW24ubGVuZ3RoLTFdfHx7fSxzPVtlWzBdXTtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbih0LHIpe3ZhciBpPU9iamVjdChvLmlzSW50ZWdlcikodCk/blt0XTphW3RdO3MucHVzaChpLGVbcisxXSl9KSkscy5qb2luKCIiKX19ZnVuY3Rpb24gSShlKXtyZXR1cm4gZT09PWx8fGU9PT1tfHxlPT09Zn1mdW5jdGlvbiBSKGUpe2lmKEkoZS5iaWRkZXIpJiZlLnBhcmFtcy5pZCYmZS5wYXJhbXMuaW1wJiZlLnBhcmFtcy5pbXBbMF0pe3ZhciB0PWUucGFyYW1zLmltcFswXTtyZXR1cm4gdC5pZCYmdC50YWdpZCYmdC5iYW5uZXImJnQuYmFubmVyLncmJnQuYmFubmVyLmh9fWZ1bmN0aW9uIHcoZSl7cmV0dXJuIEkoZS5iaWRkZXIpJiZlLnBhcmFtcy5kY24mJmUucGFyYW1zLnBvc31mdW5jdGlvbiBVKGUpe3JldHVybigodD1lLmJpZGRlcik9PT1sfHx0PT09bXx8dD09PWIpJiZlLnBhcmFtcy5wbGFjZW1lbnQmJmUucGFyYW1zLm5ldHdvcms7dmFyIHR9ZnVuY3Rpb24gayhlKXtyZXR1cm4gZS51c2VySWRBc0VpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PU8uaW5kZXhPZihlLnNvdXJjZSl9KSl9dmFyIHE9e2NvZGU6bCxndmxpZDoyNSxhbGlhc2VzOltmLGIsbV0sc3VwcG9ydGVkTWVkaWFUeXBlczpbYy5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gVShlKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSl8fFIoZSl9KGUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt9O3JldHVybiB0JiYobi5nZHByPXQuZ2RwckNvbnNlbnQsbi51c3BDb25zZW50PXQudXNwQ29uc2VudCksZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpP3YuR0VUOlIoZSk/di5QT1NUOlUoZSk/aC5HRVQ6dm9pZCAwfShlKTtpZih0KXJldHVybiByLmZvcm1hdEJpZFJlcXVlc3QodCxlLG4pfSkpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keTtpZihyKXt2YXIgbj10aGlzLl9wYXJzZUJpZFJlc3BvbnNlKHIsdCk7aWYobilyZXR1cm4gbn1lbHNlIE9iamVjdChvLmxvZ0Vycm9yKSgiRW1wdHkgYmlkIHJlc3BvbnNlIix0LmJpZGRlckNvZGUscil9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3ZhciByPSFPYmplY3Qoby5pc0VtcHR5KSh0KSYmdFswXS5ib2R5O3JldHVybiByJiZyLmV4dCYmci5leHQucGl4ZWxzP3RoaXMucGFyc2VQaXhlbEl0ZW1zKHIuZXh0LnBpeGVscyk6W119LGZvcm1hdEJpZFJlcXVlc3Q6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO3N3aXRjaChlKXtjYXNlIGguR0VUOm49e3VybDp0aGlzLmJ1aWxkTWFya2V0cGxhY2VVcmwodCxyKSxtZXRob2Q6IkdFVCIsdHRsOjYwfTticmVhaztjYXNlIHYuR0VUOm49e3VybDp0aGlzLmJ1aWxkT25lTW9iaWxlR2V0VXJsKHQsciksbWV0aG9kOiJHRVQiLHR0bDozNjAwfTticmVhaztjYXNlIHYuUE9TVDpuPXt1cmw6dGhpcy5idWlsZE9uZU1vYmlsZUJhc2VVcmwodCksbWV0aG9kOiJQT1NUIix0dGw6MzYwMCxkYXRhOnRoaXMuYnVpbGRPcGVuUnRiUmVxdWVzdERhdGEodCxyKSxvcHRpb25zOntjb250ZW50VHlwZToiYXBwbGljYXRpb24vanNvbiIsY3VzdG9tSGVhZGVyczp7Ingtb3BlbnJ0Yi12ZXJzaW9uIjoiMi4yIn19fX1yZXR1cm4gbi5iaWRkZXJDb2RlPXQuYmlkZGVyLG4uYmlkSWQ9dC5iaWRJZCxuLnVzZXJTeW5jT249dC5wYXJhbXMudXNlclN5bmNPbixufSxidWlsZE1hcmtldHBsYWNlVXJsOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbj1lLnBhcmFtcyxpPW4uc2VydmVyLGE9bi5yZWdpb258fCJ1cyI7cmV0dXJuIFMuaGFzT3duUHJvcGVydHkoYSl8fChPYmplY3Qoby5sb2dXYXJuKSgiVW5rbm93biByZWdpb24gJyIuY29uY2F0KGEsIicgZm9yIEFPTCBiaWRkZXIuIikpLGE9InVzIikscj1pfHxTW2FdLG4ucmVnaW9uPWEsdGhpcy5hcHBseVByb3RvY29sKFAoe2hvc3Q6cixuZXR3b3JrOm4ubmV0d29yayxwbGFjZW1lbnQ6cGFyc2VJbnQobi5wbGFjZW1lbnQpLHBhZ2VpZDpuLnBhZ2VJZHx8MCxzaXplaWQ6bi5zaXplSWR8fDAsYWxpYXM6bi5hbGlhc3x8T2JqZWN0KG8uZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxtaXNjOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGR5bmFtaWNQYXJhbXM6dGhpcy5mb3JtYXRNYXJrZXRwbGFjZUR5bmFtaWNQYXJhbXMobix0KX0pKX0sYnVpbGRPbmVNb2JpbGVHZXRVcmw6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnBhcmFtcyxuPXIuZGNuLGk9ci5wb3MsYT1yLmV4dDsib2JqZWN0Ij09PWQoZS51c2VySWQpJiYoYT1hfHx7fSxrKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2FbImVpZCIrZS5zb3VyY2VdPWUudWlkc1swXS5pZH0pKSk7dmFyIG89dGhpcy5idWlsZE9uZU1vYmlsZUJhc2VVcmwoZSk7aWYobiYmaSl7dmFyIHM9dGhpcy5mb3JtYXRPbmVNb2JpbGVEeW5hbWljUGFyYW1zKGEsdCk7bys9RSh7ZGNuOm4scG9zOmksZHluYW1pY1BhcmFtczpzfSl9cmV0dXJuIG99LGJ1aWxkT25lTW9iaWxlQmFzZVVybDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hcHBseVByb3RvY29sKGooe2hvc3Q6ZS5wYXJhbXMuaG9zdHx8ImMyc2hiLnNzcC55YWhvby5jb20ifSkpfSxhcHBseVByb3RvY29sOmZ1bmN0aW9uKGUpe3JldHVybi9eaHR0cHM/OlwvXC8vaS50ZXN0KGUpP2U6MD09PWUuaW5kZXhPZigiLy8iKT8iIi5jb25jYXQoVCwiOiIpLmNvbmNhdChlKToiIi5jb25jYXQoVCwiOi8vIikuY29uY2F0KGUpfSxmb3JtYXRNYXJrZXRwbGFjZUR5bmFtaWNQYXJhbXM6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj17fTt1KHIsdGhpcy5mb3JtYXRLZXlWYWx1ZXMoZS5rZXlWYWx1ZXMpKSx1KHIsdGhpcy5mb3JtYXRDb25zZW50RGF0YSh0KSk7dmFyIG49IiI7cmV0dXJuIE9iamVjdChvLl9lYWNoKShyLChmdW5jdGlvbihlLHQpe24rPSIiLmNvbmNhdCh0LCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlKSwiOyIpfSkpLG59LGZvcm1hdE9uZU1vYmlsZUR5bmFtaWNQYXJhbXM6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dGhpcy5pc1NlY3VyZVByb3RvY29sKCkmJihlLnNlY3VyZT14KSx1KGUsdGhpcy5mb3JtYXRDb25zZW50RGF0YSh0KSk7dmFyIHI9IiI7cmV0dXJuIE9iamVjdChvLl9lYWNoKShlLChmdW5jdGlvbihlLHQpe3IrPSImIi5jb25jYXQodCwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZSkpfSkpLHJ9LGJ1aWxkT3BlblJ0YlJlcXVlc3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXtpZDplLnBhcmFtcy5pZCxpbXA6ZS5wYXJhbXMuaW1wfTtpZih0aGlzLmlzRVVDb25zZW50UmVxdWlyZWQodCkmJihPYmplY3Qoby5kZWVwU2V0VmFsdWUpKHIsInJlZ3MuZXh0LmdkcHIiLHgpLHQuZ2Rwci5jb25zZW50U3RyaW5nJiZPYmplY3Qoby5kZWVwU2V0VmFsdWUpKHIsInVzZXIuZXh0LmNvbnNlbnQiLHQuZ2Rwci5jb25zZW50U3RyaW5nKSksdC51c3BDb25zZW50JiZPYmplY3Qoby5kZWVwU2V0VmFsdWUpKHIsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCksIm9iamVjdCI9PT1kKGUudXNlcklkKSl7ci51c2VyPXIudXNlcnx8e30sci51c2VyLmV4dD1yLnVzZXIuZXh0fHx7fTt2YXIgbj1rKGUpO24ubGVuZ3RoPjAmJihyLnVzZXIuZXh0LmVpZHM9bil9cmV0dXJuIHJ9LGlzRVVDb25zZW50UmVxdWlyZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5nZHByJiZlLmdkcHIuZ2RwckFwcGxpZXMpfSxmb3JtYXRLZXlWYWx1ZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdChvLl9lYWNoKShlLChmdW5jdGlvbihlLHIpe3RbImt2Ii5jb25jYXQocildPWV9KSksdH0sZm9ybWF0Q29uc2VudERhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHRoaXMuaXNFVUNvbnNlbnRSZXF1aXJlZChlKSYmKHQuZ2Rwcj14LGUuZ2Rwci5jb25zZW50U3RyaW5nJiYodC5ldWNvbnNlbnQ9ZS5nZHByLmNvbnNlbnRTdHJpbmcpKSxlLnVzcENvbnNlbnQmJih0LnVzX3ByaXZhY3k9ZS51c3BDb25zZW50KSx0fSxwYXJzZVBpeGVsSXRlbXM6ZnVuY3Rpb24oZSl7dmFyIHQ9L1x3Kig/PVxzKS8scj0vc3JjPSgifCcpKC4qPylcMS8sbj1bXTtpZihlKXt2YXIgaT1lLm1hdGNoKC8oaW1nfGlmcmFtZSlbXHNcU10qP3NyY1xzKj1ccyooInwnKSguKj8pXDIvZ2kpO2kmJmkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9ZS5tYXRjaCh0KVswXSxhPWUubWF0Y2gocilbMl07aSYmYSYmbi5wdXNoKHt0eXBlOmk9PT15LlRBRz95LlRZUEU6Zy5UWVBFLHVybDphfSl9KSl9cmV0dXJuIG59LF9wYXJzZUJpZFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbjt0cnl7cj1lLnNlYXRiaWRbMF0uYmlkWzBdfWNhdGNoKGUpe3JldHVybn1pZihyLmV4dCYmci5leHQuZW5jcCluPXIuZXh0LmVuY3A7ZWxzZSBpZihudWxsPT09KG49ci5wcmljZSl8fGlzTmFOKG4pKXJldHVybiB2b2lkIE9iamVjdChvLmxvZ0Vycm9yKSgiSW52YWxpZCBwcmljZSBpbiBiaWQgcmVzcG9uc2UiLGwscik7cmV0dXJue2JpZGRlckNvZGU6dC5iaWRkZXJDb2RlLHJlcXVlc3RJZDp0LmJpZElkLGFkOnIuYWRtLGNwbTpuLHdpZHRoOnIudyxoZWlnaHQ6ci5oLGNyZWF0aXZlSWQ6ci5jcmlkfHwwLHB1YmFwaUlkOmUuaWQsY3VycmVuY3k6ZS5jdXJ8fCJVU0QiLGRlYWxJZDpyLmRlYWxpZCxuZXRSZXZlbnVlOiEwLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOnImJnIuYWRvbWFpbj9yLmFkb21haW46W119LHR0bDp0LnR0bH19LGlzT25lTW9iaWxlQmlkZGVyOkksaXNTZWN1cmVQcm90b2NvbDpmdW5jdGlvbigpe3JldHVybiJodHRwczoiPT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x9fTtPYmplY3Qocy5yZWdpc3RlckJpZGRlcikocSl9fSxbMjc5XSk7CnVwYmpzQ2h1bmsoWzMzM10sezI4OTpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoMjkwKX0sMjkwOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKTt2YXIgYT10KDApLG49dCgxMyksaT10KDMpLHM9dCgxKSxvPXQoMiksZD10KDIzKSxjPXQoMTEpLHA9dC5uKGMpLHU9dCgxMiksbD10Lm4odSksbT10KDIyKSxmPXQoNyk7ZnVuY3Rpb24gYihlKXtyZXR1cm4oYj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHYoKXtyZXR1cm4odj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBhIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsYSkmJihlW2FdPXRbYV0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHkoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGcoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHIpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGcoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09dHx8IlNldCI9PT10KXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkpcmV0dXJuIGcoZSxyKX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gZyhlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLGE9bmV3IEFycmF5KHIpO3Q8cjt0KyspYVt0XT1lW3RdO3JldHVybiBhfXZhciBoPSJhcHBuZXh1cyIsXz0iaHR0cHM6Ly9pYi5hZG54cy5jb20vdXQvdjMvcHJlYmlkIixrPSJodHRwczovL2liLmFkbnhzLXNpbXBsZS5jb20vdXQvdjMvcHJlYmlkIixPPVsiaWQiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwic2tpcHBhYmxlIiwicGxheWJhY2tfbWV0aG9kIiwiZnJhbWV3b3JrcyIsImNvbnRleHQiLCJza2lwb2Zmc2V0Il0saj1bIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJza2lwIiwic2tpcGFmdGVyIiwicGxheWJhY2ttZXRob2QiLCJhcGkiXSxJPVsiYWdlIiwiZXh0ZXJuYWxVaWQiLCJzZWdtZW50cyIsImdlbmRlciIsImRudCIsImxhbmd1YWdlIl0sQT1bImdlbyIsImRldmljZV9pZCJdLHc9WyJlbmFibGVkIiwiZG9uZ2xlIiwibWVtYmVyX2lkIiwiZGVidWdfdGltZW91dCJdLHg9e3BsYXliYWNrX21ldGhvZDp7dW5rbm93bjowLGF1dG9fcGxheV9zb3VuZF9vbjoxLGF1dG9fcGxheV9zb3VuZF9vZmY6MixjbGlja190b19wbGF5OjMsbW91c2Vfb3Zlcjo0LGF1dG9fcGxheV9zb3VuZF91bmtub3duOjV9LGNvbnRleHQ6e3Vua25vd246MCxwcmVfcm9sbDoxLG1pZF9yb2xsOjIscG9zdF9yb2xsOjMsb3V0c3RyZWFtOjQsImluLWJhbm5lciI6NX19LEM9e2JvZHk6ImRlc2NyaXB0aW9uIixib2R5MjoiZGVzYzIiLGN0YToiY3RhdGV4dCIsaW1hZ2U6e3NlcnZlck5hbWU6Im1haW5faW1hZ2UiLHJlcXVpcmVkUGFyYW1zOntyZXF1aXJlZDohMH19LGljb246e3NlcnZlck5hbWU6Imljb24iLHJlcXVpcmVkUGFyYW1zOntyZXF1aXJlZDohMH19LHNwb25zb3JlZEJ5OiJzcG9uc29yZWRfYnkiLHByaXZhY3lMaW5rOiJwcml2YWN5X2xpbmsiLHNhbGVQcmljZToic2FsZXByaWNlIixkaXNwbGF5VXJsOiJkaXNwbGF5dXJsIn0sUz0vXC9cL2NkblwuYWRueHNcLmNvbVwvdnxcL1wvY2RuXC5hZG54c1wtc2ltcGxlXC5jb21cL3YvLFQ9T2JqZWN0KGYuYikoMzIsaCksRT17Y29kZTpoLGd2bGlkOjMyLGFsaWFzZXM6W3tjb2RlOiJhcHBuZXh1c0FzdCIsZ3ZsaWQ6MzJ9LHtjb2RlOiJicmVhbHRpbWUifSx7Y29kZToiZW14ZGlnaXRhbCIsZ3ZsaWQ6MTgzfSx7Y29kZToicGFnZXNjaWVuY2UifSx7Y29kZToiZGVmeW1lZGlhIn0se2NvZGU6ImdvdXJtZXRhZHMifSx7Y29kZToibWF0b215In0se2NvZGU6ImZlYXR1cmVmb3J3YXJkIn0se2NvZGU6Im9mdG1lZGlhIn0se2NvZGU6ImRpc3RyaWN0bSIsZ3ZsaWQ6MTQ0fSx7Y29kZToiYWRhc3RhIn0se2NvZGU6ImJlaW50b28iLGd2bGlkOjYxOH0se2NvZGU6InRhcmdldFZpZGVvIn1dLHN1cHBvcnRlZE1lZGlhVHlwZXM6W28uYixvLmQsby5jXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlLnBhcmFtcy5wbGFjZW1lbnRJZHx8ZS5wYXJhbXMubWVtYmVyJiZlLnBhcmFtcy5pbnZDb2RlKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PWUubWFwKHEpLG49cCgpKGUsTSkscz17fTshMD09PWkuYi5nZXRDb25maWcoImNvcHBhIikmJihzPXtjb3BwYTohMH0pLG4mJk9iamVjdC5rZXlzKG4ucGFyYW1zLnVzZXIpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShJLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdChhLmNvbnZlcnRDYW1lbFRvVW5kZXJzY29yZSkoZSk7aWYoInNlZ21lbnRzIj09PWUmJk9iamVjdChhLmlzQXJyYXkpKG4ucGFyYW1zLnVzZXJbZV0pKXt2YXIgdD1bXTtuLnBhcmFtcy51c2VyW2VdLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChhLmlzTnVtYmVyKShlKT90LnB1c2goe2lkOmV9KTpPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlKSYmdC5wdXNoKGUpfSkpLHNbcl09dH1lbHNlInNlZ21lbnRzIiE9PWUmJihzW3JdPW4ucGFyYW1zLnVzZXJbZV0pfSkpO3ZhciBvLGQ9cCgpKGUsQik7ZCYmZC5wYXJhbXMmJmQucGFyYW1zLmFwcCYmKG89e30sT2JqZWN0LmtleXMoZC5wYXJhbXMuYXBwKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkoQSxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gb1tlXT1kLnBhcmFtcy5hcHBbZV19KSkpO3ZhciBjLHU9cCgpKGUsVik7dSYmdS5wYXJhbXMmJmQucGFyYW1zLmFwcCYmZC5wYXJhbXMuYXBwLmlkJiYoYz17YXBwaWQ6dS5wYXJhbXMuYXBwLmlkfSk7dmFyIG09e30sZj17fSxiPVQuZ2V0Q29va2llKCJhcG5fcHJlYmlkX2RlYnVnIil8fG51bGw7aWYoYil0cnl7bT1KU09OLnBhcnNlKGIpfWNhdGNoKGUpe09iamVjdChhLmxvZ0Vycm9yKSgiQXBwTmV4dXMgRGVidWcgQXVjdGlvbiBDb29raWUgRXJyb3I6XG5cbiIrZSl9ZWxzZXt2YXIgdj1wKCkoZSxGKTt2JiZ2LmRlYnVnJiYobT12LmRlYnVnKX1tJiZtLmVuYWJsZWQmJk9iamVjdC5rZXlzKG0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKSh3LGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2ZbZV09bVtlXX0pKTt2YXIgZz1wKCkoZSxEKSxoPWc/cGFyc2VJbnQoZy5wYXJhbXMubWVtYmVyLDEwKTowLE89ZVswXS5zY2hhaW4saj1wKCkoZSxXKSx4PXt0YWdzOnkodCksdXNlcjpzLHNkazp7c291cmNlOiJwYmpzIix2ZXJzaW9uOiI1LjIwLjIifSxzY2hhaW46T307aWYoaiYmKHguaWFiX3N1cHBvcnQ9e29taWRwbjoiQXBwbmV4dXMiLG9taWRwdjoiNS4yMC4yIn0pLGg+MCYmKHgubWVtYmVyX2lkPWgpLGQmJih4LmRldmljZT1vKSx1JiYoeC5hcHA9YyksaS5iLmdldENvbmZpZygiYWRwb2QuYnJhbmRDYXRlZ29yeUV4Y2x1c2lvbiIpJiYoeC5icmFuZF9jYXRlZ29yeV91bmlxdWVuZXNzPSEwKSxmLmVuYWJsZWQmJih4LmRlYnVnPWYsT2JqZWN0KGEubG9nSW5mbykoIkFwcE5leHVzIERlYnVnIEF1Y3Rpb24gU2V0dGluZ3M6XG5cbiIrSlNPTi5zdHJpbmdpZnkoZixudWxsLDQpKSksciYmci5nZHByQ29uc2VudCYmKHguZ2Rwcl9jb25zZW50PXtjb25zZW50X3N0cmluZzpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsY29uc2VudF9yZXF1aXJlZDpyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSxyLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCYmLTEhPT1yLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudC5pbmRleE9mKCJ+IikpKXt2YXIgQz1yLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCxTPUMuc3Vic3RyaW5nKEMuaW5kZXhPZigifiIpKzEpO3guZ2Rwcl9jb25zZW50LmFkZHRsX2NvbnNlbnQ9Uy5zcGxpdCgiLiIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTApfSkpfWlmKHImJnIudXNwQ29uc2VudCYmKHgudXNfcHJpdmFjeT1yLnVzcENvbnNlbnQpLHImJnIucmVmZXJlckluZm8pe3ZhciBFPXtyZF9yZWY6ZW5jb2RlVVJJQ29tcG9uZW50KHIucmVmZXJlckluZm8ucmVmZXJlcikscmRfdG9wOnIucmVmZXJlckluZm8ucmVhY2hlZFRvcCxyZF9pZnM6ci5yZWZlcmVySW5mby5udW1JZnJhbWVzLHJkX3N0azpyLnJlZmVyZXJJbmZvLnN0YWNrLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKX0pKS5qb2luKCIsIil9O3gucmVmZXJyZXJfZGV0ZWN0aW9uPUV9aWYocCgpKGUsSikmJmUuZmlsdGVyKEopLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUscil7dmFyIHQ9ci5tZWRpYVR5cGVzLnZpZGVvLG49dC5kdXJhdGlvblJhbmdlU2VjLGk9dC5yZXF1aXJlRXhhY3REdXJhdGlvbixzPWZ1bmN0aW9uKGUpe3ZhciByPWUuYWRQb2REdXJhdGlvblNlYyx0PWUuZHVyYXRpb25SYW5nZVNlYyxuPWUucmVxdWlyZUV4YWN0RHVyYXRpb24saT1PYmplY3QoYS5nZXRNaW5WYWx1ZUZyb21BcnJheSkodCkscz1NYXRoLmZsb29yKHIvaSk7cmV0dXJuIG4/TWF0aC5tYXgocyx0Lmxlbmd0aCk6c30oci5tZWRpYVR5cGVzLnZpZGVvKSxvPU9iamVjdChhLmdldE1heFZhbHVlRnJvbUFycmF5KShuKSxkPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS51dWlkPT09ci5iaWRJZH0pKSxjPWEuZmlsbC5hcHBseSh2b2lkIDAseShkKS5jb25jYXQoW3NdKSk7aWYoaSl7dmFyIHA9TWF0aC5jZWlsKHMvbi5sZW5ndGgpLHU9T2JqZWN0KGEuY2h1bmspKGMscCk7bi5mb3JFYWNoKChmdW5jdGlvbihlLHIpe3Vbcl0ubWFwKChmdW5jdGlvbihyKXtIKHIsIm1pbmR1cmF0aW9uIixlKSxIKHIsIm1heGR1cmF0aW9uIixlKX0pKX0pKX1lbHNlIGMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gSChlLCJtYXhkdXJhdGlvbiIsbyl9KSk7cmV0dXJuIGN9KHQsZSksbj14LnRhZ3MuZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gci51dWlkIT09ZS5iaWRJZH0pKTt4LnRhZ3M9W10uY29uY2F0KHkobikseShyKSl9KSksZVswXS51c2VySWQpe3ZhciBSPVtdO0soUixPYmplY3QoYS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQuZmxvY0lkLmlkIiksImNocm9tZS5jb20iLG51bGwpLEsoUixPYmplY3QoYS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQuY3JpdGVvSWQiKSwiY3JpdGVvLmNvbSIsbnVsbCksSyhSLE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5uZXRJZCIpLCJuZXRpZC5kZSIsbnVsbCksSyhSLE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5pZGxfZW52IiksImxpdmVyYW1wLmNvbSIsbnVsbCksSyhSLE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC50ZGlkIiksImFkc2VydmVyLm9yZyIsIlRESUQiKSxLKFIsT2JqZWN0KGEuZGVlcEFjY2VzcykoZVswXSwidXNlcklkLnVpZDIuaWQiKSwidWlkYXBpLmNvbSIsIlVJRDIiKSxSLmxlbmd0aCYmKHguZWlkcz1SKX1yZXR1cm4gdFswXS5wdWJsaXNoZXJfaWQmJih4LnB1Ymxpc2hlcl9pZD10WzBdLnB1Ymxpc2hlcl9pZCksZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxuPXt3aXRoQ3JlZGVudGlhbHM6ITB9LHM9XztOKHIpfHwocz1rKTsiVFJVRSIhPT1PYmplY3QoYS5nZXRQYXJhbWV0ZXJCeU5hbWUpKCJhcG5fdGVzdCIpLnRvVXBwZXJDYXNlKCkmJiEwIT09aS5iLmdldENvbmZpZygiYXBuX3Rlc3QiKXx8KG4uY3VzdG9tSGVhZGVycz17IlgtSXMtVGVzdCI6MX0pO2lmKGUudGFncy5sZW5ndGg+MTUpe3ZhciBvPU9iamVjdChhLmRlZXBDbG9uZSkoZSk7T2JqZWN0KGEuY2h1bmspKGUudGFncywxNSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7by50YWdzPWU7dmFyIGE9SlNPTi5zdHJpbmdpZnkobyk7dC5wdXNoKHttZXRob2Q6IlBPU1QiLHVybDpzLGRhdGE6YSxiaWRkZXJSZXF1ZXN0OnIsb3B0aW9uczpufSl9KSl9ZWxzZXt2YXIgZD1KU09OLnN0cmluZ2lmeShlKTt0PXttZXRob2Q6IlBPU1QiLHVybDpzLGRhdGE6ZCxiaWRkZXJSZXF1ZXN0OnIsb3B0aW9uczpufX1yZXR1cm4gdH0oeCxyKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD10aGlzLGk9ci5iaWRkZXJSZXF1ZXN0O2U9ZS5ib2R5O3ZhciBkPVtdO2lmKCFlfHxlLmVycm9yKXt2YXIgYz0iaW4gcmVzcG9uc2UgZm9yICIuY29uY2F0KGkuYmlkZGVyQ29kZSwiIGFkYXB0ZXIiKTtyZXR1cm4gZSYmZS5lcnJvciYmKGMrPSI6ICIuY29uY2F0KGUuZXJyb3IpKSxPYmplY3QoYS5sb2dFcnJvcikoYyksZH1pZihlLnRhZ3MmJmUudGFncy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcixjPShyPWUpJiZyLmFkcyYmci5hZHMubGVuZ3RoJiZwKCkoci5hZHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJ0Yn0pKTtpZihjJiYwIT09Yy5jcG0mJmwoKSh0LnN1cHBvcnRlZE1lZGlhVHlwZXMsYy5hZF90eXBlKSl7dmFyIHU9ZnVuY3Rpb24oZSxyLHQpe3ZhciBpPU9iamVjdChhLmdldEJpZFJlcXVlc3QpKGUudXVpZCxbdF0pLGQ9e3JlcXVlc3RJZDplLnV1aWQsY3BtOnIuY3BtLGNyZWF0aXZlSWQ6ci5jcmVhdGl2ZV9pZCxkZWFsSWQ6ci5kZWFsX2lkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjMwMCxhZFVuaXRDb2RlOmkuYWRVbml0Q29kZSxhcHBuZXh1czp7YnV5ZXJNZW1iZXJJZDpyLmJ1eWVyX21lbWJlcl9pZCxkZWFsUHJpb3JpdHk6ci5kZWFsX3ByaW9yaXR5LGRlYWxDb2RlOnIuZGVhbF9jb2RlfX07ci5hZG9tYWluJiYoZC5tZXRhPXYoe30sZC5tZXRhLHthZHZlcnRpc2VyRG9tYWluczpbXX0pKTtyLmFkdmVydGlzZXJfaWQmJihkLm1ldGE9dih7fSxkLm1ldGEse2FkdmVydGlzZXJJZDpyLmFkdmVydGlzZXJfaWR9KSk7ci5icmFuZF9pZCYmKGQubWV0YT12KHt9LGQubWV0YSx7YnJhbmRJZDpyLmJyYW5kX2lkfSkpO2lmKHIucnRiLnZpZGVvKXtzd2l0Y2godihkLHt3aWR0aDpyLnJ0Yi52aWRlby5wbGF5ZXJfd2lkdGgsaGVpZ2h0OnIucnRiLnZpZGVvLnBsYXllcl9oZWlnaHQsdmFzdEltcFVybDpyLm5vdGlmeV91cmwsdHRsOjM2MDB9KSxPYmplY3QoYS5kZWVwQWNjZXNzKShpLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSl7Y2FzZSBvLmE6dmFyIGM9T2JqZWN0KHMuZ2V0SWFiU3ViQ2F0ZWdvcnkpKGkuYmlkZGVyLHIuYnJhbmRfY2F0ZWdvcnlfaWQpO2QubWV0YT12KHt9LGQubWV0YSx7cHJpbWFyeUNhdElkOmN9KTt2YXIgdT1yLmRlYWxfcHJpb3JpdHk7ZC52aWRlbz17Y29udGV4dDpvLmEsZHVyYXRpb25TZWNvbmRzOk1hdGguZmxvb3Ioci5ydGIudmlkZW8uZHVyYXRpb25fbXMvMWUzKSxkZWFsVGllcjp1fSxkLnZhc3RVcmw9ci5ydGIudmlkZW8uYXNzZXRfdXJsO2JyZWFrO2Nhc2UgbS5iOmlmKGQuYWRSZXNwb25zZT1lLGQuYWRSZXNwb25zZS5hZD1kLmFkUmVzcG9uc2UuYWRzWzBdLGQuYWRSZXNwb25zZS5hZC52aWRlbz1kLmFkUmVzcG9uc2UuYWQucnRiLnZpZGVvLGQudmFzdFhtbD1yLnJ0Yi52aWRlby5jb250ZW50LHIucmVuZGVyZXJfdXJsKXt2YXIgbD1wKCkodC5iaWRzLChmdW5jdGlvbihyKXtyZXR1cm4gci5iaWRJZD09PWUudXVpZH0pKSxmPU9iamVjdChhLmRlZXBBY2Nlc3MpKGwsInJlbmRlcmVyLm9wdGlvbnMiKTtkLnJlbmRlcmVyPWZ1bmN0aW9uKGUscil7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGk9bi5hLmluc3RhbGwoe2lkOnIucmVuZGVyZXJfaWQsdXJsOnIucmVuZGVyZXJfdXJsLGNvbmZpZzp0LGxvYWRlZDohMSxhZFVuaXRDb2RlOmV9KTt0cnl7aS5zZXRSZW5kZXIoTCl9Y2F0Y2goZSl7T2JqZWN0KGEubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIGkuc2V0RXZlbnRIYW5kbGVycyh7aW1wcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoYS5sb2dNZXNzYWdlKSgiQXBwTmV4dXMgb3V0c3RyZWFtIHZpZGVvIGltcHJlc3Npb24gZXZlbnQiKX0sbG9hZGVkOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChhLmxvZ01lc3NhZ2UpKCJBcHBOZXh1cyBvdXRzdHJlYW0gdmlkZW8gbG9hZGVkIGV2ZW50Iil9LGVuZGVkOmZ1bmN0aW9uKCl7T2JqZWN0KGEubG9nTWVzc2FnZSkoIkFwcE5leHVzIG91dHN0cmVhbSByZW5kZXJlciB2aWRlbyBldmVudCIpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiMiLmNvbmNhdChlKSkuc3R5bGUuZGlzcGxheT0ibm9uZSJ9fSksaX0oZC5hZFVuaXRDb2RlLHIsZil9YnJlYWs7Y2FzZSBtLmE6ZC52YXN0VXJsPXIubm90aWZ5X3VybCsiJnJlZGlyPSIrZW5jb2RlVVJJQ29tcG9uZW50KHIucnRiLnZpZGVvLmFzc2V0X3VybCl9fWVsc2UgaWYoci5ydGJbby5jXSl7dmFyIGI9ci5ydGJbby5jXSx5PXIudmlld2FiaWxpdHkuY29uZmlnLnJlcGxhY2UoInNyYz0iLCJkYXRhLXNyYz0iKSxnPWIuamF2YXNjcmlwdF90cmFja2VycztudWxsPT1nP2c9eTpPYmplY3QoYS5pc1N0cikoZyk/Zz1bZyx5XTpnLnB1c2goeSksZFtvLmNdPXt0aXRsZTpiLnRpdGxlLGJvZHk6Yi5kZXNjLGJvZHkyOmIuZGVzYzIsY3RhOmIuY3RhdGV4dCxyYXRpbmc6Yi5yYXRpbmcsc3BvbnNvcmVkQnk6Yi5zcG9uc29yZWQscHJpdmFjeUxpbms6Yi5wcml2YWN5X2xpbmssYWRkcmVzczpiLmFkZHJlc3MsZG93bmxvYWRzOmIuZG93bmxvYWRzLGxpa2VzOmIubGlrZXMscGhvbmU6Yi5waG9uZSxwcmljZTpiLnByaWNlLHNhbGVQcmljZTpiLnNhbGVwcmljZSxjbGlja1VybDpiLmxpbmsudXJsLGRpc3BsYXlVcmw6Yi5kaXNwbGF5dXJsLGNsaWNrVHJhY2tlcnM6Yi5saW5rLmNsaWNrX3RyYWNrZXJzLGltcHJlc3Npb25UcmFja2VyczpiLmltcHJlc3Npb25fdHJhY2tlcnMsamF2YXNjcmlwdFRyYWNrZXJzOmd9LGIubWFpbl9pbWcmJihkLm5hdGl2ZS5pbWFnZT17dXJsOmIubWFpbl9pbWcudXJsLGhlaWdodDpiLm1haW5faW1nLmhlaWdodCx3aWR0aDpiLm1haW5faW1nLndpZHRofSksYi5pY29uJiYoZC5uYXRpdmUuaWNvbj17dXJsOmIuaWNvbi51cmwsaGVpZ2h0OmIuaWNvbi5oZWlnaHQsd2lkdGg6Yi5pY29uLndpZHRofSl9ZWxzZXt2KGQse3dpZHRoOnIucnRiLmJhbm5lci53aWR0aCxoZWlnaHQ6ci5ydGIuYmFubmVyLmhlaWdodCxhZDpyLnJ0Yi5iYW5uZXIuY29udGVudH0pO3RyeXtpZihyLnJ0Yi50cmFja2Vycylmb3IodmFyIGg9MDtoPHIucnRiLnRyYWNrZXJzWzBdLmltcHJlc3Npb25fdXJscy5sZW5ndGg7aCsrKXt2YXIgXz1yLnJ0Yi50cmFja2Vyc1swXS5pbXByZXNzaW9uX3VybHNbaF0saz1PYmplY3QoYS5jcmVhdGVUcmFja1BpeGVsSHRtbCkoXyk7ZC5hZCs9a319Y2F0Y2goZSl7T2JqZWN0KGEubG9nRXJyb3IpKCJFcnJvciBhcHBlbmRpbmcgdHJhY2tpbmcgcGl4ZWwiLGUpfX1yZXR1cm4gZH0oZSxjLGkpO3UubWVkaWFUeXBlPWZ1bmN0aW9uKGUpe3ZhciByPWUuYWRfdHlwZTtyZXR1cm4gcj09PW8uZD9vLmQ6cj09PW8uYz9vLmM6by5ifShjKSxkLnB1c2godSl9fSkpLGUuZGVidWcmJmUuZGVidWcuZGVidWdfaW5mbyl7dmFyIHU9IkFwcE5leHVzIERlYnVnIEF1Y3Rpb24gZm9yIFByZWJpZFxuXG4iK2UuZGVidWcuZGVidWdfaW5mbzt1PXUucmVwbGFjZSgvKDx0ZD58PHRoPikvZ20sIlx0IikucmVwbGFjZSgvKDxcL3RkPnw8XC90aD4pL2dtLCJcbiIpLnJlcGxhY2UoL148YnI+L2dtLCIiKS5yZXBsYWNlKC8oPGJyPlxufDxicj4pL2dtLCJcbiIpLnJlcGxhY2UoLzxoMT4oLiopPFwvaDE+L2dtLCJcblxuPT09PT0gJDEgPT09PT1cblxuIikucmVwbGFjZSgvPGhbMi02XT4oLiopPFwvaFsyLTZdPi9nbSwiXG5cbioqKiAkMSAqKipcblxuIikucmVwbGFjZSgvKDwoW14+XSspPikvZ2ltLCIiKSxPYmplY3QoYS5sb2dNZXNzYWdlKSgiaHR0cHM6Ly9jb25zb2xlLmFwcG5leHVzLmNvbS9kb2NzL3VuZGVyc3RhbmRpbmctdGhlLWRlYnVnLWF1Y3Rpb24iKSxPYmplY3QoYS5sb2dNZXNzYWdlKSh1KX1yZXR1cm4gZH0sZ2V0TWFwcGluZ0ZpbGVJbmZvOmZ1bmN0aW9uKCl7cmV0dXJue3VybDoiaHR0cHM6Ly9hY2RuLmFkbnhzLXNpbXBsZS5jb20vcHJlYmlkL2FwcG5leHVzLW1hcHBpbmcvbWFwcGluZ3MuanNvbiIscmVmcmVzaEluRGF5czoyfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0KXtpZihlLmlmcmFtZUVuYWJsZWQmJk4oe2dkcHJDb25zZW50OnR9KSlyZXR1cm5be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2FjZG4uYWRueHMuY29tL2RtcC9hc3luY191c2Vyc3luYy5odG1sIn1dfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZT1PYmplY3QoYS5jb252ZXJ0VHlwZXMpKHttZW1iZXI6InN0cmluZyIsaW52Q29kZToic3RyaW5nIixwbGFjZW1lbnRJZDoibnVtYmVyIixrZXl3b3JkczphLnRyYW5zZm9ybUJpZGRlclBhcmFtS2V5d29yZHMscHVibGlzaGVySWQ6Im51bWJlciJ9LGUpLHImJihlLnVzZV9wbXRfcnVsZT0iYm9vbGVhbiI9PXR5cGVvZiBlLnVzZVBheW1lbnRSdWxlJiZlLnVzZVBheW1lbnRSdWxlLGUudXNlUGF5bWVudFJ1bGUmJmRlbGV0ZSBlLnVzZVBheW1lbnRSdWxlLFIoZS5rZXl3b3JkcykmJmUua2V5d29yZHMuZm9yRWFjaChQKSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihyKXt2YXIgdD1PYmplY3QoYS5jb252ZXJ0Q2FtZWxUb1VuZGVyc2NvcmUpKHIpO3QhPT1yJiYoZVt0XT1lW3JdLGRlbGV0ZSBlW3JdKX0pKSksZX0sb25CaWRXb246ZnVuY3Rpb24oZSl7ZS5uYXRpdmUmJmZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUpe3ZhciByO2lmKE9iamVjdChhLmlzU3RyKShlKSYmVShlKSlyPWU7ZWxzZSBpZihPYmplY3QoYS5pc0FycmF5KShlKSlmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XTtVKG4pJiYocj1uKX1yZXR1cm4gcn0oZS5uYXRpdmUuamF2YXNjcmlwdFRyYWNrZXJzKTtpZihyKWZvcih2YXIgdD0icGJqc19hZGlkPSIrZS5hZElkKyI7cGJqc19hdWM9IitlLmFkVW5pdENvZGUsbj1mdW5jdGlvbihlKXt2YXIgcj1lLmluZGV4T2YoJ3NyYz0iJykrNSx0PWUuaW5kZXhPZignIicscik7cmV0dXJuIGUuc3Vic3RyaW5nKHIsdCl9KHIpLGk9bi5yZXBsYWNlKCJkb21faWQ9JW5hdGl2ZV9kb21faWQlIix0KSxzPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpZnJhbWUiKSxvPSExLGQ9MDtkPHMubGVuZ3RoJiYhbztkKyspe3ZhciBjPXNbZF07dHJ5e3ZhciBwPWMuY29udGVudERvY3VtZW50fHxjLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7aWYocClmb3IodmFyIHU9cC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IiksbD0wO2w8dS5sZW5ndGgmJiFvO2wrKyl7dmFyIG09dVtsXTttLmdldEF0dHJpYnV0ZSgiZGF0YS1zcmMiKT09biYmKG0uc2V0QXR0cmlidXRlKCJzcmMiLGkpLG0uc2V0QXR0cmlidXRlKCJkYXRhLXNyYyIsIiIpLG0ucmVtb3ZlQXR0cmlidXRlJiZtLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1zcmMiKSxvPSEwKX19Y2F0Y2goZSl7aWYoIShlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiYiU2VjdXJpdHlFcnJvciI9PT1lLm5hbWUpKXRocm93IGV9fX0oZSl9fTtmdW5jdGlvbiBSKGUpe3JldHVybiEhKE9iamVjdChhLmlzQXJyYXkpKGUpJiZlLmxlbmd0aD4wKX1mdW5jdGlvbiBQKGUpe1IoZS52YWx1ZSkmJiIiPT09ZS52YWx1ZVswXSYmZGVsZXRlIGUudmFsdWV9ZnVuY3Rpb24gVShlKXt2YXIgcj1lLm1hdGNoKFMpLHQ9bnVsbCE9ciYmci5sZW5ndGg+PTEsYT1lLm1hdGNoKCJ0cmsuanMiKSxuPW51bGwhPWEmJmEubGVuZ3RoPj0xO3JldHVybiBlLnN0YXJ0c1dpdGgoIjxzY3JpcHQiKSYmbiYmdH1mdW5jdGlvbiBOKGUpe3ZhciByPSEwO3JldHVybiBlJiZlLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYyPT09ZS5nZHByQ29uc2VudC5hcGlWZXJzaW9uJiYocj0hKCEwIT09T2JqZWN0KGEuZGVlcEFjY2VzcykoZS5nZHByQ29uc2VudCwidmVuZG9yRGF0YS5wdXJwb3NlLmNvbnNlbnRzLjEiKSkpLHJ9ZnVuY3Rpb24gcShlKXt2YXIgcj17fTtyLnNpemVzPXooZS5zaXplcyksci5wcmltYXJ5X3NpemU9ci5zaXplc1swXSxyLmFkX3R5cGVzPVtdLHIudXVpZD1lLmJpZElkLGUucGFyYW1zLnBsYWNlbWVudElkP3IuaWQ9cGFyc2VJbnQoZS5wYXJhbXMucGxhY2VtZW50SWQsMTApOnIuY29kZT1lLnBhcmFtcy5pbnZDb2RlLHIuYWxsb3dfc21hbGxlcl9zaXplcz1lLnBhcmFtcy5hbGxvd1NtYWxsZXJTaXplc3x8ITEsci51c2VfcG10X3J1bGU9ZS5wYXJhbXMudXNlUGF5bWVudFJ1bGV8fCExLHIucHJlYmlkPSEwLHIuZGlzYWJsZV9wc2E9ITA7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoIU9iamVjdChhLmlzRm4pKGUuZ2V0Rmxvb3IpKXJldHVybiBlLnBhcmFtcy5yZXNlcnZlP2UucGFyYW1zLnJlc2VydmU6bnVsbDt2YXIgcj1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7aWYoT2JqZWN0KGEuaXNQbGFpbk9iamVjdCkocikmJiFpc05hTihyLmZsb29yKSYmIlVTRCI9PT1yLmN1cnJlbmN5KXJldHVybiByLmZsb29yO3JldHVybiBudWxsfShlKTtpZih0JiYoci5yZXNlcnZlPXQpLGUucGFyYW1zLnBvc2l0aW9uJiYoci5wb3NpdGlvbj17YWJvdmU6MSxiZWxvdzoyfVtlLnBhcmFtcy5wb3NpdGlvbl18fDApLGUucGFyYW1zLnRyYWZmaWNTb3VyY2VDb2RlJiYoci50cmFmZmljX3NvdXJjZV9jb2RlPWUucGFyYW1zLnRyYWZmaWNTb3VyY2VDb2RlKSxlLnBhcmFtcy5wcml2YXRlU2l6ZXMmJihyLnByaXZhdGVfc2l6ZXM9eihlLnBhcmFtcy5wcml2YXRlU2l6ZXMpKSxlLnBhcmFtcy5zdXBwbHlUeXBlJiYoci5zdXBwbHlfdHlwZT1lLnBhcmFtcy5zdXBwbHlUeXBlKSxlLnBhcmFtcy5wdWJDbGljayYmKHIucHViY2xpY2s9ZS5wYXJhbXMucHViQ2xpY2spLGUucGFyYW1zLmV4dEludkNvZGUmJihyLmV4dF9pbnZfY29kZT1lLnBhcmFtcy5leHRJbnZDb2RlKSxlLnBhcmFtcy5wdWJsaXNoZXJJZCYmKHIucHVibGlzaGVyX2lkPXBhcnNlSW50KGUucGFyYW1zLnB1Ymxpc2hlcklkLDEwKSksZS5wYXJhbXMuZXh0ZXJuYWxJbXBJZCYmKHIuZXh0ZXJuYWxfaW1wX2lkPWUucGFyYW1zLmV4dGVybmFsSW1wSWQpLCFPYmplY3QoYS5pc0VtcHR5KShlLnBhcmFtcy5rZXl3b3Jkcykpe3ZhciBuPU9iamVjdChhLnRyYW5zZm9ybUJpZGRlclBhcmFtS2V5d29yZHMpKGUucGFyYW1zLmtleXdvcmRzKTtuLmxlbmd0aD4wJiZuLmZvckVhY2goUCksci5rZXl3b3Jkcz1ufXZhciBpLHMsYz1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpO2lmKGMmJihyLmdwaWQ9YyksKGUubWVkaWFUeXBlPT09by5jfHxPYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KG8uYykpKSYmKHIuYWRfdHlwZXMucHVzaChvLmMpLDA9PT1yLnNpemVzLmxlbmd0aCYmKHIuc2l6ZXM9eihbMSwxXSkpLGUubmF0aXZlUGFyYW1zKSl7dmFyIHU9KGk9ZS5uYXRpdmVQYXJhbXMscz17fSxPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1DW2VdJiZDW2VdLnNlcnZlck5hbWV8fENbZV18fGUsdD1DW2VdJiZDW2VdLnJlcXVpcmVkUGFyYW1zO2lmKHNbcl09dih7fSx0LGlbZV0pLChyPT09Qy5pbWFnZS5zZXJ2ZXJOYW1lfHxyPT09Qy5pY29uLnNlcnZlck5hbWUpJiZzW3JdLnNpemVzKXt2YXIgbj1zW3JdLnNpemVzOyhPYmplY3QoYS5pc0FycmF5T2ZOdW1zKShuKXx8T2JqZWN0KGEuaXNBcnJheSkobikmJm4ubGVuZ3RoPjAmJm4uZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0FycmF5T2ZOdW1zKShlKX0pKSkmJihzW3JdLnNpemVzPXooc1tyXS5zaXplcykpfXI9PT1DLnByaXZhY3lMaW5rJiYocy5wcml2YWN5X3N1cHBvcnRlZD0hMCl9KSkscyk7cltvLmNdPXtsYXlvdXRzOlt1XX19dmFyIG09T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChvLmQpKSxmPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpO3IuaGJfc291cmNlPW0mJiJhZHBvZCI9PT1mPzc6MSwoZS5tZWRpYVR5cGU9PT1vLmR8fG0pJiZyLmFkX3R5cGVzLnB1c2goby5kKSwoZS5tZWRpYVR5cGU9PT1vLmR8fG0mJiJvdXRzdHJlYW0iIT09ZikmJihyLnJlcXVpcmVfYXNzZXRfdXJsPSEwKSxlLnBhcmFtcy52aWRlbyYmKHIudmlkZW89e30sT2JqZWN0LmtleXMoZS5wYXJhbXMudmlkZW8pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShPLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlImNvbnRleHQiOmNhc2UicGxheWJhY2tfbWV0aG9kIjp2YXIgbj1lLnBhcmFtcy52aWRlb1t0XTtuPU9iamVjdChhLmlzQXJyYXkpKG4pP25bMF06bixyLnZpZGVvW3RdPXhbdF1bbl07YnJlYWs7Y2FzZSJmcmFtZXdvcmtzIjpicmVhaztkZWZhdWx0OnIudmlkZW9bdF09ZS5wYXJhbXMudmlkZW9bdF19fSkpLGUucGFyYW1zLnZpZGVvLmZyYW1ld29ya3MmJk9iamVjdChhLmlzQXJyYXkpKGUucGFyYW1zLnZpZGVvLmZyYW1ld29ya3MpJiYoci52aWRlb19mcmFtZXdvcmtzPWUucGFyYW1zLnZpZGVvLmZyYW1ld29ya3MpKSxtJiYoci52aWRlbz1yLnZpZGVvfHx7fSxPYmplY3Qua2V5cyhtKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkoaixlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSJtaW5kdXJhdGlvbiI6Y2FzZSJtYXhkdXJhdGlvbiI6Im51bWJlciIhPXR5cGVvZiByLnZpZGVvW2VdJiYoci52aWRlb1tlXT1tW2VdKTticmVhaztjYXNlInNraXAiOiJib29sZWFuIiE9dHlwZW9mIHIudmlkZW8uc2tpcHBhYmxlJiYoci52aWRlby5za2lwcGFibGU9MT09PW1bZV0pO2JyZWFrO2Nhc2Uic2tpcGFmdGVyIjoibnVtYmVyIiE9dHlwZW9mIHIudmlkZW8uc2tpcG9mZnNldCYmKHIudmlkZW8uc2tpcHBvZmZzZXQ9bVtlXSk7YnJlYWs7Y2FzZSJwbGF5YmFja21ldGhvZCI6aWYoIm51bWJlciIhPXR5cGVvZiByLnZpZGVvLnBsYXliYWNrX21ldGhvZCl7dmFyIHQ9bVtlXTsodD1PYmplY3QoYS5pc0FycmF5KSh0KT90WzBdOnQpPj0xJiZ0PD00JiYoci52aWRlby5wbGF5YmFja19tZXRob2Q9dCl9YnJlYWs7Y2FzZSJhcGkiOmlmKCFyLnZpZGVvX2ZyYW1ld29ya3MmJk9iamVjdChhLmlzQXJyYXkpKG1bZV0pKXt2YXIgbj1tW2VdLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ND09PWU/NTo1PT09ZT80OmU7aWYocj49MSYmcjw9NSlyZXR1cm4gcn0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpO3IudmlkZW9fZnJhbWV3b3Jrcz1ufX19KSkpLGUucmVuZGVyZXImJihyLnZpZGVvPXYoe30sci52aWRlbyx7Y3VzdG9tX3JlbmRlcmVyX3ByZXNlbnQ6ITB9KSksZS5wYXJhbXMuZnJhbWV3b3JrcyYmT2JqZWN0KGEuaXNBcnJheSkoZS5wYXJhbXMuZnJhbWV3b3JrcykmJihyLmJhbm5lcl9mcmFtZXdvcmtzPWUucGFyYW1zLmZyYW1ld29ya3MpO3ZhciBiPXAoKShkLmEuZ2V0QWRVbml0cygpLChmdW5jdGlvbihyKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkPT09ci50cmFuc2FjdGlvbklkfSkpO3JldHVybiBiJiZiLm1lZGlhVHlwZXMmJmIubWVkaWFUeXBlcy5iYW5uZXImJnIuYWRfdHlwZXMucHVzaChvLmIpLDA9PT1yLmFkX3R5cGVzLmxlbmd0aCYmZGVsZXRlIHIuYWRfdHlwZXMscn1mdW5jdGlvbiB6KGUpe3ZhciByPVtdLHQ9e307aWYoT2JqZWN0KGEuaXNBcnJheSkoZSkmJjI9PT1lLmxlbmd0aCYmIU9iamVjdChhLmlzQXJyYXkpKGVbMF0pKXQud2lkdGg9cGFyc2VJbnQoZVswXSwxMCksdC5oZWlnaHQ9cGFyc2VJbnQoZVsxXSwxMCksci5wdXNoKHQpO2Vsc2UgaWYoIm9iamVjdCI9PT1iKGUpKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dOyh0PXt9KS53aWR0aD1wYXJzZUludChpWzBdLDEwKSx0LmhlaWdodD1wYXJzZUludChpWzFdLDEwKSxyLnB1c2godCl9cmV0dXJuIHJ9ZnVuY3Rpb24gTShlKXtyZXR1cm4hIWUucGFyYW1zLnVzZXJ9ZnVuY3Rpb24gRChlKXtyZXR1cm4hIXBhcnNlSW50KGUucGFyYW1zLm1lbWJlciwxMCl9ZnVuY3Rpb24gQihlKXtpZihlLnBhcmFtcylyZXR1cm4hIWUucGFyYW1zLmFwcH1mdW5jdGlvbiBWKGUpe3JldHVybiBlLnBhcmFtcyYmZS5wYXJhbXMuYXBwPyEhZS5wYXJhbXMuYXBwLmlkOiEhZS5wYXJhbXMuYXBwfWZ1bmN0aW9uIEYoZSl7cmV0dXJuISFlLmRlYnVnfWZ1bmN0aW9uIEooZSl7cmV0dXJuIGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvJiZlLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dD09PW8uYX1mdW5jdGlvbiBXKGUpe3ZhciByPSExLHQ9ZS5wYXJhbXMsbj1lLnBhcmFtcy52aWRlbztyZXR1cm4gdC5mcmFtZXdvcmtzJiZPYmplY3QoYS5pc0FycmF5KSh0LmZyYW1ld29ya3MpJiYocj1sKCkoZS5wYXJhbXMuZnJhbWV3b3Jrcyw2KSksIXImJm4mJm4uZnJhbWV3b3JrcyYmT2JqZWN0KGEuaXNBcnJheSkobi5mcmFtZXdvcmtzKSYmKHI9bCgpKGUucGFyYW1zLnZpZGVvLmZyYW1ld29ya3MsNikpLHJ9ZnVuY3Rpb24gSChlLHIsdCl7T2JqZWN0KGEuaXNFbXB0eSkoZS52aWRlbykmJihlLnZpZGVvPXt9KSxlLnZpZGVvW3JdPXR9ZnVuY3Rpb24gTChlKXt2YXIgcix0O3I9ZS5hZFVuaXRDb2RlLCh0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHIpLnF1ZXJ5U2VsZWN0b3JBbGwoImRpdltpZF49J2dvb2dsZV9hZHMnXSIpKVswXSYmdFswXS5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsIm5vbmUiKSxmdW5jdGlvbihlKXt0cnl7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkucXVlcnlTZWxlY3RvckFsbCgic2NyaXB0W2lkXj0nc2FzX3NjcmlwdCddIik7clswXS5uZXh0U2libGluZyYmImlmcmFtZSI9PT1yWzBdLm5leHRTaWJsaW5nLmxvY2FsTmFtZSYmclswXS5uZXh0U2libGluZy5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsIm5vbmUiKX1jYXRjaChlKXt9fShlLmFkVW5pdENvZGUpLGUucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cuQU5PdXRzdHJlYW1WaWRlby5yZW5kZXJBZCh7dGFnSWQ6ZS5hZFJlc3BvbnNlLnRhZ19pZCxzaXplczpbZS5nZXRTaXplKCkuc3BsaXQoIngiKV0sdGFyZ2V0SWQ6ZS5hZFVuaXRDb2RlLHV1aWQ6ZS5hZFJlc3BvbnNlLnV1aWQsYWRSZXNwb25zZTplLmFkUmVzcG9uc2UscmVuZGVyZXJPcHRpb25zOmUucmVuZGVyZXIuZ2V0Q29uZmlnKCl9LCQuYmluZChudWxsLGUpKX0pKX1mdW5jdGlvbiAkKGUscix0KXtlLnJlbmRlcmVyLmhhbmRsZVZpZGVvRXZlbnQoe2lkOnIsZXZlbnROYW1lOnR9KX1mdW5jdGlvbiBLKGUscix0LGEpe3JldHVybiByJiYoYT9lLnB1c2goe3NvdXJjZTp0LGlkOnIscnRpX3BhcnRuZXI6YX0pOmUucHVzaCh7c291cmNlOnQsaWQ6cn0pKSxlfU9iamVjdChzLnJlZ2lzdGVyQmlkZGVyKShFKX19LFsyODldKTsKdXBianNDaHVuayhbMzEzXSx7MzMzOmZ1bmN0aW9uKHQsZSxyKXt0LmV4cG9ydHM9cigzMzQpfSwzMzQ6ZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKGUsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciBpPXIoMCksbj1yKDEpLG89cigyKSxkPXIoMyk7ZnVuY3Rpb24gYSh0KXtyZXR1cm4oYT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0pKHQpfXZhciB1PSJicmlnaHRjb20iLHM9e2NvZGU6dSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltvLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKHQpe2lmKHQuYmlkZGVyIT09dXx8dm9pZCAwPT09dC5wYXJhbXMpcmV0dXJuITE7aWYodm9pZCAwPT09dC5wYXJhbXMucHVibGlzaGVySWQpcmV0dXJuITE7cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24odCxlKXt0cnl7dmFyIHI9IiI7ZSYmZS5yZWZlcmVySW5mbyYmKHI9ZS5yZWZlcmVySW5mby5yZWZlcmVyKTt2YXIgbj1bXSxvPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgicHVibGlzaGVySWQiLHRbMF0ucGFyYW1zKTtPYmplY3QoaS5fZWFjaCkodCwoZnVuY3Rpb24odCl7dmFyIGU9dC5tZWRpYVR5cGVzJiZ0Lm1lZGlhVHlwZXMuYmFubmVyJiZ0Lm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHx0LnNpemVzLHI9KGU9KGU9T2JqZWN0KGkuaXNBcnJheSkoZSkmJk9iamVjdChpLmlzQXJyYXkpKGVbMF0pP2U6W2VdKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoaS5pc0FycmF5KSh0KX0pKSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57dzpwYXJzZUludCh0WzBdLDEwKSxoOnBhcnNlSW50KHRbMV0sMTApfX0pKSxvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQuYWRVbml0Q29kZSksZD1yLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5oKmUudzx0LmgqdC53P2U6dH0pKSxhPWZ1bmN0aW9uKHQpe3JldHVybiFmdW5jdGlvbigpe3RyeXtyZXR1cm4gT2JqZWN0KGkuZ2V0V2luZG93U2VsZikoKSE9PU9iamVjdChpLmdldFdpbmRvd1RvcCkoKX1jYXRjaCh0KXtyZXR1cm4hMH19KCkmJm51bGwhPT10fShvKT9mdW5jdGlvbih0LGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPXIudyxvPXIuaDtyZXR1cm4idmlzaWJsZSI9PT1PYmplY3QoaS5nZXRXaW5kb3dUb3ApKCkuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlP2godCxlLHt3Om4saDpvfSk6MH0obyxPYmplY3QoaS5nZXRXaW5kb3dUb3ApKCksZCk6Im5hIix1PWlzTmFOKGEpP2E6TWF0aC5yb3VuZChhKSxzPXtpZDp0LmJpZElkLGJhbm5lcjp7Zm9ybWF0OnIsZXh0Ont2aWV3YWJpbGl0eTp1fX0sdGFnaWQ6U3RyaW5nKHQuYWRVbml0Q29kZSl9LGM9ZnVuY3Rpb24odCl7aWYoIU9iamVjdChpLmlzRm4pKHQuZ2V0Rmxvb3IpKXJldHVybiB0LnBhcmFtcy5iaWRGbG9vcj90LnBhcmFtcy5iaWRGbG9vcjpudWxsO3ZhciBlPXQuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihPYmplY3QoaS5pc1BsYWluT2JqZWN0KShlKSYmIWlzTmFOKGUuZmxvb3IpJiYiVVNEIj09PWUuY3VycmVuY3kpcmV0dXJuIGUuZmxvb3I7cmV0dXJuIG51bGx9KHQpO2MmJihzLmJpZGZsb29yPWMpLG4ucHVzaChzKX0pKTt2YXIgYT17aWQ6T2JqZWN0KGkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxpbXA6bixzaXRlOntkb21haW46T2JqZWN0KGkucGFyc2VVcmwpKHIpLmhvc3QscGFnZTpyLHB1Ymxpc2hlcjp7aWQ6b319LGRldmljZTp7ZGV2aWNldHlwZTovKGlvc3xpcG9kfGlwYWR8aXBob25lfGFuZHJvaWQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KT8xOi8oc21hcnRbLV0/dHZ8aGJidHZ8YXBwbGV0dnxnb29nbGV0dnxoZG1pfG5ldGNhc3RcLnR2fHZpZXJhfG5ldHR2fHJva3V8XGJkdHZcYnxzb255ZHR2fGluZXR0dmJyb3dzZXJ8XGJ0dlxiKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/MzoyLHc6c2NyZWVuLndpZHRoLGg6c2NyZWVuLmhlaWdodH0sdG1heDpkLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil9O3JldHVybiBlJiZlLmdkcHJDb25zZW50JiYoT2JqZWN0KGkuZGVlcFNldFZhbHVlKShhLCJyZWdzLmV4dC5nZHByIiwrZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyksT2JqZWN0KGkuZGVlcFNldFZhbHVlKShhLCJ1c2VyLmV4dC5jb25zZW50IixlLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vYnJpZ2h0Y29tYmlkLm1hcnBoZXppcy5jb20vaGIiLGRhdGE6SlNPTi5zdHJpbmdpZnkoYSksb3B0aW9uczp7Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMX19fWNhdGNoKHIpe09iamVjdChpLmxvZ0Vycm9yKShyLHtiaWRSZXFzOnQsYmlkZGVyUmVxdWVzdDplfSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbih0KXtpZighdC5ib2R5fHwib2JqZWN0IiE9YSh0LmJvZHkpKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiQnJpZ2h0Y29tIHNlcnZlciByZXR1cm5lZCBlbXB0eS9ub24tanNvbiByZXNwb25zZTogIitKU09OLnN0cmluZ2lmeSh0LmJvZHkpKSxbXTt2YXIgZT10LmJvZHkscj1lLmlkLG49ZS5zZWF0YmlkO3RyeXt2YXIgZD1bXTtyZXR1cm4gciYmbiYmbi5sZW5ndGg+MCYmblswXS5iaWQmJm5bMF0uYmlkLmxlbmd0aD4wJiZuWzBdLmJpZC5tYXAoKGZ1bmN0aW9uKHQpe2QucHVzaCh7cmVxdWVzdElkOnQuaW1waWQsY3BtOnBhcnNlRmxvYXQodC5wcmljZSksd2lkdGg6cGFyc2VJbnQodC53KSxoZWlnaHQ6cGFyc2VJbnQodC5oKSxjcmVhdGl2ZUlkOnQuY3JpZHx8dC5pZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLG1lZGlhVHlwZTpvLmIsYWQ6Yyh0KSx0dGw6NjAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6dCYmdC5hZG9tYWluP3QuYWRvbWFpbjpbXX19KX0pKSxkfWNhdGNoKHQpe09iamVjdChpLmxvZ0Vycm9yKSh0LHtpZDpyLHNlYXRiaWQ6bn0pfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm5bXX19O2Z1bmN0aW9uIGModCl7dmFyIGU9dC5hZG07cmV0dXJuIm51cmwiaW4gdCYmKGUrPU9iamVjdChpLmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKSh0Lm51cmwpKSxlfWZ1bmN0aW9uIGIodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9ZS53LGk9ZS5oLG49dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPW4ud2lkdGgsZD1uLmhlaWdodCxhPW4ubGVmdCx1PW4udG9wLHM9bi5yaWdodCxjPW4uYm90dG9tO3JldHVybigwPT09b3x8MD09PWQpJiZyJiZpJiYobz1yLGQ9aSxzPWErcixjPXUraSkse3dpZHRoOm8saGVpZ2h0OmQsbGVmdDphLHRvcDp1LHJpZ2h0OnMsYm90dG9tOmN9fWZ1bmN0aW9uIHAodCl7Zm9yKHZhciBlPXtsZWZ0OnRbMF0ubGVmdCxyaWdodDp0WzBdLnJpZ2h0LHRvcDp0WzBdLnRvcCxib3R0b206dFswXS5ib3R0b219LHI9MTtyPHQubGVuZ3RoOysrcil7aWYoZS5sZWZ0PU1hdGgubWF4KGUubGVmdCx0W3JdLmxlZnQpLGUucmlnaHQ9TWF0aC5taW4oZS5yaWdodCx0W3JdLnJpZ2h0KSxlLmxlZnQ+PWUucmlnaHQpcmV0dXJuIG51bGw7aWYoZS50b3A9TWF0aC5tYXgoZS50b3AsdFtyXS50b3ApLGUuYm90dG9tPU1hdGgubWluKGUuYm90dG9tLHRbcl0uYm90dG9tKSxlLnRvcD49ZS5ib3R0b20pcmV0dXJuIG51bGx9cmV0dXJuIGUud2lkdGg9ZS5yaWdodC1lLmxlZnQsZS5oZWlnaHQ9ZS5ib3R0b20tZS50b3AsZX1mdW5jdGlvbiBoKHQsZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGk9ci53LG49ci5oLG89Yih0LHt3OmksaDpufSksZD1wKFt7bGVmdDowLHRvcDowLHJpZ2h0OmUuaW5uZXJXaWR0aCxib3R0b206ZS5pbm5lckhlaWdodH0sb10pO3JldHVybiBudWxsIT09ZD9kLndpZHRoKmQuaGVpZ2h0LyhvLndpZHRoKm8uaGVpZ2h0KSoxMDA6MH1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikocyl9fSxbMzMzXSk7CnVwYmpzQ2h1bmsoWzI5N10sezM3NjpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoMzc3KX0sMzc3OmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJhbGxvd0F1Y3Rpb24iLChmdW5jdGlvbigpe3JldHVybiBDfSkpLGUuZCh0LCJ1c2VyQ01QIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxlLmQodCwiY29uc2VudFRpbWVvdXQiLChmdW5jdGlvbigpe3JldHVybiBwfSkpLGUuZCh0LCJnZHByU2NvcGUiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLGUuZCh0LCJzdGF0aWNDb25zZW50RGF0YSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksdC5yZXF1ZXN0Qmlkc0hvb2s9aix0LnJlc2V0Q29uc2VudERhdGE9ZnVuY3Rpb24oKXttPXZvaWQgMCxmPXZvaWQgMCx2PTAsaS5nZHByRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobnVsbCl9LHQuc2V0Q29uc2VudENvbmZpZz1BO3ZhciBvPWUoMCksYT1lKDMpLGk9ZSg4KSxjPWUoMTIpLHI9ZS5uKGMpLHM9ZSg4MyksZD1lLm4ocyk7ZnVuY3Rpb24gbChuKXtyZXR1cm4obD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG59OmZ1bmN0aW9uKG4pe3JldHVybiBuJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZuLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZuIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2Ygbn0pKG4pfWZ1bmN0aW9uIHUobix0LGUpe3JldHVybiB0IGluIG4/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7dmFsdWU6ZSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOm5bdF09ZSxufXZhciBmLHAsZyxiLG0sQz17dmFsdWU6dHJ1ZSxkZWZpbmVkSW5Db25maWc6ITF9LHY9MCx5PSExLHc9e2lhYjpmdW5jdGlvbihuLHQsZSl7ZnVuY3Rpb24gYShhLGkpe09iamVjdChvLmxvZ0luZm8pKCJSZWNlaXZlZCBhIHJlc3BvbnNlIGZyb20gQ01QIixhKSxpPyExIT09YS5nZHByQXBwbGllcyYmInRjbG9hZGVkIiE9PWEuZXZlbnRTdGF0dXMmJiJ1c2VyYWN0aW9uY29tcGxldGUiIT09YS5ldmVudFN0YXR1c3x8bihhLGUpOnQoIkNNUCB1bmFibGUgdG8gcmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb24uICBQbGVhc2UgY2hlY2sgQ01QIHNldHVwLiIsZSl9dmFyIGk9ZnVuY3Rpb24oKXt2YXIgdD17fTtmdW5jdGlvbiBhKCl7dC5nZXRDb25zZW50RGF0YSYmdC5nZXRWZW5kb3JDb25zZW50cyYmKE9iamVjdChvLmxvZ0luZm8pKCJSZWNlaXZlZCBhbGwgcmVxdWVzdGVkIHJlc3BvbnNlcyBmcm9tIENNUCIsdCksbih0LGUpKX1yZXR1cm57Y29uc2VudERhdGFDYWxsYmFjazpmdW5jdGlvbihuKXt0LmdldENvbnNlbnREYXRhPW4sYSgpfSx2ZW5kb3JDb25zZW50c0NhbGxiYWNrOmZ1bmN0aW9uKG4pe3QuZ2V0VmVuZG9yQ29uc2VudHM9bixhKCl9fX0oKSxjPXt9LHI9ZnVuY3Rpb24oKXtmb3IodmFyIG4sdCxlPXdpbmRvdzshbjspe3RyeXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5fX3RjZmFwaXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUuX19jbXApeyJmdW5jdGlvbiI9PXR5cGVvZiBlLl9fdGNmYXBpPyh2PTIsdD1lLl9fdGNmYXBpKToodj0xLHQ9ZS5fX2NtcCksbj1lO2JyZWFrfX1jYXRjaChuKXt9dHJ5e2lmKGUuZnJhbWVzLl9fdGNmYXBpTG9jYXRvcil7dj0yLG49ZTticmVha319Y2F0Y2gobil7fXRyeXtpZihlLmZyYW1lcy5fX2NtcExvY2F0b3Ipe3Y9MSxuPWU7YnJlYWt9fWNhdGNoKG4pe31pZihlPT09d2luZG93LnRvcClicmVhaztlPWUucGFyZW50fXJldHVybntjbXBGcmFtZTpuLGNtcEZ1bmN0aW9uOnR9fSgpLHM9ci5jbXBGcmFtZSxsPXIuY21wRnVuY3Rpb247aWYoIXMpcmV0dXJuIHQoIkNNUCBub3QgZm91bmQuIixlKTtPYmplY3Qoby5pc0ZuKShsKT8oT2JqZWN0KG8ubG9nSW5mbykoIkRldGVjdGVkIENNUCBBUEkgaXMgZGlyZWN0bHkgYWNjZXNzaWJsZSwgY2FsbGluZyBpdCBub3cuLi4iKSwxPT09dj8obCgiZ2V0Q29uc2VudERhdGEiLG51bGwsaS5jb25zZW50RGF0YUNhbGxiYWNrKSxsKCJnZXRWZW5kb3JDb25zZW50cyIsbnVsbCxpLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spKToyPT09diYmbCgiYWRkRXZlbnRMaXN0ZW5lciIsdixhKSk6MT09PXYmJndpbmRvdy4kc2YmJndpbmRvdy4kc2YuZXh0JiYiZnVuY3Rpb24iPT10eXBlb2Ygd2luZG93LiRzZi5leHQuY21wPyhPYmplY3Qoby5sb2dJbmZvKSgiRGV0ZWN0ZWQgUHJlYmlkLmpzIGlzIGVuY2FzZWQgaW4gYSBTYWZlRnJhbWUgYW5kIENNUCBpcyByZWdpc3RlcmVkLCBjYWxsaW5nIGl0IG5vdy4uLiIpLGYoImdldENvbnNlbnREYXRhIixpLmNvbnNlbnREYXRhQ2FsbGJhY2spLGYoImdldFZlbmRvckNvbnNlbnRzIixpLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spKTooT2JqZWN0KG8ubG9nSW5mbykoIkRldGVjdGVkIENNUCBpcyBvdXRzaWRlIHRoZSBjdXJyZW50IGlmcmFtZSB3aGVyZSBQcmViaWQuanMgaXMgbG9jYXRlZCwgY2FsbGluZyBpdCBub3cuLi4iKSwxPT09dj8ocCgiZ2V0Q29uc2VudERhdGEiLHMsaS5jb25zZW50RGF0YUNhbGxiYWNrKSxwKCJnZXRWZW5kb3JDb25zZW50cyIscyxpLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spKToyPT09diYmcCgiYWRkRXZlbnRMaXN0ZW5lciIscyxhKSk7ZnVuY3Rpb24gZihuLHQpe3ZhciBhPWUuYWRVbml0cyxpPTEsYz0xO2lmKEFycmF5LmlzQXJyYXkoYSkmJmEubGVuZ3RoPjApe3ZhciByPU9iamVjdChvLmdldEFkVW5pdFNpemVzKShhWzBdKTtpPXJbMF1bMF0sYz1yWzBdWzFdfXdpbmRvdy4kc2YuZXh0LnJlZ2lzdGVyKGksYywoZnVuY3Rpb24oZSxvKXtpZigiY21wUmV0dXJuIj09PWUpe3ZhciBhPSJnZXRDb25zZW50RGF0YSI9PT1uP28udmVuZG9yQ29uc2VudERhdGE6by52ZW5kb3JDb25zZW50czt0KGEpfX0pKSx3aW5kb3cuJHNmLmV4dC5jbXAobil9ZnVuY3Rpb24gcChuLHQsZSl7dmFyIG89Mj09PXY/Il9fdGNmYXBpIjoiX19jbXAiLGE9IiIuY29uY2F0KG8sIkNhbGwiKTtmdW5jdGlvbiBpKG4pe3ZhciB0PSIiLmNvbmNhdChvLCJSZXR1cm4iKSxlPSJzdHJpbmciPT10eXBlb2Ygbi5kYXRhJiZkKCkobi5kYXRhLHQpP0pTT04ucGFyc2Uobi5kYXRhKTpuLmRhdGE7aWYoZVt0XSYmZVt0XS5jYWxsSWQpe3ZhciBhPWVbdF07dm9pZCAwIT09Y1thLmNhbGxJZF0mJmNbYS5jYWxsSWRdKGEucmV0dXJuVmFsdWUsYS5zdWNjZXNzKX19Mj09PXY/KHdpbmRvd1tvXT1mdW5jdGlvbihuLGUsbyxpKXt2YXIgcj1NYXRoLnJhbmRvbSgpKyIiLHM9dSh7fSxhLHtjb21tYW5kOm4sdmVyc2lvbjplLHBhcmFtZXRlcjppLGNhbGxJZDpyfSk7Y1tyXT1vLHQucG9zdE1lc3NhZ2UocywiKiIpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSwhMSksd2luZG93W29dKG4sdixlKSk6KHdpbmRvd1tvXT1mdW5jdGlvbihuLGUsbyl7dmFyIGk9TWF0aC5yYW5kb20oKSsiIixyPXUoe30sYSx7Y29tbWFuZDpuLHBhcmFtZXRlcjplLGNhbGxJZDppfSk7Y1tpXT1vLHQucG9zdE1lc3NhZ2UociwiKiIpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSwhMSksd2luZG93W29dKG4sdm9pZCAwLGUpKX19LHN0YXRpYzpmdW5jdGlvbihuLHQsZSl7bihiLGUpfX07ZnVuY3Rpb24gaihuLHQpe3ZhciBlPXtjb250ZXh0OnRoaXMsYXJnczpbdF0sbmV4dEZuOm4sYWRVbml0czp0LmFkVW5pdHN8fHVwYmpzLmFkVW5pdHMsYmlkc0JhY2tIYW5kbGVyOnQuYmlkc0JhY2tIYW5kbGVyLGhhdmVFeGl0ZWQ6ITEsdGltZXI6bnVsbH07cmV0dXJuIG0/KE9iamVjdChvLmxvZ0luZm8pKCJVc2VyIGNvbnNlbnQgaW5mb3JtYXRpb24gYWxyZWFkeSBrbm93bi4gIFB1bGxpbmcgaW50ZXJuYWxseSBzdG9yZWQgaW5mb3JtYXRpb24uLi4iKSxoKG51bGwsZSkpOnIoKShPYmplY3Qua2V5cyh3KSxmKT8od1tmXS5jYWxsKHRoaXMsRCxrLGUpLHZvaWQoZS5oYXZlRXhpdGVkfHwoMD09PXA/RCh2b2lkIDAsZSk6ZS50aW1lcj1zZXRUaW1lb3V0KE8uYmluZChudWxsLGUpLHApKSkpOihPYmplY3Qoby5sb2dXYXJuKSgiQ01QIGZyYW1ld29yayAoIi5jb25jYXQoZiwiKSBpcyBub3QgYSBzdXBwb3J0ZWQgZnJhbWV3b3JrLiAgQWJvcnRpbmcgY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGFuZCByZXN1bWluZyBhdWN0aW9uLiIpKSxlLm5leHRGbi5hcHBseShlLmNvbnRleHQsZS5hcmdzKSl9ZnVuY3Rpb24gRChuLHQpeyJzdGF0aWMiPT09ZiYmMj09PSh2PW4uZ2V0Q29uc2VudERhdGE/MTpuLmdldFRDRGF0YT8yOjApJiYobj1uLmdldFRDRGF0YSk7dmFyIGU9MT09PXY/ZnVuY3Rpb24obil7dmFyIHQ9biYmbi5nZXRDb25zZW50RGF0YSYmbi5nZXRDb25zZW50RGF0YS5nZHByQXBwbGllcztyZXR1cm4hKCJib29sZWFuIj09dHlwZW9mIHQmJighMCE9PXR8fE9iamVjdChvLmlzU3RyKShuLmdldENvbnNlbnREYXRhLmNvbnNlbnREYXRhKSYmT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobi5nZXRWZW5kb3JDb25zZW50cykmJk9iamVjdC5rZXlzKG4uZ2V0VmVuZG9yQ29uc2VudHMpLmxlbmd0aD4xKSl9OjI9PT12P2Z1bmN0aW9uKCl7dmFyIHQ9biYmImJvb2xlYW4iPT10eXBlb2Ygbi5nZHByQXBwbGllcz9uLmdkcHJBcHBsaWVzOmcsZT1uJiZuLnRjU3RyaW5nO3JldHVybiEoImJvb2xlYW4iPT10eXBlb2YgdCYmKCEwIT09dHx8T2JqZWN0KG8uaXNTdHIpKGUpKSl9Om51bGw7Qy5kZWZpbmVkSW5Db25maWcmJjI9PT12P09iamVjdChvLmxvZ1dhcm4pKCInYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQnIGlnbm9yZWQgZm9yIFRDRiAyIik6Qy5kZWZpbmVkSW5Db25maWd8fDEhPT12fHxPYmplY3Qoby5sb2dJbmZvKSgiJ2FsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JyB1c2luZyBzeXN0ZW0gZGVmYXVsdDogKCIuY29uY2F0KHRydWUsIikuIikpLE9iamVjdChvLmlzRm4pKGUpP2Uobik/aygiQ01QIHJldHVybmVkIHVuZXhwZWN0ZWQgdmFsdWUgZHVyaW5nIGxvb2t1cCBwcm9jZXNzLiIsdCxuKTooY2xlYXJUaW1lb3V0KHQudGltZXIpLE0obiksaChudWxsLHQpKTprKCJVbmFibGUgdG8gZGVyaXZlIENNUCB2ZXJzaW9uIHRvIHByb2Nlc3MgZGF0YS4gIENvbnNlbnQgb2JqZWN0IGRvZXMgbm90IGNvbmZvcm0gdG8gVENGIHYxIG9yIHYyIHNwZWNzLiIsdCxuKX1mdW5jdGlvbiBPKG4pe2soIkNNUCB3b3JrZmxvdyBleGNlZWRlZCB0aW1lb3V0IHRocmVzaG9sZC4iLG4pfWZ1bmN0aW9uIGsobix0LGUpe2NsZWFyVGltZW91dCh0LnRpbWVyKSxDLnZhbHVlJiYxPT09diYmTSh2b2lkIDApLGgobix0LGUpfWZ1bmN0aW9uIE0obil7MT09PXY/bT17Y29uc2VudFN0cmluZzpuP24uZ2V0Q29uc2VudERhdGEuY29uc2VudERhdGE6dm9pZCAwLHZlbmRvckRhdGE6bj9uLmdldFZlbmRvckNvbnNlbnRzOnZvaWQgMCxnZHByQXBwbGllczpuP24uZ2V0Q29uc2VudERhdGEuZ2RwckFwcGxpZXM6Z306KG09e2NvbnNlbnRTdHJpbmc6bj9uLnRjU3RyaW5nOnZvaWQgMCx2ZW5kb3JEYXRhOm58fHZvaWQgMCxnZHByQXBwbGllczpuJiYiYm9vbGVhbiI9PXR5cGVvZiBuLmdkcHJBcHBsaWVzP24uZ2RwckFwcGxpZXM6Z30sbiYmbi5hZGR0bENvbnNlbnQmJk9iamVjdChvLmlzU3RyKShuLmFkZHRsQ29uc2VudCkmJihtLmFkZHRsQ29uc2VudD1uLmFkZHRsQ29uc2VudCkpLG0uYXBpVmVyc2lvbj12LGkuZ2RwckRhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKG0pfWZ1bmN0aW9uIGgobix0LGUpe2lmKCExPT09dC5oYXZlRXhpdGVkKXt0LmhhdmVFeGl0ZWQ9ITA7dmFyIGE9dC5jb250ZXh0LGk9dC5hcmdzLGM9dC5uZXh0Rm47bj9DLnZhbHVlJiYxPT09dj8oT2JqZWN0KG8ubG9nV2FybikobisiICdhbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCcgYWN0aXZhdGVkLiIsZSksYy5hcHBseShhLGkpKTooT2JqZWN0KG8ubG9nRXJyb3IpKG4rIiBDYW5jZWxpbmcgYXVjdGlvbiBhcyBwZXIgY29uc2VudE1hbmFnZW1lbnQgY29uZmlnLiIsZSksImZ1bmN0aW9uIj09dHlwZW9mIHQuYmlkc0JhY2tIYW5kbGVyP3QuYmlkc0JhY2tIYW5kbGVyKCk6T2JqZWN0KG8ubG9nRXJyb3IpKCJFcnJvciBleGVjdXRpbmcgYmlkc0JhY2tIYW5kbGVyIikpOmMuYXBwbHkoYSxpKX19ZnVuY3Rpb24gQShuKXsobj1uJiYobi5nZHByfHxuLnVzcD9uLmdkcHI6bikpJiYib2JqZWN0Ij09PWwobik/KE9iamVjdChvLmlzU3RyKShuLmNtcEFwaSk/Zj1uLmNtcEFwaTooZj0iaWFiIixPYmplY3Qoby5sb2dJbmZvKSgiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSBjbXAuICBVc2luZyBzeXN0ZW0gZGVmYXVsdCBzZXR0aW5nICgiLmNvbmNhdCgiaWFiIiwiKS4iKSkpLE9iamVjdChvLmlzTnVtYmVyKShuLnRpbWVvdXQpP3A9bi50aW1lb3V0OihwPTFlNCxPYmplY3Qoby5sb2dJbmZvKSgiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSB0aW1lb3V0LiAgVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoMWU0LCIpLiIpKSksImJvb2xlYW4iPT10eXBlb2Ygbi5hbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCYmKEMudmFsdWU9bi5hbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCxDLmRlZmluZWRJbkNvbmZpZz0hMCksZz0hMD09PW4uZGVmYXVsdEdkcHJTY29wZSxPYmplY3Qoby5sb2dJbmZvKSgiY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGhhcyBiZWVuIGFjdGl2YXRlZC4uLiIpLCJzdGF0aWMiPT09ZiYmKE9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4uY29uc2VudERhdGEpPyhiPW4uY29uc2VudERhdGEscD0wKTpPYmplY3Qoby5sb2dFcnJvcikoImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyB3aXRoIGNtcEFwaTogJ3N0YXRpYycgZGlkIG5vdCBzcGVjaWZ5IGNvbnNlbnREYXRhLiBObyBjb25zZW50cyB3aWxsIGJlIGF2YWlsYWJsZSB0byBhZGFwdGVycy4iKSkseXx8dXBianMucmVxdWVzdEJpZHMuYmVmb3JlKGosNTApLHk9ITApOk9iamVjdChvLmxvZ1dhcm4pKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgbm90IGRlZmluZWQsIGV4aXRpbmcgY29uc2VudCBtYW5hZ2VyIil9YS5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQiLChmdW5jdGlvbihuKXtyZXR1cm4gQShuLmNvbnNlbnRNYW5hZ2VtZW50KX0pKX19LFszNzZdKTsKdXBianNDaHVuayhbMjk2XSx7MzgzOmZ1bmN0aW9uKHQsbixlKXt0LmV4cG9ydHM9ZSgzODQpfSwzODQ6ZnVuY3Rpb24odCxuLGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kKG4sImNvbnNlbnRBUEkiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLGUuZChuLCJjb25zZW50VGltZW91dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZS5kKG4sInN0YXRpY0NvbnNlbnREYXRhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLnJlcXVlc3RCaWRzSG9vaz1mLG4ucmVzZXRDb25zZW50RGF0YT1mdW5jdGlvbigpe2w9dm9pZCAwLHM9dm9pZCAwLGkudXNwRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobnVsbCl9LG4uc2V0Q29uc2VudENvbmZpZz1QO3ZhciBhPWUoMCksbz1lKDMpLGk9ZSg4KTtmdW5jdGlvbiBjKHQpe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSkodCl9dmFyIHMscix1LGwsZD0hMSxwPXtpYWI6ZnVuY3Rpb24odCxuLGUpe3ZhciBvPSh1PXt9LHtjb25zZW50RGF0YUNhbGxiYWNrOmZ1bmN0aW9uKGEsbyl7byYmYS51c3BTdHJpbmcmJih1LnVzUHJpdmFjeT1hLnVzcFN0cmluZyksdS51c1ByaXZhY3k/dCh1LGUpOm4oIlVuYWJsZSB0byBnZXQgVVNQIGNvbnNlbnQgc3RyaW5nLiIsZSl9fSksaT17fSxjPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LG4sZT13aW5kb3c7IXQ7KXt0cnl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuX191c3BhcGkpe249ZS5fX3VzcGFwaSx0PWU7YnJlYWt9fWNhdGNoKHQpe310cnl7aWYoZS5mcmFtZXMuX191c3BhcGlMb2NhdG9yKXt0PWU7YnJlYWt9fWNhdGNoKHQpe31pZihlPT09d2luZG93LnRvcClicmVhaztlPWUucGFyZW50fXJldHVybnt1c3BhcGlGcmFtZTp0LHVzcGFwaUZ1bmN0aW9uOm59fSgpLHM9Yy51c3BhcGlGcmFtZSxyPWMudXNwYXBpRnVuY3Rpb247dmFyIHU7aWYoIXMpcmV0dXJuIG4oIlVTUCBDTVAgbm90IGZvdW5kLiIsZSk7T2JqZWN0KGEuaXNGbikocik/KE9iamVjdChhLmxvZ0luZm8pKCJEZXRlY3RlZCBVU1AgQ01QIGlzIGRpcmVjdGx5IGFjY2Vzc2libGUsIGNhbGxpbmcgaXQgbm93Li4uIikscigiZ2V0VVNQRGF0YSIsMSxvLmNvbnNlbnREYXRhQ2FsbGJhY2spKTooT2JqZWN0KGEubG9nSW5mbykoIkRldGVjdGVkIFVTUCBDTVAgaXMgb3V0c2lkZSB0aGUgY3VycmVudCBpZnJhbWUgd2hlcmUgUHJlYmlkLmpzIGlzIGxvY2F0ZWQsIGNhbGxpbmcgaXQgbm93Li4uIiksZnVuY3Rpb24odCxuLGUpe2Z1bmN0aW9uIGEodCl7dmFyIG49dCYmdC5kYXRhJiZ0LmRhdGEuX191c3BhcGlSZXR1cm47biYmbi5jYWxsSWQmJnZvaWQgMCE9PWlbbi5jYWxsSWRdJiYoaVtuLmNhbGxJZF0obi5yZXR1cm5WYWx1ZSxuLnN1Y2Nlc3MpLGRlbGV0ZSBpW24uY2FsbElkXSl9d2luZG93Ll9fdXNwYXBpPWZ1bmN0aW9uKHQsZSxhKXt2YXIgbz1NYXRoLnJhbmRvbSgpKyIiLGM9e19fdXNwYXBpQ2FsbDp7Y29tbWFuZDp0LHZlcnNpb246ZSxjYWxsSWQ6b319O2lbb109YSxuLnBvc3RNZXNzYWdlKGMsIioiKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGEsITEpLHdpbmRvdy5fX3VzcGFwaSh0LDEsZSl9KCJnZXRVU1BEYXRhIixzLG8uY29uc2VudERhdGFDYWxsYmFjaykpfSxzdGF0aWM6ZnVuY3Rpb24odCxuLGUpe3QodSxlKX19O2Z1bmN0aW9uIGYodCxuKXt2YXIgZT17Y29udGV4dDp0aGlzLGFyZ3M6W25dLG5leHRGbjp0LGFkVW5pdHM6bi5hZFVuaXRzfHx1cGJqcy5hZFVuaXRzLGJpZHNCYWNrSGFuZGxlcjpuLmJpZHNCYWNrSGFuZGxlcixoYXZlRXhpdGVkOiExLHRpbWVyOm51bGx9O2lmKCFwW3NdKXJldHVybiBPYmplY3QoYS5sb2dXYXJuKSgiVVNQIGZyYW1ld29yayAoIi5jb25jYXQocywiKSBpcyBub3QgYSBzdXBwb3J0ZWQgZnJhbWV3b3JrLiBBYm9ydGluZyBjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgYW5kIHJlc3VtaW5nIGF1Y3Rpb24uIikpLGUubmV4dEZuLmFwcGx5KGUuY29udGV4dCxlLmFyZ3MpO3Bbc10uY2FsbCh0aGlzLGcsbSxlKSxlLmhhdmVFeGl0ZWR8fCgwPT09cj9nKHZvaWQgMCxlKTplLnRpbWVyPXNldFRpbWVvdXQoYi5iaW5kKG51bGwsZSkscikpfWZ1bmN0aW9uIGcodCxuKXshdHx8IXQudXNQcml2YWN5P20oIlVTUEFQSSByZXR1cm5lZCB1bmV4cGVjdGVkIHZhbHVlIGR1cmluZyBsb29rdXAgcHJvY2Vzcy4iLG4sdCk6KGNsZWFyVGltZW91dChuLnRpbWVyKSxmdW5jdGlvbih0KXt0JiZ0LnVzUHJpdmFjeSYmKGw9dC51c1ByaXZhY3ksaS51c3BEYXRhSGFuZGxlci5zZXRDb25zZW50RGF0YShsKSl9KHQpLHkobnVsbCxuKSl9ZnVuY3Rpb24gYih0KXttKCJVU1BBUEkgd29ya2Zsb3cgZXhjZWVkZWQgdGltZW91dCB0aHJlc2hvbGQuIix0KX1mdW5jdGlvbiBtKHQsbixlKXtjbGVhclRpbWVvdXQobi50aW1lcikseSh0LG4sZSl9ZnVuY3Rpb24geSh0LG4sZSl7aWYoITE9PT1uLmhhdmVFeGl0ZWQpe24uaGF2ZUV4aXRlZD0hMDt2YXIgbz1uLmNvbnRleHQsaT1uLmFyZ3MsYz1uLm5leHRGbjt0JiZPYmplY3QoYS5sb2dXYXJuKSh0KyIgUmVzdW1pbmcgYXVjdGlvbiB3aXRob3V0IGNvbnNlbnQgZGF0YSBhcyBwZXIgY29uc2VudE1hbmFnZW1lbnQgY29uZmlnLiIsZSksYy5hcHBseShvLGkpfX1mdW5jdGlvbiBQKHQpeyh0PXQmJnQudXNwKSYmIm9iamVjdCI9PT1jKHQpPyhPYmplY3QoYS5pc1N0cikodC5jbXBBcGkpP3M9dC5jbXBBcGk6KHM9ImlhYiIsT2JqZWN0KGEubG9nSW5mbykoImNvbnNlbnRNYW5hZ2VtZW50LnVzcCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IGNtcEFwaS4gVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoImlhYiIsIikuIikpKSxPYmplY3QoYS5pc051bWJlcikodC50aW1lb3V0KT9yPXQudGltZW91dDoocj01MCxPYmplY3QoYS5sb2dJbmZvKSgiY29uc2VudE1hbmFnZW1lbnQudXNwIGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgdGltZW91dC4gVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoNTAsIikuIikpKSxPYmplY3QoYS5sb2dJbmZvKSgiVVNQQVBJIGNvbnNlbnRNYW5hZ2VtZW50IG1vZHVsZSBoYXMgYmVlbiBhY3RpdmF0ZWQuLi4iKSwic3RhdGljIj09PXMmJihPYmplY3QoYS5pc1BsYWluT2JqZWN0KSh0LmNvbnNlbnREYXRhKSYmT2JqZWN0KGEuaXNQbGFpbk9iamVjdCkodC5jb25zZW50RGF0YS5nZXRVU1BEYXRhKT8odC5jb25zZW50RGF0YS5nZXRVU1BEYXRhLnVzcFN0cmluZyYmKHU9e3VzUHJpdmFjeTp0LmNvbnNlbnREYXRhLmdldFVTUERhdGEudXNwU3RyaW5nfSkscj0wKTpPYmplY3QoYS5sb2dFcnJvcikoImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyB3aXRoIGNtcEFwaTogJ3N0YXRpYycgZGlkIG5vdCBzcGVjaWZ5IGNvbnNlbnREYXRhLiBObyBjb25zZW50cyB3aWxsIGJlIGF2YWlsYWJsZSB0byBhZGFwdGVycy4iKSksZHx8dXBianMucmVxdWVzdEJpZHMuYmVmb3JlKGYsNTApLGQ9ITApOk9iamVjdChhLmxvZ1dhcm4pKCJjb25zZW50TWFuYWdlbWVudC51c3AgY29uZmlnIG5vdCBkZWZpbmVkLCBleGl0aW5nIHVzcCBjb25zZW50IG1hbmFnZXIiKX1vLmIuZ2V0Q29uZmlnKCJjb25zZW50TWFuYWdlbWVudCIsKGZ1bmN0aW9uKHQpe3JldHVybiBQKHQuY29uc2VudE1hbmFnZW1lbnQpfSkpfX0sWzM4M10pOwp1cGJqc0NodW5rKFsyOTVdLHszODU6ZnVuY3Rpb24oZSxyLG4pe2UuZXhwb3J0cz1uKDM4Nil9LDM4NjpmdW5jdGlvbihlLHIsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHQ9bigwKSxpPW4oMSk7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBuPWFyZ3VtZW50c1tyXTtmb3IodmFyIHQgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix0KSYmKGVbdF09blt0XSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGE9MCxkPSJjb25zdW1hYmxlIix1PXtjb2RlOiJjb25zdW1hYmxlIixpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlLnBhcmFtcy5uZXR3b3JrSWQmJmUucGFyYW1zLnNpdGVJZCYmZS5wYXJhbXMudW5pdElkJiZlLnBhcmFtcy51bml0TmFtZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgbj17bWV0aG9kOiJQT1NUIix1cmw6IiIsZGF0YToiIixiaWRSZXF1ZXN0OltdfTtpZihlLmxlbmd0aDwxKXJldHVybiBuO2E9ZVswXS5wYXJhbXMuc2l0ZUlkLGQ9ZVswXS5iaWRkZXI7dmFyIHQ9cyh7cGxhY2VtZW50czpbXSx0aW1lOkRhdGUubm93KCksdXJsOnIucmVmZXJlckluZm8ucmVmZXJlcixyZWZlcnJlcjpkb2N1bWVudC5yZWZlcnJlcixzb3VyY2U6W3tuYW1lOiJwcmViaWRqcyIsdmVyc2lvbjoiNS4yMC4yIn1dfSxlWzBdLnBhcmFtcyk7cmV0dXJuIHImJnIuZ2RwckNvbnNlbnQmJih0LmdkcHI9e2NvbnNlbnQ6ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGFwcGxpZXM6ImJvb2xlYW4iIT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllc3x8ci5nZHByQ29uc2VudC5nZHByQXBwbGllc30pLHImJnIudXNwQ29uc2VudCYmKHQuY2NwYT1yLnVzcENvbnNlbnQpLGUubWFwKChmdW5jdGlvbihlKXt2YXIgcj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fGUuc2l6ZXN8fFtdLG49cyh7ZGl2TmFtZTplLmJpZElkLGFkVHlwZXM6ZS5hZFR5cGVzfHxwKHIpfSxlLnBhcmFtcyk7bi5uZXR3b3JrSWQmJm4uc2l0ZUlkJiZuLnVuaXRJZCYmbi51bml0TmFtZSYmdC5wbGFjZW1lbnRzLnB1c2gobil9KSksbi5kYXRhPUpTT04uc3RyaW5naWZ5KHQpLG4uYmlkUmVxdWVzdD1lLG4uYmlkZGVyUmVxdWVzdD1yLG4udXJsPSJodHRwczovL2Uuc2VydmVyYmlkLmNvbS9hcGkvdjIiLG59LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIG4sdCxpLHMsYT1bXTt0PXIuYmlkUmVxdWVzdCxlPShlfHx7fSkuYm9keTtmb3IodmFyIGQ9MDtkPHQubGVuZ3RoO2QrKylpZihuPXt9LGk9KHM9dFtkXSkuYmlkSWQsZSl7dmFyIHU9ZS5kZWNpc2lvbnMmJmUuZGVjaXNpb25zW2ldLG89dSYmdS5wcmljaW5nJiZ1LnByaWNpbmcuY2xlYXJQcmljZTt1JiZvJiYobi5yZXF1ZXN0SWQ9aSxuLmNwbT1vLG4ud2lkdGg9dS53aWR0aCxuLmhlaWdodD11LmhlaWdodCxuLnVuaXRJZD1zLnBhcmFtcy51bml0SWQsbi51bml0TmFtZT1zLnBhcmFtcy51bml0TmFtZSxuLmFkPWModSxuLnVuaXRJZCxuLnVuaXROYW1lKSxuLmN1cnJlbmN5PSJVU0QiLG4uY3JlYXRpdmVJZD11LmFkSWQsbi50dGw9MzAsbi5tZXRhPXthZHZlcnRpc2VyRG9tYWluczp1LmFkb21haW4/dS5hZG9tYWluOltdfSxuLm5ldFJldmVudWU9ITAsbi5yZWZlcnJlcj1yLmJpZGRlclJlcXVlc3QucmVmZXJlckluZm8ucmVmZXJlcixhLnB1c2gobikpfXJldHVybiBhfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vc3luYy5zZXJ2ZXJiaWQuY29tL3NzLyIrYSsiLmh0bWwifV06ZS5waXhlbEVuYWJsZWQmJnIubGVuZ3RoPjA/clswXS5ib2R5LnBpeGVsczp2b2lkIE9iamVjdCh0LmxvZ1dhcm4pKGQrIjogUGxlYXNlIGVuYWJsZSBpZnJhbWUgYmFzZWQgdXNlciBzeW5jaW5nLiIpfX0sbz1bbnVsbCwiMTIweDkwIiwiMTIweDkwIiwiNDY4eDYwIiwiNzI4eDkwIiwiMzAweDI1MCIsIjE2MHg2MDAiLCIxMjB4NjAwIiwiMzAweDEwMCIsIjE4MHgxNTAiLCIzMzZ4MjgwIiwiMjQweDQwMCIsIjIzNHg2MCIsIjg4eDMxIiwiMTIweDYwIiwiMTIweDI0MCIsIjEyNXgxMjUiLCIyMjB4MjUwIiwiMjUweDI1MCIsIjI1MHg5MCIsIjB4MCIsIjIwMHg5MCIsIjMwMHg1MCIsIjMyMHg1MCIsIjMyMHg0ODAiLCIxODV4MTg1IiwiNjIweDQ1IiwiMzAweDEyNSIsIjgwMHgyNTAiXTtmdW5jdGlvbiBwKGUpe3ZhciByPVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPW8uaW5kZXhPZihlWzBdKyJ4IitlWzFdKTtuPj0wJiZyLnB1c2gobil9KSkscn1mdW5jdGlvbiBjKGUscixuKXtyZXR1cm4gZS5jb250ZW50cyYmZS5jb250ZW50c1swXSYmZS5jb250ZW50c1swXS5ib2R5K09iamVjdCh0LmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKShlLmltcHJlc3Npb25VcmwpfW9bNzddPSI5NzB4OTAiLG9bMTIzXT0iOTcweDI1MCIsb1s0M109IjMwMHg2MDAiLG9bMjg2XT0iOTcweDY2IixvWzMyMzBdPSI5NzB4MjgwIixvWzQyOV09IjQ4Nng2MCIsb1szNzRdPSI3MDB4NTAwIixvWzkzNF09IjMwMHgxMDUwIixvWzE1NzhdPSIzMjB4MTAwIixvWzMzMV09IjMyMHgyNTAiLG9bMzMwMV09IjMyMHgyNjciLG9bMjczMF09IjcyOHgyNTAiLE9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKSh1KX19LFszODVdKTsKdXBianNDaHVuayhbMjkzXSx7Mzg5OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgzOTApfSwzOTA6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgbj10KDApLGE9dCgxKSxpPXQoMiksbz10KDcpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGMoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHIpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGMoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09dHx8IlNldCI9PT10KXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkpcmV0dXJuIGMoZSxyKX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gYyhlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KHIpO3Q8cjt0Kyspblt0XT1lW3RdO3JldHVybiBufXZhciBkPU9iamVjdChvLmIpKDI0KSx1PSJjb252ZXJzYW50IixwPXtjb2RlOnUsZ3ZsaWQ6MjQsYWxpYXNlczpbImNudnIiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZighZXx8IWUucGFyYW1zKXJldHVybiBPYmplY3Qobi5sb2dXYXJuKSgiY29udmVyc2FudDogTWlzc2luZyBiaWQgcGFyYW1ldGVycyIpLCExO2lmKCFPYmplY3Qobi5pc1N0cikoZS5wYXJhbXMuc2l0ZV9pZCkpcmV0dXJuIE9iamVjdChuLmxvZ1dhcm4pKCJjb252ZXJzYW50OiBzaXRlX2lkIG11c3QgYmUgc3BlY2lmaWVkIGFzIGEgc3RyaW5nIiksITE7aWYobChlKSl7dmFyIHI9ZS5wYXJhbXMubWltZXN8fE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ubWltZXMiKTtpZihyKXtpZighT2JqZWN0KG4uaXNBcnJheSkocil8fCFyLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4uaXNTdHIpKGUpfSkpKXJldHVybiBPYmplY3Qobi5sb2dXYXJuKSgiY29udmVyc2FudDogbWltZXMgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzIiksITF9ZWxzZSBPYmplY3Qobi5sb2dXYXJuKSgiY29udmVyc2FudDogbWltZXMgc2hvdWxkIGJlIHNwZWNpZmllZCBmb3IgdmlkZW9zIil9cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdCxhPXImJnIucmVmZXJlckluZm8/ci5yZWZlcmVySW5mby5yZWZlcmVyOiIiLGk9IiIsbz0iIixzPW51bGwsYz0iX3B1YmNpZCIsdT0iaHR0cHM6Ly93ZWIuaGIuYWQuY3BlLmRvdG9taS5jb20vY3Z4L2NsaWVudC9oYi9vcnRiLzI1IixwPWUubWFwKChmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgcj1PYmplY3Qobi5nZXRCaWRJZFBhcmFtZXRlcikoImJpZGZsb29yIixlLnBhcmFtcyk7aWYoIXImJk9iamVjdChuLmlzRm4pKGUuZ2V0Rmxvb3IpKXt2YXIgdD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7T2JqZWN0KG4uaXNQbGFpbk9iamVjdCkodCkmJiFpc05hTih0LmZsb29yKSYmIlVTRCI9PT10LmN1cnJlbmN5JiYocj10LmZsb29yKX1yZXR1cm4gcn0oZSk7aT1PYmplY3Qobi5nZXRCaWRJZFBhcmFtZXRlcikoInNpdGVfaWQiLGUucGFyYW1zKXx8aSxjPU9iamVjdChuLmdldEJpZElkUGFyYW1ldGVyKSgicHViY2lkX25hbWUiLGUucGFyYW1zKXx8YyxvPWUuYXVjdGlvbklkO3ZhciB0PXtpZDplLmJpZElkLHNlY3VyZToxLGJpZGZsb29yOnJ8fDAsZGlzcGxheW1hbmFnZXI6IlByZWJpZC5qcyIsZGlzcGxheW1hbmFnZXJ2ZXI6IjUuMjAuMiJ9O2lmKGIoZS5wYXJhbXMudGFnX2lkLHQsInRhZ2lkIiksbChlKSl7dmFyIGE9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpfHx7fSxkPW0oYS5wbGF5ZXJTaXplfHxlLnNpemVzKSxwPXt9O2QmJmRbMF0mJihiKGRbMF0udyxwLCJ3IiksYihkWzBdLmgscCwiaCIpKSxiKGUucGFyYW1zLnBvc2l0aW9uLHAsInBvcyIpLGIoZS5wYXJhbXMubWltZXN8fGEubWltZXMscCwibWltZXMiKSxiKGUucGFyYW1zLm1heGR1cmF0aW9ufHxhLm1heGR1cmF0aW9uLHAsIm1heGR1cmF0aW9uIiksYihlLnBhcmFtcy5wcm90b2NvbHN8fGEucHJvdG9jb2xzLHAsInByb3RvY29scyIpLGIoZS5wYXJhbXMuYXBpfHxhLmFwaSxwLCJhcGkiKSx0LnZpZGVvPXB9ZWxzZXt2YXIgZj17Zm9ybWF0Om0oKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIil8fHt9KS5zaXplc3x8ZS5zaXplcyl9O2IoZS5wYXJhbXMucG9zaXRpb24sZiwicG9zIiksdC5iYW5uZXI9Zn1yZXR1cm4gZS51c2VySWQmJmUudXNlcklkLnB1YmNpZD9zPWUudXNlcklkLnB1YmNpZDplLmNydW1icyYmZS5jcnVtYnMucHViY2lkJiYocz1lLmNydW1icy5wdWJjaWQpLGUucGFyYW1zLndoaXRlX2xhYmVsX3VybCYmKHU9ZS5wYXJhbXMud2hpdGVfbGFiZWxfdXJsKSx0fSkpLGY9e2lkOm8saW1wOnAsc2l0ZTp7aWQ6aSxtb2JpbGU6bnVsbCE9PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT0idmlld3BvcnQiXVtjb250ZW50Kj0id2lkdGg9ZGV2aWNlLXdpZHRoIl0nKT8xOjAscGFnZTphfSxkZXZpY2U6KHQ9bmF2aWdhdG9yLmxhbmd1YWdlPyJsYW5ndWFnZSI6InVzZXJMYW5ndWFnZSIse2g6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxkbnQ6IjEiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09PXdpbmRvdy5kb05vdFRyYWNrfHwiMSI9PT1uYXZpZ2F0b3IubXNEb05vVHJhY2t8fCJ5ZXMiPT09bmF2aWdhdG9yLmRvTm90VHJhY2s/MTowLGxhbmd1YWdlOm5hdmlnYXRvclt0XS5zcGxpdCgiLSIpWzBdLG1ha2U6bmF2aWdhdG9yLnZlbmRvcj9uYXZpZ2F0b3IudmVuZG9yOiIiLHVhOm5hdmlnYXRvci51c2VyQWdlbnR9KSxhdDoxfSxnPXt9O3ImJihyLmdkcHJDb25zZW50JiYoZy5jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZywiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKGYsInJlZ3MuZXh0LmdkcHIiLHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSksci51c3BDb25zZW50JiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKGYsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCkpLHN8fChzPWZ1bmN0aW9uKGUpe3ZhciByO3RyeXtpZighKHI9ZC5nZXRDb29raWUoZSkpKXt2YXIgdD1kLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChlLCJfZXhwIikpOygiIj09PXR8fHQmJm5ldyBEYXRlKHQpLmdldFRpbWUoKS1EYXRlLm5vdygpPjApJiYocj0ocj1kLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKGUpKT9kZWNvZGVVUklDb21wb25lbnQocik6cil9T2JqZWN0KG4uaXNTdHIpKHIpJiYieyI9PT1yLmNoYXJBdCgwKSYmKHI9SlNPTi5wYXJzZShyKSl9Y2F0Y2goZSl7T2JqZWN0KG4ubG9nRXJyb3IpKGUpfXJldHVybiByfShjKSkscyYmKGcuZnBjPXMpO3ZhciB2PWZ1bmN0aW9uKGUpe3ZhciByPWVbMF0sdD1bXTtpZihPYmplY3Qobi5pc0FycmF5KShyLnVzZXJJZEFzRWlkcykmJnIudXNlcklkQXNFaWRzLmxlbmd0aD4wKXt2YXIgYT17ImVwc2lsb24uY29tIjoxLCJhZHNlcnZlci5vcmciOjEsImxpdmVyYW1wLmNvbSI6MSwiY3JpdGVvLmNvbSI6MSwiaWQ1LXN5bmMuY29tIjoxLCJwYXJyYWJsZS5jb20iOjEsImxpdmVpbnRlbnQuY29tIjoxfTtyLnVzZXJJZEFzRWlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXthLmhhc093blByb3BlcnR5KGUuc291cmNlKSYmdC5wdXNoKGUpfSkpfXJldHVybiB0fShlKTtyZXR1cm4gdi5sZW5ndGg+MCYmKGcuZWlkcz12KSxPYmplY3Qobi5pc0VtcHR5KShnKXx8KGYudXNlcj17ZXh0Omd9KSx7bWV0aG9kOiJQT1NUIix1cmw6dSxkYXRhOmZ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGE9e307cmV0dXJuIGU9ZS5ib2R5LHImJnIuZGF0YSYmci5kYXRhLmltcCYmT2JqZWN0KG4uX2VhY2gpKHIuZGF0YS5pbXAsKGZ1bmN0aW9uKGUpe3JldHVybiBhW2UuaWRdPWV9KSksZSYmT2JqZWN0KG4uaXNBcnJheSkoZS5zZWF0YmlkKSYmT2JqZWN0KG4uX2VhY2gpKGUuc2VhdGJpZCwoZnVuY3Rpb24ocil7T2JqZWN0KG4uX2VhY2gpKHIuYmlkLChmdW5jdGlvbihyKXt2YXIgbj1wYXJzZUZsb2F0KHIucHJpY2UpO2lmKG4+MCYmci5pbXBpZCl7dmFyIGk9ci5hZG18fCIiLG89ci5udXJsfHwiIixzPWFbci5pbXBpZF0sYz17cmVxdWVzdElkOnIuaW1waWQsY3VycmVuY3k6ZS5jdXJ8fCJVU0QiLGNwbTpuLGNyZWF0aXZlSWQ6ci5jcmlkfHwiIix0dGw6MzAwLG5ldFJldmVudWU6ITAsbWV0YTp7fX07ci5hZG9tYWluJiZyLmFkb21haW4ubGVuZ3RoPjAmJihjLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9ci5hZG9tYWluKSxzLnZpZGVvPygiPCI9PT1pLmNoYXJBdCgwKT9jLnZhc3RYbWw9aTpjLnZhc3RVcmw9aSxjLm1lZGlhVHlwZT0idmlkZW8iLGMud2lkdGg9cy52aWRlby53LGMuaGVpZ2h0PXMudmlkZW8uaCk6KGMuYWQ9aSsnPGltZyBzcmM9IicrbysnIiAvPicsYy53aWR0aD1yLncsYy5oZWlnaHQ9ci5oKSx0LnB1c2goYyl9fSkpfSkpLHR9LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIpe3JldHVybiBPYmplY3Qobi5jb252ZXJ0VHlwZXMpKHtzaXRlX2lkOiJzdHJpbmciLHNlY3VyZToibnVtYmVyIixtb2JpbGU6Im51bWJlciJ9LGUpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsYSl7dmFyIGk9e30sbz1bXTtpZih0JiYoaS5nZHByPXQuZ2RwckFwcGxpZXM/MTowLGkuZ2Rwcl9jb25zZW50PWVuY29kZVVSSUNvbXBvbmVudCh0LmNvbnNlbnRTdHJpbmd8fCIiKSksYSYmKGkudXNfcHJpdmFjeT1lbmNvZGVVUklDb21wb25lbnQoYSkpLHImJnIuZXh0KXt2YXIgYz1be3VybHM6ci5leHQuZnN5bmNzLHR5cGU6ImlmcmFtZSJ9LHt1cmxzOnIuZXh0LnBzeW5jcyx0eXBlOiJpbWFnZSJ9XS5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiByLnVybHMmJigiaWZyYW1lIj09PXIudHlwZSYmZS5pZnJhbWVFbmFibGVkfHwiaW1hZ2UiPT09ci50eXBlJiZlLnBpeGVsRW5hYmxlZCl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS51cmxzLm1hcCgoZnVuY3Rpb24ocil7dmFyIHQ9T2JqZWN0KG4ucGFyc2VVcmwpKHIpO3JldHVybiBPYmplY3Qobi5tZXJnZURlZXApKHQuc2VhcmNoLGkpLDA9PT1PYmplY3Qua2V5cyh0LnNlYXJjaCkubGVuZ3RoJiZkZWxldGUgdC5zZWFyY2gse3R5cGU6ZS50eXBlLHVybDpPYmplY3Qobi5idWlsZFVybCkodCl9fSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5jb25jYXQocil9KSxbXSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlLmNvbmNhdChyKX0pLFtdKTtvLnB1c2guYXBwbHkobyxzKGMpKX1yZXR1cm4gb319O2Z1bmN0aW9uIG0oZSl7dmFyIHI7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJihyPTI9PT1lLmxlbmd0aCYmIm51bWJlciI9PXR5cGVvZiBlWzBdJiYibnVtYmVyIj09dHlwZW9mIGVbMV0/W3t3OmVbMF0saDplWzFdfV06T2JqZWN0KG4uX21hcCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpKSxyfWZ1bmN0aW9uIGwoZSl7cmV0dXJuInZpZGVvIj09PWUubWVkaWFUeXBlfHwhIU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKX1mdW5jdGlvbiBiKGUscix0KXtlJiYoclt0XT1lKX1PYmplY3QoYS5yZWdpc3RlckJpZGRlcikocCl9fSxbMzg5XSk7CnVwYmpzQ2h1bmsoWzJdLHszOTU6ZnVuY3Rpb24odCxlLHIpe3QuZXhwb3J0cz1yKDM5Nil9LDM5NjpmdW5jdGlvbihtb2R1bGUsX193ZWJwYWNrX2V4cG9ydHNfXyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJBREFQVEVSX1ZFUlNJT04iLChmdW5jdGlvbigpe3JldHVybiBBREFQVEVSX1ZFUlNJT059KSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIlBST0ZJTEVfSURfUFVCTElTSEVSVEFHIiwoZnVuY3Rpb24oKXtyZXR1cm4gUFJPRklMRV9JRF9QVUJMSVNIRVJUQUd9KSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIkZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVH0pKSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHNwZWN9KSksX193ZWJwYWNrX2V4cG9ydHNfXy5jYW5GYXN0QmlkPWNhbkZhc3RCaWQsX193ZWJwYWNrX2V4cG9ydHNfXy5nZXRGYXN0QmlkVXJsPWdldEZhc3RCaWRVcmwsX193ZWJwYWNrX2V4cG9ydHNfXy50cnlHZXRDcml0ZW9GYXN0QmlkPXRyeUdldENyaXRlb0Zhc3RCaWQ7dmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NyY19hZGxvYWRlcl9qc19fPV9fd2VicGFja19yZXF1aXJlX18oMzUpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2FkYXB0ZXJzX2JpZGRlckZhY3RvcnlfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX2NvbmZpZ19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMiksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygxMSksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX19fZGVmYXVsdD1fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX18pLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDc4KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfY3JpdGVvX2RpcmVjdF9yc2FfdmFsaWRhdGVfYnVpbGRfdmVyaWZ5X2pzX19fZGVmYXVsdD1fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2NyaXRlb19kaXJlY3RfcnNhX3ZhbGlkYXRlX2J1aWxkX3ZlcmlmeV9qc19fKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX3NyY19zdG9yYWdlTWFuYWdlcl9qc19fPV9fd2VicGFja19yZXF1aXJlX18oNyk7ZnVuY3Rpb24gX2V4dGVuZHMoKXtyZXR1cm4oX2V4dGVuZHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIHI9YXJndW1lbnRzW2VdO2Zvcih2YXIgaSBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLGkpJiYodFtpXT1yW2ldKX1yZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgR1ZMSUQ9OTEsQURBUFRFUl9WRVJTSU9OPTM0LEJJRERFUl9DT0RFPSJjcml0ZW8iLENEQl9FTkRQT0lOVD0iaHR0cHM6Ly9iaWRkZXIuY3JpdGVvLmNvbS9jZGIiLFBST0ZJTEVfSURfSU5MSU5FPTIwNyxQUk9GSUxFX0lEX1BVQkxJU0hFUlRBRz0xODUsc3RvcmFnZT1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19zcmNfc3RvcmFnZU1hbmFnZXJfanNfXy5iKShHVkxJRCksTE9HX1BSRUZJWD0iQ3JpdGVvOiAiLEZBU1RfQklEX1ZFUlNJT05fUExBQ0VIT0xERVI9IiVGQVNUX0JJRF9WRVJTSU9OJSIsRkFTVF9CSURfVkVSU0lPTl9DVVJSRU5UPTExMyxGQVNUX0JJRF9WRVJTSU9OX0xBVEVTVD0ibGF0ZXN0IixGQVNUX0JJRF9WRVJTSU9OX05PTkU9Im5vbmUiLFBVQkxJU0hFUl9UQUdfVVJMX1RFTVBMQVRFPSJodHRwczovL3N0YXRpYy5jcml0ZW8ubmV0L2pzL2xkL3B1Ymxpc2hlcnRhZy5wcmViaWQiK0ZBU1RfQklEX1ZFUlNJT05fUExBQ0VIT0xERVIrIi5qcyIsRkFTVF9CSURfUFVCS0VZX0U9NjU1MzcsRkFTVF9CSURfUFVCS0VZX049Inp0UVl3Q0U1QlU3VDlDRE01aGU2cktvYWJzdFhSbWt6eDU0ekZQWmtXYks1MzBkd3RMQkRlYVdCTXhIQlVUNTVDWXlib1IvRVo0ZWZnaFBpM0NvTkdmR1dlenBqa285UDZwMkV3R0FydEhFZVM0c2xodS9TcFNJRk1qRzZmZHJwUm9OdUlBTWhxMVorUHIvK0hPZDFwVGhGS2VHRnIyL05odEFnK1RYQXphVT0iLHNwZWM9e2NvZGU6QklEREVSX0NPREUsZ3ZsaWQ6R1ZMSUQsc3VwcG9ydGVkTWVkaWFUeXBlczpbX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fLmIsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fLmQsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fLmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fCF0LnBhcmFtc3x8IXQucGFyYW1zLnpvbmVJZCYmIXQucGFyYW1zLm5ldHdvcmtJZCkmJiEoaGFzVmlkZW9NZWRpYVR5cGUodCkmJiFoYXNWYWxpZFZpZGVvTWVkaWFUeXBlKHQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbih0LGUpe3ZhciByLGkscz1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19jb25maWdfanNfXy5iLmdldExlZ2FjeUZwZChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19jb25maWdfanNfXy5iLmdldENvbmZpZygib3J0YjIiKSl8fHt9O19leHRlbmRzKGUse3B1Ymxpc2hlckV4dDpzLmNvbnRleHQsdXNlckV4dDpzLnVzZXIsY2VoOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX2NvbmZpZ19qc19fLmIuZ2V0Q29uZmlnKCJjcml0ZW8uY2VoIil9KTt2YXIgYT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19jb25maWdfanNfXy5iLmdldENvbmZpZygiY3JpdGVvLmZhc3RCaWRWZXJzaW9uIiksXz1jYW5GYXN0QmlkKGEpO2lmKCFwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmXyl7d2luZG93LkNyaXRlbz13aW5kb3cuQ3JpdGVvfHx7fSx3aW5kb3cuQ3JpdGVvLnVzZVByZWJpZEV2ZW50cz0hMSx0cnlHZXRDcml0ZW9GYXN0QmlkKCk7dmFyIG89Z2V0RmFzdEJpZFVybChhKTtzZXRUaW1lb3V0KChmdW5jdGlvbigpe09iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NyY19hZGxvYWRlcl9qc19fLmEpKG8sQklEREVSX0NPREUpfSksZS50aW1lb3V0KX1pZihwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSl7dmFyIG49bmV3IENyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkKFBST0ZJTEVfSURfUFVCTElTSEVSVEFHLEFEQVBURVJfVkVSU0lPTix0LGUsIjUuMjAuMiIpO3I9bi5idWlsZENkYlVybCgpLGk9bi5idWlsZENkYlJlcXVlc3QoKX1lbHNle3ZhciBjPWJ1aWxkQ29udGV4dCh0LGUpO3I9YnVpbGRDZGJVcmwoYyksaT1idWlsZENkYlJlcXVlc3QoYyx0LGUpfWlmKGkpcmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOnIsZGF0YTppLGJpZFJlcXVlc3RzOnR9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbih0LGUpe3ZhciByPXQuYm9keXx8dDtpZihwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSl7dmFyIGk9Q3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcihlKTtpZihpKXJldHVybiBpLmludGVycHJldFJlc3BvbnNlKHIsZSl9dmFyIHM9W107cmV0dXJuIHImJnIuc2xvdHMmJk9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmlzQXJyYXkpKHIuc2xvdHMpJiZyLnNsb3RzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fX2RlZmF1bHQoKShlLmJpZFJlcXVlc3RzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT09dC5pbXBpZCYmKCFlLnBhcmFtcy56b25lSWR8fHBhcnNlSW50KGUucGFyYW1zLnpvbmVJZCk9PT10LnpvbmVpZCl9KSksaT1yLmJpZElkLGE9e3JlcXVlc3RJZDppLGFkSWQ6dC5iaWRJZHx8T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxjcG06dC5jcG0sY3VycmVuY3k6dC5jdXJyZW5jeSxuZXRSZXZlbnVlOiEwLHR0bDp0LnR0bHx8NjAsY3JlYXRpdmVJZDp0LmNyZWF0aXZlY29kZSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCxkZWFsSWQ6dC5kZWFsQ29kZX07dC5hZG9tYWluJiYoYS5tZXRhPV9leHRlbmRzKHt9LGEubWV0YSx7YWR2ZXJ0aXNlckRvbWFpbnM6dC5hZG9tYWlufSkpLHQubmF0aXZlP3IucGFyYW1zLm5hdGl2ZUNhbGxiYWNrP2EuYWQ9Y3JlYXRlTmF0aXZlQWQoaSx0Lm5hdGl2ZSxyLnBhcmFtcy5uYXRpdmVDYWxsYmFjayk6KGEubmF0aXZlPWNyZWF0ZVByZWJpZE5hdGl2ZUFkKHQubmF0aXZlKSxhLm1lZGlhVHlwZT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY19tZWRpYVR5cGVzX2pzX18uYyk6dC52aWRlbz8oYS52YXN0VXJsPXQuZGlzcGxheXVybCxhLm1lZGlhVHlwZT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY19tZWRpYVR5cGVzX2pzX18uZCk6YS5hZD10LmNyZWF0aXZlLHMucHVzaChhKX0pKSxzfSxvblRpbWVvdXQ6ZnVuY3Rpb24odCl7aWYocHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJkFycmF5LmlzQXJyYXkodCkpe3ZhciBlPVtdO3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7LTE9PT1lLmluZGV4T2YodC5hdWN0aW9uSWQpJiYoZS5wdXNoKHQuYXVjdGlvbklkKSxDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKHQuYXVjdGlvbklkKS5oYW5kbGVCaWRUaW1lb3V0KCkpfSkpfX0sb25CaWRXb246ZnVuY3Rpb24odCl7cHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJnQmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIodC5hdWN0aW9uSWQpLmhhbmRsZUJpZFdvbih0KX0sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24odCl7cHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIodC5hdWN0aW9uSWQpLmhhbmRsZVNldFRhcmdldGluZyh0KX19O2Z1bmN0aW9uIHB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQ3JpdGVvJiZDcml0ZW8uUHViVGFnJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZH1mdW5jdGlvbiBidWlsZENvbnRleHQodCxlKXt2YXIgcj0iIjtlJiZlLnJlZmVyZXJJbmZvJiYocj1lLnJlZmVyZXJJbmZvLnJlZmVyZXIpO3ZhciBpPU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLnBhcnNlVXJsKShyKS5zZWFyY2gscz17dXJsOnIsZGVidWc6IjEiPT09aS5wYnRfZGVidWcsbm9Mb2c6IjEiPT09aS5wYnRfbm9sb2csYW1wOiExfTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXsiYW1wIj09PXQucGFyYW1zLmludGVncmF0aW9uTW9kZSYmKHMuYW1wPSEwKX0pKSxzfWZ1bmN0aW9uIGJ1aWxkQ2RiVXJsKHQpe3ZhciBlPUNEQl9FTkRQT0lOVDtyZXR1cm4gZSs9Ij9wcm9maWxlSWQ9IitQUk9GSUxFX0lEX0lOTElORSxlKz0iJmF2PSIrU3RyaW5nKEFEQVBURVJfVkVSU0lPTiksZSs9IiZ3dj0iK2VuY29kZVVSSUNvbXBvbmVudCgiNS4yMC4yIiksZSs9IiZjYj0iK1N0cmluZyhNYXRoLmZsb29yKDk5OTk5OTk5OTk5Kk1hdGgucmFuZG9tKCkpKSx0LmFtcCYmKGUrPSImaW09MSIpLHQuZGVidWcmJihlKz0iJmRlYnVnPTEiKSx0Lm5vTG9nJiYoZSs9IiZub2xvZz0xIiksZX1mdW5jdGlvbiBjaGVja05hdGl2ZVNlbmRJZCh0KXtyZXR1cm4hKHQubmF0aXZlUGFyYW1zJiYodC5uYXRpdmVQYXJhbXMuaW1hZ2UmJighMCE9PXQubmF0aXZlUGFyYW1zLmltYWdlLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5pbWFnZS5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLmljb24mJighMCE9PXQubmF0aXZlUGFyYW1zLmljb24uc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLmljb24uc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5jbGlja1VybCYmKCEwIT09dC5uYXRpdmVQYXJhbXMuY2xpY2tVcmwuc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLmNsaWNrVXJsLnNlbmRUYXJnZXRpbmdLZXlzKXx8dC5uYXRpdmVQYXJhbXMuZGlzcGxheVVybCYmKCEwIT09dC5uYXRpdmVQYXJhbXMuZGlzcGxheVVybC5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMuZGlzcGxheVVybC5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLnByaXZhY3lMaW5rJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5wcml2YWN5TGluay5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMucHJpdmFjeUxpbmsuc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5wcml2YWN5SWNvbiYmKCEwIT09dC5uYXRpdmVQYXJhbXMucHJpdmFjeUljb24uc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLnByaXZhY3lJY29uLnNlbmRUYXJnZXRpbmdLZXlzKSkpfWZ1bmN0aW9uIGJ1aWxkQ2RiUmVxdWVzdCh0LGUscil7dmFyIGkscz17cHVibGlzaGVyOnt1cmw6dC51cmwsZXh0OnIucHVibGlzaGVyRXh0fSxzbG90czplLm1hcCgoZnVuY3Rpb24odCl7aT10LnBhcmFtcy5uZXR3b3JrSWR8fGk7dmFyIGU9e2ltcGlkOnQuYWRVbml0Q29kZSx0cmFuc2FjdGlvbmlkOnQudHJhbnNhY3Rpb25JZCxhdWN0aW9uSWQ6dC5hdWN0aW9uSWR9O2lmKHQucGFyYW1zLnpvbmVJZCYmKGUuem9uZWlkPXQucGFyYW1zLnpvbmVJZCksT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2VzcykodCwib3J0YjJJbXAuZXh0IikmJihlLmV4dD10Lm9ydGIySW1wLmV4dCksdC5wYXJhbXMuZXh0JiYoZS5leHQ9X2V4dGVuZHMoe30sZS5leHQsdC5wYXJhbXMuZXh0KSksdC5wYXJhbXMucHVibGlzaGVyU3ViSWQmJihlLnB1Ymxpc2hlcnN1YmlkPXQucGFyYW1zLnB1Ymxpc2hlclN1YklkKSx0LnBhcmFtcy5uYXRpdmVDYWxsYmFja3x8T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2VzcykodCwibWVkaWFUeXBlcy4iLmNvbmNhdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY19tZWRpYVR5cGVzX2pzX18uYykpPyhlLm5hdGl2ZT0hMCxjaGVja05hdGl2ZVNlbmRJZCh0KXx8T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybikoTE9HX1BSRUZJWCsiYWxsIG5hdGl2ZSBhc3NldHMgY29udGFpbmluZyBVUkwgc2hvdWxkIGJlIHNlbnQgYXMgcGxhY2Vob2xkZXJzIHdpdGggc2VuZElkKGljb24sIGltYWdlLCBjbGlja1VybCwgZGlzcGxheVVybCwgcHJpdmFjeUxpbmssIHByaXZhY3lJY29uKSIpLGUuc2l6ZXM9cGFyc2VTaXplcyhyZXRyaWV2ZUJhbm5lclNpemVzKHQpLHBhcnNlTmF0aXZlU2l6ZSkpOmUuc2l6ZXM9cGFyc2VTaXplcyhyZXRyaWV2ZUJhbm5lclNpemVzKHQpLHBhcnNlU2l6ZSksaGFzVmlkZW9NZWRpYVR5cGUodCkpe3ZhciByPXtwbGF5ZXJzaXplczpwYXJzZVNpemVzKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpLHBhcnNlU2l6ZSksbWltZXM6dC5tZWRpYVR5cGVzLnZpZGVvLm1pbWVzLHByb3RvY29sczp0Lm1lZGlhVHlwZXMudmlkZW8ucHJvdG9jb2xzLG1heGR1cmF0aW9uOnQubWVkaWFUeXBlcy52aWRlby5tYXhkdXJhdGlvbixhcGk6dC5tZWRpYVR5cGVzLnZpZGVvLmFwaSxza2lwOnQubWVkaWFUeXBlcy52aWRlby5za2lwLHBsYWNlbWVudDp0Lm1lZGlhVHlwZXMudmlkZW8ucGxhY2VtZW50LG1pbmR1cmF0aW9uOnQubWVkaWFUeXBlcy52aWRlby5taW5kdXJhdGlvbixwbGF5YmFja21ldGhvZDp0Lm1lZGlhVHlwZXMudmlkZW8ucGxheWJhY2ttZXRob2Qsc3RhcnRkZWxheTp0Lm1lZGlhVHlwZXMudmlkZW8uc3RhcnRkZWxheX0scz10LnBhcmFtcy52aWRlbzt2b2lkIDAhPT1zJiYoci5za2lwPXIuc2tpcHx8cy5za2lwfHwwLHIucGxhY2VtZW50PXIucGxhY2VtZW50fHxzLnBsYWNlbWVudCxyLm1pbmR1cmF0aW9uPXIubWluZHVyYXRpb258fHMubWluZHVyYXRpb24sci5wbGF5YmFja21ldGhvZD1yLnBsYXliYWNrbWV0aG9kfHxzLnBsYXliYWNrbWV0aG9kLHIuc3RhcnRkZWxheT1yLnN0YXJ0ZGVsYXl8fHMuc3RhcnRkZWxheXx8MCksZS52aWRlbz1yfXJldHVybiBlfSkpfTtyZXR1cm4gaSYmKHMucHVibGlzaGVyLm5ldHdvcmtpZD1pKSxzLnVzZXI9e2V4dDpyLnVzZXJFeHR9LHImJnIuY2VoJiYocy51c2VyLmNlaD1yLmNlaCksciYmci5nZHByQ29uc2VudCYmKHMuZ2RwckNvbnNlbnQ9e30sdm9pZCAwIT09ci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHMuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM9ISFyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxzLmdkcHJDb25zZW50LnZlcnNpb249ci5nZHByQ29uc2VudC5hcGlWZXJzaW9uLHZvaWQgMCE9PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHMuZ2RwckNvbnNlbnQuY29uc2VudERhdGE9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksciYmci51c3BDb25zZW50JiYocy51c2VyLnVzcElhYj1yLnVzcENvbnNlbnQpLHN9ZnVuY3Rpb24gcmV0cmlldmVCYW5uZXJTaXplcyh0KXtyZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2VzcykodCwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKXx8dC5zaXplc31mdW5jdGlvbiBwYXJzZVNpemVzKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodFswXSk/dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSkpOltlKHQpXX1mdW5jdGlvbiBwYXJzZVNpemUodCl7cmV0dXJuIHRbMF0rIngiK3RbMV19ZnVuY3Rpb24gcGFyc2VOYXRpdmVTaXplKHQpe3JldHVybiB2b2lkIDA9PT10WzBdJiZ2b2lkIDA9PT10WzFdPyIyeDIiOnRbMF0rIngiK3RbMV19ZnVuY3Rpb24gaGFzVmlkZW9NZWRpYVR5cGUodCl7cmV0dXJuIHZvaWQgMCE9PU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMudmlkZW8iKX1mdW5jdGlvbiBoYXNWYWxpZFZpZGVvTWVkaWFUeXBlKHQpe3ZhciBlPSEwO2lmKFsibWltZXMiLCJwbGF5ZXJTaXplIiwibWF4ZHVyYXRpb24iLCJwcm90b2NvbHMiLCJhcGkiLCJza2lwIiwicGxhY2VtZW50IiwicGxheWJhY2ttZXRob2QiXS5mb3JFYWNoKChmdW5jdGlvbihyKXt2b2lkIDA9PT1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLnZpZGVvLiIrcikmJnZvaWQgMD09PU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy52aWRlby4iK3IpJiYoZT0hMSxPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5sb2dFcnJvcikoIkNyaXRlbyBCaWQgQWRhcHRlcjogbWVkaWFUeXBlcy52aWRlby4iK3IrIiBpcyByZXF1aXJlZCIpKX0pKSxlKXt2YXIgcj10Lm1lZGlhVHlwZXMudmlkZW8ucGxhY2VtZW50fHx0LnBhcmFtcy52aWRlby5wbGFjZW1lbnQ7aWYoImluc3RyZWFtIj09dC5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJjE9PT1yKXJldHVybiEwO2lmKCJvdXRzdHJlYW0iPT10Lm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCYmMSE9PXIpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gY3JlYXRlUHJlYmlkTmF0aXZlQWQodCl7cmV0dXJue3NlbmRUYXJnZXRpbmdLZXlzOiExLHRpdGxlOnQucHJvZHVjdHNbMF0udGl0bGUsYm9keTp0LnByb2R1Y3RzWzBdLmRlc2NyaXB0aW9uLHNwb25zb3JlZEJ5OnQuYWR2ZXJ0aXNlci5kZXNjcmlwdGlvbixpY29uOnQuYWR2ZXJ0aXNlci5sb2dvLGltYWdlOnQucHJvZHVjdHNbMF0uaW1hZ2UsY2xpY2tVcmw6dC5wcm9kdWN0c1swXS5jbGlja191cmwscHJpdmFjeUxpbms6dC5wcml2YWN5Lm9wdG91dF9jbGlja191cmwscHJpdmFjeUljb246dC5wcml2YWN5Lm9wdG91dF9pbWFnZV91cmwsY3RhOnQucHJvZHVjdHNbMF0uY2FsbF90b19hY3Rpb24scHJpY2U6dC5wcm9kdWN0c1swXS5wcmljZSxpbXByZXNzaW9uVHJhY2tlcnM6dC5pbXByZXNzaW9uX3BpeGVscy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnVybH0pKX19ZnVuY3Rpb24gY3JlYXRlTmF0aXZlQWQodCxlLHIpe3ZhciBpPSJjcml0ZW9fcHJlYmlkX25hdGl2ZV9zbG90cyI7cmV0dXJuIHdpbmRvd1tpXT13aW5kb3dbaV18fHt9LHdpbmRvd1tpXVt0XT17Y2FsbGJhY2s6cixwYXlsb2FkOmV9LCdcbjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5cbmZvciAodmFyIGkgPSAwOyBpIDwgMTA7ICsraSkge1xuIHZhciBzbG90cyA9IHdpbmRvdy5wYXJlbnQuJy5jb25jYXQoaSwnO1xuICBpZighc2xvdHMpe2NvbnRpbnVlO31cbiAgdmFyIHJlc3BvbnNlU2xvdCA9IHNsb3RzWyInKS5jb25jYXQodCwnIl07XG4gIHJlc3BvbnNlU2xvdC5jYWxsYmFjayhyZXNwb25zZVNsb3QucGF5bG9hZCk7XG4gIGJyZWFrO1xufVxuPFwvc2NyaXB0PicpfWZ1bmN0aW9uIGNhbkZhc3RCaWQodCl7cmV0dXJuIHQhPT1GQVNUX0JJRF9WRVJTSU9OX05PTkV9ZnVuY3Rpb24gZ2V0RmFzdEJpZFVybCh0KXt2YXIgZTtpZih0PT09RkFTVF9CSURfVkVSU0lPTl9MQVRFU1QpZT0iIjtlbHNlIGlmKHQpe1N0cmluZyh0KS5zcGxpdCgiLiIpWzBdPDEwMiYmT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybikoIlNwZWNpZnlpbmcgYSBGYXN0YmlkIHZlcnNpb24gd2hpY2ggaXMgbm90IHN1cHBvcnRpbmcgdmVyc2lvbiBzZWxlY3Rpb24uIiksZT0iLiIrdH1lbHNlIGU9Ii4iK0ZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVDtyZXR1cm4gUFVCTElTSEVSX1RBR19VUkxfVEVNUExBVEUucmVwbGFjZShGQVNUX0JJRF9WRVJTSU9OX1BMQUNFSE9MREVSLGUpfWZ1bmN0aW9uIHRyeUdldENyaXRlb0Zhc3RCaWQoKXt0cnl7dmFyIGZhc3RCaWRTdG9yYWdlS2V5PSJjcml0ZW9fZmFzdF9iaWQiLGhhc2hQcmVmaXg9Ii8vIEhhc2g6ICIsZmFzdEJpZEZyb21TdG9yYWdlPXN0b3JhZ2UuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoZmFzdEJpZFN0b3JhZ2VLZXkpO2lmKG51bGwhPT1mYXN0QmlkRnJvbVN0b3JhZ2Upe3ZhciBmaXJzdExpbmVFbmRQb3NpdGlvbj1mYXN0QmlkRnJvbVN0b3JhZ2UuaW5kZXhPZigiXG4iKSxmaXJzdExpbmU9ZmFzdEJpZEZyb21TdG9yYWdlLnN1YnN0cigwLGZpcnN0TGluZUVuZFBvc2l0aW9uKS50cmltKCk7aWYoZmlyc3RMaW5lLnN1YnN0cigwLGhhc2hQcmVmaXgubGVuZ3RoKSE9PWhhc2hQcmVmaXgpT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybikoIk5vIGhhc2ggZm91bmQgaW4gRmFzdEJpZCIpLHN0b3JhZ2UucmVtb3ZlRGF0YUZyb21Mb2NhbFN0b3JhZ2UoZmFzdEJpZFN0b3JhZ2VLZXkpO2Vsc2V7dmFyIHB1Ymxpc2hlclRhZ0hhc2g9Zmlyc3RMaW5lLnN1YnN0cihoYXNoUHJlZml4Lmxlbmd0aCkscHVibGlzaGVyVGFnPWZhc3RCaWRGcm9tU3RvcmFnZS5zdWJzdHIoZmlyc3RMaW5lRW5kUG9zaXRpb24rMSk7T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfXy52ZXJpZnkpKHB1Ymxpc2hlclRhZyxwdWJsaXNoZXJUYWdIYXNoLEZBU1RfQklEX1BVQktFWV9OLEZBU1RfQklEX1BVQktFWV9FKT8oT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nSW5mbykoIlVzaW5nIENyaXRlbyBGYXN0QmlkIiksZXZhbChwdWJsaXNoZXJUYWcpKTooT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybikoIkludmFsaWQgQ3JpdGVvIEZhc3RCaWQgZm91bmQiKSxzdG9yYWdlLnJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlKGZhc3RCaWRTdG9yYWdlS2V5KSl9fX1jYXRjaCh0KXt9fU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19hZGFwdGVyc19iaWRkZXJGYWN0b3J5X2pzX18ucmVnaXN0ZXJCaWRkZXIpKHNwZWMpfSw3ODpmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1yKDc5KSxzPXIoODApO2UudmVyaWZ5PWZ1bmN0aW9uKHQsZSxyLGEpe3ZhciBfPW5ldyBpLkJpZ0ludGVnZXIoaS5iNjR0b0hleChlKSksbz1uZXcgaS5CaWdJbnRlZ2VyKGkuYjY0dG9IZXgocikpLG49Xy5tb2RQb3dJbnQoYSxvKTtyZXR1cm4gaS5yZW1vdmVFeHRyYVN5bWJvbHMobi50b0hleFN0cmluZygpKT09PXMuU2hhMjU2Lmhhc2godCl9fSw3OTpmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7bnVsbCE9PXQmJnRoaXMuZnJvbUhleFN0cmluZyh0KX1yZXR1cm4gdC5wcm90b3R5cGUudG9IZXhTdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLnM8MClyZXR1cm4iLSIrdGhpcy5uZWdhdGUoKS50b0hleFN0cmluZygpO3ZhciB0LGU9ITEscj0iIixpPXRoaXMudCxzPXRoaXMuREItaSp0aGlzLkRCJTQ7aWYoaS0tID4wKWZvcihzPHRoaXMuREImJih0PXRoaXNbaV0+PnMpPjAmJihlPSEwLHI9ZCh0KSk7aT49MDspczw0Pyh0PSh0aGlzW2ldJigxPDxzKS0xKTw8NC1zLHR8PXRoaXNbLS1pXT4+KHMrPXRoaXMuREItNCkpOih0PXRoaXNbaV0+PihzLT00KSYxNSxzPD0wJiYocys9dGhpcy5EQiwtLWkpKSx0PjAmJihlPSEwKSxlJiYocis9ZCh0KSk7cmV0dXJuIGU/cjoiMCJ9LHQucHJvdG90eXBlLmZyb21IZXhTdHJpbmc9ZnVuY3Rpb24oZSl7aWYobnVsbCE9PWUpe3RoaXMudD0wLHRoaXMucz0wO2Zvcih2YXIgcj1lLmxlbmd0aCxpPSExLHM9MDstLXI+PTA7KXt2YXIgYT1wKGUscik7YTwwPyItIj09ZS5jaGFyQXQocikmJihpPSEwKTooaT0hMSwwPT1zP3RoaXNbdGhpcy50KytdPWE6cys0PnRoaXMuREI/KHRoaXNbdGhpcy50LTFdfD0oYSYoMTw8dGhpcy5EQi1zKS0xKTw8cyx0aGlzW3RoaXMudCsrXT1hPj50aGlzLkRCLXMpOnRoaXNbdGhpcy50LTFdfD1hPDxzLChzKz00KT49dGhpcy5EQiYmKHMtPXRoaXMuREIpKX0wLHRoaXMuY2xhbXAoKSxpJiZ0LlpFUk8uc3ViVG8odGhpcyx0aGlzKX19LHQucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3ZhciBlPWEoKTtyZXR1cm4gdC5aRVJPLnN1YlRvKHRoaXMsZSksZX0sdC5wcm90b3R5cGUuYWJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuczwwP3RoaXMubmVnYXRlKCk6dGhpc30sdC5wcm90b3R5cGUubW9kPWZ1bmN0aW9uKGUpe3ZhciByPWEoKTtyZXR1cm4gdGhpcy5hYnMoKS5kaXZSZW1UbyhlLG51bGwsciksdGhpcy5zPDAmJnIuY29tcGFyZVRvKHQuWkVSTyk+MCYmZS5zdWJUbyhyLHIpLHJ9LHQucHJvdG90eXBlLmNvcHlUbz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50LTE7ZT49MDstLWUpdFtlXT10aGlzW2VdO3QudD10aGlzLnQsdC5zPXRoaXMuc30sdC5wcm90b3R5cGUubFNoaWZ0VG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dCV0aGlzLkRCLGk9dGhpcy5EQi1yLHM9KDE8PGkpLTEsYT1NYXRoLmZsb29yKHQvdGhpcy5EQiksXz10aGlzLnM8PHImdGhpcy5ETSxvPXRoaXMudC0xO28+PTA7LS1vKWVbbythKzFdPXRoaXNbb10+Pml8XyxfPSh0aGlzW29dJnMpPDxyO2ZvcihvPWEtMTtvPj0wOy0tbyllW29dPTA7ZVthXT1fLGUudD10aGlzLnQrYSsxLGUucz10aGlzLnMsZS5jbGFtcCgpfSx0LnByb3RvdHlwZS5pbnZEaWdpdD1mdW5jdGlvbigpe2lmKHRoaXMudDwxKXJldHVybiAwO3ZhciB0PXRoaXNbMF07aWYoMD09KDEmdCkpcmV0dXJuIDA7dmFyIGU9MyZ0O3JldHVybihlPShlPShlPShlPWUqKDItKDE1JnQpKmUpJjE1KSooMi0oMjU1JnQpKmUpJjI1NSkqKDItKCg2NTUzNSZ0KSplJjY1NTM1KSkmNjU1MzUpKigyLXQqZSV0aGlzLkRWKSV0aGlzLkRWKT4wP3RoaXMuRFYtZTotZX0sdC5wcm90b3R5cGUuZGxTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7dmFyIHI7Zm9yKHI9dGhpcy50LTE7cj49MDstLXIpZVtyK3RdPXRoaXNbcl07Zm9yKHI9dC0xO3I+PTA7LS1yKWVbcl09MDtlLnQ9dGhpcy50K3QsZS5zPXRoaXMuc30sdC5wcm90b3R5cGUuc3F1YXJlVG89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuYWJzKCkscj10LnQ9MiplLnQ7LS1yPj0wOyl0W3JdPTA7Zm9yKHI9MDtyPGUudC0xOysrcil7dmFyIGk9ZS5hbShyLGVbcl0sdCwyKnIsMCwxKTsodFtyK2UudF0rPWUuYW0ocisxLDIqZVtyXSx0LDIqcisxLGksZS50LXItMSkpPj1lLkRWJiYodFtyK2UudF0tPWUuRFYsdFtyK2UudCsxXT0xKX10LnQ+MCYmKHRbdC50LTFdKz1lLmFtKHIsZVtyXSx0LDIqciwwLDEpKSx0LnM9MCx0LmNsYW1wKCl9LHQucHJvdG90eXBlLm11bHRpcGx5VG89ZnVuY3Rpb24oZSxyKXt2YXIgaT10aGlzLmFicygpLHM9ZS5hYnMoKSxhPWkudDtmb3Ioci50PWErcy50Oy0tYT49MDspclthXT0wO2ZvcihhPTA7YTxzLnQ7KythKXJbYStpLnRdPWkuYW0oMCxzW2FdLHIsYSwwLGkudCk7ci5zPTAsci5jbGFtcCgpLHRoaXMucyE9ZS5zJiZ0LlpFUk8uc3ViVG8ocixyKX0sdC5wcm90b3R5cGUuZGl2UmVtVG89ZnVuY3Rpb24oZSxyLGkpe3ZhciBzPWUuYWJzKCk7aWYoIShzLnQ8PTApKXt2YXIgbz10aGlzLmFicygpO2lmKG8udDxzLnQpcmV0dXJuIG51bGwhPXImJnIuZnJvbUhleFN0cmluZygiMCIpLHZvaWQobnVsbCE9aSYmdGhpcy5jb3B5VG8oaSkpO251bGw9PWkmJihpPWEoKSk7dmFyIG49YSgpLGM9dGhpcy5zLHA9ZS5zLGQ9dGhpcy5EQi1fKHNbcy50LTFdKTtkPjA/KHMubFNoaWZ0VG8oZCxuKSxvLmxTaGlmdFRvKGQsaSkpOihzLmNvcHlUbyhuKSxvLmNvcHlUbyhpKSk7dmFyIHU9bi50LGw9blt1LTFdO2lmKDAhPWwpe3ZhciBoPWwqKDE8PHRoaXMuRjEpKyh1PjE/blt1LTJdPj50aGlzLkYyOjApLGY9dGhpcy5GVi9oLEU9KDE8PHRoaXMuRjEpL2gsdj0xPDx0aGlzLkYyLG09aS50LFQ9bS11LGI9bnVsbD09cj9hKCk6cjtmb3Iobi5kbFNoaWZ0VG8oVCxiKSxpLmNvbXBhcmVUbyhiKT49MCYmKGlbaS50KytdPTEsaS5zdWJUbyhiLGkpKSx0Lk9ORS5kbFNoaWZ0VG8odSxiKSxiLnN1YlRvKG4sbik7bi50PHU7KW5bbi50KytdPTA7Zm9yKDstLVQ+PTA7KXt2YXIgRD1pWy0tbV09PWw/dGhpcy5ETTpNYXRoLmZsb29yKGlbbV0qZisoaVttLTFdK3YpKkUpO2lmKChpW21dKz1uLmFtKDAsRCxpLFQsMCx1KSk8RClmb3Iobi5kbFNoaWZ0VG8oVCxiKSxpLnN1YlRvKGIsaSk7aVttXTwtLUQ7KWkuc3ViVG8oYixpKX1udWxsIT1yJiYoaS5kclNoaWZ0VG8odSxyKSxjIT1wJiZ0LlpFUk8uc3ViVG8ocixyKSksaS50PXUsaS5jbGFtcCgpLGQ+MCYmaS5yU2hpZnRUbyhkLGkpLGM8MCYmdC5aRVJPLnN1YlRvKGksaSl9fX0sdC5wcm90b3R5cGUuclNoaWZ0VG89ZnVuY3Rpb24odCxlKXtlLnM9dGhpcy5zO3ZhciByPU1hdGguZmxvb3IodC90aGlzLkRCKTtpZihyPj10aGlzLnQpZS50PTA7ZWxzZXt2YXIgaT10JXRoaXMuREIscz10aGlzLkRCLWksYT0oMTw8aSktMTtlWzBdPXRoaXNbcl0+Pmk7Zm9yKHZhciBfPXIrMTtfPHRoaXMudDsrK18pZVtfLXItMV18PSh0aGlzW19dJmEpPDxzLGVbXy1yXT10aGlzW19dPj5pO2k+MCYmKGVbdGhpcy50LXItMV18PSh0aGlzLnMmYSk8PHMpLGUudD10aGlzLnQtcixlLmNsYW1wKCl9fSx0LnByb3RvdHlwZS5kclNoaWZ0VG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dDtyPHRoaXMudDsrK3IpZVtyLXRdPXRoaXNbcl07ZS50PU1hdGgubWF4KHRoaXMudC10LDApLGUucz10aGlzLnN9LHQucHJvdG90eXBlLnN1YlRvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPTAsaT0wLHM9TWF0aC5taW4odC50LHRoaXMudCk7cjxzOylpKz10aGlzW3JdLXRbcl0sZVtyKytdPWkmdGhpcy5ETSxpPj49dGhpcy5EQjtpZih0LnQ8dGhpcy50KXtmb3IoaS09dC5zO3I8dGhpcy50OylpKz10aGlzW3JdLGVbcisrXT1pJnRoaXMuRE0saT4+PXRoaXMuREI7aSs9dGhpcy5zfWVsc2V7Zm9yKGkrPXRoaXMucztyPHQudDspaS09dFtyXSxlW3IrK109aSZ0aGlzLkRNLGk+Pj10aGlzLkRCO2ktPXQuc31lLnM9aTwwPy0xOjAsaTwtMT9lW3IrK109dGhpcy5EVitpOmk+MCYmKGVbcisrXT1pKSxlLnQ9cixlLmNsYW1wKCl9LHQucHJvdG90eXBlLmNsYW1wPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucyZ0aGlzLkRNO3RoaXMudD4wJiZ0aGlzW3RoaXMudC0xXT09dDspLS10aGlzLnR9LHQucHJvdG90eXBlLm1vZFBvd0ludD1mdW5jdGlvbih0LGUpe3ZhciByO3JldHVybiByPXQ8MjU2fHxlLmlzRXZlbigpP25ldyB1KGUpOm5ldyBsKGUpLHRoaXMuZXhwKHQscil9LHQucHJvdG90eXBlLmV4cD1mdW5jdGlvbihlLHIpe2lmKGU+NDI5NDk2NzI5NXx8ZTwxKXJldHVybiB0Lk9ORTt2YXIgaT1hKCkscz1hKCksbz1yLmNvbnZlcnQodGhpcyksbj1fKGUpLTE7Zm9yKG8uY29weVRvKGkpOy0tbj49MDspaWYoci5zcXJUbyhpLHMpLChlJjE8PG4pPjApci5tdWxUbyhzLG8saSk7ZWxzZXt2YXIgYz1pO2k9cyxzPWN9cmV0dXJuIHIucmV2ZXJ0KGkpfSx0LnByb3RvdHlwZS5pc0V2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gMD09KHRoaXMudD4wPzEmdGhpc1swXTp0aGlzLnMpfSx0LnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zLXQucztpZigwIT1lKXJldHVybiBlO3ZhciByPXRoaXMudDtpZigwIT0oZT1yLXQudCkpcmV0dXJuIHRoaXMuczwwPy1lOmU7Zm9yKDstLXI+PTA7KWlmKDAhPShlPXRoaXNbcl0tdFtyXSkpcmV0dXJuIGU7cmV0dXJuIDB9LHQucHJvdG90eXBlLmFtMT1mdW5jdGlvbih0LGUscixpLHMsYSl7Zm9yKDstLWE+PTA7KXt2YXIgXz1lKnRoaXNbdCsrXStyW2ldK3M7cz1NYXRoLmZsb29yKF8vNjcxMDg4NjQpLHJbaSsrXT02NzEwODg2MyZffXJldHVybiBzfSx0LnByb3RvdHlwZS5hbTI9ZnVuY3Rpb24odCxlLHIsaSxzLGEpe2Zvcih2YXIgXz0zMjc2NyZlLG89ZT4+MTU7LS1hPj0wOyl7dmFyIG49MzI3NjcmdGhpc1t0XSxjPXRoaXNbdCsrXT4+MTUscD1vKm4rYypfO3M9KChuPV8qbisoKDMyNzY3JnApPDwxNSkrcltpXSsoMTA3Mzc0MTgyMyZzKSk+Pj4zMCkrKHA+Pj4xNSkrbypjKyhzPj4+MzApLHJbaSsrXT0xMDczNzQxODIzJm59cmV0dXJuIHN9LHQucHJvdG90eXBlLmFtMz1mdW5jdGlvbih0LGUscixpLHMsYSl7Zm9yKHZhciBfPTE2MzgzJmUsbz1lPj4xNDstLWE+PTA7KXt2YXIgbj0xNjM4MyZ0aGlzW3RdLGM9dGhpc1t0KytdPj4xNCxwPW8qbitjKl87cz0oKG49XypuKygoMTYzODMmcCk8PDE0KStyW2ldK3MpPj4yOCkrKHA+PjE0KStvKmMscltpKytdPTI2ODQzNTQ1NSZufXJldHVybiBzfSx0fSgpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gbmV3IHMobnVsbCl9ZnVuY3Rpb24gXyh0KXt2YXIgZSxyPTE7cmV0dXJuIDAhPShlPXQ+Pj4xNikmJih0PWUscis9MTYpLDAhPShlPXQ+PjgpJiYodD1lLHIrPTgpLDAhPShlPXQ+PjQpJiYodD1lLHIrPTQpLDAhPShlPXQ+PjIpJiYodD1lLHIrPTIpLDAhPShlPXQ+PjEpJiYodD1lLHIrPTEpLHJ9ZS5CaWdJbnRlZ2VyPXMsZS5uYmk9YSxlLm5iaXRzPV87dmFyIG8sbixjPVtdO2ZvcihvPSIwIi5jaGFyQ29kZUF0KDApLG49MDtuPD05OysrbiljW28rK109bjtmb3Iobz0iYSIuY2hhckNvZGVBdCgwKSxuPTEwO248MzY7KytuKWNbbysrXT1uO2ZvcihvPSJBIi5jaGFyQ29kZUF0KDApLG49MTA7bjwzNjsrK24pY1tvKytdPW47ZnVuY3Rpb24gcCh0LGUpe3ZhciByPWNbdC5jaGFyQ29kZUF0KGUpXTtyZXR1cm4gbnVsbD09cj8tMTpyfWUuaW50QXQ9cDtmdW5jdGlvbiBkKHQpe3JldHVybiIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiLmNoYXJBdCh0KX1lLmludDJjaGFyPWQ7ZS5iNjR0b0hleD1mdW5jdGlvbih0KXt2YXIgZSxyPSIiLGk9MCxzPTA7Zm9yKGU9MDtlPHQubGVuZ3RoJiYiPSIhPXQuY2hhckF0KGUpOysrZSl7dmFyIGE9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLmluZGV4T2YodC5jaGFyQXQoZSkpO2E8MHx8KDA9PWk/KHIrPWQoYT4+Mikscz0zJmEsaT0xKToxPT1pPyhyKz1kKHM8PDJ8YT4+NCkscz0xNSZhLGk9Mik6Mj09aT8ocis9ZChzKSxyKz1kKGE+PjIpLHM9MyZhLGk9Myk6KHIrPWQoczw8MnxhPj40KSxyKz1kKDE1JmEpLGk9MCkpfXJldHVybiAxPT1pJiYocis9ZChzPDwyKSkscn0sZS5yZW1vdmVFeHRyYVN5bWJvbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXjFmKzAwLywiIikucmVwbGFjZSgiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjAiLCIiKX07dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubT10fXJldHVybiB0LnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnM8MHx8dC5jb21wYXJlVG8odGhpcy5tKT49MD90Lm1vZCh0aGlzLm0pOnR9LHQucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sdC5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQpe3QuZGl2UmVtVG8odGhpcy5tLG51bGwsdCl9LHQucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKHQsZSxyKXt0Lm11bHRpcGx5VG8oZSxyKSx0aGlzLnJlZHVjZShyKX0sdC5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24odCxlKXt0LnNxdWFyZVRvKGUpLHRoaXMucmVkdWNlKGUpfSx0fSgpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubT10LHRoaXMubXA9dC5pbnZEaWdpdCgpLHRoaXMubXBsPTMyNzY3JnRoaXMubXAsdGhpcy5tcGg9dGhpcy5tcD4+MTUsdGhpcy51bT0oMTw8dC5EQi0xNSktMSx0aGlzLm10Mj0yKnQudH1yZXR1cm4gdC5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbih0KXt2YXIgZT1hKCk7cmV0dXJuIHQuYWJzKCkuZGxTaGlmdFRvKHRoaXMubS50LGUpLGUuZGl2UmVtVG8odGhpcy5tLG51bGwsZSksdC5zPDAmJmUuY29tcGFyZVRvKHMuWkVSTyk+MCYmdGhpcy5tLnN1YlRvKGUsZSksZX0sdC5wcm90b3R5cGUucmV2ZXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPWEoKTtyZXR1cm4gdC5jb3B5VG8oZSksdGhpcy5yZWR1Y2UoZSksZX0sdC5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQpe2Zvcig7dC50PD10aGlzLm10MjspdFt0LnQrK109MDtmb3IodmFyIGU9MDtlPHRoaXMubS50OysrZSl7dmFyIHI9MzI3NjcmdFtlXSxpPXIqdGhpcy5tcGwrKChyKnRoaXMubXBoKyh0W2VdPj4xNSkqdGhpcy5tcGwmdGhpcy51bSk8PDE1KSZ0LkRNO2Zvcih0W3I9ZSt0aGlzLm0udF0rPXRoaXMubS5hbSgwLGksdCxlLDAsdGhpcy5tLnQpO3Rbcl0+PXQuRFY7KXRbcl0tPXQuRFYsdFsrK3JdKyt9dC5jbGFtcCgpLHQuZHJTaGlmdFRvKHRoaXMubS50LHQpLHQuY29tcGFyZVRvKHRoaXMubSk+PTAmJnQuc3ViVG8odGhpcy5tLHQpfSx0LnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbih0LGUscil7dC5tdWx0aXBseVRvKGUsciksdGhpcy5yZWR1Y2Uocil9LHQucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKHQsZSl7dC5zcXVhcmVUbyhlKSx0aGlzLnJlZHVjZShlKX0sdH0oKTtmdW5jdGlvbiBoKHQpe3ZhciBlPWEoKTtyZXR1cm4gZS5mcm9tSGV4U3RyaW5nKHQudG9TdHJpbmcoKSksZX1lLm5idj1oLHMuWkVSTz1oKDApLHMuT05FPWgoMSksIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlciI9PW5hdmlnYXRvci5hcHBOYW1lPyhzLnByb3RvdHlwZS5hbT1zLnByb3RvdHlwZS5hbTIsaT0zMCk6Ik5ldHNjYXBlIiE9bmF2aWdhdG9yLmFwcE5hbWU/KHMucHJvdG90eXBlLmFtPXMucHJvdG90eXBlLmFtMSxpPTI2KToocy5wcm90b3R5cGUuYW09cy5wcm90b3R5cGUuYW0zLGk9MjgpLHMucHJvdG90eXBlLkRCPWkscy5wcm90b3R5cGUuRE09KDE8PGkpLTEscy5wcm90b3R5cGUuRFY9MTw8aTtzLnByb3RvdHlwZS5GVj1NYXRoLnBvdygyLDUyKSxzLnByb3RvdHlwZS5GMT01Mi1pLHMucHJvdG90eXBlLkYyPTIqaS01Mn0sODA6ZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0Lmhhc2g9ZnVuY3Rpb24oZSl7ZT10LnV0ZjhFbmNvZGUoZXx8IiIpO2Zvcih2YXIgcj1bMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XSxpPVsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0scz0oZSs9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjgpKS5sZW5ndGgvNCsyLGE9TWF0aC5jZWlsKHMvMTYpLF89bmV3IEFycmF5KGEpLG89MDtvPGE7bysrKXtfW29dPW5ldyBBcnJheSgxNik7Zm9yKHZhciBuPTA7bjwxNjtuKyspX1tvXVtuXT1lLmNoYXJDb2RlQXQoNjQqbys0Km4pPDwyNHxlLmNoYXJDb2RlQXQoNjQqbys0Km4rMSk8PDE2fGUuY2hhckNvZGVBdCg2NCpvKzQqbisyKTw8OHxlLmNoYXJDb2RlQXQoNjQqbys0Km4rMyk8PDB9dmFyIGM9OCooZS5sZW5ndGgtMSkvTWF0aC5wb3coMiwzMikscD04KihlLmxlbmd0aC0xKT4+PjA7X1thLTFdWzE0XT1NYXRoLmZsb29yKGMpLF9bYS0xXVsxNV09cDtmb3Iobz0wO288YTtvKyspe2Zvcih2YXIgZD1uZXcgQXJyYXkoNjQpLHU9MDt1PDE2O3UrKylkW3VdPV9bb11bdV07Zm9yKHU9MTY7dTw2NDt1KyspZFt1XT10LnExKGRbdS0yXSkrZFt1LTddK3QucTAoZFt1LTE1XSkrZFt1LTE2XT4+PjA7dmFyIGw9aVswXSxoPWlbMV0sZj1pWzJdLEU9aVszXSx2PWlbNF0sbT1pWzVdLFQ9aVs2XSxiPWlbN107Zm9yKHU9MDt1PDY0O3UrKyl7dmFyIEQ9Yit0LnoxKHYpK3QuQ2godixtLFQpK3JbdV0rZFt1XSx5PXQuejAobCkrdC5NYWoobCxoLGYpO2I9VCxUPW0sbT12LHY9RStEPj4+MCxFPWYsZj1oLGg9bCxsPUQreT4+PjB9aVswXT1pWzBdK2w+Pj4wLGlbMV09aVsxXStoPj4+MCxpWzJdPWlbMl0rZj4+PjAsaVszXT1pWzNdK0U+Pj4wLGlbNF09aVs0XSt2Pj4+MCxpWzVdPWlbNV0rbT4+PjAsaVs2XT1pWzZdK1Q+Pj4wLGlbN109aVs3XStiPj4+MH12YXIgTz1uZXcgQXJyYXkoaS5sZW5ndGgpO2ZvcihiPTA7YjxpLmxlbmd0aDtiKyspT1tiXT0oIjAwMDAwMDAwIitpW2JdLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTgpO3JldHVybiBPLmpvaW4oIiIpfSx0LnV0ZjhFbmNvZGU9ZnVuY3Rpb24odCl7dHJ5e3JldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZSh0KS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrU3RyaW5nLmZyb21DaGFyQ29kZShlKX0pLCIiKX1jYXRjaChlKXtyZXR1cm4gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHQpKX19LHQuUk9UUj1mdW5jdGlvbih0LGUpe3JldHVybiBlPj4+dHxlPDwzMi10fSx0LnowPWZ1bmN0aW9uKGUpe3JldHVybiB0LlJPVFIoMixlKV50LlJPVFIoMTMsZSledC5ST1RSKDIyLGUpfSx0LnoxPWZ1bmN0aW9uKGUpe3JldHVybiB0LlJPVFIoNixlKV50LlJPVFIoMTEsZSledC5ST1RSKDI1LGUpfSx0LnEwPWZ1bmN0aW9uKGUpe3JldHVybiB0LlJPVFIoNyxlKV50LlJPVFIoMTgsZSleZT4+PjN9LHQucTE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuUk9UUigxNyxlKV50LlJPVFIoMTksZSleZT4+PjEwfSx0LkNoPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdCZlXn50JnJ9LHQuTWFqPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdCZlXnQmcl5lJnJ9LHR9KCk7ZS5TaGEyNTY9aX19LFszOTVdKTsKdXBianNDaHVuayhbMjg5XSx7Mzk5OmZ1bmN0aW9uKGUscixuKXtlLmV4cG9ydHM9big0MDApfSw0MDA6ZnVuY3Rpb24oZSxyLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHIsImN1cnJlbmN5U3VwcG9ydEVuYWJsZWQiLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZChyLCJjdXJyZW5jeVJhdGVzIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxyLnNldENvbmZpZz1DLHIuYWRkQmlkUmVzcG9uc2VIb29rPUQ7dmFyIG89bigwKSxjPW4oMTQpLHQ9bigzOSksaT1uKDUpLGE9KG4ubihpKSxuKDQpKSx1PW4oMykscz1uKDkpO2Z1bmN0aW9uIGYoZSl7cmV0dXJuKGY9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgZCxsPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvcHJlYmlkL2N1cnJlbmN5LWZpbGVAMS9sYXRlc3QuanNvbj9kYXRlPSQkVE9EQVkkJCIseT1bXSxiPXt9LGc9ITEsdj0hMCxwPSJVU0QiLGg9ITEsTz17fSxqPXt9O2Z1bmN0aW9uIEMoZSl7dmFyIHI9bDtpZigib2JqZWN0Ij09PWYoZS5yYXRlcykmJihPLmNvbnZlcnNpb25zPWUucmF0ZXMsZz0hMCx2PSExKSwib2JqZWN0Ij09PWYoZS5kZWZhdWx0UmF0ZXMpJiYoZD1lLmRlZmF1bHRSYXRlcyxPLmNvbnZlcnNpb25zPWQsZz0hMCksInN0cmluZyI9PXR5cGVvZiBlLmFkU2VydmVyQ3VycmVuY3kpe09iamVjdChvLmxvZ0luZm8pKCJlbmFibGluZyBjdXJyZW5jeSBzdXBwb3J0Iixhcmd1bWVudHMpLHA9ZS5hZFNlcnZlckN1cnJlbmN5LGUuY29udmVyc2lvblJhdGVGaWxlJiYoT2JqZWN0KG8ubG9nSW5mbykoImN1cnJlbmN5IHVzaW5nIG92ZXJyaWRlIGNvbnZlcnNpb25SYXRlRmlsZToiLGUuY29udmVyc2lvblJhdGVGaWxlKSxyPWUuY29udmVyc2lvblJhdGVGaWxlKTt2YXIgbj1yLmluZGV4T2YoIiQkVE9EQVkkJCIpO2lmKC0xIT09bil7dmFyIGM9bmV3IERhdGUsdD0iIi5jb25jYXQoYy5nZXRNb250aCgpKzEpLGk9IiIuY29uY2F0KGMuZ2V0RGF0ZSgpKTt0Lmxlbmd0aDwyJiYodD0iMCIuY29uY2F0KHQpKSxpLmxlbmd0aDwyJiYoaT0iMCIuY29uY2F0KGkpKTt2YXIgYT0iIi5jb25jYXQoYy5nZXRGdWxsWWVhcigpKS5jb25jYXQodCkuY29uY2F0KGkpO3I9IiIuY29uY2F0KHIuc3Vic3RyaW5nKDAsbikpLmNvbmNhdChhKS5jb25jYXQoci5zdWJzdHJpbmcobis5LHIubGVuZ3RoKSl9bShyKX1lbHNlIE9iamVjdChvLmxvZ0luZm8pKCJkaXNhYmxpbmcgY3VycmVuY3kgc3VwcG9ydCIpLFIoKTsib2JqZWN0Ij09PWYoZS5iaWRkZXJDdXJyZW5jeURlZmF1bHQpJiYoaj1lLmJpZGRlckN1cnJlbmN5RGVmYXVsdCl9ZnVuY3Rpb24gUyhlKXtkPyhPYmplY3Qoby5sb2dXYXJuKShlKSxPYmplY3Qoby5sb2dXYXJuKSgiQ3VycmVuY3kgZmFpbGVkIGxvYWRpbmcgcmF0ZXMsIGZhbGxpbmcgYmFjayB0byBjdXJyZW5jeS5kZWZhdWx0UmF0ZXMiKSk6T2JqZWN0KG8ubG9nRXJyb3IpKGUpfWZ1bmN0aW9uIG0oZSl7Yj17fSxoPSEwLE9iamVjdChvLmxvZ0luZm8pKCJJbnN0YWxsaW5nIGFkZEJpZFJlc3BvbnNlIGRlY29yYXRvciBmb3IgY3VycmVuY3kgbW9kdWxlIixhcmd1bWVudHMpLE9iamVjdChjLmEpKCkuY29udmVydEN1cnJlbmN5PWZ1bmN0aW9uKGUscixuKXtyZXR1cm4gcGFyc2VGbG9hdChlKSp3KHIsbil9LE9iamVjdChzLmEpKCJhZGRCaWRSZXNwb25zZSIpLmJlZm9yZShELDEwMCksdiYmKHY9ITEsT2JqZWN0KGEuYSkoZSx7c3VjY2VzczpmdW5jdGlvbihlKXt0cnl7Tz1KU09OLnBhcnNlKGUpLE9iamVjdChvLmxvZ0luZm8pKCJjdXJyZW5jeVJhdGVzIHNldCB0byAiK0pTT04uc3RyaW5naWZ5KE8pKSxnPSEwLEkoKX1jYXRjaChyKXtTKCJGYWlsZWQgdG8gcGFyc2UgY3VycmVuY3lSYXRlcyByZXNwb25zZTogIitlKX19LGVycm9yOlN9KSl9ZnVuY3Rpb24gUigpe09iamVjdChvLmxvZ0luZm8pKCJVbmluc3RhbGxpbmcgYWRkQmlkUmVzcG9uc2UgZGVjb3JhdG9yIGZvciBjdXJyZW5jeSBtb2R1bGUiLGFyZ3VtZW50cyksT2JqZWN0KHMuYSkoImFkZEJpZFJlc3BvbnNlIikuZ2V0SG9va3Moe2hvb2s6RH0pLnJlbW92ZSgpLGRlbGV0ZSBPYmplY3QoYy5hKSgpLmNvbnZlcnRDdXJyZW5jeSxwPSJVU0QiLGI9e30saD0hMSxnPSExLHY9ITAsTz17fSxqPXt9fWZ1bmN0aW9uIEQoZSxyLG4pe2lmKCFuKXJldHVybiBlLmNhbGwodGhpcyxyKTt2YXIgYz1uLmJpZGRlckNvZGV8fG4uYmlkZGVyO2lmKGpbY10pe3ZhciBhPWpbY107bi5jdXJyZW5jeSYmYSE9PW4uY3VycmVuY3k/T2JqZWN0KG8ubG9nV2FybikoIkN1cnJlbmN5IGRlZmF1bHQgJyIuY29uY2F0KGMsIjogIikuY29uY2F0KGEsIicgaWdub3JlZC4gYWRhcHRlciBzcGVjaWZpZWQgJyIpLmNvbmNhdChuLmN1cnJlbmN5LCInIikpOm4uY3VycmVuY3k9YX1pZihuLmN1cnJlbmN5fHwoT2JqZWN0KG8ubG9nV2FybikoJ0N1cnJlbmN5IG5vdCBzcGVjaWZpZWQgb24gYmlkLiAgRGVmYXVsdGVkIHRvICJVU0QiJyksbi5jdXJyZW5jeT0iVVNEIiksbi5nZXRDcG1Jbk5ld0N1cnJlbmN5PWZ1bmN0aW9uKGUpe3JldHVybihwYXJzZUZsb2F0KHRoaXMuY3BtKSp3KHRoaXMuY3VycmVuY3ksZSkpLnRvRml4ZWQoMyl9LG4uY3VycmVuY3k9PT1wKXJldHVybiBlLmNhbGwodGhpcyxyLG4pO3kucHVzaChmdW5jdGlvbihlLHIsbil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9blsxXTtpZih2b2lkIDAhPT1jJiYiY3VycmVuY3kiaW4gYyYmImNwbSJpbiBjKXt2YXIgYT1jLmN1cnJlbmN5O3RyeXt2YXIgdT13KGEpOzEhPT11JiYoYy5jcG09KHBhcnNlRmxvYXQoYy5jcG0pKnUpLnRvRml4ZWQoNCksYy5jdXJyZW5jeT1wKX1jYXRjaChlKXtPYmplY3Qoby5sb2dXYXJuKSgiUmV0dXJuaW5nIE5PX0JJRCwgZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHRocmV3IGVycm9yOiAiLGUpLG5bMV09T2JqZWN0KHQuYSkoaS5TVEFUVVMuTk9fQklELHtiaWRkZXI6Yy5iaWRkZXJDb2RlfHxjLmJpZGRlcixiaWRJZDpjLnJlcXVlc3RJZH0pfX1yZXR1cm4gZS5hcHBseShyLG4pfX0oZSx0aGlzLFtyLG5dKSksaCYmIWd8fEkoKX1mdW5jdGlvbiBJKCl7Zm9yKDt5Lmxlbmd0aD4wOyl5LnNoaWZ0KCkoKX1mdW5jdGlvbiB3KGUpe3ZhciByLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnAsYz1udWxsLHQ9IiIuY29uY2F0KGUsIi0+IikuY29uY2F0KG4pO2lmKHQgaW4gYiljPWJbdF0sT2JqZWN0KG8ubG9nTWVzc2FnZSkoIlVzaW5nIGNvbnZlcnNpb25DYWNoZSB2YWx1ZSAiK2MrIiBmb3IgIit0KTtlbHNlIGlmKCExPT09aCl7aWYoIlVTRCIhPT1lKXRocm93IG5ldyBFcnJvcigiUHJlYmlkIGN1cnJlbmN5IHN1cHBvcnQgaGFzIG5vdCBiZWVuIGVuYWJsZWQgYW5kIGZyb21DdXJyZW5jeSBpcyBub3QgVVNEIik7Yz0xfWVsc2UgaWYoZT09PW4pYz0xO2Vsc2UgaWYoZSBpbiBPLmNvbnZlcnNpb25zKXtpZighKG4gaW4ocj1PLmNvbnZlcnNpb25zW2VdKSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgYWRTZXJ2ZXJDdXJyZW5jeSBpbiBjb25maWcgJyIrbisiJyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbmN5IHJhdGVzIGZpbGUiKTtjPXJbbl0sT2JqZWN0KG8ubG9nSW5mbykoImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyBkaXJlY3QgIitlKyIgdG8gIituKyIgY29udmVyc2lvblJhdGUgIitjKX1lbHNlIGlmKG4gaW4gTy5jb252ZXJzaW9ucyl7aWYoIShlIGluKHI9Ty5jb252ZXJzaW9uc1tuXSkpKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGZyb21DdXJyZW5jeSAnIitlKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO2M9RigxL3JbZV0sNCksT2JqZWN0KG8ubG9nSW5mbykoImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyByZWNpcHJvY2FsICIrZSsiIHRvICIrbisiIGNvbnZlcnNpb25SYXRlICIrYyl9ZWxzZXt2YXIgaT1PYmplY3Qua2V5cyhPLmNvbnZlcnNpb25zKVswXTtpZighKGUgaW4gTy5jb252ZXJzaW9uc1tpXSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgZnJvbUN1cnJlbmN5ICciK2UrIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7dmFyIGE9MS9PLmNvbnZlcnNpb25zW2ldW2VdO2lmKCEobiBpbiBPLmNvbnZlcnNpb25zW2ldKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBhZFNlcnZlckN1cnJlbmN5IGluIGNvbmZpZyAnIituKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO3ZhciB1PU8uY29udmVyc2lvbnNbaV1bbl07Yz1GKGEqdSw0KSxPYmplY3Qoby5sb2dJbmZvKSgiZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHVzaW5nIGludGVybWVkaWF0ZSAiK2UrIiB0aHJ1ICIraSsiIHRvICIrbisiIGNvbnZlcnNpb25SYXRlICIrYyl9cmV0dXJuIHQgaW4gYnx8KE9iamVjdChvLmxvZ01lc3NhZ2UpKCJBZGRpbmcgY29udmVyc2lvbkNhY2hlIHZhbHVlICIrYysiIGZvciAiK3QpLGJbdF09YyksY31mdW5jdGlvbiBGKGUscil7Zm9yKHZhciBuPTEsbz0wO288cjtvKyspbis9IjAiO3JldHVybiBNYXRoLnJvdW5kKGUqbikvbn11LmIuZ2V0Q29uZmlnKCJjdXJyZW5jeSIsKGZ1bmN0aW9uKGUpe3JldHVybiBDKGUuY3VycmVuY3kpfSkpfX0sWzM5OV0pOwp1cGJqc0NodW5rKFsyODFdLHs0MTc6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDQxOCl9LDQxODpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksci5nZXRGbG9vcj1oLHIuY2xlYW5TaXplcz12LHIuc2h1ZmZsZT1PLHIucmVtb3ZlRHVwbGljYXRlPUEsci51cHRvNT1JLHIubWF0Y2hSZXF1ZXN0PWosci5jaGVja0RlZXBBcnJheT1TLHIuZGVmYXVsdFNpemU9eCxyLmJpbmRVc2VySWQ9dyxyLmdldEFwaT1ULHIuZ2V0UGxheWJhY2ttZXRob2Q9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg+MClyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBiLnBsYXliYWNrX21ldGhvZFtlXX0pKTtyZXR1cm5bMl19LHIuZ2V0UHJvdG9jb2xzPXosci5jbGVhblZhc3Q9Xzt2YXIgbj10KDApLGk9dCgxKSxvPXQoMykscz10KDIpO2Z1bmN0aW9uIGEoZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUscil7dmFyIHQ9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT10KXJldHVybjt2YXIgbixpLG89W10scz0hMCxhPSExO3RyeXtmb3IodD10LmNhbGwoZSk7IShzPShuPXQubmV4dCgpKS5kb25lKSYmKG8ucHVzaChuLnZhbHVlKSwhcnx8by5sZW5ndGghPT1yKTtzPSEwKTt9Y2F0Y2goZSl7YT0hMCxpPWV9ZmluYWxseXt0cnl7c3x8bnVsbD09dC5yZXR1cm58fHQucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IGl9fXJldHVybiBvfShlLHIpfHx1KGUscil8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBjKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBkKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8dShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB1KGUscil7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBkKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXR8fCJTZXQiPT09dD9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCk/ZChlLHIpOnZvaWQgMH19ZnVuY3Rpb24gZChlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KHIpO3Q8cjt0Kyspblt0XT1lW3RdO3JldHVybiBufWZ1bmN0aW9uIHAoZSl7cmV0dXJuKHA9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBsKGUscil7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyJiYobj1uLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKS5lbnVtZXJhYmxlfSkpKSx0LnB1c2guYXBwbHkodCxuKX1yZXR1cm4gdH1mdW5jdGlvbiBtKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP2woT2JqZWN0KHQpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihyKXtmKGUscix0W3JdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKTpsKE9iamVjdCh0KSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGYoZSxyLHQpe3JldHVybiByIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbcl09dCxlfXZhciB5PSJodHRwczovL2RteC5kaXN0cmljdG0uaW8vYi92MSIsYj17cGxheWJhY2tfbWV0aG9kOnthdXRvX3BsYXlfc291bmRfb246MSxhdXRvX3BsYXlfc291bmRfb2ZmOjIsY2xpY2tfdG9fcGxheTozLG1vdXNlX292ZXI6NCx2aWV3cG9ydF9zb3VuZF9vbjo1LHZpZXdwb3J0X3NvdW5kX29mZjo2fX0sZz17Y29kZToiZGlzdHJpY3RtRE1YIixndmxpZDoxNDQsYWxpYXNlczpbImRteCJdLHN1cHBvcnRlZEZvcm1hdDpbcy5iLHMuZF0sc3VwcG9ydGVkTWVkaWFUeXBlczpbcy5kLHMuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy5tZW1iZXJpZH0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXtyZXR1cm4oZT1lLmJvZHl8fHt9KS5zZWF0YmlkJiZPYmplY3Qobi5pc0FycmF5KShlLnNlYXRiaWQpP2Uuc2VhdGJpZC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49dC5iaWQucmVkdWNlKChmdW5jdGlvbihlLHQpe2lmKGUucHJpY2U8dC5wcmljZSl7dmFyIG49aih0LmltcGlkLHIpLGk9eChuKSxvPWkud2lkdGgscz1pLmhlaWdodDtyZXR1cm4gdC5jcG09cGFyc2VGbG9hdCh0LnByaWNlKS50b0ZpeGVkKDIpLHQuYmlkSWQ9dC5pbXBpZCx0LnJlcXVlc3RJZD10LmltcGlkLHQud2lkdGg9dC53fHxvLHQuaGVpZ2h0PXQuaHx8cyx0LnR0bD0zMDAsdC5tZWRpYVR5cGU9bi5tZWRpYVR5cGVzJiZuLm1lZGlhVHlwZXMudmlkZW8/InZpZGVvIjoiYmFubmVyIiwidmlkZW8iPT09dC5tZWRpYVR5cGUmJih0LnZhc3RYbWw9Xyh0LmFkbSx0Lm51cmwpLHQudHRsPTM2MDApLHQuZGVhbGlkJiYodC5kZWFsSWQ9dC5kZWFsaWQpLHQudXVpZD10LmJpZElkLHQuYWQ9dC5hZG0sdC5uZXRSZXZlbnVlPSEwLHQuY3JlYXRpdmVJZD10LmNyaWQsdC5jdXJyZW5jeT0iVVNEIix0Lm1ldGE9dC5tZXRhfHx7fSx0LmFkb21haW4mJnQuYWRvbWFpbi5sZW5ndGg+MCYmKHQubWV0YS5hZHZlcnRpc2VyRG9tYWlucz10LmFkb21haW4pLHR9cmV0dXJuIGUuY3BtPWUucHJpY2UsZX0pLHtwcmljZTowfSk7cmV0dXJuIG4uYWRtJiZlLnB1c2gobiksZX0pLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEhZS5iaWRJZH0pKTpbXX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PW8uYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKSxpPW51bGwscz17aWQ6T2JqZWN0KG4uZ2VuZXJhdGVVVUlEKSgpLGN1cjpbIlVTRCJdLHRtYXg6dC0zMDAsdGVzdDp0aGlzLnRlc3QoKXx8MCxzaXRlOntwdWJsaXNoZXI6e2lkOlN0cmluZyhlWzBdLnBhcmFtcy5tZW1iZXJpZCl8fG51bGx9fX07dHJ5e3ZhciBhPW8uYi5nZXRDb25maWcoImRteCIpO3MudXNlcj1hLnVzZXJ8fHt9O3ZhciBjPWEuc2l0ZXx8e307cy5zaXRlPW0obSh7fSxzLnNpdGUpLGMpfWNhdGNoKGUpe312YXIgdT1bXTtlWzBdJiZlWzBdLnVzZXJJZCYmKHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQuaWRsX2VudiIpLCJsaXZlcmFtcC5jb20iLDEpLHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQuaWQ1aWQudWlkIiksImlkNS1zeW5jLmNvbSIsMSksdyh1LE9iamVjdChuLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5wdWJjaWQiKSwicHViY2lkLm9yZyIsMSksdyh1LE9iamVjdChuLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC50ZGlkIiksImFkc2VydmVyLm9yZyIsMSksdyh1LE9iamVjdChuLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5jcml0ZW9JZCIpLCJjcml0ZW8uY29tIiwxKSx3KHUsT2JqZWN0KG4uZGVlcEFjY2VzcykoZVswXSwidXNlcklkLmJyaXRlcG9vbGlkIiksImJyaXRlcG9vbC5jb20iLDEpLHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQubGlwYi5saXBiaWQiKSwibGl2ZWludGVudC5jb20iLDEpLHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQuaW50ZW50aXFpZCIpLCJpbnRlbnRpcS5jb20iLDEpLHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQubG90YW1lUGFub3JhbWFJZCIpLCJsb3RhbWUuY29tIiwxKSx3KHUsT2JqZWN0KG4uZGVlcEFjY2VzcykoZVswXSwidXNlcklkLnBhcnJhYmxlSWQiKSwicGFycmFibGUuY29tIiwxKSx3KHUsT2JqZWN0KG4uZGVlcEFjY2VzcykoZVswXSwidXNlcklkLm5ldElkIiksIm5ldGlkLmRlIiwxKSxzLnVzZXI9cy51c2VyfHx7fSxzLnVzZXIuZXh0PXMudXNlci5leHR8fHt9LHMudXNlci5leHQuZWlkcz11KSxzLnRlc3R8fGRlbGV0ZSBzLnRlc3Qsci5nZHByQ29uc2VudCYmKHMucmVncz17fSxzLnJlZ3MuZXh0PXt9LHMucmVncy5leHQuZ2Rwcj0hMD09PXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowLCEwPT09ci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHMudXNlcj17fSxzLnVzZXIuZXh0PXt9LHMudXNlci5leHQuY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxzLnJlZ3M9cy5yZWdzfHx7fSxzLnJlZ3MuY29wcGE9ITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpPzE6MCxyJiZyLnVzcENvbnNlbnQmJihzLnJlZ3M9cy5yZWdzfHx7fSxzLnJlZ3MuZXh0PXMucmVncy5leHR8fHt9LHMucmVncy5leHQudXNfcHJpdmFjeT1yLnVzcENvbnNlbnQpO3RyeXtpPWVbMF0uc2NoYWluLHMuc291cmNlPXt9LHMuc291cmNlLmV4dD17fSxzLnNvdXJjZS5leHQuc2NoYWluPWl8fHt9fWNhdGNoKGUpe312YXIgZD1lLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9e307cmV0dXJuIHIuaWQ9ZS5iaWRJZCxyLnRhZ2lkPVN0cmluZyhlLnBhcmFtcy5kbXhpZHx8ZS5hZFVuaXRDb2RlKSxyLnNlY3VyZT0xLHIuYmlkZmxvb3I9aChlKSxlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbz9yLnZpZGVvPXt0b3BmcmFtZToxLHNraXA6ZS5tZWRpYVR5cGVzLnZpZGVvLnNraXB8fDAsbGluZWFyaXR5OmUubWVkaWFUeXBlcy52aWRlby5saW5lYXJpdHl8fDEsbWluZHVyYXRpb246ZS5tZWRpYVR5cGVzLnZpZGVvLm1pbmR1cmF0aW9ufHw1LG1heGR1cmF0aW9uOmUubWVkaWFUeXBlcy52aWRlby5tYXhkdXJhdGlvbnx8NjAscGxheWJhY2ttZXRob2Q6ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXliYWNrbWV0aG9kfHxbMl0sYXBpOlQoZS5tZWRpYVR5cGVzLnZpZGVvKSxtaW1lczplLm1lZGlhVHlwZXMudmlkZW8ubWltZXN8fFsidmlkZW8vbXA0Il0scHJvdG9jb2xzOnooZS5tZWRpYVR5cGVzLnZpZGVvKSxoOmUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzFdLHc6ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMF19OnIuYmFubmVyPXt0b3BmcmFtZToxLHc6dihlLnNpemVzLCJ3IiksaDp2KGUuc2l6ZXMsImgiKSxmb3JtYXQ6dihlLnNpemVzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZS53JiYibnVtYmVyIj09dHlwZW9mIGUuaH0pKX0scn0pKTtyZXR1cm4gZC5sZW5ndGg8PTU/KHMuaW1wPWQse21ldGhvZDoiUE9TVCIsdXJsOnksZGF0YTpKU09OLnN0cmluZ2lmeShzKSxiaWRkZXJSZXF1ZXN0OnJ9KTpJKGQscyxyLHkpfSx0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuLTEhPT13aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJkbVRlc3Q9dHJ1ZSIpPzE6MH0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LG4pe3ZhciBpPVtdLG89Imh0dHBzOi8vY2RuLmRpc3RyaWN0bS5pby9pZHMvaW5kZXguaHRtbCI7aWYodCYmdC5nZHByQXBwbGllcyYmInN0cmluZyI9PXR5cGVvZiB0LmNvbnNlbnRTdHJpbmcmJmkucHVzaChbImdkcHIiLHQuY29uc2VudFN0cmluZ10pLG4mJmkucHVzaChbImNjcGEiLG5dKSxpLmxlbmd0aD4wJiYobys9Ij8iK2kubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKCI9Iil9KSkuam9pbigiJiIpKSxlLmlmcmFtZUVuYWJsZWQpcmV0dXJuW3t0eXBlOiJpZnJhbWUiLHVybDpvfV19fTtmdW5jdGlvbiBoKGUpe3ZhciByPW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTplLm1lZGlhVHlwZXMudmlkZW8/InZpZGVvIjoiYmFubmVyIixzaXplOmUuc2l6ZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSl9KTsib2JqZWN0IiE9PXAodCl8fCJVU0QiIT09dC5jdXJyZW5jeXx8aXNOYU4ocGFyc2VGbG9hdCh0LmZsb29yKSl8fChyPXBhcnNlRmxvYXQodC5mbG9vcikpfXJldHVybiBudWxsIT09cj9yOmUucGFyYW1zLmZsb29yfWZ1bmN0aW9uIHYoZSxyKXt2YXIgdD1PKGUsW3tzaXplOlszMDAsMjUwXSxzOjEwMH0se3NpemU6WzcyOCw5MF0sczo5NX0se3NpemU6WzMyMCw1MF0sczo5MH0se3NpemU6WzE2MCw2MDBdLHM6ODh9LHtzaXplOlszMDAsNjAwXSxzOjg1fSx7c2l6ZTpbMzAwLDUwXSxzOjgwfSx7c2l6ZTpbOTcwLDI1MF0sczo3NX0se3NpemU6Wzk3MCw5MF0sczo2MH1dKTtzd2l0Y2gocil7Y2FzZSJ3IjpyZXR1cm4gdFswXVswXXx8MDtjYXNlImgiOnJldHVybiB0WzBdWzFdfHwwO2Nhc2Uic2l6ZSI6ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gTyhlLHIpe3ZhciB0PWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PXIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQoZS5zaXplWzBdLCJ4IikuY29uY2F0KGUuc2l6ZVsxXSl9KSkuaW5kZXhPZigiIi5jb25jYXQoZVswXSwieCIpLmNvbmNhdChlWzFdKSl9KSksbj1lLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09PWUubGVuZ3RoPyhlLnB1c2godCksZSk6KGUucHVzaCh0KSwoZT0oZT1yLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuLTEhPT1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KGVbMF0sIngiKS5jb25jYXQoZVsxXSl9KSkuaW5kZXhPZigiIi5jb25jYXQoci5zaXplWzBdLCJ4IikuY29uY2F0KHIuc2l6ZVsxXSkpfSkpKS5zb3J0KChmdW5jdGlvbihlLHIpe3JldHVybiByLnMtZS5zfSkpKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNpemV9KSkpfSksW10pO3JldHVybiBBKFtdLmNvbmNhdChjKG4pLGModCkpKX1mdW5jdGlvbiBBKGUpe3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24ocix0KXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChlWzBdLCJ4IikuY29uY2F0KGVbMV0pfSkpLmluZGV4T2YoIiIuY29uY2F0KHJbMF0sIngiKS5jb25jYXQoclsxXSkpPT09dH0pKX1mdW5jdGlvbiBJKGUscix0LG4pe2Zvcih2YXIgaT1bXTswIT09ZS5sZW5ndGg7KWUubGVuZ3RoPj01P2kucHVzaChlLnNwbGljZSgwLDUpKTppLnB1c2goZS5zcGxpY2UoMCxlLmxlbmd0aCkpO3JldHVybiBpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIuaW1wPWUse21ldGhvZDoiUE9TVCIsdXJsOm4sZGF0YTpKU09OLnN0cmluZ2lmeShyKSxiaWRkZXJSZXF1ZXN0OnR9fSkpfWZ1bmN0aW9uIGooZSxyKXtyZXR1cm4gYShyLmJpZGRlclJlcXVlc3QuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiByLmJpZElkPT09ZX0pKSwxKVswXX1mdW5jdGlvbiBTKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZBcnJheS5pc0FycmF5KGVbMF0pP2VbMF06ZX1mdW5jdGlvbiB4KGUpe3ZhciByPWUuc2l6ZXMsdD17fTtyZXR1cm4gdC53aWR0aD1TKHIpWzBdLHQuaGVpZ2h0PVMocilbMV0sdH1mdW5jdGlvbiB3KGUscix0LGkpe09iamVjdChuLmlzU3RyKShyKSYmQXJyYXkuaXNBcnJheShlKSYmZS5wdXNoKHtzb3VyY2U6dCx1aWRzOlt7aWQ6cixhdHlwZTppfV19KX1mdW5jdGlvbiBUKGUpe3ZhciByPWUuYXBpO3JldHVybiByJiZBcnJheS5pc0FycmF5KHIpJiZyLmxlbmd0aD4wP3I6WzJdfWZ1bmN0aW9uIHooZSl7dmFyIHI9ZS5wcm90b2NvbHM7cmV0dXJuIHImJkFycmF5LmlzQXJyYXkocikmJnIubGVuZ3RoPjA/cjpbMiwzLDUsNiw3LDhdfWZ1bmN0aW9uIF8oZSxyKXt0cnl7dmFyIHQ9LzxpbWdcc1tePl0qP3NyY1xzKj1ccypbJ1wiXShbXidcIl0qPylbJ1wiXVtePl0qPz4vLG49YShlLm1hdGNoKHQpLDIpLGk9blswXSxvPW5bMV07aWYoZT1lLnJlcGxhY2UodCwiIiksaSYmbyl7dmFyIHM9IjxJbXByZXNzaW9uPjwhW0NEQVRBWyIuY29uY2F0KG8sIl1dPjwvSW1wcmVzc2lvbj4iKTtlPWUucmVwbGFjZSgiPC9JbXByZXNzaW9uPiIsIjwvSW1wcmVzc2lvbj4iLmNvbmNhdChzKSl9cmV0dXJuIGV9Y2F0Y2godCl7aWYoIXIpcmV0dXJuIGU7dmFyIGM9IjxJbXByZXNzaW9uPjwhW0NEQVRBWyIuY29uY2F0KHIsIl1dPjwvSW1wcmVzc2lvbj4iKTtyZXR1cm4gZT1lLnJlcGxhY2UoIjwvSW1wcmVzc2lvbj4iLCI8L0ltcHJlc3Npb24+Ii5jb25jYXQoYykpfX1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikoZyl9fSxbNDE3XSk7CnVwYmpzQ2h1bmsoWzI3Nl0sezQyNzpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNDI4KX0sNDI4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJlbXhBZGFwdGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSk7dmFyIGk9dCgwKSxuPXQoMSksYT10KDIpLGQ9dCgxMyksbz10KDEyKSxzPXQubihvKSx1PXQoMTEpLGM9dC5uKHUpO2Z1bmN0aW9uIHAoKXtyZXR1cm4ocD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBpIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJihlW2ldPXRbaV0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBsPSJlbXhfZGlnaXRhbCIsZz0iaHR0cHM6Ly9qcy5icmVhbHRpbWUuY29tL291dHN0cmVhbS8xLjMwLjAvYnVuZGxlLmpzIixtPSJVU0QiLGI9W3trZXk6ImlkbF9lbnYiLHNvdXJjZToibGl2ZXJhbXAuY29tIixydGlQYXJ0bmVyOiJpZGwiLHF1ZXJ5UGFyYW06ImlkbCJ9LHtrZXk6InVpZDIuaWQiLHNvdXJjZToidWlkYXBpLmNvbSIscnRpUGFydG5lcjoiVUlEMiIscXVlcnlQYXJhbToidWlkMiJ9XSxmPXt2YWxpZGF0ZVNpemVzOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5pc0FycmF5KShlKSYmdm9pZCAwIT09ZVswXT9lLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuaXNBcnJheSkoZSkmJjI9PT1lLmxlbmd0aH0pKTooT2JqZWN0KGkubG9nV2FybikoImVteF9kaWdpdGFsOiBTaXplcyBzaG91bGQgYmUgYW4gYXJyYXkiKSwhMSl9LGNoZWNrVmlkZW9Db250ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbyYmZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJigiaW5zdHJlYW0iPT09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHR8fCJvdXRzdHJlYW0iPT09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQpfSxidWlsZEJhbm5lcjpmdW5jdGlvbihlKXt2YXIgcj1bXTtyZXR1cm4gcj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzLGYudmFsaWRhdGVTaXplcyhyKXx8KE9iamVjdChpLmxvZ1dhcm4pKCJlbXhfZGlnaXRhbDogY291bGQgbm90IGRldGVjdCBtZWRpYVR5cGUgYmFubmVyIHNpemVzLiBBc3NpZ25pbmcgdG8gYmlkIHNpemVzIGluc3RlYWQiKSxyPWUuc2l6ZXMpLHtmb3JtYXQ6ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKSx3OnJbMF1bMF0saDpyWzBdWzFdfX0sZm9ybWF0VmlkZW9SZXNwb25zZTpmdW5jdGlvbihlLHIsdCl7KGUudmFzdFhtbD1yLmFkbSx0LmJpZGRlclJlcXVlc3QmJnQuYmlkZGVyUmVxdWVzdC5iaWRzJiZ0LmJpZGRlclJlcXVlc3QuYmlkcy5sZW5ndGg+MCkmJihjKCkodC5iaWRkZXJSZXF1ZXN0LmJpZHMsKGZ1bmN0aW9uKHIpe3JldHVybiBlLnJlcXVlc3RJZCYmci5iaWRJZCYmZS5yZXF1ZXN0SWQ9PT1yLmJpZElkJiZyLm1lZGlhVHlwZXMmJnIubWVkaWFUeXBlcy52aWRlbyYmIm91dHN0cmVhbSI9PT1yLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dH0pKSYmKGUucmVuZGVyZXI9Zi5jcmVhdGVSZW5kZXJlcihlLHtpZDpyLmlkLHVybDpnfSkpKTtyZXR1cm4gZX0saXNNb2JpbGU6ZnVuY3Rpb24oKXtyZXR1cm4vKGlvc3xpcG9kfGlwYWR8aXBob25lfGFuZHJvaWQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0saXNDb25uZWN0ZWRUVjpmdW5jdGlvbigpe3JldHVybi8oc21hcnRbLV0/dHZ8aGJidHZ8YXBwbGV0dnxnb29nbGV0dnxoZG1pfG5ldGNhc3RcLnR2fHZpZXJhfG5ldHR2fHJva3V8XGJkdHZcYnxzb255ZHR2fGluZXR0dmJyb3dzZXJ8XGJ0dlxiKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGdldERldmljZTpmdW5jdGlvbigpe3JldHVybnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGpzOjEsZG50OiJ5ZXMiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT1uYXZpZ2F0b3IubXNEb05vdFRyYWNrPzE6MCxoOnNjcmVlbi5oZWlnaHQsdzpzY3JlZW4ud2lkdGgsZGV2aWNldHlwZTpmLmlzTW9iaWxlKCk/MTpmLmlzQ29ubmVjdGVkVFYoKT8zOjIsbGFuZ3VhZ2U6bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHxuYXZpZ2F0b3Iuc3lzdGVtTGFuZ3VhZ2V9fSxjbGVhblByb3RvY29sczpmdW5jdGlvbihlKXtyZXR1cm4gZS5wcm90b2NvbHMmJnMoKShlLnByb3RvY29scyw3KSYmKE9iamVjdChpLmxvZ1dhcm4pKCJlbXhfZGlnaXRhbDogVkFTVCA0LjAgaXMgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQuIFRoaXMgcHJvdG9jb2wgaGFzIGJlZW4gZmlsdGVyZWQgb3V0IG9mIHRoZSByZXF1ZXN0LiIpLGUucHJvdG9jb2xzPWUucHJvdG9jb2xzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIDchPT1lfSkpKSxlfSxvdXRzdHJlYW1SZW5kZXI6ZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3ZhciByPWUmJmUucGFyYW1zJiZlLnBhcmFtc1swXSYmZS5wYXJhbXNbMF0udmlkZW8/ZS5wYXJhbXNbMF0udmlkZW86e307d2luZG93LmVteFZpZGVvUXVldWU9d2luZG93LmVteFZpZGVvUXVldWV8fFtdLHdpbmRvdy5xdWV1ZUVteFZpZGVvKHtpZDplLmFkVW5pdENvZGUsYWRzUmVzcG9uc2VzOmUudmFzdFhtbCxvcHRpb25zOnJ9KSx3aW5kb3cuZW14VmlkZW9SZWFkeSYmd2luZG93LnZpZGVvanMmJndpbmRvdy5lbXhWaWRlb1JlYWR5KCl9KSl9LGNyZWF0ZVJlbmRlcmVyOmZ1bmN0aW9uKGUscil7dmFyIHQ9ZC5hLmluc3RhbGwoe2lkOnIuaWQsdXJsOmcsbG9hZGVkOiExfSk7dHJ5e3Quc2V0UmVuZGVyKGYub3V0c3RyZWFtUmVuZGVyKX1jYXRjaChlKXtPYmplY3QoaS5sb2dXYXJuKSgiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gdH0sYnVpbGRWaWRlbzpmdW5jdGlvbihlKXt2YXIgcj1wKGUubWVkaWFUeXBlcy52aWRlbyxlLnBhcmFtcy52aWRlbyk7cmV0dXJuIE9iamVjdChpLmlzQXJyYXkpKGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKT8oci53PWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzBdLHIuaD1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVsxXSk6KHIudz1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSxyLmg9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMV0pLGYuY2xlYW5Qcm90b2NvbHMocil9LHBhcnNlUmVzcG9uc2U6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZS5yZXBsYWNlKC8lKD8hWzAtOV1bMC05YS1mQS1GXSspL2csIiUyNSIpKX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoImVteF9kaWdpdGFsQmlkQWRhcHRlciIsImVycm9yIixlKX19LGdldFJlZmVycmVyOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiB3aW5kb3cudG9wLmRvY3VtZW50LnJlZmVycmVyfWNhdGNoKGUpe3JldHVybiBkb2N1bWVudC5yZWZlcnJlcn19LGdldFNpdGU6ZnVuY3Rpb24oZSl7cmV0dXJue2RvbWFpbjpPYmplY3QoaS5wYXJzZVVybCkoZS5yZWZlcmVyKS5ob3N0bmFtZSxwYWdlOmUucmVmZXJlcixyZWY6Zi5nZXRSZWZlcnJlcigpfX0sZ2V0R2RwcjpmdW5jdGlvbihlLHIpe3JldHVybiBlLmdkcHJDb25zZW50JiYoci5yZWdzPXtleHQ6e2dkcHI6ITA9PT1lLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MH19KSxlLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoci51c2VyPXtleHQ6e2NvbnNlbnQ6ZS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nfX0pLHJ9LGdldFN1cHBseUNoYWluOmZ1bmN0aW9uKGUscil7cmV0dXJuIGUuYmlkc1swXSYmZS5iaWRzWzBdLnNjaGFpbiYmKHIuc291cmNlPXtleHQ6e3NjaGFpbjplLmJpZHNbMF0uc2NoYWlufX0pLHJ9LGdldEVpZHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGIubWFwKGYuZ2V0VXNlcklkKGUpKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfSxnZXRVc2VySWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciB0PXIua2V5LG49ci5zb3VyY2UsYT1yLnJ0aVBhcnRuZXIsZD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJ1c2VySWQuIi5jb25jYXQodCkpO3JldHVybiBkP2YuZm9ybWF0RWlkKGQsbixhKTpudWxsfX0sZm9ybWF0RWlkOmZ1bmN0aW9uKGUscix0KXtyZXR1cm57c291cmNlOnIsdWlkczpbe2lkOmUsZXh0OntydGlQYXJ0bmVyOnR9fV19fX0sdj17Y29kZTpsLGd2bGlkOjE4MyxzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZighZXx8IWUucGFyYW1zKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiZW14X2RpZ2l0YWw6IE1pc3NpbmcgYmlkIG9yIGJpZCBwYXJhbXMuIiksITE7aWYoZS5iaWRkZXIhPT1sKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgnZW14X2RpZ2l0YWw6IE11c3QgdXNlICJlbXhfZGlnaXRhbCIgYXMgYmlkZGVyIGNvZGUuJyksITE7aWYoIWUucGFyYW1zLnRhZ2lkfHwhT2JqZWN0KGkuaXNTdHIpKGUucGFyYW1zLnRhZ2lkKSlyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoImVteF9kaWdpdGFsOiBNaXNzaW5nIHRhZ2lkIHBhcmFtIG9yIHRhZ2lkIHByZXNlbnQgYW5kIG5vdCB0eXBlIFN0cmluZy4iKSwhMTt2YXIgcjtpZihlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXIpe2lmKHI9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOmUuc2l6ZXMsIWYudmFsaWRhdGVTaXplcyhyKSlyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoImVteF9kaWdpdGFsOiBNaXNzaW5nIHNpemVzIGluIGJpZCIpLCExfWVsc2UgaWYoZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8pe2lmKCFmLmNoZWNrVmlkZW9Db250ZXh0KGUpKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiZW14X2RpZ2l0YWw6IE1pc3NpbmcgdmlkZW8gY29udGV4dDogaW5zdHJlYW0gb3Igb3V0c3RyZWFtIiksITE7aWYoIWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiZW14X2RpZ2l0YWw6IE1pc3NpbmcgdmlkZW8gcGxheWVyU2l6ZSIpLCExfXJldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10sbj0iaHR0cHM6Ly9oYi5lbXhkZ3QuY29tP3Q9Iisoci50aW1lb3V0fHwiIikrIiZ0cz0iK0RhdGUubm93KCkrIiZzcmM9cGJqcyIsYT1sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKCJodHRwcyIpPi0xPzE6MCxkPWYuZ2V0RGV2aWNlKCksbz1mLmdldFNpdGUoci5yZWZlcmVySW5mbyk7T2JqZWN0KGkuX2VhY2gpKGUsKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgidGFnaWQiLGUucGFyYW1zKSxuPXBhcnNlRmxvYXQoZnVuY3Rpb24oZSl7aWYoIU9iamVjdChpLmlzRm4pKGUuZ2V0Rmxvb3IpKXJldHVybiBwYXJzZUZsb2F0KE9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiYmlkZmxvb3IiLGUucGFyYW1zKSk7dmFyIHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6bSxtZWRpYVR5cGU6IioiLHNpemU6IioifSk7aWYoT2JqZWN0KGkuaXNQbGFpbk9iamVjdCkocikmJiFpc05hTihyLmZsb29yKSYmIlVTRCI9PT1yLmN1cnJlbmN5KXJldHVybiByLmZsb29yO3JldHVybiBudWxsfShlKSl8fDAsZD0hIWUubWVkaWFUeXBlcy52aWRlbyxvPXAoe2lkOmUuYmlkSWQsdGlkOmUudHJhbnNhY3Rpb25JZCx0YWdpZDpyLHNlY3VyZTphfSxkP3t2aWRlbzpmLmJ1aWxkVmlkZW8oZSl9OntiYW5uZXI6Zi5idWlsZEJhbm5lcihlKX0sbj4wP3tiaWRmbG9vcjpuLGJpZGZsb29yY3VyOm19Ont9KTt0LnB1c2gobyl9KSk7dmFyIHM9e2lkOnIuYXVjdGlvbklkLGltcDp0LGRldmljZTpkLHNpdGU6byxjdXI6bSx2ZXJzaW9uOiIxLjUuMSJ9O2lmKHM9Zi5nZXRHZHByKHIscCh7fSxzKSkscz1mLmdldFN1cHBseUNoYWluKHIscCh7fSxzKSksciYmci51c3BDb25zZW50JiYocy51c19wcml2YWN5PXIudXNwQ29uc2VudCksci51c2VySWQpe3ZhciB1PWYuZ2V0RWlkcyhyKTt1Lmxlbmd0aD4wJiYocy51c2VyJiZzLnVzZXIuZXh0P3MudXNlci5leHQuZWlkcz11OnMudXNlcj17ZXh0OntlaWRzOnV9fSl9cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOm4sZGF0YTpKU09OLnN0cmluZ2lmeShzKSxvcHRpb25zOnt3aXRoQ3JlZGVudGlhbHM6ITB9LGJpZGRlclJlcXVlc3Q6cn19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10saT1lLmJvZHl8fHt9O3JldHVybiBpLnNlYXRiaWQmJmkuc2VhdGJpZC5sZW5ndGg+MCYmaS5zZWF0YmlkWzBdLmJpZCYmaS5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2U9ZS5iaWRbMF07dmFyIGk9ITEsbj1mLnBhcnNlUmVzcG9uc2UoZS5hZG0pfHwiIixkPXtyZXF1ZXN0SWQ6ZS5pZCxjcG06ZS5wcmljZSx3aWR0aDplLncsaGVpZ2h0OmUuaCxjcmVhdGl2ZUlkOmUuY3JpZHx8ZS5pZCxkZWFsSWQ6ZS5kZWFsaWR8fG51bGwsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6ZS50dGwsYWQ6bn07ZS5hZG0mJmUuYWRtLmluZGV4T2YoIjw/eG1sIHZlcnNpb249Iik+LTEmJihpPSEwLGQ9Zi5mb3JtYXRWaWRlb1Jlc3BvbnNlKGQscCh7fSxlKSxyKSksZC5tZWRpYVR5cGU9aT9hLmQ6YS5iLGUuYWRvbWFpbiYmZS5hZG9tYWluLmxlbmd0aCYmKGQubWV0YT17YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufSksdC5wdXNoKGQpfSkpLHR9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCxpKXt2YXIgbj1bXTtpZihlLmlmcmFtZUVuYWJsZWQpe3ZhciBhPSJodHRwczovL2JpZGRyLmJyZWFsdGltZS5jb20vY2hlY2suaHRtbCI7dCYmInN0cmluZyI9PXR5cGVvZiB0LmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJBcHBsaWVzP2ErPSI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIodC5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHQuY29uc2VudFN0cmluZyk6YSs9Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQodC5jb25zZW50U3RyaW5nKSksbi5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDphfSl9cmV0dXJuIG59fTtPYmplY3Qobi5yZWdpc3RlckJpZGRlcikodil9fSxbNDI3XSk7CnVwYmpzQ2h1bmsoWzI3M10sezQzNTpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoNDM2KX0sNDM2OmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJzdG9yYWdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxlLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSk7dmFyIHI9ZSgwKSxvPWUoMTQpLGk9ZSgxKSxhPWUoNyk7ZnVuY3Rpb24gYyhuKXtyZXR1cm4oYz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG59OmZ1bmN0aW9uKG4pe3JldHVybiBuJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZuLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZuIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2Ygbn0pKG4pfXZhciB1PU9iamVjdChhLmIpKCksZD1NYXRoLnJhbmRvbSgpLHM9ImkuZS1wbGFubmluZy5uZXQiLGY9WyJjaSIsInN2IiwidCIsIm1sIiwic24iXSxwPSJwYnNyXyIsbT0icGJ2aV8iLGw9d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyhtb2JpbGUpfChpcChob25lfGFkKSl8KGFuZHJvaWQpfChibGFja2JlcnJ5KXwobm9raWEpfChwaG9uZSl8KG9wZXJhXHNtaW5pKS9pKSxoPVsiMXgxIiwiMzAweDUwIiwiMzIweDUwIiwiMzAweDI1MCJdLHY9WyIxeDEiLCI5NzB4OTAiLCI5NzB4MjUwIiwiMTYweDYwMCIsIjMwMHg2MDAiLCI3Mjh4OTAiLCIzMDB4MjUwIl0sYj17Y29kZToiZXBsYW5uaW5nIixpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihuKXtyZXR1cm4gQm9vbGVhbihuLnBhcmFtcy5jaSl8fEJvb2xlYW4obi5wYXJhbXMudCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24obix0KXt2YXIgZSxyLGksYSxsLGg9ZnVuY3Rpb24obil7aWYoZnVuY3Rpb24obil7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0KyspaWYoblt0XS5wYXJhbXMudClyZXR1cm4hMDtyZXR1cm4hMX0obikpcmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKG4pe3JldHVybiB0PXR8fG4ucGFyYW1zLmlzdn0pKSx7dDohMCxpc3Y6dHx8c319KG4uZmlsdGVyKChmdW5jdGlvbihuKXtyZXR1cm4gbi5wYXJhbXMudH0pKSk7dmFyIHQ9e307cmV0dXJuIG4uZm9yRWFjaCgoZnVuY3Rpb24obil7Zi5mb3JFYWNoKChmdW5jdGlvbihlKXtuLnBhcmFtc1tlXSYmIXRbZV0mJih0W2VdPW4ucGFyYW1zW2VdKX0pKX0pKSx0fShuKSx2PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiB3aW5kb3cudG9wLmRvY3VtZW50LmNoYXJzZXR8fHdpbmRvdy50b3AuZG9jdW1lbnQuY2hhcmFjdGVyU2V0fWNhdGNoKG4pe3JldHVybiBkb2N1bWVudC5jaGFyc2V0fHxkb2N1bWVudC5jaGFyYWN0ZXJTZXR9fSgpLGI9ZnVuY3Rpb24obix0KXt2YXIgZT0obz1uLGk9e30sby5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgdD13KG4sITApO2lbdF09aVt0XT9pW3RdOltdLGlbdF0ucHVzaChuKX0pKSxpKSxyPXtzdHI6IiIsdnM6IiIsbWFwOnt9fTt2YXIgbyxpO3JldHVybiByLnN0cj1PYmplY3Qua2V5cyhlKS5tYXAoKGZ1bmN0aW9uKG4pe3JldHVybiBlW25dLm1hcCgoZnVuY3Rpb24obixlKXt2YXIgbztyZXR1cm4gci52cys9ZnVuY3Rpb24obil7dmFyIHQsZT0iIjt1Lmhhc0xvY2FsU3RvcmFnZSgpP2UrPSh0PWZ1bmN0aW9uKG4pe3ZhciB0PXUuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UocCtuLmFkVW5pdENvZGUpfHwwLGU9dS5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShtK24uYWRVbml0Q29kZSl8fDAscj10PjA/ZS90OjA7cmV0dXJue3JlbmRlcjp0LHJhdGlvOndpbmRvdy5wYXJzZUludCgxMCpyLDEwKX19KG4pKS5yZW5kZXI+PTQ/dC5yYXRpby50b1N0cmluZygxNik6IkYiOmUrPSJGIjtyZXR1cm4gZX0obiksbz10P2Z1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoL198XC58LXxcLy9nLCIiKS5yZXBsYWNlKC9cKVwofFwofFwpfDovZywiXyIpLnJlcGxhY2UoL15fK3xfKyQvZywiIil9KG4uYWRVbml0Q29kZSk6bi5wYXJhbXMmJm4ucGFyYW1zLnNufHx3KG4sITApKyJfIitlLHIubWFwW29dPW4uYmlkSWQsbysiOiIrdyhuKX0pKS5qb2luKCIrIil9KSkuam9pbigiKyIpLHJ9KG4saC5tbCksZz10LnJlZmVyZXJJbmZvLnJlZmVyZXI7aWYoaC50KWU9Imh0dHBzOi8vIitoLmlzdisiL2xheWVycy90X3BianNfMi5qc29uIixyPXt9O2Vsc2V7ZT0iaHR0cHM6Ly8iKyhoLnN2fHwicGJqcy5lLXBsYW5uaW5nLm5ldCIpKyIvcGJqcy8xLyIraC5jaSsiLzEvIitmdW5jdGlvbihuKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIHQuaHJlZj1uLHQuaG9zdG5hbWV9KGcpKyIvUk9TIjt2YXIgeT10LnJlZmVyZXJJbmZvLnJlZmVyZXIucmVhY2hlZFRvcD93aW5kb3cudG9wLmRvY3VtZW50LnJlZmVycmVyOnQucmVmZXJlckluZm8ucmVmZXJlcjtpZih1Lmhhc0xvY2FsU3RvcmFnZSgpJiYoaT1bXSxuLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4uYWRVbml0Q29kZSk7dD9qKHQpOmkucHVzaChuLmFkVW5pdENvZGUpfSkpLGkubGVuZ3RoJiYoYT1pLGw9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKG4sdCl7biYmQXJyYXkuaXNBcnJheShuKSYmbi5mb3JFYWNoKChmdW5jdGlvbihuKXtuJiZuLmFkZGVkTm9kZXMmJkFycmF5LmlzQXJyYXkobi5hZGRlZE5vZGVzKSYmbi5hZGRlZE5vZGVzLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBlPWEuaW5kZXhPZihuLmlkKTtlPj0wJiYoaihuKSxhLnNwbGljZShlLDEpLGEubGVuZ3RofHx0LmRpc2Nvbm5lY3QoKSl9KSl9KSl9KSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsKGZ1bmN0aW9uKG4pe3ZhciB0PXtjaGlsZExpc3Q6ITAsc3VidHJlZTohMCxjaGFyYWN0ZXJEYXRhOiEwfTtsLm9ic2VydmUoZG9jdW1lbnQuYm9keSx0KX0pKSkpLHI9e3JuZDpkLGU6Yi5zdHIsdXI6Z3x8ImZpbGUiLHBidjoiNS4yMC4yIixuY2I6IjEiLHZzOmIudnN9LHYmJihyLmNycz12KSx5JiYoci5mcj15KSx0JiZ0LmdkcHJDb25zZW50JiZ2b2lkIDAhPT10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoci5nZHByPXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/IjEiOiIwIix2b2lkIDAhPT10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihyLmdkcHJjcz10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSx0JiZ0LnVzcENvbnNlbnQmJihyLmNjcGE9dC51c3BDb25zZW50KSxPYmplY3Qoby5hKSgpLmdldFVzZXJJZHMmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3Qoby5hKSgpLmdldFVzZXJJZHMpe3ZhciBFPU9iamVjdChvLmEpKCkuZ2V0VXNlcklkcygpO2Zvcih2YXIgUyBpbiBFKXJbImVfIitTXT0ib2JqZWN0Ij09PWMoRVtTXSk/ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KEVbU10pKTplbmNvZGVVUklDb21wb25lbnQoRVtTXSl9fXJldHVybnttZXRob2Q6IkdFVCIsdXJsOmUsZGF0YTpyLGFkVW5pdFRvQmlkSWQ6Yi5tYXB9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihuLHQpe3ZhciBlPW4uYm9keSxvPVtdO3JldHVybiBlJiYhT2JqZWN0KHIuaXNFbXB0eSkoZS5zcCkmJmUuc3AuZm9yRWFjaCgoZnVuY3Rpb24obil7T2JqZWN0KHIuaXNFbXB0eSkobi5hKXx8bi5hLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPXtyZXF1ZXN0SWQ6dC5hZFVuaXRUb0JpZElkW24ua10sY3BtOmUucHIsd2lkdGg6ZS53LGhlaWdodDplLmgsYWQ6ZS5hZG0sdHRsOjEyMCxjcmVhdGl2ZUlkOmUuY3JpZCxuZXRSZXZlbnVlOnRydWUsY3VycmVuY3k6IlVTRCJ9O2UuYWRvbSYmKHIubWV0YT17YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tfSksby5wdXNoKHIpfSkpfSkpLG99LGdldFVzZXJTeW5jczpmdW5jdGlvbihuLHQpe3ZhciBlPVtdLG89IU9iamVjdChyLmlzRW1wdHkpKHQpJiZ0WzBdLmJvZHk7byYmIU9iamVjdChyLmlzRW1wdHkpKG8uY3MpJiZvLmNzLmZvckVhY2goKGZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdCYmbi5waXhlbEVuYWJsZWQ/ZS5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOnR9KToib2JqZWN0Ij09PWModCkmJnQuaWZyJiZuLmlmcmFtZUVuYWJsZWQmJmUucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6dC51fSl9KSk7cmV0dXJuIGV9fTtmdW5jdGlvbiBnKCl7cmV0dXJuIE9iamVjdChyLmdldFdpbmRvd1NlbGYpKCkuaW5uZXJXaWR0aDw9MTAyNHx8d2luZG93Lm9yaWVudGF0aW9ufHxsfWZ1bmN0aW9uIHkobix0KXt2YXIgZT1nKCk/aDp2LHI9ZS5pbmRleE9mKG4pLG89ZS5pbmRleE9mKHQpO3JldHVybiByPi0xP28+LTEmJnI8bz8xOi0xOm8+LTE/MTowfWZ1bmN0aW9uIHcobix0KXt2YXIgZSxvPW4uc2l6ZXMmJm4uc2l6ZXMubGVuZ3RoPyhlPW4uc2l6ZXMsT2JqZWN0KHIucGFyc2VTaXplc0lucHV0KShlKS5zb3J0KHkpKTpbXTtyZXR1cm4gby5sZW5ndGg/dD9vWzBdOm8uam9pbigiLCIpOiIxeDEifWZ1bmN0aW9uIGoobil7dmFyIHQ7KHQ9e25hbWU6bi5pZCxkaXY6bn0pLmRpdiYmKEUocCt0Lm5hbWUpLGZ1bmN0aW9uKCl7dmFyIG4sdD01LGU9MWUzLHI9LjU7ZnVuY3Rpb24gbyhuLHQsZSl7cmV0dXJuIHQ+bnx8ZTwwfWZ1bmN0aW9uIGkobil7cmV0dXJuIG48MH1mdW5jdGlvbiBhKG4sdCl7cmV0dXJuIHQ8bn1mdW5jdGlvbiBjKG4sdCxlKXt2YXIgcj0wO3JldHVybiBvKG4sdCxlKXx8KHI9aSh0KT9lLyhlLXQpOmEobixlKT8xOihuLXQpLyhlLXQpKSxyfWZ1bmN0aW9uIHUoKXt0cnl7cmV0dXJuIHdpbmRvdz09PXdpbmRvdy50b3B8fHdpbmRvdy5mcmFtZUVsZW1lbnR9Y2F0Y2gobil7fX1mdW5jdGlvbiBkKHQpe3RyeXtuPXQmJndpbmRvdy5kb2N1bWVudC5ib2R5LmNvbnRhaW5zKHQpP3dpbmRvdzp3aW5kb3cudG9wLmRvY3VtZW50LmJvZHkuY29udGFpbnModCk/dG9wOnZvaWQgMH1jYXRjaChuKXt9cmV0dXJuIG59ZnVuY3Rpb24gcyh0KXtyZXR1cm4gbn1mdW5jdGlvbiBmKG4pe3JldHVybiBjKHMoKS5pbm5lckhlaWdodCxuLnRvcCxuLmJvdHRvbSl9ZnVuY3Rpb24gcChuKXtyZXR1cm4gYyhzKCkuaW5uZXJXaWR0aCxuLmxlZnQsbi5yaWdodCl9ZnVuY3Rpb24gbShuKXt2YXIgdD1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBmKHQpKnAodCk+cn1mdW5jdGlvbiBsKG4pe3JldHVybiBuLm9mZnNldEhlaWdodD4wJiZuLm9mZnNldFdpZHRoPjB9ZnVuY3Rpb24gaChuKXt2YXIgdD1uLnN0eWxlLGU9bi5wYXJlbnROb2RlO3JldHVybiEodCYmMD09PXBhcnNlRmxvYXQodC5vcGFjaXR5KSkmJighZXx8aChlKSl9ZnVuY3Rpb24gdihuKXtyZXR1cm4iaGlkZGVuIiE9PXMoKS5nZXRDb21wdXRlZFN0eWxlKG4pLnZpc2liaWxpdHl9ZnVuY3Rpb24gYigpe3RyeXtyZXR1cm4gcygpLnRvcC5kb2N1bWVudC5oYXNGb2N1cygpfWNhdGNoKG4pe319ZnVuY3Rpb24gZyhuKXtyZXR1cm4gbnVsbCE9bn1mdW5jdGlvbiB5KCl7cmV0dXJuIGcocygpKX1mdW5jdGlvbiB3KCl7cmV0dXJuIGcocygpLmZyYW1lRWxlbWVudCl9ZnVuY3Rpb24gaihuLHIsbyl7dmFyIGk9RShyKT9uKzE6MDtpPT09dD9vKCk6c2V0VGltZW91dChqLmJpbmQodGhpcyxpLHIsbyksZS90KX1mdW5jdGlvbiBFKG4pe3JldHVybiBkKG4pLHUoKSYmeSgpJiZiKCkmJmwobikmJnYobikmJmgobikmJm0obikmJighdygpfHxFKHMoKS5mcmFtZUVsZW1lbnQpKX1yZXR1cm57aXNWaXNpYmxlOkUsb25WaWV3OmouYmluZCh0aGlzLDApfX0oKS5vblZpZXcodC5kaXYsRS5iaW5kKHZvaWQgMCxtK3QubmFtZSkpKX1mdW5jdGlvbiBFKG4pe3ZhciB0O3RyeXt0PSh0PXUuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UobikpP3dpbmRvdy5wYXJzZUludCh0LDEwKSsxOjEsdS5zZXREYXRhSW5Mb2NhbFN0b3JhZ2Uobix0KX1jYXRjaChuKXtyZXR1cm4hMX1yZXR1cm4hMH1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikoYil9fSxbNDM1XSk7CnVwYmpzQ2h1bmsoWzI1MF0sezQ4NjpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNDg3KX0sNDg3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzdG9yYWdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR9KSksdC5yZXNldFVzZXJTeW5jPWZ1bmN0aW9uKCl7ST0hMX0sdC5nZXRTeW5jVXJsPWZ1bmN0aW9uKCl7cmV0dXJuIGJ9O3ZhciBuPXIoMCksbz1yKDEpLGk9cigxMyksYT1yKDIpLHM9cigzKSxkPXIoNyk7ZnVuY3Rpb24gdShlKXtyZXR1cm4odT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGMoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixvLGk9W10sYT0hMCxzPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShhPShuPXIubmV4dCgpKS5kb25lKSYmKGkucHVzaChuLnZhbHVlKSwhdHx8aS5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7cz0hMCxvPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IG99fXJldHVybiBpfShlLHQpfHxwKGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBsKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBmKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8cChlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBwKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBmKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXJ8fCJTZXQiPT09cj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qocik/ZihlLHQpOnZvaWQgMH19ZnVuY3Rpb24gZihlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufXZhciBnPSJncmlkIixiPSJodHRwczovL3guYmlkc3dpdGNoLm5ldC9zeW5jP3NzcD10aGVtZWRpYWdyaWQiLG09InRtZ3VpZCIseT0iaHR0cHM6Ly9hY2RuLmFkbnhzLmNvbS92aWRlby9vdXRzdHJlYW0vQU5PdXRzdHJlYW1WaWRlby5qcyIsdj1PYmplY3QoZC5iKSg2ODYsZyksaD0iQmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGF1aWQgcGFyYW1ldGVyIC0gIixTPSJCaWQgZnJvbSByZXNwb25zZSBoYXMgbm8gYWRtIHBhcmFtZXRlciAtICIsaj0iQXJyYXkgb2YgYmlkIG9iamVjdHMgaXMgZW1wdHkiLHg9IlNlYXRiaWQgYXJyYXkgZnJvbSByZXNwb25zZSBoYXMgZW1wdHkgaXRlbSIsdz0iUmVzcG9uc2UgaXMgZW1wdHkiLE89IlJlc3BvbnNlIGhhcyBlbXB0eSBzZWF0YmlkIGFycmF5IixBPSJTZWF0YmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGFycmF5IG9mIGJpZCBvYmplY3RzIC0gIixJPSExLFQ9e2NvZGU6ZyxhbGlhc2VzOlsicGxheXdpcmUiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLnVpZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe2lmKCFlLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgcj1udWxsLG89bnVsbCxpPW51bGwsZD1udWxsLHA9bnVsbCxmPW51bGwsZz1udWxsLGI9dHx8e30seT1iLmJpZGRlclJlcXVlc3RJZCxoPWIuYXVjdGlvbklkLFM9Yi5nZHByQ29uc2VudCxqPWIudXNwQ29uc2VudCx4PWIudGltZW91dCx3PWIucmVmZXJlckluZm8sTz13P2VuY29kZVVSSUNvbXBvbmVudCh3LnJlZmVyZXIpOiIiLEE9W10sST17fTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3l8fCh5PWUuYmlkZGVyUmVxdWVzdElkKSxofHwoaD1lLmF1Y3Rpb25JZCksZHx8KGQ9ZS5zY2hhaW4pLHB8fChwPWUudXNlcklkQXNFaWRzKTt2YXIgdD1lLnBhcmFtcyxzPXQudWlkLGw9dC5rZXl3b3JkcyxmPWUubWVkaWFUeXBlcyxnPWUuYmlkSWQsYj1lLmFkVW5pdENvZGUsbT1lLnJ0ZCx2PWUub3J0YjJJbXA7SVtnXT1lO3ZhciBTPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS52aWRlbz8idmlkZW8iOiJiYW5uZXIiLG49dC5wYXJhbXMuYmlkRmxvb3J8fDA7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQuZ2V0Rmxvb3Ipe3ZhciBvPXQuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTpyLHNpemU6dC5zaXplcy5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWMoZSwyKTtyZXR1cm57dzp0WzBdLGg6dFsxXX19KSl9KTsib2JqZWN0IiE9PXUobyl8fCJVU0QiIT09by5jdXJyZW5jeXx8aXNOYU4ocGFyc2VGbG9hdChvLmZsb29yKSl8fChuPU1hdGgubWF4KG4scGFyc2VGbG9hdChvLmZsb29yKSkpfXJldHVybiBufShmfHx7fSxlKSxqPW0mJm0uandwbGF5ZXImJm0uandwbGF5ZXIudGFyZ2V0aW5nO2omJighbyYmai5zZWdtZW50cyYmKG89ai5zZWdtZW50cyksIWkmJmouY29udGVudCYmKGk9ai5jb250ZW50KSk7dmFyIHg9e2lkOmcudG9TdHJpbmcoKSx0YWdpZDpzLnRvU3RyaW5nKCksZXh0OntkaXZpZDpiLnRvU3RyaW5nKCl9fTtpZih2JiZ2LmV4dCYmdi5leHQuZGF0YSYmKHguZXh0LmRhdGE9di5leHQuZGF0YSx4LmV4dC5kYXRhLmFkc2VydmVyJiZ4LmV4dC5kYXRhLmFkc2VydmVyLmFkc2xvdD94LmV4dC5ncGlkPXguZXh0LmRhdGEuYWRzZXJ2ZXIuYWRzbG90LnRvU3RyaW5nKCk6eC5leHQuZ3BpZD12LmV4dC5kYXRhLnBiYWRzbG90JiZ2LmV4dC5kYXRhLnBiYWRzbG90LnRvU3RyaW5nKCkpLE9iamVjdChuLmlzRW1wdHkpKGwpfHwocnx8KHI9bCkseC5leHQuYmlkZGVyPXtrZXl3b3JkczpsfSksUyYmKHguYmlkZmxvb3I9UyksIWZ8fGZbYS5iXSl7dmFyIHc9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LnNpemVzfHxlLnNpemVzO2lmKCFyfHwhci5sZW5ndGgpcmV0dXJuO3ZhciBvPXIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4ucGFyc2VHUFRTaW5nbGVTaXplQXJyYXlUb1J0YlNpemUpKGUpfSkpLGk9T2JqZWN0KG4ucGFyc2VHUFRTaW5nbGVTaXplQXJyYXlUb1J0YlNpemUpKHJbMF0pO28ubGVuZ3RoJiYoaS5mb3JtYXQ9byk7cmV0dXJuIGl9KGUsZj9mW2EuYl06e30pO3cmJih4LmJhbm5lcj13KX1pZihmJiZmW2EuZF0pe3ZhciBPPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5wbGF5ZXJTaXplLG89dC5taW1lcyxpPXQuZHVyYXRpb25SYW5nZVNlYyxhPXQucHJvdG9jb2xzLHM9KHJ8fGUuc2l6ZXN8fFtdKVswXTtpZighcylyZXR1cm47dmFyIGQ9T2JqZWN0KG4ucGFyc2VHUFRTaW5nbGVTaXplQXJyYXlUb1J0YlNpemUpKHMpO28mJihkLm1pbWVzPW8pO2kmJjI9PT1pLmxlbmd0aCYmKGQubWluZHVyYXRpb249aVswXSxkLm1heGR1cmF0aW9uPWlbMV0pO2EmJmEubGVuZ3RoJiYoZC5wcm90b2NvbHM9YSk7cmV0dXJuIGR9KGUsZlthLmRdKTtPJiYoeC52aWRlbz1PKX0oeC5iYW5uZXJ8fHgudmlkZW8pJiZBLnB1c2goeCl9KSk7dmFyIFQ9e3RpZDpoJiZoLnRvU3RyaW5nKCksZXh0Ont3cmFwcGVyOiJQcmViaWRfanMiLHdyYXBwZXJfdmVyc2lvbjoiNS4yMC4yIn19O2QmJihULmV4dC5zY2hhaW49ZCk7dmFyIEU9cy5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpfHx4LFI9eD9NYXRoLm1pbihFLHgpOkUsaz17aWQ6eSYmeS50b1N0cmluZygpLHNpdGU6e3BhZ2U6T30sdG1heDpSLHNvdXJjZTpULGltcDpBfTtpJiYoay5zaXRlLmNvbnRlbnQ9aSksbyYmby5sZW5ndGgmJihmPXtkYXRhOlt7bmFtZToiaW93X2xhYnNfcHViX2RhdGEiLHNlZ21lbnQ6by5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOiJqd3BzZWciLHZhbHVlOmV9fSkpfV19KSxTJiZTLmNvbnNlbnRTdHJpbmcmJihnPXtjb25zZW50OlMuY29uc2VudFN0cmluZ30pLHAmJnAubGVuZ3RoJiYoKGc9Z3x8e30pLmVpZHM9bChwKSksZyYmT2JqZWN0LmtleXMoZykubGVuZ3RoJiYoKGY9Znx8e30pLmV4dD1nKTt2YXIgVT12LmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKG0pfHxmdW5jdGlvbigpe2lmKHMuYi5nZXRDb25maWcoImxvY2FsU3RvcmFnZVdyaXRlQWxsb3dlZCIpKXt2YXIgZT1PYmplY3Qobi5nZW5lcmF0ZVVVSUQpKCkucmVwbGFjZSgvLS9nLCIiKTtyZXR1cm4gdi5zZXREYXRhSW5Mb2NhbFN0b3JhZ2UobSxlKSxlfXJldHVybiBudWxsfSgpO1UmJigoZj1mfHx7fSkuaWQ9VS50b1N0cmluZygpKSxmJiYoay51c2VyPWYpO3ZhciBfPU9iamVjdChuLmRlZXBBY2Nlc3MpKHMuYi5nZXRDb25maWcoIm9ydGIyLnVzZXIiKSwia2V5d29yZHMiKXx8bnVsbCx6PU9iamVjdChuLmRlZXBBY2Nlc3MpKHMuYi5nZXRDb25maWcoIm9ydGIyLnNpdGUiKSwia2V5d29yZHMiKXx8bnVsbDtyZXR1cm4gXyYmKChyPXJ8fHt9KS51c2VyPXIudXNlcnx8e30sci51c2VyLm9ydGIyPVt7bmFtZToia2V5d29yZHMiLGtleXdvcmRzOl8uc3BsaXQoIiwiKX1dKSx6JiYoKHI9cnx8e30pLnNpdGU9ci5zaXRlfHx7fSxyLnNpdGUub3J0YjI9W3tuYW1lOiJrZXl3b3JkcyIsa2V5d29yZHM6ei5zcGxpdCgiLCIpfV0pLHImJihyPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihyKXt2YXIgbj1lW3JdO2lmKG4paWYoInNpdGUiPT09cnx8InVzZXIiPT09cil7dmFyIG89e307T2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShuW2VdKSl7dmFyIHQ9W107bltlXS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09PXUoZSkmJmUubmFtZSl7dmFyIHI9e25hbWU6ZS5uYW1lLHNlZ21lbnRzOltdfTtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtBcnJheS5pc0FycmF5KGVbdF0pJiZlW3RdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UmJigic3RyaW5nIj09dHlwZW9mIGU/ci5zZWdtZW50cy5wdXNoKHtuYW1lOnQsdmFsdWU6ZX0pOiJzZWdtZW50cyI9PT10JiYic3RyaW5nIj09dHlwZW9mIGUubmFtZSYmInN0cmluZyI9PXR5cGVvZiBlLnZhbHVlJiZyLnNlZ21lbnRzLnB1c2goZSkpfSkpfSkpLHIuc2VnbWVudHMubGVuZ3RoJiZ0LnB1c2gocil9fSkpLHQubGVuZ3RoJiYob1tlXT10KX19KSksdFtyXT1vfWVsc2UgdFtyXT1ufSkpLE9iamVjdC5rZXlzKHQpLmxlbmd0aCYmdH0ocikpJiYoay5leHQ9e2tleXdvcmRzOnJ9KSxTJiZTLmdkcHJBcHBsaWVzJiYoay5yZWdzPXtleHQ6e2dkcHI6Uy5nZHByQXBwbGllcz8xOjB9fSksaiYmKGsucmVnc3x8KGsucmVncz17ZXh0Ont9fSksay5yZWdzLmV4dC51c19wcml2YWN5PWopLCEwPT09cy5iLmdldENvbmZpZygiY29wcGEiKSYmKGsucmVnc3x8KGsucmVncz17fSksay5yZWdzLmNvcHBhPTEpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9ncmlkLmJpZHN3aXRjaC5uZXQvaGJqc29uIixkYXRhOkpTT04uc3RyaW5naWZ5KGspLG5ld0Zvcm1hdDohMCxiaWRzTWFwOkl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe2U9ZSYmZS5ib2R5O3ZhciByLG89W107cmV0dXJuIGU/ZS5zZWF0YmlkJiYhZS5zZWF0YmlkLmxlbmd0aCYmKHI9Tyk6cj13LCFyJiZlLnNlYXRiaWQmJmUuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXshZnVuY3Rpb24oZSx0LHIpe2lmKCFlKXJldHVybjt2YXIgbztlLmF1aWR8fChvPWgrSlNPTi5zdHJpbmdpZnkoZSkpO2lmKG98fGUuYWRtfHxlLm51cmwpe3ZhciBzPXQuYmlkc01hcFtlLmltcGlkXTtpZihzKXt2YXIgZD17cmVxdWVzdElkOnMuYmlkSWQsY3BtOmUucHJpY2Usd2lkdGg6ZS53LGhlaWdodDplLmgsY3JlYXRpdmVJZDplLmF1aWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzYwLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbj9lLmFkb21haW46W119LGRlYWxJZDplLmRlYWxpZH07ZS5leHQmJmUuZXh0LmJpZGRlciYmZS5leHQuYmlkZGVyLmdyaWQmJmUuZXh0LmJpZGRlci5ncmlkLmRlbWFuZFNvdXJjZSYmKGQuYWRzZXJ2ZXJUYXJnZXRpbmc9e2hiX2RzOmUuZXh0LmJpZGRlci5ncmlkLmRlbWFuZFNvdXJjZX0sZC5tZXRhLmRlbWFuZFNvdXJjZT1lLmV4dC5iaWRkZXIuZ3JpZC5kZW1hbmRTb3VyY2UpLCJ2aWRlbyI9PT1lLmNvbnRlbnRfdHlwZT8oZS5hZG0/KGQudmFzdFhtbD1lLmFkbSxkLmFkUmVzcG9uc2U9e2NvbnRlbnQ6ZC52YXN0WG1sfSk6ZS5udXJsJiYoZC52YXN0VXJsPWUubnVybCksZC5tZWRpYVR5cGU9YS5kLHMucmVuZGVyZXJ8fHMubWVkaWFUeXBlcyYmcy5tZWRpYVR5cGVzLnZpZGVvJiYib3V0c3RyZWFtIiE9PXMubWVkaWFUeXBlcy52aWRlby5jb250ZXh0fHwoZC5yZW5kZXJlcj1mdW5jdGlvbihlLHQpe3ZhciByPWkuYS5pbnN0YWxsKHtpZDp0LmlkLHVybDp0LnVybCxsb2FkZWQ6ITF9KTt0cnl7ci5zZXRSZW5kZXIoRSl9Y2F0Y2goZSl7T2JqZWN0KG4ubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIHJ9KDAse2lkOnMuYmlkSWQsdXJsOnl9KSkpOihkLmFkPWUuYWRtLGQubWVkaWFUeXBlPWEuYiksci5wdXNoKGQpfX1lbHNlIG89UytKU09OLnN0cmluZ2lmeShlKTtvJiZPYmplY3Qobi5sb2dFcnJvcikobyl9KGZ1bmN0aW9uKGUpe2U/ZS5iaWQ/ZS5iaWRbMF18fE9iamVjdChuLmxvZ0Vycm9yKShqKTpPYmplY3Qobi5sb2dFcnJvcikoQStKU09OLnN0cmluZ2lmeShlKSk6T2JqZWN0KG4ubG9nRXJyb3IpKHgpO3JldHVybiBlJiZlLmJpZCYmZS5iaWRbMF19KGUpLHQsbyl9KSksciYmT2JqZWN0KG4ubG9nRXJyb3IpKHIpLG99LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXtpZighSSYmZS5waXhlbEVuYWJsZWQpe3ZhciBvPSIiO3JldHVybiByJiYic3RyaW5nIj09dHlwZW9mIHIuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIHIuZ2RwckFwcGxpZXM/bys9IiZnZHByPSIuY29uY2F0KE51bWJlcihyLmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoci5jb25zZW50U3RyaW5nKTpvKz0iJmdkcHJfY29uc2VudD0iLmNvbmNhdChyLmNvbnNlbnRTdHJpbmcpKSxuJiYobys9IiZ1c19wcml2YWN5PSIuY29uY2F0KG4pKSxJPSEwLHt0eXBlOiJpbWFnZSIsdXJsOmIrb319fX07ZnVuY3Rpb24gRShlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93LkFOT3V0c3RyZWFtVmlkZW8ucmVuZGVyQWQoe3RhcmdldElkOmUuYWRVbml0Q29kZSxhZFJlc3BvbnNlOmUuYWRSZXNwb25zZX0pfSkpfU9iamVjdChvLnJlZ2lzdGVyQmlkZGVyKShUKX19LFs0ODZdKTsKdXBianNDaHVuayhbMjQ3XSx7NDkyOmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big0OTMpfSw0OTM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZnVuY3Rpb24oZSl7bi5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBDfSkpO3ZhciByPW4oMiksaT1uKDApLG89bigzKSxhPW4oNyksYz1uKDEyKSx1PW4ubihjKSxkPW4oMSk7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcChlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gbChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9wKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZihlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6cChPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBmKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBtKGUpe3JldHVybihtPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4geShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4geShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciB2PU9iamVjdChhLmIpKCksZz17dDowLHJxOjgscGJ2OiI1LjIwLjIifSxoPVtyLmIsci5kXSxPPXt9LHc9e30sST1udWxsO2Z1bmN0aW9uIGoodCl7dmFyIG4scixvLGEsYyx1LGQscztpZih3LnZ3KXJldHVybiB3O3RyeXtyPShuPWUudG9wKS5zY3JlZW4sbz10fHwiIn1jYXRjaChlKXtyZXR1cm4gT2JqZWN0KGkubG9nRXJyb3IpKGUpLHd9cmV0dXJuIHc9e3Z3Om4uaW5uZXJXaWR0aCx2aDpuLmlubmVySGVpZ2h0LHN3OnIud2lkdGgsc2g6ci5oZWlnaHQscHU6byxjZTp2LmNvb2tpZXNBcmVFbmFibGVkKCksZHByOm4uZGV2aWNlUGl4ZWxSYXRpb3x8MSxqY3NpOkpTT04uc3RyaW5naWZ5KGcpLG9ndToodT0oZG9jdW1lbnQmJmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0pLnF1ZXJ5U2VsZWN0b3IoIm1ldGFbcHJvcGVydHk9J29nOnVybCddIiksdT91LmNvbnRlbnQ6bnVsbCl9LGQ9d2luZG93Lm5hdmlnYXRvciYmKHdpbmRvdy5uYXZpZ2F0b3IuY29ubmVjdGlvbnx8d2luZG93Lm5hdmlnYXRvci5tb3pDb25uZWN0aW9ufHx3aW5kb3cubmF2aWdhdG9yLndlYmtpdENvbm5lY3Rpb24pLChjPShzPWQmJihkLmRvd25saW5rfHxkLmJhbmR3aWR0aCkpP01hdGgucm91bmQoMTAyNCpzKTpudWxsKSYmKHcubnM9YyksKGE9KG8ubWF0Y2goLyNnZ2FkPShcdyspJC8pfHxbMCwwXSlbMV0pJiYod1tpc05hTihhKT8iZUFkQnV5SWQiOiJhZEJ1eUlkIl09YSksd31mdW5jdGlvbiBTKGUsdCl7cmV0dXJuIGUucmVwbGFjZSgiQURfSlNPTiIsd2luZG93LmJ0b2EoSlNPTi5zdHJpbmdpZnkodCkpKX1mdW5jdGlvbiB4KGUpe3ZhciB0PWUuZGlnaXRydXN0aWQmJmUuZGlnaXRydXN0aWQuZGF0YTtyZXR1cm4hdHx8dC5wcml2YWN5JiZ0LnByaXZhY3kub3B0b3V0P3t9OntkdDp0LmlkfX1mdW5jdGlvbiBQKGUpe3ZhciB0PTAsbj0wLHI9MDtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1iKGUsMiksbz1pWzBdLGE9aVsxXSxjPW8+YT9vOmE7KGM+cnx8Yz09PXImJm8+PXQmJmE+PW4pJiYocj1jLHQ9byxuPWEpfSkpLFt0LG5dfXZhciBDPXtjb2RlOiJndW1ndW0iLGFsaWFzZXM6WyJnZyJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zLG49ZS5hZFVuaXRDb2RlLHI9dC5pblNjcmVlbnx8dC5pblNjcmVlblB1YklEfHx0LmluU2xvdHx8dC5JQ1Z8fHQudmlkZW98fHQuaW5WaWRlb3x8dC5zbG90fHx0Lm5hdGl2ZXx8dC56b25lfHx0LnB1YklEO2lmKE9bcl0pcmV0dXJuIE9iamVjdChpLmxvZ1dhcm4pKCJbR3VtR3VtXSBQbGVhc2UgY2hlY2sgdGhlIGltcGxlbWVudGF0aW9uIGZvciAiLmNvbmNhdChyLCIgZm9yIHRoZSBwbGFjZW1lbnQgIikuY29uY2F0KG4pKSwhMTtzd2l0Y2goITApe2Nhc2UhIXQuem9uZTpjYXNlISF0LnB1YklkOmNhc2UhIXQuaW5TY3JlZW46Y2FzZSEhdC5pblNjcmVlblB1YklEOmNhc2UhIXQuaW5TbG90OmNhc2UhIXQuSUNWOmNhc2UhIXQudmlkZW86Y2FzZSEhdC5pblZpZGVvOmNhc2UhIXQudmlkZW9QdWJJRDpicmVhaztkZWZhdWx0OnJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiW0d1bUd1bV0gTm8gcHJvZHVjdCBzZWxlY3RlZCBmb3IgdGhlIHBsYWNlbWVudCAiLmNvbmNhdChuLCIsIHBsZWFzZSBjaGVjayB5b3VyIGltcGxlbWVudGF0aW9uLiIpKSwhMX1yZXR1cm4hKHQuYmlkZmxvb3ImJigibnVtYmVyIiE9dHlwZW9mIHQuYmlkZmxvb3J8fCFpc0Zpbml0ZSh0LmJpZGZsb29yKSkpfHwoT2JqZWN0KGkubG9nV2FybikoIltHdW1HdW1dIGJpZGZsb29yIG11c3QgYmUgYSBOdW1iZXIiKSwhMSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxyPXQmJnQuZ2RwckNvbnNlbnQsYT10JiZ0LnVzcENvbnNlbnQsYz1vLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0IiksdT10JiZ0LnJlZmVyZXJJbmZvJiZ0LnJlZmVyZXJJbmZvLnJlZmVyZXI7cmV0dXJuIE9iamVjdChpLl9lYWNoKShlLChmdW5jdGlvbihlKXt2YXIgdCxvLGQ9ZS5iaWRJZCxwPWUubWVkaWFUeXBlcyxmPXZvaWQgMD09PXA/e306cCx5PWUucGFyYW1zLHY9dm9pZCAwPT09eT97fTp5LGc9ZS5zY2hhaW4saD1lLnRyYW5zYWN0aW9uSWQsTz1lLnVzZXJJZCx3PXZvaWQgMD09PU8/e306TyxTPWUub3J0YjJJbXAsQz1mdW5jdGlvbihlLHQsbil7dmFyIHI9T2JqZWN0LmtleXMoZSlbMF18fCJiYW5uZXIiLGk9e2Zsb29yOjAsY3VycmVuY3k6IlVTRCJ9O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuLmdldEZsb29yKXt2YXIgbz1uLmdldEZsb29yKHttZWRpYVR5cGU6cixzaXplOiIqIn0pLGE9by5jdXJyZW5jeSxjPW8uZmxvb3I7YyYmKGkuZmxvb3I9YyksYSYmKGkuY3VycmVuY3k9YSksdCYmYyYmIlVTRCI9PT1hJiYoaS5mbG9vcj1NYXRoLm1heCh0LHBhcnNlRmxvYXQoYykpKX1lbHNlIHQmJihpLmZsb29yPXQpO3JldHVybiBpfShmLHYuYmlkZmxvb3IsZSksej1DLmN1cnJlbmN5LEQ9Qy5mbG9vcixBPWZ1bmN0aW9uKGUpe3ZhciB0PVsidWlkIiwiZWlkIiwibGlwYmlkIl07cmV0dXJuIE9iamVjdC5rZXlzKGUpLnJlZHVjZSgoZnVuY3Rpb24obixyKXt2YXIgaT1lW3JdO3N3aXRjaChtKGkpKXtjYXNlInN0cmluZyI6bltyXT1pO2JyZWFrO2Nhc2Uib2JqZWN0Ijp2YXIgbz10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGkuaGFzT3duUHJvcGVydHkoZSl9KSk7by5sZW5ndGgmJihuW3JdPWlbb1swXV0pfXJldHVybiBufSkse30pfSh3KSxUPVsxLDFdLGs9e30sUj0iIixVPW5ldyBEYXRlLEc9VSYmVS5nZXRUaW1lKCksVj1VJiZVLmdldFRpbWV6b25lT2Zmc2V0KCk7Zm9yKHZhciBFIGluIFYmJihHJiYoay5sdD1HKSxrLnRvPVYpLEEpa1tFXT1BW0VdO2lmKE9iamVjdChpLmRlZXBBY2Nlc3MpKFMsImV4dC5kYXRhLnBiYWRzbG90Iik/Uj1PYmplY3QoaS5kZWVwQWNjZXNzKShTLCJleHQuZGF0YS5wYmFkc2xvdCIpOk9iamVjdChpLmRlZXBBY2Nlc3MpKFMsImV4dC5kYXRhLmFkc2VydmVyLm5hbWUiKSYmKFI9Uy5leHQuZGF0YS5hZHNlcnZlci5hZHNsb3QpLGYuYmFubmVyP1Q9Zi5iYW5uZXIuc2l6ZXM6Zi52aWRlbyYmKFQ9Zi52aWRlby5wbGF5ZXJTaXplLGs9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5taW5kdXJhdGlvbixuPWUubWF4ZHVyYXRpb24scj1lLmxpbmVhcml0eSxvPWUuc3RhcnRkZWxheSxhPWUucGxhY2VtZW50LGM9ZS5wcm90b2NvbHMsdT12b2lkIDA9PT1jP1tdOmMsZD1lLnBsYXllclNpemUscz12b2lkIDA9PT1kP1tdOmQscD1PYmplY3QoaS5wYXJzZVNpemVzSW5wdXQpKHMpLGw9YihwWzBdJiZwWzBdLnNwbGl0KCJ4IiksMiksZj1sWzBdLG09bFsxXSx5PSIiO3JldHVybiB1Lmxlbmd0aCYmKHk9dS5qb2luKCIsIikpLHttaW5kOnQsbWF4ZDpuLGxpOnIsc2Q6byxwdDphLHByOnksdml3OmYsdmloOm19fShmLnZpZGVvKSksSSYmKGsucHY9SSksRCYmKGsuZnA9RCxrLmZwYz16KSx2LmlyaXNjYXQmJiJzdHJpbmciPT10eXBlb2Ygdi5pcmlzY2F0JiYoay5pcmlzY2F0PXYuaXJpc2NhdCksdi5pcmlzaWQmJiJzdHJpbmciPT10eXBlb2Ygdi5pcmlzaWQmJihrLmlyaXNpZD12LmlyaXNpZCksdi56b25lfHx2LnB1YklkKWlmKHYuem9uZT9rLnQ9di56b25lOmsucHViSWQ9di5wdWJJZCxrLnBpPTIsdi5zbG90KXt2YXIgTj1iKFAoVCksMikscT1OWzBdLEI9TlsxXTtrLm1heHc9cSxrLm1heGg9QixrLnNpPXYuc2xvdCxrLnBpPTMsay5iZj1ULnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4iIi5jb25jYXQoZSkuY29uY2F0KGUmJiIsIikuY29uY2F0KHRbMF0sIngiKS5jb25jYXQodFsxXSl9KSwiIil9ZWxzZSB2Lm5hdGl2ZT8oay5uaT12Lm5hdGl2ZSxrLnBpPTUpOmYudmlkZW8mJihrLnBpPTI9PT1mLnZpZGVvLmxpbmVhcml0eT82OjcpO2Vsc2Ugaz1sKGwoe30sayksZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtlLmluU2NyZWVuUHViSUQmJihuLnB1YklkPWUuaW5TY3JlZW5QdWJJRCxuLnBpPTIpO2UuaW5TY3JlZW4mJihuLnQ9ZS5pblNjcmVlbixuLnBpPTIpO2lmKGUuaW5TbG90KXt2YXIgcj1iKFAodCksMiksaT1yWzBdLG89clsxXTtuLm1heHc9aSxuLm1heGg9byxuLnNpPWUuaW5TbG90LG4ucGk9MyxuLmJmPXQucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiIiLmNvbmNhdChlKS5jb25jYXQoZSYmIiwiKS5jb25jYXQodFswXSwieCIpLmNvbmNhdCh0WzFdKX0pLCIiKX1lLklDViYmKG4ubmk9ZS5JQ1Ysbi5waT01KTtlLnZpZGVvUHViSUQmJihuLnB1YklkPWUudmlkZW9QdWJJRCxuLnBpPTcpO2UudmlkZW8mJihuLnQ9ZS52aWRlbyxuLnBpPTcpO2UuaW5WaWRlbyYmKG4udD1lLmluVmlkZW8sbi5waT02KTtyZXR1cm4gbn0odixUKSk7ciYmKGsuZ2RwckFwcGxpZXM9ci5nZHByQXBwbGllcz8xOjApLGsuZ2RwckFwcGxpZXMmJihrLmdkcHJDb25zZW50PXIuY29uc2VudFN0cmluZyksYSYmKGsudXNwQ29uc2VudD1hKSxnJiZnLm5vZGVzJiYoay5zY2hhaW49KG89IiIuY29uY2F0KCh0PWcpLnZlciwiLCIpLmNvbmNhdCh0LmNvbXBsZXRlKSx0Lm5vZGVzLm1hcCgoZnVuY3Rpb24oZSl7bys9IiEiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5hc2l8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5zaWR8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5ocHx8IiIpLCIsIiksbys9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLnJpZHx8IiIpLCIsIiksbys9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLm5hbWV8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5kb21haW58fCIiKSl9KSksbykpLG4ucHVzaCh7aWQ6ZCx0bWF4OmMsdElkOmgscGk6ay5waSxzZWxlY3Rvcjp2LnNlbGVjdG9yLHNpemVzOlQsdXJsOiJodHRwczovL2cyLmd1bWd1bS5jb20vaGJpZC9pbXAiLG1ldGhvZDoiR0VUIixkYXRhOnMoayxqKHUpLHgodykse2dwaWQ6Un0pfSl9KSksbn0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxvPWUuYm9keTtpZighb3x8by5lcnIpe3ZhciBhPXQuZGF0YXx8e30sYz1hLnNpfHxhLm5pfHxhLnR8fGEucHViSWQsZD1vP28uZXJyLmRydDoxOGU1O09bY109e3Byb2R1Y3RJZDphLnBpLHRpbWVzdGFtcDoobmV3IERhdGUpLmdldFRpbWUoKX0sc2V0VGltZW91dCgoZnVuY3Rpb24oKXtPW2NdJiZkZWxldGUgT1tjXX0pLGQpLE9iamVjdChpLmxvZ1dhcm4pKCJbR3VtR3VtXSBQbGVhc2UgY2hlY2sgdGhlIGltcGxlbWVudGF0aW9uIGZvciAiLmNvbmNhdChjKSl9dmFyIHA9cyh7YWQ6e3ByaWNlOjAsaWQ6MCxtYXJrdXA6IiIsd2lkdGg6MCxoZWlnaHQ6MH0scGFnOntwdmlkOjB9LG1ldGE6e2Fkb21haW46W10sbWVkaWFUeXBlOiIifX0sbyksZj1wLmFkLG09Zi5wcmljZSx5PWYuaWQsdj1mLm1hcmt1cCxoPWYuY3VyLHc9Zi53aWR0aCxqPWYuaGVpZ2h0LHg9Zi5tYXh3LFA9Zi5tYXhoLEM9cC5jdyx6PXAucGFnLnB2aWQsRD1wLmpjc2ksQT1wLm1ldGEsVD1BLmFkb21haW4saz1BLm1lZGlhVHlwZSxSPXQuZGF0YXx8e30sVT1SLnBpLEc9Nj09PVV8fDc9PT1VP3IuZDpyLmIsVj0zPT09VSYmOT09PVIuc2ksRT17YWR2ZXJ0aXNlckRvbWFpbnM6VHx8W10sbWVkaWFUeXBlOmt8fEd9LE49T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KSh0LnNpemVzKTtpZih4JiZQKU49WyIiLmNvbmNhdCh4LCJ4IikuY29uY2F0KFApXTtlbHNlIGlmKDU9PT1VJiZ1KCkoTiwiMXgxIikpTj1bIjF4MSJdO2Vsc2UgaWYoMj09PVUmJnUoKShOLCIxeDEiKSl7dmFyIHE9dC5zaXplcyYmdC5zaXplcy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49Yih0LDIpLHI9blswXSxpPW5bMV07cmV0dXJuIHchPT1yJiZqIT09aXx8ZS5wdXNoKHQuam9pbigieCIpKSxlfSksW10pfHxbXTtOPXEubGVuZ3RoP3E6T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KSh0LnNpemVzKX12YXIgQj1iKE5bMF0uc3BsaXQoIngiKSwyKSxNPUJbMF0sVz1CWzFdO3JldHVybiBEJiYoby5qY3NpPWcpLEk9eix5JiZuLnB1c2gobChsKHthZDpDP1MoQyxzKHt9LG8se2JpZFJlcXVlc3Q6dH0pKTp2fSxHPT09ci5kJiZ7YWQ6dix2YXN0WG1sOnZ9KSx7fSx7bWVkaWFUeXBlOkcsY3BtOlY/LjE6bSxjcmVhdGl2ZUlkOnksY3VycmVuY3k6aHx8IlVTRCIsaGVpZ2h0OlcsbmV0UmV2ZW51ZTohMCxyZXF1ZXN0SWQ6dC5pZCx0dGw6NjAsd2lkdGg6TSxtZXRhOkV9KSksbn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5ib2R5JiZlLmJvZHkucHhzJiZlLmJvZHkucHhzLnNjcnx8W119KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0KX0pLFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOiJmIj09PWUudD8iaWZyYW1lIjoiaW1hZ2UiLHVybDplLnV9fSkpfSxzdXBwb3J0ZWRNZWRpYVR5cGVzOmh9O09iamVjdChkLnJlZ2lzdGVyQmlkZGVyKShDKX0uY2FsbCh0LG4oNDEpKX19LFs0OTJdKTsKdXBianNDaHVuayhbMjQxXSx7NTA2OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig1MDcpfSw1MDc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsIklENV9TVE9SQUdFX05BTUUiLChmdW5jdGlvbigpe3JldHVybiBwfSkpLHIuZCh0LCJJRDVfUFJJVkFDWV9TVE9SQUdFX05BTUUiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLHIuZCh0LCJpZDVJZFN1Ym1vZHVsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksdC5leHBEYXlzU3RyPU8sdC5uYkNhY2hlTmFtZT1qLHQuc3RvcmVOYkluQ2FjaGU9dix0LmdldE5iRnJvbUNhY2hlPUksdC5nZXRGcm9tTG9jYWxTdG9yYWdlPVMsdC5zdG9yZUluTG9jYWxTdG9yYWdlPV87dmFyIG89cigwKSxuPXIoNCksYT1yKDkpLGM9cigxOSksaT1yKDcpLHM9cig4KSxwPSJpZDVpZCIsdT0iIi5jb25jYXQocCwiX3ByaXZhY3kiKSxkPSJodG1sNSIsZz0iVXNlciBJRCAtIElENSBzdWJtb2R1bGU6ICIsYj1bInBianMtaWQ1aWQiLCJpZDVpZC4xc3QiLCJpZDVpZCJdLGw9T2JqZWN0KGkuYikoMTMxLCJpZDVJZCIpLG09e25hbWU6ImlkNUlkIixndmxpZDoxMzEsZGVjb2RlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9MDtpZihlJiYic3RyaW5nIj09dHlwZW9mIGUudW5pdmVyc2FsX3VpZCl7dmFyIG49e2lkNWlkOnt1aWQ6ZS51bml2ZXJzYWxfdWlkLGV4dDp7bGlua1R5cGU6cj1lLmxpbmtfdHlwZXx8cn19fTtzd2l0Y2goT2JqZWN0KG8uZGVlcEFjY2VzcykoZSwiYWJfdGVzdGluZy5yZXN1bHQiKSl7Y2FzZSJjb250cm9sIjpPYmplY3Qoby5sb2dJbmZvKShnKyJBL0IgVGVzdGluZyAtIHVzZXIgaXMgaW4gdGhlIENvbnRyb2wgR3JvdXA6IElENSBJRCBpcyBOT1QgZXhwb3NlZCIpLE9iamVjdChvLmRlZXBTZXRWYWx1ZSkobiwiaWQ1aWQuZXh0LmFiVGVzdGluZ0NvbnRyb2xHcm91cCIsITApO2JyZWFrO2Nhc2UiZXJyb3IiOk9iamVjdChvLmxvZ0Vycm9yKShnKyJBL0IgVGVzdGluZyBFUlJPUiEgY29udHJvbEdyb3VwUGN0IG11c3QgYmUgYSBudW1iZXIgPj0gMCBhbmQgPD0gMSIpO2JyZWFrO2Nhc2Uibm9ybWFsIjpPYmplY3Qoby5sb2dJbmZvKShnKyJBL0IgVGVzdGluZyAtIHVzZXIgaXMgTk9UIGluIHRoZSBDb250cm9sIEdyb3VwIiksT2JqZWN0KG8uZGVlcFNldFZhbHVlKShuLCJpZDVpZC5leHQuYWJUZXN0aW5nQ29udHJvbEdyb3VwIiwhMSl9cmV0dXJuIE9iamVjdChvLmxvZ0luZm8pKGcrIkRlY29kZWQgSUQiLG4pLG59fSxnZXRJZDpmdW5jdGlvbihlLHQscil7aWYoZihlKSl7dmFyIGEsaT0iaHR0cHM6Ly9pZDUtc3luYy5jb20vZy92Mi8iLmNvbmNhdChlLnBhcmFtcy5wYXJ0bmVyLCIuanNvbiIpLHA9dCYmImJvb2xlYW4iPT10eXBlb2YgdC5nZHByQXBwbGllcyYmdC5nZHByQXBwbGllcz8xOjAsbT1zLnVzcERhdGFIYW5kbGVyLmdldENvbnNlbnREYXRhKCksaj1PYmplY3QoYy5hKSgpLEk9ciYmci5zaWduYXR1cmU/ci5zaWduYXR1cmU6KGIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bC5nZXRDb29raWUoZSkmJihhPUpTT04ucGFyc2UobC5nZXRDb29raWUoZSkpfHxhKX0pKSxhJiZhLnNpZ25hdHVyZXx8IiIpLFM9e3BhcnRuZXI6ZS5wYXJhbXMucGFydG5lcixnZHByOnAsbmJQYWdlOnkoZS5wYXJhbXMucGFydG5lciksbzoicGJqcyIscmY6ai5yZWZlcmVyLHRvcDpqLnJlYWNoZWRUb3A/MTowLHU6ai5zdGFja1swXXx8d2luZG93LmxvY2F0aW9uLmhyZWYsdjoiNS4yMC4yIn07IXB8fHZvaWQgMD09PXQuY29uc2VudFN0cmluZ3x8T2JqZWN0KG8uaXNFbXB0eSkodC5jb25zZW50U3RyaW5nKXx8T2JqZWN0KG8uaXNFbXB0eVN0cikodC5jb25zZW50U3RyaW5nKXx8KFMuZ2Rwcl9jb25zZW50PXQuY29uc2VudFN0cmluZyksdm9pZCAwPT09bXx8T2JqZWN0KG8uaXNFbXB0eSkobSl8fE9iamVjdChvLmlzRW1wdHlTdHIpKG0pfHwoUy51c19wcml2YWN5PW0pLHZvaWQgMD09PUl8fE9iamVjdChvLmlzRW1wdHlTdHIpKEkpfHwoUy5zPUkpLHZvaWQgMD09PWUucGFyYW1zLnBkfHxPYmplY3Qoby5pc0VtcHR5U3RyKShlLnBhcmFtcy5wZCl8fChTLnBkPWUucGFyYW1zLnBkKSx2b2lkIDA9PT1lLnBhcmFtcy5wcm92aWRlcnx8T2JqZWN0KG8uaXNFbXB0eVN0cikoZS5wYXJhbXMucHJvdmlkZXIpfHwoUy5wcm92aWRlcj1lLnBhcmFtcy5wcm92aWRlcik7dmFyIGg9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChvLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5hYlRlc3RpbmciLHtlbmFibGVkOiExfSl9KGUpOyEwPT09aC5lbmFibGVkJiYoUy5hYl90ZXN0aW5nPXtlbmFibGVkOiEwLGNvbnRyb2xfZ3JvdXBfcGN0OmguY29udHJvbEdyb3VwUGN0fSk7cmV0dXJue2NhbGxiYWNrOmZ1bmN0aW9uKHQpe3ZhciByPXtzdWNjZXNzOmZ1bmN0aW9uKHIpe3ZhciBuO2lmKHIpdHJ5e249SlNPTi5wYXJzZShyKSxPYmplY3Qoby5sb2dJbmZvKShnKyJyZXNwb25zZSByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIiLG4pLHYoZS5wYXJhbXMucGFydG5lciwwKSxuLnByaXZhY3kmJl8odSxKU09OLnN0cmluZ2lmeShuLnByaXZhY3kpLDMwKSxlLnN0b3JhZ2UudHlwZT09PWQmJmZ1bmN0aW9uKGUpe09iamVjdChvLmxvZ0luZm8pKGcrInJlbW92aW5nIGxlZ2FjeSBjb29raWVzIiksYi5mb3JFYWNoKChmdW5jdGlvbih0KXtsLnNldENvb2tpZSgiIi5jb25jYXQodCksIiAiLE8oLTEpKSxsLnNldENvb2tpZSgiIi5jb25jYXQodCwiX25iIiksIiAiLE8oLTEpKSxsLnNldENvb2tpZSgiIi5jb25jYXQodCwiXyIpLmNvbmNhdChlLCJfbmIiKSwiICIsTygtMSkpLGwuc2V0Q29va2llKCIiLmNvbmNhdCh0LCJfbGFzdCIpLCIgIixPKC0xKSl9KSl9KGUucGFyYW1zLnBhcnRuZXIpfWNhdGNoKGUpe09iamVjdChvLmxvZ0Vycm9yKShnK2UpfXQobil9LGVycm9yOmZ1bmN0aW9uKGUpe09iamVjdChvLmxvZ0Vycm9yKShnKyJnZXRJZCBmZXRjaCBlbmNvdW50ZXJlZCBhbiBlcnJvciIsZSksdCgpfX07T2JqZWN0KG8ubG9nSW5mbykoZysicmVxdWVzdGluZyBhbiBJRCBmcm9tIHRoZSBzZXJ2ZXIiLFMpLE9iamVjdChuLmEpKGkscixKU09OLnN0cmluZ2lmeShTKSx7bWV0aG9kOiJQT1NUIix3aXRoQ3JlZGVudGlhbHM6ITB9KX19fX0sZXh0ZW5kSWQ6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBmKGUpLHkoZSYmZS5wYXJhbXMmJmUucGFyYW1zLnBhcnRuZXJ8fDApLE9iamVjdChvLmxvZ0luZm8pKGcrInVzaW5nIGNhY2hlZCBJRCIscikscn19O2Z1bmN0aW9uIGYoZSl7cmV0dXJuIGUmJmUucGFyYW1zJiZlLnBhcmFtcy5wYXJ0bmVyJiYibnVtYmVyIj09dHlwZW9mIGUucGFyYW1zLnBhcnRuZXI/ZS5zdG9yYWdlJiZlLnN0b3JhZ2UudHlwZSYmZS5zdG9yYWdlLm5hbWU/KGUuc3RvcmFnZS50eXBlIT09ZCYmT2JqZWN0KG8ubG9nV2FybikoZysic3RvcmFnZSB0eXBlIHJlY29tbWVuZGVkIHRvIGJlICciLmNvbmNhdChkLCInLiBJbiBhIGZ1dHVyZSByZWxlYXNlIHRoaXMgbWF5IGJlY29tZSBhIHN0cmljdCByZXF1aXJlbWVudCIpKSxlLnN0b3JhZ2UubmFtZSE9PXAmJk9iamVjdChvLmxvZ1dhcm4pKGcrInN0b3JhZ2UgbmFtZSByZWNvbW1lbmRlZCB0byBiZSAnIi5jb25jYXQocCwiJy4gSW4gYSBmdXR1cmUgcmVsZWFzZSB0aGlzIG1heSBiZWNvbWUgYSBzdHJpY3QgcmVxdWlyZW1lbnQiKSksITApOihPYmplY3Qoby5sb2dFcnJvcikoZysic3RvcmFnZSByZXF1aXJlZCB0byBiZSBzZXQiKSwhMSk6KE9iamVjdChvLmxvZ0Vycm9yKShnKyJwYXJ0bmVyIHJlcXVpcmVkIHRvIGJlIGRlZmluZWQgYXMgYSBudW1iZXIiKSwhMSl9ZnVuY3Rpb24gTyhlKXtyZXR1cm4gbmV3IERhdGUoRGF0ZS5ub3coKSs4NjRlNSplKS50b1VUQ1N0cmluZygpfWZ1bmN0aW9uIGooZSl7cmV0dXJuIiIuY29uY2F0KHAsIl8iKS5jb25jYXQoZSwiX25iIil9ZnVuY3Rpb24gdihlLHQpe18oaihlKSx0LDMwKX1mdW5jdGlvbiBJKGUpe3ZhciB0PVMoaihlKSk7cmV0dXJuIHQ/cGFyc2VJbnQodCk6MH1mdW5jdGlvbiB5KGUpe3ZhciB0PUkoZSkrMTtyZXR1cm4gdihlLHQpLHR9ZnVuY3Rpb24gUyhlKXt2YXIgdD1sLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChlLCJfZXhwIikpO3JldHVybiIiPT09dHx8dCYmbmV3IERhdGUodCkuZ2V0VGltZSgpLURhdGUubm93KCk+MD9sLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKGUpOihsLnJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlKGUpLG51bGwpfWZ1bmN0aW9uIF8oZSx0LHIpe2wuc2V0RGF0YUluTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChlLCJfZXhwIiksTyhyKSksbC5zZXREYXRhSW5Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KGUpLHQpfU9iamVjdChhLmUpKCJ1c2VySWQiLG0pfX0sWzUwNl0pOwp1cGJqc0NodW5rKFs1MV0sezE3OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7ci5iPWZ1bmN0aW9uKGUpe3ZhciByPVtdO2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpaWYoInB1YlByb3ZpZGVkSWQiPT09dClyPXIuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgaT1uKGVbdF0sdCk7aSYmci5wdXNoKGkpfXJldHVybiByfSxyLmE9ZnVuY3Rpb24oZSl7dmFyIHI9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZPYmplY3QoaS5kZWVwQWNjZXNzKShhLHQrIi5zb3VyY2UiKSYmci5wdXNoKHtzb3VyY2U6YVt0XS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSkscn07dmFyIGk9dCgwKSxhPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0sbmF2ZWdnSWQ6e3NvdXJjZToibmF2ZWdnLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0KGkucGljaykoZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXMocikubGVuZ3RoKXJldHVybiByfX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LHB1YmxpbmtJZDp7c291cmNlOiJlcHNpbG9uLmNvbSIsYXR5cGU6M30sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9LGNvbm5lY3RJZDp7c291cmNlOiJ5YWhvby5jb20iLGF0eXBlOjN9fTtmdW5jdGlvbiBuKGUscil7dmFyIHQ9YVtyXTtpZih0JiZlKXt2YXIgbj17fTtuLnNvdXJjZT10LnNvdXJjZTt2YXIgcz1PYmplY3QoaS5pc0ZuKSh0LmdldFZhbHVlKT90LmdldFZhbHVlKGUpOmU7aWYoT2JqZWN0KGkuaXNTdHIpKHMpKXt2YXIgYz17aWQ6cyxhdHlwZTp0LmF0eXBlfTtpZihPYmplY3QoaS5pc0ZuKSh0LmdldFVpZEV4dCkpe3ZhciBkPXQuZ2V0VWlkRXh0KGUpO2QmJihjLmV4dD1kKX1pZihuLnVpZHM9W2NdLE9iamVjdChpLmlzRm4pKHQuZ2V0RWlkRXh0KSl7dmFyIG89dC5nZXRFaWRFeHQoZSk7byYmKG4uZXh0PW8pfXJldHVybiBufX1yZXR1cm4gbnVsbH19LDUxOTpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNTIwKX0sNTIwOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKSxyLkltcHJvdmVEaWdpdGFsQWRTZXJ2ZXJKU0NsaWVudD12O3ZhciBpPXQoMCksYT10KDEpLG49dCgzKSxzPXQoMiksYz10KDEzKSxkPXQoMTcpLG89dCgxMiksdT10Lm4obyk7ZnVuY3Rpb24gcCgpe3JldHVybihwPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIGkgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKSYmKGVbaV09dFtpXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGw9Imh0dHBzOi8vYWNkbi5hZG54cy5jb20vdmlkZW8vb3V0c3RyZWFtL0FOT3V0c3RyZWFtVmlkZW8uanMiLGI9WyJza2lwIiwic2tpcG1pbiIsInNraXBhZnRlciJdLG09e3ZlcnNpb246IjcuNC4wIixjb2RlOiJpbXByb3ZlZGlnaXRhbCIsZ3ZsaWQ6MjUzLGFsaWFzZXM6WyJpZCJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3MuYixzLmMscy5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLnBhcmFtcyYmKGUucGFyYW1zLnBsYWNlbWVudElkfHxlLnBhcmFtcy5wbGFjZW1lbnRLZXkmJmUucGFyYW1zLnB1Ymxpc2hlcklkKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiYWRVbml0Q29kZSIsZSl8fG51bGwsdD1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInBsYWNlbWVudElkIixlLnBhcmFtcyl8fG51bGwsYT1udWxsLGM9bnVsbDtudWxsPT09dCYmKGE9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJwdWJsaXNoZXJJZCIsZS5wYXJhbXMpfHxudWxsLGM9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJwbGFjZW1lbnRLZXkiLGUucGFyYW1zKXx8bnVsbCk7dmFyIGQ9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJrZXlWYWx1ZXMiLGUucGFyYW1zKXx8bnVsbCxvPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgic2l6ZSIsZS5wYXJhbXMpfHxudWxsLHA9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJiaWRJZCIsZSksbD1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInRyYW5zYWN0aW9uSWQiLGUpLG09bi5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpLGc9e307ZihlKSYmKGcuYWRUeXBlcz1bcy5kXSk7KGYoZSl8fHkoZSkpJiYoZy52aWRlbz1mdW5jdGlvbihlKXt2YXIgcj17fTtyZXR1cm4gT2JqZWN0LmtleXMoT2JqZWN0KGUubWVkaWFUeXBlcy52aWRlbykpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHUoKShiLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JbdF09ZS5tZWRpYVR5cGVzLnZpZGVvW3RdfSkpLE9iamVjdC5rZXlzKE9iamVjdChlLnBhcmFtcy52aWRlbykpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHUoKShiLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JbdF09ZS5wYXJhbXMudmlkZW9bdF19KSkscn0oZSkpO3Q/Zy5wbGFjZW1lbnRJZD10OihhJiYoZy5wdWJsaXNoZXJJZD1hKSxjJiYoZy5wbGFjZW1lbnRLZXk9YykpO2QmJihnLmtleVZhbHVlcz1kKTshMD09PW4uYi5nZXRDb25maWcoImltcHJvdmVkaWdpdGFsLnVzZVByZWJpZFNpemVzIikmJiFmKGUpJiYheShlKSYmZS5zaXplcyYmZS5zaXplcy5sZW5ndGg+MD9nLmZvcm1hdD1lLnNpemVzOm8mJm8udyYmby5oJiYoZy5zaXplPXt9LGcuc2l6ZS5oPW8uaCxnLnNpemUudz1vLncpO3AmJihnLmlkPXApO3ImJihnLmFkVW5pdElkPXIpO2wmJihnLnRyYW5zYWN0aW9uSWQ9bCk7bSYmKGcuY3VycmVuY3k9bSk7dmFyIGg9ZnVuY3Rpb24oZSl7aWYoIU9iamVjdChpLmlzRm4pKGUuZ2V0Rmxvb3IpKXJldHVybiBudWxsO3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihPYmplY3QoaS5pc1BsYWluT2JqZWN0KShyKSYmIWlzTmFOKHIuZmxvb3IpJiYiVVNEIj09PXIuY3VycmVuY3kpcmV0dXJuIHIuZmxvb3I7cmV0dXJuIG51bGx9KGUpLHY9bnVsbDtofHwoaD1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoImJpZEZsb29yIixlLnBhcmFtcyksdj1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoImJpZEZsb29yQ3VyIixlLnBhcmFtcykpO2gmJihnLmJpZEZsb29yPWgsZy5iaWRGbG9vckN1cj12P3YudG9VcHBlckNhc2UoKToiVVNEIik7cmV0dXJuIGd9KGUpfSkpLGE9bmV3IHYoImhiIiksYz17c2luZ2xlUmVxdWVzdE1vZGU6ITA9PT1uLmIuZ2V0Q29uZmlnKCJpbXByb3ZlZGlnaXRhbC5zaW5nbGVSZXF1ZXN0IikscmV0dXJuT2JqVHlwZTphLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuVVJMX1BBUkFNU19TUExJVCxsaWJWZXJzaW9uOnRoaXMudmVyc2lvbn07aWYociYmci5nZHByQ29uc2VudCYmci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYoYy5nZHByPXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksciYmci51c3BDb25zZW50JiYoYy51c1ByaXZhY3k9ci51c3BDb25zZW50KSxyJiZyLnJlZmVyZXJJbmZvJiZyLnJlZmVyZXJJbmZvLnJlZmVyZXImJihjLnJlZmVycmVyPXIucmVmZXJlckluZm8ucmVmZXJlciksYy5zY2hhaW49ZVswXS5zY2hhaW4sZVswXS51c2VySWQpe3ZhciBvPU9iamVjdChkLmIpKGVbMF0udXNlcklkKTtvLmxlbmd0aCYmT2JqZWN0KGkuZGVlcFNldFZhbHVlKShjLCJ1c2VyLmV4dC5laWRzIixvKX12YXIgcD1hLmNyZWF0ZVJlcXVlc3QodCxjKTtyZXR1cm4gcC5lcnJvcnMmJnAuZXJyb3JzLmxlbmd0aD4wJiZPYmplY3QoaS5sb2dFcnJvcikoIklEIFdBUk5JTkcgMHgwMSIpLHAucmVxdWVzdHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyUmVxdWVzdD1yfSkpLHAucmVxdWVzdHN9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9ci5iaWRkZXJSZXF1ZXN0LGE9W107cmV0dXJuIE9iamVjdChpLl9lYWNoKShlLmJvZHkuYmlkLChmdW5jdGlvbihlKXtpZihlLnByaWNlJiZudWxsIT09ZS5wcmljZSYmIWUuaGFzT3duUHJvcGVydHkoImVycm9yQ29kZSIpJiYoZS5hZG18fGUubmF0aXZlKSl7dmFyIHI9T2JqZWN0KGkuZ2V0QmlkUmVxdWVzdCkoZS5pZCxbdF0pLG49e307aWYoZS5uYXRpdmUpbi5uYXRpdmU9ZnVuY3Rpb24oZSl7dmFyIHI9e307aWYoIWV8fCFPYmplY3QoaS5pc0FycmF5KShlLmFzc2V0cykpcmV0dXJuIG51bGw7ZS5hc3NldHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZS50aXRsZSlyLnRpdGxlPWUudGl0bGUudGV4dDtlbHNlIGlmKGUuZGF0YSlzd2l0Y2goZS5kYXRhLnR5cGUpe2Nhc2UgMTpyLnNwb25zb3JlZEJ5PWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDI6ci5ib2R5PWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDM6ci5yYXRpbmc9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNDpyLmxpa2VzPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDU6ci5kb3dubG9hZHM9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNjpyLnByaWNlPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDc6ci5zYWxlUHJpY2U9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgODpyLnBob25lPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDk6ci5hZGRyZXNzPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDEwOnIuYm9keTI9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMTE6ci5kaXNwbGF5VXJsPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDEyOnIuY3RhPWUuZGF0YS52YWx1ZX1lbHNlIGlmKGUuaW1nKXN3aXRjaChlLmltZy50eXBlKXtjYXNlIDI6ci5pY29uPXt1cmw6ZS5pbWcudXJsLHdpZHRoOmUuaW1nLncsaGVpZ2h0OmUuaW1nLmh9O2JyZWFrO2Nhc2UgMzpyLmltYWdlPXt1cmw6ZS5pbWcudXJsLHdpZHRoOmUuaW1nLncsaGVpZ2h0OmUuaW1nLmh9fX0pKSxlLmV2ZW50dHJhY2tlcnM/KHIuaW1wcmVzc2lvblRyYWNrZXJzPVtdLGUuZXZlbnR0cmFja2Vycy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigxPT09ZS5ldmVudClzd2l0Y2goZS5tZXRob2Qpe2Nhc2UgMTpyLmltcHJlc3Npb25UcmFja2Vycy5wdXNoKGUudXJsKTticmVhaztjYXNlIDI6ci5qYXZhc2NyaXB0VHJhY2tlcnM9JzxzY3JpcHQgc3JjPSInLmNvbmNhdChlLnVybCwnIj48XC9zY3JpcHQ+Jyl9fSkpKTooci5pbXByZXNzaW9uVHJhY2tlcnM9ZS5pbXB0cmFja2Vyc3x8W10sci5qYXZhc2NyaXB0VHJhY2tlcnM9ZS5qc3RyYWNrZXIpO2UubGluayYmKHIuY2xpY2tVcmw9ZS5saW5rLnVybCxyLmNsaWNrVHJhY2tlcnM9ZS5saW5rLmNsaWNrdHJhY2tlcnMpO2UucHJpdmFjeSYmKHIucHJpdmFjeUxpbms9ZS5wcml2YWN5KTtyZXR1cm4gcn0oZS5uYXRpdmUpLG4ub3J0Yk5hdGl2ZT1lLm5hdGl2ZSxlLm51cmwmJm4ubmF0aXZlLmltcHJlc3Npb25UcmFja2Vycy51bnNoaWZ0KGUubnVybCksbi5tZWRpYVR5cGU9cy5jO2Vsc2UgaWYoZS5hZF90eXBlJiYidmlkZW8iPT09ZS5hZF90eXBlKW4udmFzdFhtbD1lLmFkbSxuLm1lZGlhVHlwZT1zLmQseShyKSYmKG4uYWRSZXNwb25zZT17Y29udGVudDpuLnZhc3RYbWwsaGVpZ2h0OmUuaCx3aWR0aDplLnd9LG4ucmVuZGVyZXI9ZnVuY3Rpb24oZSl7dmFyIHI9Yy5hLmluc3RhbGwoe2lkOmUuYWRVbml0Q29kZSx1cmw6bCxsb2FkZWQ6ITEsY29uZmlnOk9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInJlbmRlcmVyLm9wdGlvbnMiKSxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pO3RyeXtyLnNldFJlbmRlcihnKX1jYXRjaChlKXtPYmplY3QoaS5sb2dXYXJuKSgiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gcn0ocikpO2Vsc2V7dmFyIGQ9IiI7ZS5udXJsJiZlLm51cmwubGVuZ3RoPjAmJihkPSc8aW1nIHNyYz0iJy5jb25jYXQoZS5udXJsLCciIHdpZHRoPSIwIiBoZWlnaHQ9IjAiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPicpKSxuLmFkPSIiLmNvbmNhdChkLCI8c2NyaXB0PiIpLmNvbmNhdChlLmFkbSwiPFwvc2NyaXB0PiIpLG4ubWVkaWFUeXBlPXMuYn1pZihuLmNwbT1wYXJzZUZsb2F0KGUucHJpY2UpLG4uY3JlYXRpdmVJZD1lLmNyaWQsbi5jdXJyZW5jeT1lLmN1cnJlbmN5P2UuY3VycmVuY3kudG9VcHBlckNhc2UoKToiVVNEIixPYmplY3QoaS5pc051bWJlcikoZS5saWQpJiZlLmJ1eWluZ190eXBlJiYicnRiIiE9PWUuYnV5aW5nX3R5cGUpbi5kZWFsSWQ9ZS5saWQ7ZWxzZSBpZihBcnJheS5pc0FycmF5KGUubGlkKSYmQXJyYXkuaXNBcnJheShlLmJ1eWluZ190eXBlKSYmZS5saWQubGVuZ3RoPT09ZS5idXlpbmdfdHlwZS5sZW5ndGgpe3ZhciBvPSExO2UuYnV5aW5nX3R5cGUuZm9yRWFjaCgoZnVuY3Rpb24ocix0KXtvfHxyJiYicnRiIiE9PXImJihvPSEwLG4uZGVhbElkPWUubGlkW3RdKX0pKX1uLmhlaWdodD1lLmgsbi5uZXRSZXZlbnVlPSEhZS5pc05ldCYmZS5pc05ldCxuLnJlcXVlc3RJZD1lLmlkLG4udHRsPTMwMCxuLndpZHRoPWUudyxuLndpZHRoJiZuLmhlaWdodHx8KG4ud2lkdGg9MSxuLmhlaWdodD0xKSxlLmFkb21haW4mJihuLm1ldGE9e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbn0pLGEucHVzaChuKX19KSksYX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscil7aWYoZS5waXhlbEVuYWJsZWQpe3ZhciB0PVtdO3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYm9keS5iaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0KGkuaXNBcnJheSkoZS5zeW5jKSYmZS5zeW5jLmZvckVhY2goKGZ1bmN0aW9uKGUpey0xPT09dC5pbmRleE9mKGUpJiZ0LnB1c2goZSl9KSl9KSl9KSksdC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOiJpbWFnZSIsdXJsOmV9fSkpfXJldHVybltdfX07ZnVuY3Rpb24gZihlKXt2YXIgcj1PYmplY3Qua2V5cyhPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzIix7fSkpLHQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpLGE9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7cmV0dXJuInZpZGVvIj09PWUubWVkaWFUeXBlfHwxPT09ci5sZW5ndGgmJnQmJiJvdXRzdHJlYW0iIT09YX1mdW5jdGlvbiB5KGUpe3ZhciByPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSx0PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpO3JldHVybiByJiYib3V0c3RyZWFtIj09PXR9ZnVuY3Rpb24gZyhlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93LkFOT3V0c3RyZWFtVmlkZW8ucmVuZGVyQWQoe3NpemVzOltlLndpZHRoLGUuaGVpZ2h0XSx0YXJnZXRJZDplLmFkVW5pdENvZGUsYWRSZXNwb25zZTplLmFkUmVzcG9uc2UscmVuZGVyZXJPcHRpb25zOmUucmVuZGVyZXIuZ2V0Q29uZmlnKCl9LGguYmluZChudWxsLGUpKX0pKX1mdW5jdGlvbiBoKGUscix0KXtlLnJlbmRlcmVyLmhhbmRsZVZpZGVvRXZlbnQoe2lkOnIsZXZlbnROYW1lOnR9KX1mdW5jdGlvbiB2KGUpe3RoaXMuQ09OU1RBTlRTPXtBRF9TRVJWRVJfQkFTRV9VUkw6ImljZS4zNjB5aWVsZC5jb20iLEVORF9QT0lOVDplfHwiaGIiLEFEX1NFUlZFUl9VUkxfUEFSQU06Impzb25wPSIsQ0xJRU5UX1ZFUlNJT046IkpTLTYuNC4wIixNQVhfVVJMX0xFTkdUSDoyMDgzLEVSUk9SX0NPREVTOntNSVNTSU5HX1BMQUNFTUVOVF9QQVJBTVM6MixMSUJfVkVSU0lPTl9NSVNTSU5HOjN9LFJFVFVSTl9PQkpfVFlQRTp7REVGQVVMVDowLFVSTF9QQVJBTVNfU1BMSVQ6MX19LHRoaXMuZ2V0RXJyb3JSZXR1cm49ZnVuY3Rpb24oZSl7cmV0dXJue2lkTWFwcGluZ3M6e30scmVxdWVzdHM6e30sZXJyb3JDb2RlOmV9fSx0aGlzLmNyZWF0ZVJlcXVlc3Q9ZnVuY3Rpb24oZSxyLHQpe2lmKCFyLmxpYlZlcnNpb24pcmV0dXJuIHRoaXMuZ2V0RXJyb3JSZXR1cm4odGhpcy5DT05TVEFOVFMuRVJST1JfQ09ERVMuTElCX1ZFUlNJT05fTUlTU0lORyk7ci5yZXR1cm5PYmpUeXBlPXIucmV0dXJuT2JqVHlwZXx8dGhpcy5DT05TVEFOVFMuUkVUVVJOX09CSl9UWVBFLkRFRkFVTFQsci5hZFNlcnZlckJhc2VVcmw9Imh0dHBzOi8vIisoci5hZFNlcnZlckJhc2VVcmx8fHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9CQVNFX1VSTCk7dmFyIGEsbj1bXTtpZihPYmplY3QoaS5pc0FycmF5KShlKSlmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKylhPXRoaXMuY3JlYXRlSW1wcmVzc2lvbk9iamVjdChlW3NdKSxuLnB1c2goYSk7ZWxzZSBhPXRoaXMuY3JlYXRlSW1wcmVzc2lvbk9iamVjdChlKSxuLnB1c2goYSk7dmFyIGM9ITA7ci5yZXR1cm5PYmpUeXBlPT09dGhpcy5DT05TVEFOVFMuUkVUVVJOX09CSl9UWVBFLlVSTF9QQVJBTVNfU1BMSVQmJihjPSExKTt2YXIgZD17cmVxdWVzdHM6W119O2MmJihkLmlkTWFwcGluZ3M9W10pO2Zvcih2YXIgbz1udWxsLHU9IiIuY29uY2F0KHIuYWRTZXJ2ZXJCYXNlVXJsLCIvIikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkVORF9QT0lOVCwiPyIpLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfVVJMX1BBUkFNKSxwPXtiaWRfcmVxdWVzdDp0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdChyLHQpfSxsPTA7bDxuLmxlbmd0aDtsKyspaWYoKGE9bltsXSkuZXJyb3JDb2RlKShvPW98fFtdKS5wdXNoKHtlcnJvckNvZGU6YS5lcnJvckNvZGUsYWRVbml0SWQ6YS5hZFVuaXRJZH0pO2Vsc2V7YyYmZC5pZE1hcHBpbmdzLnB1c2goe2FkVW5pdElkOmEuYWRVbml0SWQsaWQ6YS5pbXByZXNzaW9uT2JqZWN0LmlkfSkscC5iaWRfcmVxdWVzdC5pbXA9cC5iaWRfcmVxdWVzdC5pbXB8fFtdLHAuYmlkX3JlcXVlc3QuaW1wLnB1c2goYS5pbXByZXNzaW9uT2JqZWN0KTt2YXIgYj0hMTsodStlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocCkpKS5sZW5ndGg+dGhpcy5DT05TVEFOVFMuTUFYX1VSTF9MRU5HVEgmJihiPSEwLHAuYmlkX3JlcXVlc3QuaW1wLmxlbmd0aD4xJiYocC5iaWRfcmVxdWVzdC5pbXAucG9wKCksYyYmZC5pZE1hcHBpbmdzLnBvcCgpLGwtLSkpLCFiJiZyLnNpbmdsZVJlcXVlc3RNb2RlJiZsIT09bi5sZW5ndGgtMXx8KGQucmVxdWVzdHMucHVzaCh0aGlzLmZvcm1hdFJlcXVlc3QocixwKSkscD17YmlkX3JlcXVlc3Q6dGhpcy5jcmVhdGVCYXNpY0JpZFJlcXVlc3RPYmplY3Qocix0KX0pfXJldHVybiBvJiYoZC5lcnJvcnM9byksZH0sdGhpcy5mb3JtYXRSZXF1ZXN0PWZ1bmN0aW9uKGUscil7c3dpdGNoKGUucmV0dXJuT2JqVHlwZSl7Y2FzZSB0aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuVVJMX1BBUkFNU19TUExJVDpyZXR1cm57bWV0aG9kOiJHRVQiLHVybDoiIi5jb25jYXQoZS5hZFNlcnZlckJhc2VVcmwsIi8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuRU5EX1BPSU5UKSxkYXRhOiIiLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfVVJMX1BBUkFNKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKSl9O2RlZmF1bHQ6cmV0dXJue3VybDoiIi5jb25jYXQoZS5hZFNlcnZlckJhc2VVcmwsIi8iKSsiIi5jb25jYXQodGhpcy5DT05TVEFOVFMuRU5EX1BPSU5ULCI/IikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShyKSl9fX0sdGhpcy5jcmVhdGVCYXNpY0JpZFJlcXVlc3RPYmplY3Q9ZnVuY3Rpb24oZSxyKXt2YXIgdD17c2VjdXJlOjF9O2lmKGUucmVxdWVzdElkP3QuaWQ9ZS5yZXF1ZXN0SWQ6dC5pZD1PYmplY3QoaS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLGUuZG9tYWluJiYodC5kb21haW49ZS5kb21haW4pLGUucGFnZSYmKHQucGFnZT1lLnBhZ2UpLGUucmVmJiYodC5yZWY9ZS5yZWYpLGUuY2FsbGJhY2smJih0LmNhbGxiYWNrPWUuY2FsbGJhY2spLGUubGliVmVyc2lvbiYmKHQudmVyc2lvbj1lLmxpYlZlcnNpb24rIi0iK3RoaXMuQ09OU1RBTlRTLkNMSUVOVF9WRVJTSU9OKSxlLnJlZmVycmVyJiYodC5yZWZlcnJlcj1lLnJlZmVycmVyKSwoZS5nZHByfHwwPT09ZS5nZHByKSYmKHQuZ2Rwcj1lLmdkcHIpLGUudXNQcml2YWN5JiYodC51c19wcml2YWN5PWUudXNQcml2YWN5KSxlLnNjaGFpbiYmKHQuc2NoYWluPWUuc2NoYWluKSxlLnVzZXImJih0LnVzZXI9ZS51c2VyKSxyKWZvcih2YXIgYSBpbiByKXRbYV09clthXTtyZXR1cm4gdH0sdGhpcy5jcmVhdGVJbXByZXNzaW9uT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciByPXt9LHQ9e307aWYoci5pbXByZXNzaW9uT2JqZWN0PXQsZS5pZD90LmlkPWUuaWQ6dC5pZD1PYmplY3QoaS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLGUuYWRUeXBlcyYmKHQuYWRfdHlwZXM9ZS5hZFR5cGVzKSxlLmFkVW5pdElkJiYoci5hZFVuaXRJZD1lLmFkVW5pdElkKSxlLmN1cnJlbmN5JiYodC5jdXJyZW5jeT1lLmN1cnJlbmN5LnRvVXBwZXJDYXNlKCkpLGUuYmlkRmxvb3ImJih0LmJpZGZsb29yPWUuYmlkRmxvb3IpLGUuYmlkRmxvb3JDdXImJih0LmJpZGZsb29yY3VyPWUuYmlkRmxvb3JDdXIudG9VcHBlckNhc2UoKSksZS5wbGFjZW1lbnRJZCYmKHQucGlkPWUucGxhY2VtZW50SWQpLGUucHVibGlzaGVySWQmJih0LnB1YmlkPWUucHVibGlzaGVySWQpLGUucGxhY2VtZW50S2V5JiYodC5wa2V5PWUucGxhY2VtZW50S2V5KSxlLnRyYW5zYWN0aW9uSWQmJih0LnRpZD1lLnRyYW5zYWN0aW9uSWQpLCFPYmplY3QoaS5pc0VtcHR5KShlLnZpZGVvKSl7dmFyIGE9cCh7fSxlLnZpZGVvKTsxIT09YS5za2lwJiYoZGVsZXRlIGEuc2tpcG1pbixkZWxldGUgYS5za2lwYWZ0ZXIsMCE9PWEuc2tpcCYmKE9iamVjdChpLmxvZ1dhcm4pKCJ2aWRlby5za2lwOiBpbnZhbGlkIHZhbHVlICciLmNvbmNhdChhLnNraXAsIicuIEV4cGVjdGVkIDAgb3IgMSIpKSxkZWxldGUgYS5za2lwKSksT2JqZWN0KGkuaXNFbXB0eSkoYSl8fCh0LnZpZGVvPWEpfWlmKGUua2V5VmFsdWVzKWZvcih2YXIgbiBpbiBlLmtleVZhbHVlcylmb3IodmFyIHM9MDtzPGUua2V5VmFsdWVzW25dLmxlbmd0aDtzKyspdC5rdnc9dC5rdnd8fHt9LHQua3Z3W25dPXQua3Z3W25dfHxbXSx0Lmt2d1tuXS5wdXNoKGUua2V5VmFsdWVzW25dW3NdKTtpZih0LmJhbm5lcj17fSxlLnNpemUmJmUuc2l6ZS53JiZlLnNpemUuaCYmKHQuYmFubmVyLnc9ZS5zaXplLncsdC5iYW5uZXIuaD1lLnNpemUuaCksZS5mb3JtYXQmJk9iamVjdChpLmlzQXJyYXkpKGUuZm9ybWF0KSl7dmFyIGM9ZS5mb3JtYXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMj09PWUubGVuZ3RoJiZPYmplY3QoaS5pc0ludGVnZXIpKGVbMF0pJiZPYmplY3QoaS5pc0ludGVnZXIpKGVbMV0pJiZlWzBdPj0wJiZlWzFdPj0wfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpO2MubGVuZ3RoPjAmJih0LmJhbm5lci5mb3JtYXQ9Yyl9cmV0dXJuIHQucGlkfHx0LnB1YmlkfHx0LnBrZXl8fHQuYmFubmVyJiZ0LmJhbm5lci53JiZ0LmJhbm5lci5ofHwoci5pbXByZXNzaW9uT2JqZWN0PW51bGwsci5lcnJvckNvZGU9dGhpcy5DT05TVEFOVFMuRVJST1JfQ09ERVMuTUlTU0lOR19QTEFDRU1FTlRfUEFSQU1TKSxyfX1PYmplY3QoYS5yZWdpc3RlckJpZGRlcikobSl9fSxbNTE5XSk7CnVwYmpzQ2h1bmsoWzIyM10sezU1MTpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNTUyKX0sNTUyOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gJH0pKTt2YXIgaT10KDApLG49dCgyKSxhPXQoMyksbz10KDExKSxzPXQubihvKSxkPXQoMSksYz10KDIyKSxwPXQoMTIpLHU9dC5uKHApLGw9dCgxMyk7ZnVuY3Rpb24gZihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gTyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGgoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbShlKXtyZXR1cm4obT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGIoZSxyKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3ImJihpPWkuZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpLmVudW1lcmFibGV9KSkpLHQucHVzaC5hcHBseSh0LGkpfXJldHVybiB0fWZ1bmN0aW9uIHkoZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/YihPYmplY3QodCksITApLmZvckVhY2goKGZ1bmN0aW9uKHIpe3YoZSxyLHRbcl0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpOmIoT2JqZWN0KHQpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gdihlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9ZnVuY3Rpb24gZyhlLHIpe3ZhciB0PSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZighdCl7aWYoQXJyYXkuaXNBcnJheShlKXx8KHQ9aChlKSl8fHImJmUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpe3QmJihlPXQpO3ZhciBpPTAsbj1mdW5jdGlvbigpe307cmV0dXJue3M6bixuOmZ1bmN0aW9uKCl7cmV0dXJuIGk+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW2krK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6bn19dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfXZhciBhLG89ITAscz0hMTtyZXR1cm57czpmdW5jdGlvbigpe3Q9dC5jYWxsKGUpfSxuOmZ1bmN0aW9uKCl7dmFyIGU9dC5uZXh0KCk7cmV0dXJuIG89ZS5kb25lLGV9LGU6ZnVuY3Rpb24oZSl7cz0hMCxhPWV9LGY6ZnVuY3Rpb24oKXt0cnl7b3x8bnVsbD09dC5yZXR1cm58fHQucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGF9fX19ZnVuY3Rpb24gaChlLHIpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gTyhlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT10fHwiU2V0Ij09PXQ/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpP08oZSxyKTp2b2lkIDB9fWZ1bmN0aW9uIE8oZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxpPW5ldyBBcnJheShyKTt0PHI7dCsrKWlbdF09ZVt0XTtyZXR1cm4gaX12YXIgaj0icm91bmRlbCIseD1bbi5iLG4uZF0sST04ZTMsdz17SlBZOjF9LEE9InAiLFA9IngiLFM9e1NJVEU6WyJpZCIsIm5hbWUiLCJkb21haW4iLCJjYXQiLCJzZWN0aW9uY2F0IiwicGFnZWNhdCIsInBhZ2UiLCJyZWYiLCJzZWFyY2giLCJtb2JpbGUiLCJwcml2YWN5cG9saWN5IiwicHVibGlzaGVyIiwiY29udGVudCIsImtleXdvcmRzIiwiZXh0Il0sVVNFUjpbImlkIiwiYnV5ZXJ1aWQiLCJ5b2IiLCJnZW5kZXIiLCJrZXl3b3JkcyIsImN1c3RvbWRhdGEiLCJnZW8iLCJkYXRhIiwiZXh0Il19LHo9eyJsaXZlcmFtcC5jb20iOiJpZGwiLCJuZXRpZC5kZSI6Ik5FVElEIiwibmV1c3Rhci5iaXoiOiJmYWJyaWNrSWQiLCJ6ZW90YXAuY29tIjoiemVvdGFwSWRQbHVzIiwidWlkYXBpLmNvbSI6IlVJRDIiLCJhZHNlcnZlci5vcmciOiJURElEIn0sVD1bImJyaXRlcG9vbGlkIiwiaWQ1aWQiLCJsaXBiaWQiLCJoYWxvSWQiLCJjcml0ZW9JZCIsImxvdGFtZVBhbm9yYW1hSWQiLCJtZXJrbGVJZCIsInBhcnJhYmxlSWQiLCJjb25uZWN0aWQiLCJ0YXBhZElkIiwicXVhbnRjYXN0SWQiLCJwdWJjaWQiLCJURElEIiwiZmxvY0lkIl0sQz1bIm1pbWVzIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiJdLGs9WyJtaW1lcyIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJwcm90b2NvbHMiLCJwcm90b2NvbCIsInN0YXJ0ZGVsYXkiLCJwbGFjZW1lbnQiLCJsaW5lYXJpdHkiLCJza2lwIiwic2tpcG1pbiIsInNraXBhZnRlciIsInNlcXVlbmNlIiwiYmF0dHIiLCJtYXhleHRlbmRlZCIsIm1pbmJpdHJhdGUiLCJtYXhiaXRyYXRlIiwiYm94aW5nYWxsb3dlZCIsInBsYXliYWNrbWV0aG9kIiwicGxheWJhY2tlbmQiLCJkZWxpdmVyeSIsInBvcyIsImNvbXBhbmlvbmFkIiwiYXBpIiwiY29tcGFuaW9udHlwZSIsImV4dCIsInBsYXllclNpemUiLCJ3IiwiaCJdO2Z1bmN0aW9uIEUoZSl7dmFyIHI9e307ci5pZD1lLmJpZElkLHIuZXh0PXt9LHIuZXh0LnNpdGVJRD1lLnBhcmFtcy5zaXRlSWQsIWUucGFyYW1zLmhhc093blByb3BlcnR5KCJpZCIpfHwic3RyaW5nIiE9dHlwZW9mIGUucGFyYW1zLmlkJiYibnVtYmVyIiE9dHlwZW9mIGUucGFyYW1zLmlkfHwoci5leHQuc2lkPVN0cmluZyhlLnBhcmFtcy5pZCkpO3ZhciB0PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhLmFkc2VydmVyLmFkc2xvdCIpO3JldHVybiB0JiYoci5leHQuZGZwX2FkX3VuaXRfY29kZT10KSxyfWZ1bmN0aW9uIEQoZSxyLHQpe3ZhciBuPW51bGwsYT1udWxsO2lmKGUucGFyYW1zLmJpZEZsb29yJiZlLnBhcmFtcy5iaWRGbG9vckN1ciYmKG49e2Zsb29yOmUucGFyYW1zLmJpZEZsb29yLGN1cnJlbmN5OmUucGFyYW1zLmJpZEZsb29yQ3VyfSksT2JqZWN0KGkuaXNGbikoZS5nZXRGbG9vcikpe3ZhciBvPSIqIixzPSIqIjtpZih0JiZPYmplY3QoaS5jb250YWlucykoeCx0KSl7dmFyIGQ9clt0XTtvPXQscz1bZC53LGQuaF19dHJ5e2E9ZS5nZXRGbG9vcih7bWVkaWFUeXBlOm8sc2l6ZTpzfSl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoInByaWNlRmxvb3JzIG1vZHVsZSBjYWxsIGdldEZsb29yIGZhaWxlZCwgZXJyb3IgOiAiLGUpfX1hPyhyLmJpZGZsb29yPWEuZmxvb3Isci5iaWRmbG9vcmN1cj1hLmN1cnJlbmN5LHIuZXh0LmZsPUEpOm4mJihyLmJpZGZsb29yPW4uZmxvb3Isci5iaWRmbG9vcmN1cj1uLmN1cnJlbmN5LHIuZXh0LmZsPVApfWZ1bmN0aW9uIF8oZSxyLHQpe3ZhciBhPXt9LG89ISghT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiZXhwIil8fCFPYmplY3QoaS5pc0ludGVnZXIpKGUuZXhwKSkscz1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJkZWFsaWQiKXx8T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiZXh0LmRlYWxpZCIpO3JldHVybiB3Lmhhc093blByb3BlcnR5KHIpP2EuY3BtPWUucHJpY2Uvd1tyXTphLmNwbT1lLnByaWNlLzEwMCxhLnJlcXVlc3RJZD1lLmltcGlkLHMmJihhLmRlYWxJZD1zKSxhLm5ldFJldmVudWU9dHJ1ZSxhLmN1cnJlbmN5PXIsYS5jcmVhdGl2ZUlkPWUuaGFzT3duUHJvcGVydHkoImNyaWQiKT9lLmNyaWQ6Ii0iLE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImV4dC52YXN0dXJsIik/KGEudmFzdFVybD1lLmV4dC52YXN0dXJsLGEud2lkdGg9dC52aWRlby53LGEuaGVpZ2h0PXQudmlkZW8uaCxhLm1lZGlhVHlwZT1uLmQsYS5tZWRpYVR5cGVzPXQubWVkaWFUeXBlcyxhLnR0bD1vP2UuZXhwOjM2MDApOihhLmFkPWUuYWRtLGEud2lkdGg9ZS53LGEuaGVpZ2h0PWUuaCxhLm1lZGlhVHlwZT1uLmIsYS50dGw9bz9lLmV4cDozMDApLGEubWV0YT17fSxhLm1ldGEubmV0d29ya0lkPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImV4dC5kc3BpZCIpLGEubWV0YS5icmFuZElkPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImV4dC5hZHZicmFuZGlkIiksYS5tZXRhLmJyYW5kTmFtZT1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJleHQuYWR2YnJhbmQiKSxlLmFkb21haW4mJmUuYWRvbWFpbi5sZW5ndGg+MCYmKGEubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1lLmFkb21haW4pLGF9ZnVuY3Rpb24gRihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmMj09PWUubGVuZ3RoJiZPYmplY3QoaS5pc0ludGVnZXIpKGVbMF0pJiZPYmplY3QoaS5pc0ludGVnZXIpKGVbMV0pfWZ1bmN0aW9uIFIoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06W107aWYoRihlKSlyZXR1cm4gZVswXT09PXJbMF0mJmVbMV09PT1yWzFdO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKGVbdF1bMF09PT1yWzBdJiZlW3RdWzFdPT09clsxXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBxKGUscil7dmFyIHQ9W107ZXx8T2JqZWN0KGkubG9nV2FybikoIklYIEJpZCBBZGFwdGVyOiBtZWRpYVR5cGVzLnZpZGVvIGlzIHRoZSBwcmVmZXJyZWQgbG9jYXRpb24gZm9yIHZpZGVvIHBhcmFtcyBpbiBhZCB1bml0Iik7dmFyIG4sYT1nKEMpO3RyeXtmb3IoYS5zKCk7IShuPWEubigpKS5kb25lOyl7dmFyIG89bi52YWx1ZSxzPWUmJmUuaGFzT3duUHJvcGVydHkobyksZD1yJiZyLmhhc093blByb3BlcnR5KG8pO3N8fGR8fHQucHVzaCgiSVggQmlkIEFkYXB0ZXI6ICIuY29uY2F0KG8sIiBpcyBub3QgaW5jbHVkZWQgaW4gZWl0aGVyIHRoZSBhZHVuaXQgb3IgcGFyYW1zIGxldmVsIikpfX1jYXRjaChlKXthLmUoZSl9ZmluYWxseXthLmYoKX12YXIgYz1lJiZlLmhhc093blByb3BlcnR5KCJwcm90b2NvbCIpLHA9ZSYmZS5oYXNPd25Qcm9wZXJ0eSgicHJvdG9jb2xzIiksdT1yJiZyLmhhc093blByb3BlcnR5KCJwcm90b2NvbCIpLGw9ciYmci5oYXNPd25Qcm9wZXJ0eSgicHJvdG9jb2xzIik7cmV0dXJuIGN8fHB8fHV8fGx8fHQucHVzaCgiSVggQmlkIEFkYXB0ZXI6IHByb3RvY29sL3Byb3Rjb2xzIGlzIG5vdCBpbmNsdWRlZCBpbiBlaXRoZXIgdGhlIGFkdW5pdCBvciBwYXJhbXMgbGV2ZWwiKSx0fWZ1bmN0aW9uIEIoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W107cmV0dXJuIEYoZSk/ZTohIUYoZVswXSkmJmVbMF19ZnVuY3Rpb24gVShlLHIsdCl7aWYoZSlyZXR1cm4geSh5KHt9LHMoKSh0LChmdW5jdGlvbihyKXtyZXR1cm4gci5iaWRJZD09PWV9KSkpLHMoKShyLChmdW5jdGlvbihyKXtyZXR1cm4gci5pZD09PWV9KSkpfWZ1bmN0aW9uIE4oZSxyLHQsbyl7dmFyIHM9Imh0dHBzOi8vaHRsYi5jYXNhbGVtZWRpYS5jb20vY3lnbnVzIixkPWZ1bmN0aW9uKGUscil7dmFyIHQ9W10sbj17fTtpZihPYmplY3QoaS5pc0FycmF5KShlKSl7dmFyIGEsbz1nKGUpO3RyeXtmb3Ioby5zKCk7IShhPW8ubigpKS5kb25lOyl7dmFyIHM9YS52YWx1ZTt6W3Muc291cmNlXSYmT2JqZWN0KGkuZGVlcEFjY2VzcykocywidWlkcy4wIikmJihuW3Muc291cmNlXT0hMCxzLnVpZHNbMF0uZXh0PXtydGlQYXJ0bmVyOnpbcy5zb3VyY2VdfSxkZWxldGUgcy51aWRzWzBdLmF0eXBlLHQucHVzaChzKSl9fWNhdGNoKGUpe28uZShlKX1maW5hbGx5e28uZigpfX1pZihyJiZyLmlkJiZyLnZlcnNpb24pe3ZhciBkPXtzb3VyY2U6ImNocm9tZS5jb20iLHVpZHM6W3tpZDpyLmlkLGV4dDp7cnRpUGFydG5lcjoiZmxvY0lkIix2ZXI6ci52ZXJzaW9ufX1dfTt0LnB1c2goZCksblsiY2hyb21lLmNvbSJdPSEwfXJldHVybnt0b1NlbmQ6dCxzZWVuU291cmNlczpufX0oT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiMC51c2VySWRBc0VpZHMiKSxPYmplY3QoaS5kZWVwQWNjZXNzKShlLCIwLnVzZXJJZC5mbG9jSWQiKSksYz1kLnRvU2VuZDtpZih3aW5kb3cuaGVhZGVydGFnJiYiZnVuY3Rpb24iPT10eXBlb2Ygd2luZG93LmhlYWRlcnRhZy5nZXRJZGVudGl0eUluZm8pe3ZhciBwPXdpbmRvdy5oZWFkZXJ0YWcuZ2V0SWRlbnRpdHlJbmZvKCk7aWYocCYmIm9iamVjdCI9PT1tKHApKWZvcih2YXIgdSBpbiBwKWlmKHAuaGFzT3duUHJvcGVydHkodSkpe3ZhciBsPXBbdV07IWwucmVzcG9uc2VQZW5kaW5nJiZsLmRhdGEmJiJvYmplY3QiPT09bShsLmRhdGEpJiZPYmplY3Qua2V5cyhsLmRhdGEpLmxlbmd0aCYmIWQuc2VlblNvdXJjZXNbbC5kYXRhLnNvdXJjZV0mJmMucHVzaChsLmRhdGEpfX1pZihyJiZyLmJpZGRlckNvZGU9PT1qJiYhZC5zZWVuU291cmNlc1sibGl2ZXJhbXAuY29tIl0pcmV0dXJuW107dmFyIGI9e307Yi5pZD1lWzBdLmJpZGRlclJlcXVlc3RJZC50b1N0cmluZygpLGIuc2l0ZT17fSxiLmV4dD17fSxiLmV4dC5zb3VyY2U9InByZWJpZCIsYi5leHQuaXhkaWFnPXt9LGIuZXh0Lml4ZGlhZy5tc2Q9MCxiLmV4dC5peGRpYWcubXNpPTAsYi5pbXA9W10sYi5hdD0xO3ZhciB2PWZ1bmN0aW9uKGUpe2Zvcih2YXIgcj1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhbnNhY3Rpb25JZH0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUscix0KXtyZXR1cm4gdC5pbmRleE9mKGUpPT09cn0pKSx0PXttZnU6MCxidTowLGl1OjAsbnU6MCxvdTowLGFsbHU6MCxyZW46ITEsdmVyc2lvbjoiNS4yMC4yIix1c2VySWRzOkooZVswXSl9LG49ZnVuY3Rpb24obil7aWYobz1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhbnNhY3Rpb25JZD09PXJbbl19KSlbMF0sT2JqZWN0KGkuZGVlcEFjY2VzcykobywibWVkaWFUeXBlcyIpKXtpZihPYmplY3Qua2V5cyhvLm1lZGlhVHlwZXMpLmxlbmd0aD4xJiZ0Lm1mdSsrLE9iamVjdChpLmRlZXBBY2Nlc3MpKG8sIm1lZGlhVHlwZXMubmF0aXZlIikmJnQubnUrKyxPYmplY3QoaS5kZWVwQWNjZXNzKShvLCJtZWRpYVR5cGVzLmJhbm5lciIpJiZ0LmJ1KyssIm91dHN0cmVhbSI9PT1PYmplY3QoaS5kZWVwQWNjZXNzKShvLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSl7dC5vdSsrO3ZhciBhPSJvYmplY3QiPT09bShPYmplY3QoaS5kZWVwQWNjZXNzKShvLCJyZW5kZXJlciIpfHxPYmplY3QoaS5kZWVwQWNjZXNzKShvLCJtZWRpYVR5cGVzLnZpZGVvLnJlbmRlcmVyIikpO3QucmVuPXQucmVuJiZhP09iamVjdChpLmRlZXBBY2Nlc3MpKHQsInJlbiIpOmF9Imluc3RyZWFtIj09PU9iamVjdChpLmRlZXBBY2Nlc3MpKG8sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiZ0Lml1KyssdC5hbGx1Kyt9fSxhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBvO24oYSl9cmV0dXJuIHR9KGUpO2Zvcih2YXIgaCBpbiB2KWIuZXh0Lml4ZGlhZ1toXT12W2hdO2lmKGVbMF0uc2NoYWluJiYoYi5zb3VyY2U9e2V4dDp7c2NoYWluOmVbMF0uc2NoYWlufX0pLGMubGVuZ3RoPjAmJihiLnVzZXI9e30sYi51c2VyLmVpZHM9YyksZG9jdW1lbnQucmVmZXJyZXImJiIiIT09ZG9jdW1lbnQucmVmZXJyZXImJihiLnNpdGUucmVmPWRvY3VtZW50LnJlZmVycmVyKSxyKXtpZihyLmdkcHJDb25zZW50KXt2YXIgTz1yLmdkcHJDb25zZW50O08uaGFzT3duUHJvcGVydHkoImdkcHJBcHBsaWVzIikmJihiLnJlZ3M9e2V4dDp7Z2RwcjpPLmdkcHJBcHBsaWVzPzE6MH19KSxPLmhhc093blByb3BlcnR5KCJjb25zZW50U3RyaW5nIikmJihiLnVzZXI9Yi51c2VyfHx7fSxiLnVzZXIuZXh0PXtjb25zZW50Ok8uY29uc2VudFN0cmluZ3x8IiJ9LE8uaGFzT3duUHJvcGVydHkoImFkZHRsQ29uc2VudCIpJiZPLmFkZHRsQ29uc2VudCYmKGIudXNlci5leHQuY29uc2VudGVkX3Byb3ZpZGVyc19zZXR0aW5ncz17Y29uc2VudGVkX3Byb3ZpZGVyczpPLmFkZHRsQ29uc2VudH0pKX1yLnVzcENvbnNlbnQmJk9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYiwicmVncy5leHQudXNfcHJpdmFjeSIsci51c3BDb25zZW50KSxyLnJlZmVyZXJJbmZvJiYoYi5zaXRlLnBhZ2U9ci5yZWZlcmVySW5mby5yZWZlcmVyKX1hLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiZPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInJlZ3MuY29wcGEiLDEpO3ZhciB4PXt9O3gucz1lWzBdLnBhcmFtcy5zaXRlSWQseC52PW8seC5hYz0iaiIseC5zZD0xLDguMT09PW8mJih4Lm5mPTEpO3ZhciB3PXImJnIuYmlkZGVyQ29kZXx8Iml4IixBPWEuYi5nZXRDb25maWcodyksUD1bXSxUPTAsQz1PYmplY3Qua2V5cyh0KSxrPSIiLmNvbmNhdChzKS5jb25jYXQoT2JqZWN0KGkucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnMpKHkoeSh7fSx4KSx7fSx7cjpKU09OLnN0cmluZ2lmeShiKX0pKSkubGVuZ3RoO2lmKGs+SSlyZXR1cm4gT2JqZWN0KGkubG9nRXJyb3IpKCJpeCBiaWRkZXI6IEJhc2UgcmVxdWVzdCBzaXplIGhhcyBleGNlZWRlZCBtYXhpbXVtIHJlcXVlc3Qgc2l6ZS4iKSxQO3ZhciBFPWssRD0wLF89ITE7aWYoQSl7aWYoIm9iamVjdCI9PT1tKEEuZmlyc3RQYXJ0eURhdGEpKXt2YXIgRj1BLmZpcnN0UGFydHlEYXRhLFI9Ij8iO2Zvcih2YXIgcSBpbiBGKUYuaGFzT3duUHJvcGVydHkocSkmJihSKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHEpLCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChGW3FdKSwiJiIpKTtSPVIuc2xpY2UoMCwtMSksKEQ9ZW5jb2RlVVJJQ29tcG9uZW50KFIpLmxlbmd0aCk8ST8oInBhZ2UiaW4gYi5zaXRlP2Iuc2l0ZS5wYWdlKz1SOmIuc2l0ZS5wYWdlPVIsRSs9RCk6T2JqZWN0KGkubG9nRXJyb3IpKCJpeCBiaWRkZXI6IElYIGNvbmZpZyBGUEQgcmVxdWVzdCBzaXplIGhhcyBleGNlZWRlZCBtYXhpbXVtIHJlcXVlc3Qgc2l6ZS4iKX0ibnVtYmVyIj09dHlwZW9mIEEudGltZW91dCYmKHgudD1BLnRpbWVvdXQpLCJib29sZWFuIj09dHlwZW9mIEEuZGV0ZWN0TWlzc2luZ1NpemVzP2IuZXh0Lml4ZGlhZy5kbXM9QS5kZXRlY3RNaXNzaW5nU2l6ZXM6Yi5leHQuaXhkaWFnLmRtcz0hMH1mb3IodmFyIEI9ZnVuY3Rpb24ocil7aWYoRT49SXx8UC5sZW5ndGg+PTQpcmV0dXJuImJyZWFrIjtmb3IodmFyIG89dFtDW3JdXSxkPW8ubWlzc2luZ0NvdW50LGM9dm9pZCAwPT09ZD8wOmQscD1vLm1pc3NpbmdJbXBzLHU9dm9pZCAwPT09cD9bXTpwLGw9by5peEltcHMsbT0hMSx2PUktRSxnPXtpeEltcHM6dm9pZCAwPT09bD9bXTpsLG1pc3NpbmdCYW5uZXJJbXByZXNzaW9uczp1fSxoPU9iamVjdC5rZXlzKGcpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGdbZV19KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGUuY29uY2F0LmFwcGx5KGUsZihyKSl9KSxbXSksTz1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoe2ltcHJlc3Npb25PYmplY3RzOmh9KSkubGVuZ3RoO2gubGVuZ3RoJiZPPnY7KW09ITAsaC5wb3AoKSxPPWVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh7aW1wcmVzc2lvbk9iamVjdHM6aH0pKS5sZW5ndGg7aWYoaC5sZW5ndGgmJm4uYiBpbiBoWzBdKXt2YXIgaj1oWzBdLHc9ai5pZCxBPWouYmFubmVyLnRvcGZyYW1lLHo9ai5leHQsRD17aWQ6dyxiYW5uZXI6e3RvcGZyYW1lOkEsZm9ybWF0OmgubWFwKChmdW5jdGlvbihlKXt2YXIgcj1lLmJhbm5lcjtyZXR1cm57dzpyLncsaDpyLmgsZXh0OmUuZXh0fX0pKX19O3ouZGZwX2FkX3VuaXRfY29kZSYmKEQuZXh0PXtkZnBfYWRfdW5pdF9jb2RlOnouZGZwX2FkX3VuaXRfY29kZX0pLCJiaWRmbG9vciJpbiBoWzBdJiYoRC5iaWRmbG9vcj1oWzBdLmJpZGZsb29yKSwiYmlkZmxvb3JjdXIiaW4gaFswXSYmKEQuYmlkZmxvb3JjdXI9aFswXS5iaWRmbG9vcmN1ciksYi5pbXAucHVzaChEKSxiLmV4dC5peGRpYWcubXNkKz1jLGIuZXh0Lml4ZGlhZy5tc2krPXUubGVuZ3RofWVsc2V7dmFyIEY7KEY9Yi5pbXApLnB1c2guYXBwbHkoRixmKGgpKX1FKz1PO3ZhciBSPWEuYi5nZXRDb25maWcoIm9ydGIyIil8fHt9O2lmKCFPYmplY3QoaS5pc0VtcHR5KShSKSYmIV8pe2IuZXh0Lml4ZGlhZy5mcGQ9ITA7dmFyIHE9eSh7fSxSLnNpdGV8fFIuY29udGV4dCk7T2JqZWN0LmtleXMocSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7LTE9PT1TLlNJVEUuaW5kZXhPZihlKSYmZGVsZXRlIHFbZV19KSk7dmFyIEI9eSh7fSxSLnVzZXIpO09iamVjdC5rZXlzKEIpLmZvckVhY2goKGZ1bmN0aW9uKGUpey0xPT09Uy5VU0VSLmluZGV4T2YoZSkmJmRlbGV0ZSBCW2VdfSkpO3ZhciBVPU9iamVjdChpLmRlZXBDbG9uZSkoYik7aWYoVS5zaXRlPU9iamVjdChpLm1lcmdlRGVlcCkoe30sVS5zaXRlLHEpLFUudXNlcj1PYmplY3QoaS5tZXJnZURlZXApKHt9LFUudXNlcixCKSwiIi5jb25jYXQocykuY29uY2F0KE9iamVjdChpLnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKSh5KHkoe30seCkse30se3I6SlNPTi5zdHJpbmdpZnkoVSl9KSkpLmxlbmd0aDxJKXtiLnNpdGU9T2JqZWN0KGkubWVyZ2VEZWVwKSh7fSxiLnNpdGUscSksYi51c2VyPU9iamVjdChpLm1lcmdlRGVlcCkoe30sYi51c2VyLEIpLF89ITA7dmFyIE49ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHkoeSh7fSxxKSxCKSkpLmxlbmd0aDtFKz1OfWVsc2UgT2JqZWN0KGkubG9nRXJyb3IpKCJpeCBiaWRkZXI6IEZQRCByZXF1ZXN0IHNpemUgaGFzIGV4Y2VlZGVkIG1heGltdW0gcmVxdWVzdCBzaXplLiIpfXZhciBKPXI9PT1DLmxlbmd0aC0xO2lmKG18fEope3ZhciBNPU9iamVjdChpLmRlZXBDbG9uZSkoeCk7SiYmIVR8fChiLmV4dC5peGRpYWcuc249VCxNLnNuPVQpLFQrKyxNLnI9SlNPTi5zdHJpbmdpZnkoYiksUC5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOnMsZGF0YTpNLHZhbGlkQmlkUmVxdWVzdHM6ZX0pLEU9ayxiLmltcD1bXSxiLmV4dC5peGRpYWcubXNkPTAsYi5leHQuaXhkaWFnLm1zaT0wLF89ITF9fSxVPTA7VTxDLmxlbmd0aDtVKyspe2lmKCJicmVhayI9PT1CKFUpKWJyZWFrfXJldHVybiBQfWZ1bmN0aW9uIEooZSl7dmFyIHI9ZS51c2VySWR8fHt9O3JldHVybiBULmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHJbZV19KSl9ZnVuY3Rpb24gTShlLHIpe2lmKHIpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBpPWVbdF07aWYoclswXT09PWlbMF0mJnJbMV09PT1pWzFdKXtlLnNwbGljZSh0LDEpO2JyZWFrfX19ZnVuY3Rpb24gWChlLHIpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciByPUUoZSksdD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIiksYT1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8iKTtpZihxKHQsYSkubGVuZ3RoKXJldHVybnt9O2Zvcih2YXIgbyBpbiByLnZpZGVvPWE/T2JqZWN0KGkuZGVlcENsb25lKShlLnBhcmFtcy52aWRlbyk6e30sdCktMT09PWsuaW5kZXhPZihvKXx8ci52aWRlby5oYXNPd25Qcm9wZXJ0eShvKXx8KHIudmlkZW9bb109dFtvXSk7aWYoci52aWRlby5taW5kdXJhdGlvbj5yLnZpZGVvLm1heGR1cmF0aW9uKXJldHVybiBPYmplY3QoaS5sb2dFcnJvcikoIklYIEJpZCBBZGFwdGVyOiB2aWRlbyBtaW5kdXJhdGlvbiBbIi5jb25jYXQoci52aWRlby5taW5kdXJhdGlvbiwiXSBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuIHZpZGVvIG1heGR1cmF0aW9uIFsiKS5jb25jYXQoci52aWRlby5tYXhkdXJhdGlvbiwiXSIpKSx7fTt2YXIgcz1hJiZhLmNvbnRleHR8fHQmJnQuY29udGV4dDtpZihzJiYhci52aWRlby5oYXNPd25Qcm9wZXJ0eSgicGxhY2VtZW50IikmJihzPT09Yy5hP3IudmlkZW8ucGxhY2VtZW50PTE6cz09PWMuYj9yLnZpZGVvLnBsYWNlbWVudD00Ok9iamVjdChpLmxvZ1dhcm4pKCJJWCBCaWQgQWRhcHRlcjogVmlkZW8gY29udGV4dCAnIi5jb25jYXQocywiJyBpcyBub3Qgc3VwcG9ydGVkIikpKSwhci52aWRlby53fHwhci52aWRlby5oKXt2YXIgZD1CKE9iamVjdChpLmRlZXBBY2Nlc3MpKHIsInZpZGVvLnBsYXllclNpemUiKSl8fEIoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnNpemUiKSk7aWYoIWQpcmV0dXJuIE9iamVjdChpLmxvZ1dhcm4pKCJJWCBCaWQgQWRhcHRlcjogVmlkZW8gc2l6ZSBpcyBtaXNzaW5nIGluIFttZWRpYVR5cGVzLnZpZGVvXSBtaXNzaW5nIikse307ci52aWRlby53PWRbMF0sci52aWRlby5oPWRbMV0sT2JqZWN0KGkuZGVlcEFjY2VzcykociwiZXh0LnNpZCIpfHwoci5leHQuc2lkPU9iamVjdChpLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5KShkKSl9cmV0dXJuIEQoZSxyLG4uZCkscn0oZSk7MCE9T2JqZWN0LmtleXModCkubGVuZ3RoJiYocltlLnRyYW5zYWN0aW9uSWRdPXt9LHJbZS50cmFuc2FjdGlvbklkXS5peEltcHM9W10scltlLnRyYW5zYWN0aW9uSWRdLml4SW1wcy5wdXNoKHQpKX1mdW5jdGlvbiBWKGUscix0KXt2YXIgbz15KHkoe30se2RldGVjdE1pc3NpbmdTaXplczohMH0pLGEuYi5nZXRDb25maWcoIml4IikpLHM9ZnVuY3Rpb24oZSl7dmFyIHI9RShlKTtyLmJhbm5lcj17fTt2YXIgdD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJwYXJhbXMuc2l6ZSIpO3JldHVybiB0JiYoci5iYW5uZXIudz10WzBdLHIuYmFubmVyLmg9dFsxXSxPYmplY3QoaS5kZWVwQWNjZXNzKShyLCJleHQuc2lkIil8fChyLmV4dC5zaWQ9T2JqZWN0KGkucGFyc2VHUFRTaW5nbGVTaXplQXJyYXkpKHQpKSksci5iYW5uZXIudG9wZnJhbWU9T2JqZWN0KGkuaW5JZnJhbWUpKCk/MDoxLEQoZSxyLG4uYikscn0oZSk7UihPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpLE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5zaXplIikpJiYodC5oYXNPd25Qcm9wZXJ0eShlLnRyYW5zYWN0aW9uSWQpfHwodFtlLnRyYW5zYWN0aW9uSWRdPXt9KSx0W2UudHJhbnNhY3Rpb25JZF0uaGFzT3duUHJvcGVydHkoIml4SW1wcyIpfHwodFtlLnRyYW5zYWN0aW9uSWRdLml4SW1wcz1bXSksdFtlLnRyYW5zYWN0aW9uSWRdLml4SW1wcy5wdXNoKHMpKSxvLmhhc093blByb3BlcnR5KCJkZXRlY3RNaXNzaW5nU2l6ZXMiKSYmby5kZXRlY3RNaXNzaW5nU2l6ZXMmJmZ1bmN0aW9uKGUscix0KXt2YXIgbj1lLnRyYW5zYWN0aW9uSWQ7aWYoci5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIGE9W107cltuXS5oYXNPd25Qcm9wZXJ0eSgibWlzc2luZ1NpemVzIikmJihhPXJbbl0ubWlzc2luZ1NpemVzKSxNKGEsZS5wYXJhbXMuc2l6ZSkscltuXS5taXNzaW5nU2l6ZXM9YX1lbHNlIGlmKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikpe3ZhciBvPU9iamVjdChpLmRlZXBDbG9uZSkoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk7TShvLGUucGFyYW1zLnNpemUpO3ZhciBzPXttaXNzaW5nU2l6ZXM6byxpbXByZXNzaW9uOnR9O3Jbbl09c319KGUscixzKX1mdW5jdGlvbiBXKGUscix0KXt2YXIgYT1PYmplY3QoaS5kZWVwQ2xvbmUpKHIpO3JldHVybiBhLmV4dC5zaWQ9T2JqZWN0KGkucGFyc2VHUFRTaW5nbGVTaXplQXJyYXkpKHQpLGEuYmFubmVyLnc9dFswXSxhLmJhbm5lci5oPXRbMV0sRChlLGEsbi5iKSxhfWZ1bmN0aW9uIEcoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3ZhciByPXt3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCx0aW1lb3V0OjNlM307d2luZG93LklYT3V0c3RyZWFtUGxheWVyKGUudmFzdFVybCxlLmFkVW5pdENvZGUscil9KSl9ZnVuY3Rpb24gUShlKXt2YXIgcj1sLmEuaW5zdGFsbCh7aWQ6ZSx1cmw6Imh0dHBzOi8vanMtc2VjLmluZGV4d3cuY29tL2h0di92aWRlby1wbGF5ZXIuanMiLGxvYWRlZDohMX0pO3RyeXtyLnNldFJlbmRlcihHKX1jYXRjaChlKXtPYmplY3QoaS5sb2dXYXJuKSgiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gcn12YXIgJD17Y29kZToiaXgiLGd2bGlkOjEwLGFsaWFzZXM6W3tjb2RlOmosZ3ZsaWQ6MTAsc2tpcFBic0FsaWFzaW5nOiExfV0sc3VwcG9ydGVkTWVkaWFUeXBlczp4LGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciByLHQsbj1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8iKSxhPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5zaXplIiksbz1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpLHM9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpLGQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIiksYz1lLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmlkRmxvb3IiKSxwPWUucGFyYW1zLmhhc093blByb3BlcnR5KCJiaWRGbG9vckN1ciIpO2lmKGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZSIpJiYhT2JqZWN0KGkuY29udGFpbnMpKHgsZS5tZWRpYVR5cGUpKXJldHVybiExO2lmKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikmJiFvKXJldHVybiExO2lmKGEpe3ZhciB1PUIoYSk7aWYoIXUpcmV0dXJuIE9iamVjdChpLmxvZ0Vycm9yKSgiaXggYmlkZGVyIHBhcmFtczogc2l6ZSBoYXMgaW52YWxpZCBmb3JtYXQuIiksITE7aWYoIVIoZS5zaXplcyx1KSYmIVIoZCx1KSYmIVIobyx1KSlyZXR1cm4gT2JqZWN0KGkubG9nRXJyb3IpKCJpeCBiaWRkZXIgcGFyYW1zOiBiaWQgc2l6ZSBpcyBub3QgaW5jbHVkZWQgaW4gYWQgdW5pdCBzaXplcyBvciBwbGF5ZXIgc2l6ZS4iKSwhMX1pZigic3RyaW5nIiE9dHlwZW9mIGUucGFyYW1zLnNpdGVJZCYmIm51bWJlciIhPXR5cGVvZiBlLnBhcmFtcy5zaXRlSWQpcmV0dXJuIE9iamVjdChpLmxvZ0Vycm9yKSgiaXggYmlkZGVyIHBhcmFtczogc2l0ZUlkIG11c3QgYmUgc3RyaW5nIG9yIG51bWJlciB2YWx1ZS4iKSwhMTtpZigoY3x8cCkmJiEoYyYmcCYmKHI9ZS5wYXJhbXMuYmlkRmxvb3IsdD1lLnBhcmFtcy5iaWRGbG9vckN1cixCb29sZWFuKCJudW1iZXIiPT10eXBlb2YgciYmInN0cmluZyI9PXR5cGVvZiB0JiZ0Lm1hdGNoKC9eW0EtWl17M30kLykpKSkpcmV0dXJuIE9iamVjdChpLmxvZ0Vycm9yKSgiaXggYmlkZGVyIHBhcmFtczogYmlkRmxvb3IgLyBiaWRGbG9vckN1ciBwYXJhbWV0ZXIgaGFzIGludmFsaWQgZm9ybWF0LiIpLCExO2lmKHMmJm4pe3ZhciBsPXEocyxuKTtpZihsLmxlbmd0aClyZXR1cm4gbC5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoaS5sb2dFcnJvcikoZSl9KSksITF9cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxhPXt9LG89e30scz17fSxkPXt9O2Zvcih2YXIgYyBpbiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdC5rZXlzKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMiLHt9KSk7c3dpdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8iKSYmT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpP24uZDpuLmJ9KGUpKXtjYXNlIG4uYjpWKGUsZCxhKTticmVhaztjYXNlIG4uZDpYKGUsbyl9dSgpKHIsbi5iKSYmdSgpKHIsbi5kKSYmKHNbZS50cmFuc2FjdGlvbklkXT1lKX0pKSxPYmplY3Qua2V5cyhzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1zW2VdO2FbZV18fFYocixkLGEpLG9bZV18fFgocixvKX0pKSxkKWlmKGQuaGFzT3duUHJvcGVydHkoYykpe3ZhciBwPWRbY10ubWlzc2luZ1NpemVzO2EuaGFzT3duUHJvcGVydHkoYyl8fChhW2NdPXt9KSxhW2NdLmhhc093blByb3BlcnR5KCJtaXNzaW5nSW1wcyIpfHwoYVtjXS5taXNzaW5nSW1wcz1bXSxhW2NdLm1pc3NpbmdDb3VudD0wKTtmb3IodmFyIGw9ZFtjXS5pbXByZXNzaW9uLG09MDttPHAubGVuZ3RoO20rKyl7dmFyIGI9VyhlWzBdLGwscFttXSk7YVtjXS5taXNzaW5nSW1wcy5wdXNoKGIpLGFbY10ubWlzc2luZ0NvdW50Kyt9fXJldHVybiBPYmplY3Qua2V5cyhhKS5sZW5ndGg+MCYmdC5wdXNoLmFwcGx5KHQsZihOKGUscixhLDcuMikpKSxPYmplY3Qua2V5cyhvKS5sZW5ndGg+MCYmdC5wdXNoLmFwcGx5KHQsZihOKGUscixvLDguMSkpKSx0fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLG49bnVsbDtpZighZS5oYXNPd25Qcm9wZXJ0eSgiYm9keSIpfHwhZS5ib2R5Lmhhc093blByb3BlcnR5KCJzZWF0YmlkIikpcmV0dXJuIHQ7Zm9yKHZhciBhPWUuYm9keSxvPWEuc2VhdGJpZCxzPTA7czxvLmxlbmd0aDtzKyspaWYob1tzXS5oYXNPd25Qcm9wZXJ0eSgiYmlkIikpZm9yKHZhciBkPW9bc10uYmlkLGM9SlNPTi5wYXJzZShyLmRhdGEucikscD0wO3A8ZC5sZW5ndGg7cCsrKXt2YXIgdT1VKGRbcF0uaW1waWQsYy5pbXAsci52YWxpZEJpZFJlcXVlc3RzKTtuPV8oZFtwXSxhLmN1cix1KSxPYmplY3QoaS5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLnZpZGVvLnJlbmRlcmVyIil8fCJvdXRzdHJlYW0iIT09T2JqZWN0KGkuZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iil8fChuLm1lZGlhVHlwZXMudmlkZW8ucmVuZGVyZXI9UShkW3BdLmJpZElkKSksdC5wdXNoKG4pfXJldHVybiB0fSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gT2JqZWN0KGkuY29udmVydFR5cGVzKSh7c2l0ZUlEOiJudW1iZXIifSxlKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscil7cmV0dXJuIGUuaWZyYW1lRW5hYmxlZD9be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2pzLXNlYy5pbmRleHd3LmNvbS91bS9peG1hdGNoLmh0bWwifV06W119fTtPYmplY3QoZC5yZWdpc3RlckJpZGRlcikoJCl9fSxbNTUxXSk7CnVwYmpzQ2h1bmsoWzIxOV0sezU2MTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNTYyKX0sNTYyOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKTt2YXIgbj1yKDApLGE9cigzKSxvPXIoMSksaT1yKDcpLGM9cigyKTtmdW5jdGlvbiB1KCl7cmV0dXJuKHU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgcyxkLGcsbD0ia2FyZ28iLHA9W2MuYixjLmRdLGY9T2JqZWN0KGkuYikoOTcyLGwpLG09e2d2bGlkOjk3Mixjb2RlOmwsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8IWUucGFyYW1zKSYmISFlLnBhcmFtcy5wbGFjZW1lbnRJZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByLG89YS5iLmdldENvbmZpZygiY3VycmVuY3kiKSxpPW8mJm8uYWRTZXJ2ZXJDdXJyZW5jeXx8IlVTRCIsYz17fSxzPXt9O09iamVjdChuLl9lYWNoKShlLChmdW5jdGlvbihlKXtjW2UuYmlkSWRdPWUucGFyYW1zLnBsYWNlbWVudElkLHNbZS5iaWRJZF09ZS5zaXplc30pKSxlLmxlbmd0aD4wJiZlWzBdLnVzZXJJZCYmZVswXS51c2VySWQudGRpZCYmKHI9ZVswXS51c2VySWQudGRpZCk7dmFyIGQ9dSh7fSx7c2Vzc2lvbklkOm0uX2dldFNlc3Npb25JZCgpLHJlcXVlc3RDb3VudDptLl9nZXRSZXF1ZXN0Q291bnQoKSx0aW1lb3V0OnQudGltZW91dCxjdXJyZW5jeTppLGNwbUdyYW51bGFyaXR5OjEsdGltZXN0YW1wOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNwbVJhbmdlOntmbG9vcjowLGNlaWw6MjB9LGJpZElEczpjLGJpZFNpemVzOnMscHJlYmlkUmF3QmlkUmVxdWVzdHM6ZX0sbS5fZ2V0QWxsTWV0YWRhdGEocix0LnVzcENvbnNlbnQsdC5nZHByQ29uc2VudCkpLGc9ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGQpKTtyZXR1cm4gdSh7fSx0LHttZXRob2Q6IkdFVCIsdXJsOiIiLmNvbmNhdCgiaHR0cHM6Ly9rcmsua2FyZ28uY29tIiwiL2FwaS92Mi9iaWQiKSxkYXRhOiJqc29uPSIuY29uY2F0KGcpLGN1cnJlbmN5Oml9KX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmJvZHksbj1bXTtmb3IodmFyIGEgaW4gcil7dmFyIG89clthXSxpPXZvaWQgMDtvLm1ldGFkYXRhJiZvLm1ldGFkYXRhLmxhbmRpbmdQYWdlRG9tYWluJiYoaT17Y2xpY2tVcmw6by5tZXRhZGF0YS5sYW5kaW5nUGFnZURvbWFpbixhZHZlcnRpc2VyRG9tYWluczpbby5tZXRhZGF0YS5sYW5kaW5nUGFnZURvbWFpbl19KSxuLnB1c2goe3JlcXVlc3RJZDphLGNwbTpOdW1iZXIoby5jcG0pLHdpZHRoOm8ud2lkdGgsaGVpZ2h0Om8uaGVpZ2h0LGFkOm8uYWRtLHR0bDozMDAsY3JlYXRpdmVJZDpvLmlkLGRlYWxJZDpvLnRhcmdldGluZ0N1c3RvbSxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OnQuY3VycmVuY3ksbWV0YTppfSl9cmV0dXJuIG59LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXt2YXIgYT1bXSxvPW0uX2dlbmVyYXRlUmFuZG9tVXVpZCgpLGk9bS5fZ2V0Q2xpZW50SWQoKSxjPXImJnIuZ2RwckFwcGxpZXM/MTowLHU9ciYmci5jb25zZW50U3RyaW5nP3IuY29uc2VudFN0cmluZzoiIjtpZigic3RyaW5nIj09dHlwZW9mIG4mJjQ9PW4ubGVuZ3RoJiYxPT1uWzBdJiYiWSI9PW5bMl0pcmV0dXJuIGE7aWYoZS5pZnJhbWVFbmFibGVkJiZvJiZpKWZvcih2YXIgcz0wO3M8NTtzKyspYS5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9jcmIua2FyZ28uY29tL2FwaS92MS9pbml0c3luY3JuZC97VVVJRH0/c2VlZD17U0VFRH0maWR4PXtJTkRFWH0mZ2Rwcj17R0RQUn0mZ2Rwcl9jb25zZW50PXtHRFBSX0NPTlNFTlR9JnVzX3ByaXZhY3k9e1VTX1BSSVZBQ1l9Ii5yZXBsYWNlKCJ7VVVJRH0iLGkpLnJlcGxhY2UoIntTRUVEfSIsbykucmVwbGFjZSgie0lOREVYfSIscykucmVwbGFjZSgie0dEUFJ9IixjKS5yZXBsYWNlKCJ7R0RQUl9DT05TRU5UfSIsdSkucmVwbGFjZSgie1VTX1BSSVZBQ1l9IixufHwiIil9KTtyZXR1cm4gYX0sc3VwcG9ydGVkTWVkaWFUeXBlczpwLF9yZWFkQ29va2llOmZ1bmN0aW9uKGUpe2lmKCFmLmNvb2tpZXNBcmVFbmFibGVkKCkpcmV0dXJuIG51bGw7Zm9yKHZhciB0PSIiLmNvbmNhdChlLCI9Iikscj1kb2N1bWVudC5jb29raWUuc3BsaXQoIjsiKSxuPTA7bjxyLmxlbmd0aDtuKyspe2Zvcih2YXIgYT1yW25dOyIgIj09PWEuY2hhckF0KDApOylhPWEuc3Vic3RyaW5nKDEsYS5sZW5ndGgpO2lmKDA9PT1hLmluZGV4T2YodCkpcmV0dXJuIGEuc3Vic3RyaW5nKHQubGVuZ3RoLGEubGVuZ3RoKX1yZXR1cm4gbnVsbH0sX2dldENyYkZyb21Db29raWU6ZnVuY3Rpb24oKXt0cnl7dmFyIGU9SlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQobS5fcmVhZENvb2tpZSgia3JnX2NyYiIpKSk7aWYoZSYmZS52KXt2YXIgdD1KU09OLnBhcnNlKGF0b2IoZS52KSk7aWYodClyZXR1cm4gdH1yZXR1cm57fX1jYXRjaChlKXtyZXR1cm57fX19LF9nZXRDcmJGcm9tTG9jYWxTdG9yYWdlOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBKU09OLnBhcnNlKGF0b2IobS5fZ2V0TG9jYWxTdG9yYWdlU2FmZWx5KCJrcmdfY3JiIikpKX1jYXRjaChlKXtyZXR1cm57fX19LF9nZXRDcmI6ZnVuY3Rpb24oKXt2YXIgZT1tLl9nZXRDcmJGcm9tTG9jYWxTdG9yYWdlKCk7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmxlbmd0aD9lOm0uX2dldENyYkZyb21Db29raWUoKX0sX2dldEtydXhVc2VySWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbS5fZ2V0TG9jYWxTdG9yYWdlU2FmZWx5KCJreGthcl91c2VyIil9LF9nZXRLcnV4U2VnbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gbS5fZ2V0TG9jYWxTdG9yYWdlU2FmZWx5KCJreGthcl9zZWdzIil9LF9nZXRLcnV4OmZ1bmN0aW9uKCl7dmFyIGU9bS5fZ2V0S3J1eFNlZ21lbnRzKCksdD1bXTtyZXR1cm4gZSYmKHQ9ZS5zcGxpdCgiLCIpKSx7dXNlcklEOm0uX2dldEtydXhVc2VySWQoKSxzZWdtZW50czp0fX0sX2dldExvY2FsU3RvcmFnZVNhZmVseTpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIGYuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoZSl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fSxfZ2V0VXNlcklkczpmdW5jdGlvbihlLHQscil7dmFyIG49bS5fZ2V0Q3JiKCksYT17a2FyZ29JRDpuLnVzZXJJZCxjbGllbnRJRDpuLmNsaWVudElkLGNyYklEczpuLnN5bmNJZHN8fHt9LG9wdE91dDpuLm9wdE91dCx1c3A6dH07dHJ5e3ImJihhLmdkcHI9e2NvbnNlbnQ6ci5jb25zZW50U3RyaW5nfHwiIixhcHBsaWVzOiEhci5nZHByQXBwbGllc30pfWNhdGNoKGUpe31yZXR1cm4gZSYmKGEudGRJRD1lKSxhfSxfZ2V0Q2xpZW50SWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbS5fZ2V0Q3JiKCkuY2xpZW50SWR9LF9nZXRBbGxNZXRhZGF0YTpmdW5jdGlvbihlLHQscil7cmV0dXJue3VzZXJJRHM6bS5fZ2V0VXNlcklkcyhlLHQsciksa3J1eDptLl9nZXRLcnV4KCkscGFnZVVSTDp3aW5kb3cubG9jYXRpb24uaHJlZixyYXdDUkI6bS5fcmVhZENvb2tpZSgia3JnX2NyYiIpLHJhd0NSQkxvY2FsU3RvcmFnZTptLl9nZXRMb2NhbFN0b3JhZ2VTYWZlbHkoImtyZ19jcmIiKX19LF9nZXRTZXNzaW9uSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gc3x8KHM9bS5fZ2VuZXJhdGVSYW5kb21VdWlkKCkpLHN9LF9nZXRSZXF1ZXN0Q291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZD09PXdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZT8rK2c6KGQ9d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLGc9MCl9LF9nZW5lcmF0ZVJhbmRvbVV1aWQ6ZnVuY3Rpb24oKXt0cnl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoMTYpO2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoZSksZVs2XT0tMTc3JmVbNl18NjQsZVs4XT0tNjUmZVs4XXwxMjg7dmFyIHQ9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKG5ldyBVaW50OEFycmF5KGUpLChmdW5jdGlvbihlKXtyZXR1cm4oIjAwIitlLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpfSkpLmpvaW4oIiIpO3JldHVybiB0LnNsaWNlKDAsOCkrIi0iK3Quc2xpY2UoOCwxMikrIi0iK3Quc2xpY2UoMTIsMTYpKyItIit0LnNsaWNlKDE2LDIwKSsiLSIrdC5zbGljZSgyMCl9Y2F0Y2goZSl7cmV0dXJuIiJ9fX07T2JqZWN0KG8ucmVnaXN0ZXJCaWRkZXIpKG0pfX0sWzU2MV0pOwp1cGJqc0NodW5rKFsxOTldLHs2MTk6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDYyMCl9LDYyMDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFV9KSk7dmFyIHI9bigwKSxpPW4oMSksYT1uKDMpLG89bigyKSxjPW4oMTkpLGQ9bigxMyk7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHU9Im1lZGlhbmV0IixwPSJodHRwczovL3ByZWJpZC5tZWRpYS5uZXQvdmlkZW8vYnVuZGxlLmpzIixsPTAsYj0xLG09MixmPSJjbGllbnRfdGltZW91dCIsZz0iY2xpZW50X2JpZF93b24iLHk9T2JqZWN0KGMuYSkoKSxoPXt9O2Z1bmN0aW9uIHYoKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX1mdW5jdGlvbiBqKGUpe3JldHVybiBzKHtkb21haW46KGU9ZXx8e30pLmRvbWFpbnx8aC51cmxEYXRhLmRvbWFpbixwYWdlOmUucGFnZXx8aC51cmxEYXRhLnBhZ2UscmVmOmUucmVmfHx2KCksaXNUb3A6ZS5pc1RvcHx8aC51cmxEYXRhLmlzVG9wfSxmdW5jdGlvbigpe2lmKGgucGFnZU1ldGEpcmV0dXJuIGgucGFnZU1ldGE7dmFyIGU9dygnbGlua1tyZWw9ImNhbm9uaWNhbCJdJywiaHJlZiIpLHQ9dygnbWV0YVtwcm9wZXJ0eT0ib2c6dXJsIl0nLCJjb250ZW50Iiksbj13KCdtZXRhW25hbWU9InR3aXR0ZXI6dXJsIl0nLCJjb250ZW50Iik7cmV0dXJuIGgucGFnZU1ldGE9cyh7fSxlJiZ7Y2Fub25pY2FsX3VybDplfSx0JiZ7b2dfdXJsOnR9LG4mJnt0d2l0dGVyX3VybDpufSksaC5wYWdlTWV0YX0oKSl9ZnVuY3Rpb24gdyhlLHQpe3ZhciBuLGksYT1mdW5jdGlvbihlLHQpe3RyeXt2YXIgbj1PYmplY3Qoci5nZXRXaW5kb3dUb3ApKCkuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTtpZihudWxsIT09biYmblt0XSlyZXR1cm4gblt0XX1jYXRjaChlKXt9fShlLHQpO3JldHVybiBhJiYobj1hLChpPU9iamVjdChyLmdldFdpbmRvd1RvcCkoKS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpLmhyZWY9bixpLmhyZWYpfWZ1bmN0aW9uIE8oZSx0KXtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnR5cGU9PT10fSkpfWZ1bmN0aW9uIHgoZSl7cmV0dXJue3c6cGFyc2VJbnQoZVswXSwxMCksaDpwYXJzZUludChlWzFdLDEwKX19ZnVuY3Rpb24gXyhlLHQpe3ZhciBuPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsInBhcmFtcyIpLGk9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwiZ2RwckNvbnNlbnQiKSxvPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsInVzcENvbnNlbnQiKSxjPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsInVzZXJJZCIpLGQ9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwic2NoYWluIil8fHt9LHU9VS5nZXRXaW5kb3dTaXplKCkscD0hKCFpfHwhaS5nZHByQXBwbGllcyksbD0hIW8sYj0hIWEuYi5nZXRDb25maWcoImNvcHBhIik7cmV0dXJuIHMoe30se2N1c3RvbWVyX2lkOm4uY2lkfSx7cHJlYmlkX3ZlcnNpb246dXBianMudmVyc2lvbn0se2dkcHJfYXBwbGllczpwfSxwJiZ7Z2Rwcl9jb25zZW50X3N0cmluZzppLmNvbnNlbnRTdHJpbmd8fCIifSx7dXNwX2FwcGxpZXM6bH0sbCYme3VzcF9jb25zZW50X3N0cmluZzpvfHwiIn0se2NvcHBhX2FwcGxpZXM6Yn0sLTEhPT11LncmJi0xIT09dS5oJiZ7c2NyZWVuOnV9LGMmJnt1c2VyX2lkOmN9LHVwYmpzLm1lZGlhbmV0R2xvYmFscy5hbmFseXRpY3NFbmFibGVkJiZ7YW5hbHl0aWNzOiEwfSwhT2JqZWN0KHIuaXNFbXB0eSkoZCkmJntzY2hhaW46ZH0pfWZ1bmN0aW9uIEEoZSl7dmFyIHQ9e2lkOmUuYmlkSWQsZXh0OntkZnBfaWQ6ZS5hZFVuaXRDb2RlLGRpc3BsYXlfY291bnQ6ZS5iaWRSZXF1ZXN0c0NvdW50fSxhbGw6ZS5wYXJhbXN9O2Uub3J0YjJJbXAmJih0Lm9ydGIySW1wPWUub3J0YjJJbXApO3ZhciBuLGk9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKXx8W10sYT1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIil8fHt9LGM9cyh7fSxPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8iKXx8e30sYSk7aWYoT2JqZWN0KHIuaXNFbXB0eSkoYyl8fCh0LnZpZGVvPWMpLGkubGVuZ3RoPjAmJih0LmJhbm5lcj0obj1pLE9iamVjdChyLmlzQXJyYXkpKG4pJiYyPT09bi5sZW5ndGgmJiFPYmplY3Qoci5pc0FycmF5KShuWzBdKT9beChuKV06bi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB4KGUpfSkpKSksZS5uYXRpdmVQYXJhbXMpdHJ5e3QubmF0aXZlPUpTT04uc3RyaW5naWZ5KGUubmF0aXZlUGFyYW1zKX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoIiIuY29uY2F0KHUsIiA6IEluY29ycmVjdCBKU09OIDogYmlkUmVxdWVzdC5uYXRpdmVQYXJhbXMiKSl9ZS5wYXJhbXMuY3JpZCYmKHQudGFnaWQ9ZS5wYXJhbXMuY3JpZC50b1N0cmluZygpKTt2YXIgZD1wYXJzZUZsb2F0KGUucGFyYW1zLmJpZGZsb29yfHxlLnBhcmFtcy5iaWRGbG9vcik7ZCYmKHQuYmlkZmxvb3I9ZCk7dmFyIHA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYoIXQmJi0xIT09ZS5pbmRleE9mKCIvIikpe3ZhciBuPU9iamVjdChyLmdldEdwdFNsb3RJbmZvRm9yQWRVbml0Q29kZSkoZSkuZGl2SWQ7T2JqZWN0KHIuaXNTdHIpKG4pJiYodD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKSl9aWYodCYmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciBpPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYT17fTtyZXR1cm4gYS50b3BfbGVmdD17eTppLnRvcCx4OmkubGVmdH0sYS5ib3R0b21fcmlnaHQ9e3k6aS5ib3R0b20seDppLnJpZ2h0fSxhfXJldHVybiBudWxsfShlLmFkVW5pdENvZGUpO2lmKHAmJnQuYmFubmVyJiYwIT09dC5iYW5uZXIubGVuZ3RoKXt2YXIgZj1mdW5jdGlvbihlKXtyZXR1cm57dG9wX2xlZnQ6e3g6ZS50b3BfbGVmdC54K3dpbmRvdy5wYWdlWE9mZnNldCx5OmUudG9wX2xlZnQueSt3aW5kb3cucGFnZVlPZmZzZXR9LGJvdHRvbV9yaWdodDp7eDplLmJvdHRvbV9yaWdodC54K3dpbmRvdy5wYWdlWE9mZnNldCx5OmUuYm90dG9tX3JpZ2h0Lnkrd2luZG93LnBhZ2VZT2Zmc2V0fX19KHApO3QuZXh0LmNvb3JkaW5hdGVzPWYsdC5leHQudmlld2FiaWxpdHk9UyhwLnRvcF9sZWZ0LEkodC5iYW5uZXIpKSxTKGYudG9wX2xlZnQsSSh0LmJhbm5lcikpPi41P3QuZXh0LnZpc2liaWxpdHk9Yjp0LmV4dC52aXNpYmlsaXR5PW19ZWxzZSB0LmV4dC52aXNpYmlsaXR5PWw7dmFyIGc9ZnVuY3Rpb24oZSl7dmFyIHQ9W107ImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3ImJltvLmIsby5kLG8uY10uZm9yRWFjaCgoZnVuY3Rpb24obil7ZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4pJiYobj09by5iP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMuZm9yRWFjaCgoZnVuY3Rpb24ocil7VChlLG4scix0KX0pKTpUKGUsbiwiKiIsdCkpfSkpO3JldHVybiB0fShlKTtyZXR1cm4gZyYmZy5sZW5ndGg+MCYmKHQuYmlkZmxvb3JzPWcpLHR9ZnVuY3Rpb24gVChlLHQsbixyKXt2YXIgaT1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6dCxzaXplOm59KTtuLmxlbmd0aD4xJiYoaS5zaXplPW4pLGkubWVkaWFUeXBlPXQsci5wdXNoKGkpfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiB0LmgqdC53PGUuaCplLnc/dDplfSkpfWZ1bmN0aW9uIFMoZSx0KXt2YXIgbj10LncqdC5oLHI9VS5nZXRXaW5kb3dTaXplKCksaT17eDplLngrdC53LHk6ZS55K3QuaH07cmV0dXJuIDA9PT1ufHwtMT09PXIud3x8LTE9PT1yLmg/MDpmdW5jdGlvbihlLHQsbixyKXtpZihlLng+ci54fHx0Lng8bi54fHxlLnk+ci55fHx0Lnk8bi55KXJldHVybiAwO3JldHVybihNYXRoLm1pbih0Lngsci54KS1NYXRoLm1heChlLngsbi54KSkqKE1hdGgubWluKHQueSxyLnkpLU1hdGgubWF4KGUueSxuLnkpKX0oZSxpLHt4OjAseTowfSx7eDpyLncseTpyLmh9KS9ufWZ1bmN0aW9uIEUoZSx0KXt0PU9iamVjdChyLmlzQXJyYXkpKHQpJiZ0fHxbXTt2YXIgbj17bG9naWQ6ImtmayIsZXZ0aWQ6InByb2plY3RldmVudHMiLHByb2plY3Q6InByZWJpZCJ9O3JldHVybiBuLmFjaWQ9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwiMC5hdWN0aW9uSWQiKXx8IiIsbi5jaWQ9dXBianMubWVkaWFuZXRHbG9iYWxzLmNpZHx8IiIsbi5jcmlkPXQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoZSwicGFyYW1zLjAuY3JpZCIpfHxlLmFkVW5pdENvZGV9KSkuam9pbigifCIpLG4uYWR1bml0X2NvdW50PXQubGVuZ3RofHwwLG4uZG49aC51cmxEYXRhLmRvbWFpbnx8IiIsbi5yZXF1cmw9aC51cmxEYXRhLnBhZ2V8fCIiLG4uaXN0b3A9aC51cmxEYXRhLmlzVG9wfHwiIixuLmV2ZW50PWUubmFtZXx8IiIsbi52YWx1ZT1lLnZhbHVlfHwiIixuLnJkPWUucmVsYXRlZF9kYXRhfHwiIixufWZ1bmN0aW9uIEMoZSx0KXt2YXIgbj17cHJvdG9jb2w6Imh0dHBzIixob3N0bmFtZToicXNlYXJjaC1hLmFrYW1haWhkLm5ldC9sb2ciLHNlYXJjaDpFKGUsdCl9O09iamVjdChyLnRyaWdnZXJQaXhlbCkoT2JqZWN0KHIuYnVpbGRVcmwpKG4pKX1mdW5jdGlvbiBNKGUpe3ZhciB0LG49T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwiY29udGV4dCIpfHwiIixpPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsInZ0byIpOyJvdXRzdHJlYW0iPT1uJiZpJiYoZS5yZW5kZXJlcj0oKHQ9ZC5hLmluc3RhbGwoe3VybDpwfSkpLnNldFJlbmRlcigoZnVuY3Rpb24oZSl7d2luZG93Lm1uZXQucXVldWUucHVzaCgoZnVuY3Rpb24oKXt2YXIgdD17d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsdmFzdFRpbWVvdXQ6ZS52dG8sbWF4QWxsb3dlZFZhc3RUYWdSZWRpcmVjdHM6ZS5tYXZ0cixhbGxvd1ZwYWlkOmUuYXZwLGF1dG9QbGF5OmUuYXAscHJlbG9hZDplLnBsLG11dGU6ZS5tdH0sbj1lLmRmcF9pZCxpPU9iamVjdChyLmdldEdwdFNsb3RJbmZvRm9yQWRVbml0Q29kZSkobikuZGl2SWR8fG47d2luZG93Lm1uZXQubWVkaWFOZXRvdXRzdHJlYW1QbGF5ZXIoZSxpLHQpfSkpfSkpLHQpKX13aW5kb3cubW5ldD13aW5kb3cubW5ldHx8e30sd2luZG93Lm1uZXQucXVldWU9d2luZG93Lm1uZXQucXVldWV8fFtdLGgudXJsRGF0YT17ZG9tYWluOk9iamVjdChyLnBhcnNlVXJsKSh5LnJlZmVyZXIpLmhvc3RuYW1lLHBhZ2U6eS5yZWZlcmVyLGlzVG9wOnkucmVhY2hlZFRvcH0sdXBianMubWVkaWFuZXRHbG9iYWxzPXVwYmpzLm1lZGlhbmV0R2xvYmFsc3x8e307dmFyIFU9e2NvZGU6dSxndmxpZDoxNDIsc3VwcG9ydGVkTWVkaWFUeXBlczpbby5iLG8uYyxvLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcz9lLnBhcmFtcy5jaWQmJk9iamVjdChyLmlzU3RyKShlLnBhcmFtcy5jaWQpJiYhT2JqZWN0KHIuaXNFbXB0eVN0cikoZS5wYXJhbXMuY2lkKT8ocyh1cGJqcy5tZWRpYW5ldEdsb2JhbHMsIXVwYmpzLm1lZGlhbmV0R2xvYmFscy5jaWQmJntjaWQ6ZS5wYXJhbXMuY2lkfSksITApOihPYmplY3Qoci5sb2dFcnJvcikoIiIuY29uY2F0KHUsIiA6IGNpZCBzaG91bGQgYmUgYSBzdHJpbmciKSksITEpOihPYmplY3Qoci5sb2dFcnJvcikoIiIuY29uY2F0KHUsIiA6IE1pc3NpbmcgYmlkIHBhcmFtZXRlcnMiKSksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1mdW5jdGlvbihlLHQpe3JldHVybntzaXRlOmooZVswXS5wYXJhbXMuc2l0ZSksZXh0Ol8oZVswXSx0KSxpZDplWzBdLmF1Y3Rpb25JZCxpbXA6ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBBKGUpfSkpLHRtYXg6dC50aW1lb3V0fHxhLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil9fShlLHQpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoobj1yLmV4dC5jdXN0b21lcl9pZCwiaHR0cHM6Ly9wcmViaWQubWVkaWEubmV0L3J0Yi9wcmViaWQ/Y2lkPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKSxkYXRhOkpTT04uc3RyaW5naWZ5KHIpfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtpZighZXx8IWUuYm9keSlyZXR1cm4gT2JqZWN0KHIubG9nSW5mbykoIiIuY29uY2F0KHUsIiA6IHJlc3BvbnNlIGlzIGVtcHR5IikpLG47dmFyIGk9ZS5ib2R5LmJpZExpc3Q7cmV0dXJuIE9iamVjdChyLmlzQXJyYXkpKGkpJiYwIT09aS5sZW5ndGg/KChuPWkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1lLm5vX2JpZCYmcGFyc2VGbG9hdChlLmNwbSk+MH0oZSl9KSkpLmZvckVhY2goTSksbik6KE9iamVjdChyLmxvZ0luZm8pKCIiLmNvbmNhdCh1LCIgOiBubyBiaWRzIikpLG4pfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXt2YXIgbixpPShuPXQsIU9iamVjdChyLmlzRW1wdHkpKG4pJiZuWzBdLmJvZHkmJm5bMF0uYm9keS5leHQmJk9iamVjdChyLmlzQXJyYXkpKG5bMF0uYm9keS5leHQuY3NVcmwpP25bMF0uYm9keS5leHQuY3NVcmw6W10pO3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/TyhpLCJpZnJhbWUiKTplLnBpeGVsRW5hYmxlZD9PKGksImltYWdlIik6dm9pZCAwfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7dHJ5e0Moe25hbWU6Zix2YWx1ZTplLmxlbmd0aCxyZWxhdGVkX2RhdGE6ZVswXS50aW1lb3V0fHxhLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil9LGUpfWNhdGNoKGUpe319LG9uQmlkV29uOmZ1bmN0aW9uKGUpe3RyeXtDKHtuYW1lOmcsdmFsdWU6ZS5jcG19LFtlXSl9Y2F0Y2goZSl7fX0sY2xlYXJNbkRhdGE6ZnVuY3Rpb24oKXtoPXt9fSxnZXRXaW5kb3dTaXplOmZ1bmN0aW9uKCl7cmV0dXJue3c6d2luZG93LnNjcmVlbi53aWR0aHx8LTEsaDp3aW5kb3cuc2NyZWVuLmhlaWdodHx8LTF9fX07T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKFUpfX0sWzYxOV0pOwp1cGJqc0NodW5rKFsxODNdLHs2NTE6ZnVuY3Rpb24oZSxuLHQpe2UuZXhwb3J0cz10KDY1Mil9LDY1MjpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQobiwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSk7dmFyIGk9dCgwKSxyPXQoMyksbz10KDEpLGQ9dCgyKSxhPXQoNykscz0ibm9iaWQiLHU9T2JqZWN0KGEuYikoODE2LHMpO2Z1bmN0aW9uIGMoZSxuKXtPYmplY3QoaS5sb2dJbmZvKSgiLU5vQmlkLSAiK2Usbil9ZnVuY3Rpb24gcChlLG4pe2Z1bmN0aW9uIHQoZSxuKXt2YXIgdD1mdW5jdGlvbihlLG4pe2Zvcih2YXIgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKG5bdF0uZD09PWUpcmV0dXJuIG5bdF07cmV0dXJuITF9KGUuZGl2LG4pfHx7fTtyZXR1cm4gZS5hY2NvdW50JiYodC5zPWUuYWNjb3VudCksZS5zaXplcyYmKHQuej1lLnNpemVzKSxlLmRpdiYmKHQuZD1lLmRpdiksZS50YXJnZXRpbmc/dC5nPWUudGFyZ2V0aW5nOnQuZz17fSxlLmRpdiYmZnVuY3Rpb24oZSxuLHQpe2Zvcih2YXIgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgcj1lW2ldO3Jbbl0mJnJbbl09PT10JiZlLnNwbGljZShpLDEpfX0obiwiZCIsZS5kaXYpLGUuc2l6ZU1hcHBpbmcmJih0LnNtPWUuc2l6ZU1hcHBpbmcpLGUuc2l0ZUlkJiYodC5zaWQ9ZS5zaXRlSWQpLGUucGxhY2VtZW50SWQmJih0LnBpZD1lLnBsYWNlbWVudElkKSxlLmFkX3R5cGUmJih0LmF0PWUuYWRfdHlwZSksZS5wYXJhbXMmJih0LnBhcmFtcz1lLnBhcmFtcyksbi5wdXNoKHQpLG59aWYodm9pZCAwIT09d2luZG93Lm5vYmlkLnJlZnJlc2hMaW1pdCYmd2luZG93Lm5vYmlkLnJlZnJlc2hMaW1pdDx3aW5kb3cubm9iaWQucmVmcmVzaENvdW50KXJldHVybiExO3ZhciBvLGE9KG89Il91YmxvY2siLHUuZ2V0Q29va2llKG8pKTtpZihhKXJldHVybiBjKCJSZXF1ZXN0IGJsb2NrZWQgZm9yIHVzZXIuIGhvdXJzOiAiLGEpLCExO2Zvcih2YXIgcz1bXSxwPTAsYj1bXSxnPTA7ZzxlLmxlbmd0aDtnKyspe3ZhciBsPWVbZ10sZj1sLmFkVW5pdENvZGU7cy5wdXNoKGYpO3ZhciB2PWwuc2l6ZXM7cD12b2lkIDAhPT1sLnBhcmFtcy5zaXRlSWQmJmwucGFyYW1zLnNpdGVJZD9sLnBhcmFtcy5zaXRlSWQ6cDt2YXIgbT1sLnBhcmFtcy5wbGFjZW1lbnRJZCx3PSJiYW5uZXIiLGg9T2JqZWN0KGkuZGVlcEFjY2VzcykobCwibWVkaWFUeXBlcy52aWRlbyIpLHk9T2JqZWN0KGkuZGVlcEFjY2VzcykobCwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7KGwubWVkaWFUeXBlPT09ZC5kfHxoJiYoImluc3RyZWFtIj09PXl8fCJvdXRzdHJlYW0iPT09eSkpJiYodz0idmlkZW8iKSxwJiZ0KHtkaXY6ZixzaXplczp2LHNpdGVJZDpwLHBsYWNlbWVudElkOm0sYWRfdHlwZTp3LHBhcmFtczpsLnBhcmFtc30sYil9cmV0dXJuISFwJiZmdW5jdGlvbih0LG8sZCl7dmFyIGEscyx1LGMscCxiLGcsbCxmPXt9O2Yuc2lkPW8sZi5sPWZ1bmN0aW9uKGUpe3ZhciBuPSIiO3JldHVybiBuPWUmJmUucmVmZXJlckluZm8mJmUucmVmZXJlckluZm8ucmVmZXJlcj9lLnJlZmVyZXJJbmZvLnJlZmVyZXI6d2luZG93LmNvbnRleHQmJndpbmRvdy5jb250ZXh0LmxvY2F0aW9uJiZ3aW5kb3cuY29udGV4dC5sb2NhdGlvbi5ocmVmP3dpbmRvdy5jb250ZXh0LmxvY2F0aW9uLmhyZWY6ZG9jdW1lbnQubG9jYXRpb24uaHJlZixlbmNvZGVVUklDb21wb25lbnQobi5yZXBsYWNlKC9cJS9nLCIiKSl9KG4pLGYudHQ9ZW5jb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LnRpdGxlKSxmLnR0PWYudHQucmVwbGFjZSgvJ3w7fHF1b3Q7fDM5O3wmYW1wO3wmfCN8XHJcbnxccnxcbnxcdHxcZnxcJTBBfFwifFwlMjJ8XCU1Q3xcJTIzfFwlMjZ8XCUyNnxcJTA5L2dtLCIiKSxmLmE9ZnVuY3Rpb24oZSxuKXt2YXIgdD1bXTtpZihlJiZlLmxlbmd0aCl7aWYobil7dmFyIGk9W107ZSBpbnN0YW5jZW9mIEFycmF5P2k9ZTppLnB1c2goZSk7Zm9yKHZhciByPTAsbz1uLmxlbmd0aDtyPG87cisrKXt2YXIgZD1uW3JdO2QmJmQuZCYmaS5pbmRleE9mKGQuZCk+LTEmJnQucHVzaChkKX19fWVsc2UgdD1uO3JldHVybiB0fSh0LGR8fFtdKSxmLnQ9KGE9bmV3IERhdGUscz1mdW5jdGlvbihlKXtyZXR1cm4gZTw9OT8iMCIrZToiIitlfSx1PWEuZ2V0RGF0ZSgpLGM9YS5nZXRGdWxsWWVhcigpLHA9YS5nZXRNb250aCgpKzEsYj1hLmdldEhvdXJzKCksZz1hLmdldE1pbnV0ZXMoKSxsPWEuZ2V0U2Vjb25kcygpLGMrIi0iK3MocCkrIi0iK3ModSkrIiAiK3MoYikrIjoiK3MoZykrIjoiK3MobCkpLGYudHo9TWF0aC5yb3VuZCgobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCkpLGYucj1mdW5jdGlvbigpe3RyeXt2YXIgZT1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApLG49TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApO3JldHVybiIiLmNvbmNhdChlLCJ4IikuY29uY2F0KG4pfWNhdGNoKGUpe09iamVjdChpLmxvZ1dhcm4pKCJDb3VsZCBub3QgcGFyc2Ugc2NyZWVuIGRpbWVuc2lvbnMsIGVycm9yIGRldGFpbHM6IixlKX19KCksZi5sYW5nPW5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fG5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZSxmLnJlZj1kb2N1bWVudC5yZWZlcnJlcixmLmdkcHI9ZnVuY3Rpb24oZSl7dmFyIG49e307cmV0dXJuIGUmJmUuZ2RwckNvbnNlbnQmJihuPXtjb25zZW50U3RyaW5nOmUuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxjb25zZW50UmVxdWlyZWQ6ImJvb2xlYW4iPT10eXBlb2YgZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllc30pLG59KG4pLGYudXNwPWZ1bmN0aW9uKGUpe3ZhciBuPSIiO3JldHVybiBlJiZlLnVzcENvbnNlbnQmJihuPWUudXNwQ29uc2VudCksbn0obiksZi5wamJkcj1uJiZuLmJpZGRlckNvZGU/bi5iaWRkZXJDb2RlOiJub2JpZCI7dmFyIHY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubGVuZ3RoPjA/ZVswXS5zY2hhaW46bnVsbH0oZSk7diYmKGYuc2NoYWluPXYpO3ZhciBtPSEwPT09ci5iLmdldENvbmZpZygiY29wcGEiKT97Y29wcGE6ITB9OmUmJmUubGVuZ3RoPjA/ZVswXS5jb3BwYTpudWxsO20mJihmLmNvcHBhPW0pO3ZhciB3PWZ1bmN0aW9uKGUpe2lmKE9iamVjdChpLmlzQXJyYXkpKGUpJiZlLmxlbmd0aD4wKXt2YXIgbj1bXTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1bXTtlLnVpZHMmJmUudWlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnB1c2goe2lkOmUuaWQrIiJ9KX0pKSxlLnNvdXJjZSYmdC5sZW5ndGg+MCYmbi5wdXNoKHtzb3VyY2U6ZS5zb3VyY2UsdWlkczp0fSl9KSksbn19KE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIjAudXNlcklkQXNFaWRzIikpO3JldHVybiB3JiZ3Lmxlbmd0aD4wJiYoZi5laWRzPXcpLHIuYiYmci5iLmdldENvbmZpZygib3J0YjIiKSYmKGYub3J0YjI9ci5iLmdldENvbmZpZygib3J0YjIiKSksZn0ocyxwLGIpfWZ1bmN0aW9uIGIoZSxuKXt2YXIgdD1mdW5jdGlvbihlLG4pe2Zvcih2YXIgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKG5bdF0uYWRVbml0Q29kZT09ZSlyZXR1cm4gblt0XTtyZXR1cm4hMX07IWZ1bmN0aW9uKGUpe2UmJnZvaWQgMCE9PWUucmxpbWl0JiYod2luZG93Lm5vYmlkLnJlZnJlc2hMaW1pdD1lLnJsaW1pdCl9KGUpLGZ1bmN0aW9uKGUpe2UmJnZvaWQgMCE9PWUudWJsb2NrJiZmdW5jdGlvbihlLG4sdCl7dmFyIGk9bmV3IERhdGU7aS5zZXRUaW1lKGkuZ2V0VGltZSgpKzYwKnQqNjAqMWUzKTt2YXIgcj0iZXhwaXJlcz0iK2kudG9VVENTdHJpbmcoKTt1LnNldENvb2tpZShlLG4scil9KCJfdWJsb2NrIiwiMSIsZS51YmxvY2spfShlKTtmb3IodmFyIGk9W10scj0wO2UuYmlkcyYmcjxlLmJpZHMubGVuZ3RoO3IrKyl7dmFyIG89ZS5iaWRzW3JdO2lmKCEoby5iZHJpZDwxMDApJiZuJiZuLmJpZGRlclJlcXVlc3QmJm4uYmlkZGVyUmVxdWVzdC5iaWRzKXt3aW5kb3cubm9iaWQuYmlkUmVzcG9uc2VzWyIiK28uaWRdPW87dmFyIGE9dChvLmRpdmlkLG4uYmlkZGVyUmVxdWVzdC5iaWRzKTtpZihhKXt2YXIgcz17cmVxdWVzdElkOmEuYmlkSWQsY3BtOjEqKG8ucHJpY2U/by5wcmljZTpvLmJ1Y2tldD9vLmJ1Y2tldDowKSx3aWR0aDpvLnNpemUudyxoZWlnaHQ6by5zaXplLmgsY3JlYXRpdmVJZDpvLmNyZWF0aXZlaWR8fCIiLGRlYWxJZDpvLmRlYWxpZHx8IiIsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzAwLGFkOm8uYWRtLG1lZGlhVHlwZTpvLmF0eXBlfHxkLmJ9O28udmFzdFVybCYmKHMudmFzdFVybD1vLnZhc3RVcmwpLG8udmFzdFhtbCYmKHMudmFzdFhtbD1vLnZhc3RYbWwpLG8udmlkZW9DYWNoZUtleSYmKHMudmlkZW9DYWNoZUtleT1vLnZpZGVvQ2FjaGVLZXkpLG8ubWV0YSYmKHMubWV0YT1vLm1ldGEpLGkucHVzaChzKX19fXJldHVybiBpfXdpbmRvdy5ub2JpZFZlcnNpb249IjEuMy4yIix3aW5kb3cubm9iaWQ9d2luZG93Lm5vYmlkfHx7fSx3aW5kb3cubm9iaWQuYmlkUmVzcG9uc2VzPXdpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXN8fHt9LHdpbmRvdy5ub2JpZC50aW1lb3V0VG90YWw9MCx3aW5kb3cubm9iaWQuYmlkV29uVG90YWw9MCx3aW5kb3cubm9iaWQucmVmcmVzaENvdW50PTAsd2luZG93Lm5vYmlkLnJlbmRlclRhZz1mdW5jdGlvbihlLG4sdCl7Yygibm9iaWQucmVuZGVyVGFnKCkiLG4pO3ZhciBpPXdpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXNbIiIrbl07aWYoaSYmaS5hZG0yKXtjKCJub2JpZC5yZW5kZXJUYWcoKSBmb3VuZCB0YWciLG4pO3ZhciByPWkuYWRtMjtyZXR1cm4gZS53cml0ZShyKSx2b2lkIGUuY2xvc2UoKX1jKCJub2JpZC5yZW5kZXJUYWcoKSB0YWcgTk9UIEZPVU5EICpFUlJPUioiLG4pfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKGUpe3ZhciBuPSIiK2VbZS5tZXNzYWdlPyJtZXNzYWdlIjoiZGF0YSJdO2lmKCJuYlRhZ1JlbmRlcmVyLnJlcXVlc3RBZE1hcmt1cHwiPT09bi5zdWJzdHJpbmcoMCwibmJUYWdSZW5kZXJlci5yZXF1ZXN0QWRNYXJrdXB8Ii5sZW5ndGgpKXtjKCJQcmViaWQgcmVjZWl2ZWQgbmJUYWdSZW5kZXJlci5yZXF1ZXN0QWRNYXJrdXAgZXZlbnQiKTt2YXIgdD1uLnN1YnN0cmluZyhuLmluZGV4T2YoInwiKSsxKTtpZih3aW5kb3cubm9iaWQmJndpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXMpe3ZhciBpPXdpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXNbIiIrdF07aWYoaSYmaS5hZG0yKXt2YXIgcj1pLmFkbTI7ciYmZS5zb3VyY2UucG9zdE1lc3NhZ2UoIm5iVGFnUmVuZGVyZXIucmVuZGVyQWRJblNhZmVGcmFtZXwiK3IsIioiKX19fX0pLCExKTt2YXIgZz17Y29kZTpzLGd2bGlkOjgxNixhbGlhc2VzOlt7Y29kZToiZHVyYXRpb24iLGd2bGlkOjY3NH1dLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2QuYixkLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBjKCJpc0JpZFJlcXVlc3RWYWxpZCIsZSksISFlLnBhcmFtcy5zaXRlSWR9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxuKXtpZihjKCJ2YWxpZEJpZFJlcXVlc3RzIixlKSwhZXx8ZS5sZW5ndGg8PTApYygiRW1wdHkgdmFsaWRCaWRSZXF1ZXN0cyIpO2Vsc2V7dmFyIHQ9cChlLG4pO2lmKHQpe3dpbmRvdy5ub2JpZC5yZWZyZXNoQ291bnQrKzt2YXIgcixvLGQ9SlNPTi5zdHJpbmdpZnkodCkucmVwbGFjZSgvJ3wmfCMvZywiIiksYT0ocj0iaHR0cHM6Ly9hZHMuc2VydmVub2JpZC5jb20vIiwobz0iZnVuY3Rpb24iPT10eXBlb2YgaS5nZXRQYXJhbWV0ZXJCeU5hbWUmJk9iamVjdChpLmdldFBhcmFtZXRlckJ5TmFtZSkoIm5vYmlkLWVudiIpKT8iYmV0YSI9PW8/cj0iaHR0cHM6Ly9iZXRhLnNlcnZlbm9iaWQuY29tLyI6ImRldiI9PW8/cj0iLy9sb2NhbGhvc3Q6ODI4Mi8iOiJxYSI9PW8mJihyPSJodHRwczovL3FhLWFkcy5ub2JpZC5jb20vIik6cj0iaHR0cHM6Ly9hZHMuc2VydmVub2JpZC5jb20vIixyKyJhZHJlcT9jYj0iK01hdGguZmxvb3IoMTFlMypNYXRoLnJhbmRvbSgpKSkscz17fTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49ITA7cmV0dXJuIGUmJmUuZ2RwckNvbnNlbnQmJmUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJjI9PT1lLmdkcHJDb25zZW50LmFwaVZlcnNpb24mJihuPSEoITAhPT1PYmplY3QoaS5kZWVwQWNjZXNzKShlLmdkcHJDb25zZW50LCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKSksbn0obil8fChzPXt3aXRoQ3JlZGVudGlhbHM6ITF9KSx7bWV0aG9kOiJQT1NUIix1cmw6YSxkYXRhOmQsYmlkZGVyUmVxdWVzdDpuLG9wdGlvbnM6c319fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gYygiaW50ZXJwcmV0UmVzcG9uc2UgLT4gc2VydmVyUmVzcG9uc2UiLGUpLGMoImludGVycHJldFJlc3BvbnNlIC0+IGJpZFJlcXVlc3QiLG4pLGIoZS5ib2R5LG4pfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxuLHQscil7aWYoZS5pZnJhbWVFbmFibGVkKXt2YXIgbz0iIjtyZXR1cm4gdCYmInN0cmluZyI9PXR5cGVvZiB0LmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJBcHBsaWVzP28rPSI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIodC5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHQuY29uc2VudFN0cmluZyk6bys9Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQodC5jb25zZW50U3RyaW5nKSksciYmKG8ubGVuZ3RoPjA/bys9IiYiOm8rPSI/IixvKz0idXNwX2NvbnNlbnQ9IityKSxbe3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL3B1YmxpYy5zZXJ2ZW5vYmlkLmNvbS9zeW5jLmh0bWwiK299XX1pZihlLnBpeGVsRW5hYmxlZCYmbi5sZW5ndGg+MCl7dmFyIGQ9W107cmV0dXJuIG5bMF0uYm9keS5zeW5jcyYmblswXS5ib2R5LnN5bmNzLmxlbmd0aD4wJiZuWzBdLmJvZHkuc3luY3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZC5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmV9KX0pKSxkfXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiLU5vQmlkLSBQbGVhc2UgZW5hYmxlIGlmcmFtZSBiYXNlZCB1c2VyIHN5bmMuIixlKSxbXX0sb25UaW1lb3V0OmZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cubm9iaWQudGltZW91dFRvdGFsKyssYygiVGltZW91dCB0b3RhbDogIit3aW5kb3cubm9iaWQudGltZW91dFRvdGFsLGUpLHdpbmRvdy5ub2JpZC50aW1lb3V0VG90YWx9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cubm9iaWQuYmlkV29uVG90YWwrKyxjKCJCaWRXb24gdG90YWw6ICIrd2luZG93Lm5vYmlkLmJpZFdvblRvdGFsLGUpLHdpbmRvdy5ub2JpZC5iaWRXb25Ub3RhbH19O09iamVjdChvLnJlZ2lzdGVyQmlkZGVyKShnKX19LFs2NTFdKTsKdXBianNDaHVuayhbNDFdLHsxNzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKWlmKCJwdWJQcm92aWRlZElkIj09PXIpdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIG49byhlW3JdLHIpO24mJnQucHVzaChuKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KG4uZGVlcEFjY2VzcykoaSxyKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOmlbcl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciBuPXIoMCksaT17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChuLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gbyhlLHQpe3ZhciByPWlbdF07aWYociYmZSl7dmFyIG89e307by5zb3VyY2U9ci5zb3VyY2U7dmFyIGE9T2JqZWN0KG4uaXNGbikoci5nZXRWYWx1ZSk/ci5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChuLmlzU3RyKShhKSl7dmFyIGQ9e2lkOmEsYXR5cGU6ci5hdHlwZX07aWYoT2JqZWN0KG4uaXNGbikoci5nZXRVaWRFeHQpKXt2YXIgYz1yLmdldFVpZEV4dChlKTtjJiYoZC5leHQ9Yyl9aWYoby51aWRzPVtkXSxPYmplY3Qobi5pc0ZuKShyLmdldEVpZEV4dCkpe3ZhciBzPXIuZ2V0RWlkRXh0KGUpO3MmJihvLmV4dD1zKX1yZXR1cm4gb319cmV0dXJuIG51bGx9fSw2NTk6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDY2MCl9LDY2MDpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0Lmhhc1R5cGVWaWRlbz1oLHQuaXNWYWxpZD1iLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKTt2YXIgbj1yKDIpLGk9cigyMiksbz1yKDEzKSxhPXIoMTEpLGQ9ci5uKGEpLGM9cig3KSxzPXIoMSksdT1yKDE3KSxwPXIoMCk7ZnVuY3Rpb24gbChlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gZihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9sKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZyhlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6bChPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBnKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgbT0iaHR0cHM6Ly9vbmV0YWctc3lzLmNvbS91c3luYy8iLHk9T2JqZWN0KGMuYikoMjQxKTtmdW5jdGlvbiBoKGUpe3JldHVybiB2b2lkIDAhPT1lLm1lZGlhVHlwZXMmJnZvaWQgMCE9PWUubWVkaWFUeXBlcy52aWRlb31mdW5jdGlvbiBiKGUsdCl7aWYoZT09PW4uYilyZXR1cm4gaih0KS5sZW5ndGg+MDtpZihlPT09bi5kJiZoKHQpKXt2YXIgcj10Lm1lZGlhVHlwZXMudmlkZW8uY29udGV4dDtpZigib3V0c3RyZWFtIj09PXJ8fCJpbnN0cmVhbSI9PT1yKXJldHVybiB3KHQpLmxlbmd0aD4wfXJldHVybiExfWZ1bmN0aW9uIHYoZSl7dHJ5e3JldHVybiB2b2lkIDAhPT1lLmRvY3VtZW50LmhpZGRlbj9lLmRvY3VtZW50LmhpZGRlbjp2b2lkIDAhPT1lLmRvY3VtZW50Lm1zSGlkZGVuP2UuZG9jdW1lbnQubXNIaWRkZW46dm9pZCAwIT09ZS5kb2N1bWVudC53ZWJraXRIaWRkZW4/ZS5kb2N1bWVudC53ZWJraXRIaWRkZW46bnVsbH1jYXRjaChlKXtyZXR1cm4gbnVsbH19ZnVuY3Rpb24gSShlKXt2YXIgdD1lLnBhcmFtczt0aGlzLmFkVW5pdENvZGU9ZS5hZFVuaXRDb2RlLHRoaXMuYmlkSWQ9ZS5iaWRJZCx0aGlzLmJpZGRlclJlcXVlc3RJZD1lLmJpZGRlclJlcXVlc3RJZCx0aGlzLmF1Y3Rpb25JZD1lLmF1Y3Rpb25JZCx0aGlzLnRyYW5zYWN0aW9uSWQ9ZS50cmFuc2FjdGlvbklkLHRoaXMucHViSWQ9dC5wdWJJZCx0aGlzLmV4dD10LmV4dCx0LnB1YkNsaWNrJiYodGhpcy5jbGljaz10LnB1YkNsaWNrKSx0LmRlYWxJZCYmKHRoaXMuZGVhbElkPXQuZGVhbElkKTt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTt0cnl7Zm9yKHZhciByPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLnRvcCxpPXIubGVmdCxvPXIud2lkdGgsYT1yLmhlaWdodCxkPXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyxjPXt0b3A6bitkLnBhZ2VZT2Zmc2V0LGxlZnQ6aStkLnBhZ2VYT2Zmc2V0LHdpZHRoOm8saGVpZ2h0OmF9LHM9ZC5mcmFtZUVsZW1lbnQ7bnVsbCE9czspe3ZhciB1PXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscD11LnRvcCxsPXUubGVmdDtjLnRvcCs9cCtkLnBhZ2VZT2Zmc2V0LGMubGVmdCs9bCtkLnBhZ2VYT2Zmc2V0LHM9KGQ9ZC5wYXJlbnQpLmZyYW1lRWxlbWVudH1yZXR1cm4gY31jYXRjaChlKXtyZXR1cm4gbnVsbH19KGUuYWRVbml0Q29kZSk7ciYmKHRoaXMuY29vcmRzPXIpfWZ1bmN0aW9uIE8oKXt0cnl7aWYobnVsbCE9d2luZG93LnBlcmZvcm1hbmNlJiZudWxsIT13aW5kb3cucGVyZm9ybWFuY2UudGltaW5nKXt2YXIgZT17fSx0PXdpbmRvdy5wZXJmb3JtYW5jZS50aW1pbmc7cmV0dXJuIGUucGFnZUxvYWRUaW1lPXQubG9hZEV2ZW50RW5kLXQubmF2aWdhdGlvblN0YXJ0LGUuY29ubmVjdFRpbWU9dC5yZXNwb25zZUVuZC10LnJlcXVlc3RTdGFydCxlLnJlbmRlclRpbWU9dC5kb21Db21wbGV0ZS10LmRvbUxvYWRpbmcsZX19Y2F0Y2goZSl7cmV0dXJuIG51bGx9cmV0dXJuIG51bGx9ZnVuY3Rpb24gdyhlKXt2YXIgdD1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZTtyZXR1cm4gdm9pZCAwIT09dCYmQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+MD9UKHQpOltdfWZ1bmN0aW9uIGooZSl7cmV0dXJuIHZvaWQgMCE9PWUubWVkaWFUeXBlcyYmdm9pZCAwIT09ZS5tZWRpYVR5cGVzLmJhbm5lciYmdm9pZCAwIT09ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyYmQXJyYXkuaXNBcnJheShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKSYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGg+MD9UKGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpOiFoKGUpJiZlLnNpemVzJiZBcnJheS5pc0FycmF5KGUuc2l6ZXMpP1QoZS5zaXplcyk6W119ZnVuY3Rpb24gVChlKXtmb3IodmFyIHQ9W10scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO3QucHVzaCh7d2lkdGg6blswXSxoZWlnaHQ6blsxXX0pfXJldHVybiB0fXZhciB4PXtjb2RlOiJvbmV0YWciLGd2bGlkOjI0MSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltuLmIsbi5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmdm9pZCAwIT09ZS5wYXJhbXMmJiJzdHJpbmciPT10eXBlb2YgZS5wYXJhbXMucHViSWQmJihiKG4uYixlKXx8YihuLmQsZSkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxvLGEsZCxjLHM9Zih7YmlkczooYT1lLGQ9YS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBoKGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIEkuY2FsbCh0LGUpLHQuY29udGV4dD1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCx0LnBsYXllclNpemU9dyhlKSx0Lm1lZGlhVHlwZUluZm89T2JqZWN0KHAuZGVlcENsb25lKShlLm1lZGlhVHlwZXMudmlkZW8pLHQudHlwZT1uLmQsdH0pKSxjPWEuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gYihuLmIsZSl9KSkubWFwKChmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gSS5jYWxsKHQsZSksdC5zaXplcz1qKGUpLHQudHlwZT1uLmIsdC5tZWRpYVR5cGVJbmZvPU9iamVjdChwLmRlZXBDbG9uZSkoZS5tZWRpYVR5cGVzLmJhbm5lciksdH0pKSxkLmNvbmNhdChjKSl9LChyPWZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LHQ9d2luZG93LnBhcmVudCxyPTA7dHJ5e2Zvcig7ZSE9PWUucGFyZW50OykodD1lLnBhcmVudCkubG9jYXRpb24uaHJlZixlPWUucGFyZW50fWNhdGNoKG4pe3I9dD09PWUudG9wPzE6Mn1yZXR1cm57dG9wbW9zdEZyYW1lOmUsY3VycmVudEZyYW1lTmVzdGluZzpyfX0oKSxpPXIudG9wbW9zdEZyYW1lLG89ci5jdXJyZW50RnJhbWVOZXN0aW5nLHtsb2NhdGlvbjppLmxvY2F0aW9uLmhyZWYscmVmZXJyZXI6IiIhPT1pLmRvY3VtZW50LnJlZmVycmVyP2kuZG9jdW1lbnQucmVmZXJyZXI6bnVsbCxhbmNlc3Rvck9yaWdpbjp3aW5kb3cubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zJiZ3aW5kb3cubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zLmxlbmd0aD4wP3dpbmRvdy5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnNbd2luZG93LmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2lucy5sZW5ndGgtMV06bnVsbCxtYXNrZWQ6byx3V2lkdGg6aS5pbm5lcldpZHRoLHdIZWlnaHQ6aS5pbm5lckhlaWdodCxvV2lkdGg6aS5vdXRlcldpZHRoLG9IZWlnaHQ6aS5vdXRlckhlaWdodCxzV2lkdGg6aS5zY3JlZW4ud2lkdGgsc0hlaWdodDppLnNjcmVlbi5oZWlnaHQsYVdpZHRoOmkuc2NyZWVuLmF2YWlsV2lkdGgsYUhlaWdodDppLnNjcmVlbi5hdmFpbEhlaWdodCxzTGVmdDoic2NyZWVuTGVmdCJpbiBpP2kuc2NyZWVuTGVmdDppLnNjcmVlblgsc1RvcDoic2NyZWVuVG9wImluIGk/aS5zY3JlZW5Ub3A6aS5zY3JlZW5ZLHhPZmZzZXQ6aS5wYWdlWE9mZnNldCx5T2Zmc2V0OmkucGFnZVlPZmZzZXQsZG9jSGlkZGVuOnYoaSksZG9jSGVpZ2h0OmkuZG9jdW1lbnQuYm9keT9pLmRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0Om51bGwsaExlbmd0aDpoaXN0b3J5Lmxlbmd0aCx0aW1pbmc6TygpLHZlcnNpb246e3ByZWJpZDoiNS4yMC4yIixhZGFwdGVyOiIxLjEuMCJ9fSkpO3QmJnQuZ2RwckNvbnNlbnQmJihzLmdkcHJDb25zZW50PXtjb25zZW50U3RyaW5nOnQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxjb25zZW50UmVxdWlyZWQ6dC5nZHByQ29uc2VudC5nZHByQXBwbGllc30pLHQmJnQudXNwQ29uc2VudCYmKHMudXNQcml2YWN5PXQudXNwQ29uc2VudCksZSYmMCE9PWUubGVuZ3RoJiZlWzBdLnVzZXJJZCYmKHMudXNlcklkPU9iamVjdCh1LmIpKGVbMF0udXNlcklkKSk7dHJ5e3kuaGFzTG9jYWxTdG9yYWdlKCkmJihzLm9uZXRhZ1NpZD15LmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKCJvbmV0YWdfc2lkIikpfWNhdGNoKGUpe31yZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vb25ldGFnLXN5cy5jb20vcHJlYmlkLXJlcXVlc3QiLGRhdGE6SlNPTi5zdHJpbmdpZnkocyl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keSxhPVtdLGM9SlNPTi5wYXJzZSh0LmRhdGEpO3JldHVybiFyfHxyLm5vYmlkJiYhMD09PXIubm9iaWQ/YTpyLmJpZHMmJkFycmF5LmlzQXJyYXkoci5iaWRzKSYmMCE9PXIuYmlkcy5sZW5ndGg/KHIuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD17cmVxdWVzdElkOmUucmVxdWVzdElkLGNwbTplLmNwbSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCxjcmVhdGl2ZUlkOmUuY3JlYXRpdmVJZCxkZWFsSWQ6bnVsbD09ZS5kZWFsSWQ/ZS5kZWFsSWQ6IiIsY3VycmVuY3k6ZS5jdXJyZW5jeSxuZXRSZXZlbnVlOmUubmV0UmV2ZW51ZXx8ITEsbWVkaWFUeXBlOmUubWVkaWFUeXBlLG1ldGE6e21lZGlhVHlwZTplLm1lZGlhVHlwZSxhZHZlcnRpc2VyRG9tYWluczplLmFkb21haW59LHR0bDplLnR0bHx8MzAwfTtpZihlLm1lZGlhVHlwZT09PW4uYil0LmFkPWUuYWQ7ZWxzZSBpZihlLm1lZGlhVHlwZT09PW4uZCl7dmFyIHI9ZCgpKGMuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmlkSWQ9PT1lLnJlcXVlc3RJZCYmdC50eXBlPT09bi5kfSkpLHM9ci5jb250ZXh0LHU9ci5hZFVuaXRDb2RlO3M9PT1pLmE/KHQudmFzdFVybD1lLnZhc3RVcmwsdC52aWRlb0NhY2hlS2V5PWUudmlkZW9DYWNoZUtleSk6cz09PWkuYiYmKHQudmFzdFhtbD1lLmFkLHQudmFzdFVybD1lLnZhc3RVcmwsZS5yZW5kZXJlclVybCYmKHQucmVuZGVyZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9by5hLmluc3RhbGwoe2lkOmUucmVxdWVzdElkLHVybDplLnJlbmRlcmVyVXJsLGNvbmZpZzp0LGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlLGxvYWRlZDohMX0pO3RyeXtyLnNldFJlbmRlcigoZnVuY3Rpb24odCl7dmFyIHI9dC5yZW5kZXJlcixuPXQud2lkdGgsaT10LmhlaWdodCxvPXQudmFzdFhtbCxhPXQuYWRVbml0Q29kZTtyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93Lm9uZXRhZy5QbGF5ZXIuaW5pdChmKGYoe30sZSkse30se3dpZHRoOm4saGVpZ2h0OmksdmFzdFhtbDpvLG5vZGVJZDphLGNvbmZpZzpyLmdldENvbmZpZygpfSkpfSkpfSkpfWNhdGNoKGUpe31yZXR1cm4gcn0oZihmKHt9LGUpLHt9LHthZFVuaXRDb2RlOnV9KSkpKX1hLnB1c2godCl9KSksYSk6YX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPVtdLG89IiI7cmV0dXJuIHImJiJzdHJpbmciPT10eXBlb2Ygci5jb25zZW50U3RyaW5nJiYobys9IiZnZHByX2NvbnNlbnQ9IityLmNvbnNlbnRTdHJpbmcsImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQXBwbGllcyYmKG8rPSImZ2Rwcj0iKyhyLmdkcHJBcHBsaWVzPzE6MCkpKSxuJiYic3RyaW5nIj09dHlwZW9mIG4mJihvKz0iJnVzX3ByaXZhY3k9IituKSxlLmlmcmFtZUVuYWJsZWQmJmkucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6bSsiP2NiPSIrKG5ldyBEYXRlKS5nZXRUaW1lKCkrb30pLGUucGl4ZWxFbmFibGVkJiZpLnB1c2goe3R5cGU6ImltYWdlIix1cmw6bSsiP3RhZz1pbWciK299KSxpfX07T2JqZWN0KHMucmVnaXN0ZXJCaWRkZXIpKHgpfX0sWzY1OV0pOwp1cGJqc0NodW5rKFsxNzddLHs2Njk6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDY3MCl9LDY3MDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiVVNFUl9JRF9DT0RFX1RPX1FVRVJZX0FSRyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksbi5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciByPW4oMCksYT1uKDMpLGk9bigxKSxvPW4oMiksYz1uKDEyKSxkPW4ubihjKTtmdW5jdGlvbiBzKGUpe3JldHVybihzPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gdShlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGEsaT1bXSxvPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKG89KHI9bi5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKHIudmFsdWUpLCF0fHxpLmxlbmd0aCE9PXQpO289ITApO31jYXRjaChlKXtjPSEwLGE9ZX1maW5hbGx5e3RyeXtvfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgYX19cmV0dXJuIGl9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gcChlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gcChlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gcChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciBtPVtvLmIsby5kXSxsPVsic3RhcnRkZWxheSIsIm1pbWVzIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInN0YXJ0ZGVsYXkiLCJza2lwcGFibGUiLCJwbGF5YmFja21ldGhvZCIsImFwaSIsInByb3RvY29scyIsImJveGluZ2FsbG93ZWQiLCJsaW5lYXJpdHkiLCJkZWxpdmVyeSIsInByb3RvY29sIiwicGxhY2VtZW50IiwibWluYml0cmF0ZSIsIm1heGJpdHJhdGUiXSxiPXticml0ZXBvb2xpZDoiYnJpdGVwb29saWQiLGNyaXRlb0lkOiJjcml0ZW9pZCIsZmFicmlja0lkOiJudWVzdGFyaWQiLGhhbG9JZDoiYXVkaWdlbnRpZCIsaWQ1aWQ6ImlkNWlkIixpZGxfZW52OiJscmUiLElEUDoiemVvdGFwaWQiLGlkeElkOiJpZHhpZCIsaW50ZW50SXFJZDoiaW50ZW50aXFpZCIsbGlwYjoibGlwYmlkIixsb3RhbWVQYW5vcmFtYUlkOiJsb3RhbWVpZCIsbWVya2xlSWQ6Im1lcmtsZWlkIixuZXRJZDoibmV0aWQiLHBhcnJhYmxlSWQ6InBhcnJhYmxlaWQiLHB1YmNpZDoicHViY2lkIixxdWFudGNhc3RJZDoicXVhbnRjYXN0aWQiLHRhcGFkSWQ6InRhcGFkaWQiLHRkaWQ6InR0ZHV1aWQiLHVpZDI6InVpZDIiLGZsb2NJZDoiZmxvYyIsYWRtaXhlcklkOiJhZG1peGVyaWQiLGRlZXBpbnRlbnRJZDoiZGVlcGludGVudGlkIixkbWRJZDoiZG1kaWQiLG5leHRyb2xsSWQ6Im5leHRyb2xsaWQiLG5vdmF0aXE6Im5vdmF0aXFpZCIsbXdPcGVuTGlua0lkOiJtd29wZW5saW5raWQiLGRhcElkOiJkYXBpZCIsYW14SWQ6ImFteGlkIn0sZj17Y29kZToib3BlbngiLGd2bGlkOjY5LHN1cHBvcnRlZE1lZGlhVHlwZXM6bSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmFtcy5kZWxEb21haW58fGUucGFyYW1zLnBsYXRmb3JtO3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpJiZ0PyEhZS5wYXJhbXMudW5pdHx8T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoIik+MDohKCFlLnBhcmFtcy51bml0fHwhdCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuW107dmFyIG49W10saT11KGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gbj10LE9iamVjdChyLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8iKSYmIU9iamVjdChyLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMuYmFubmVyIil8fG4ubWVkaWFUeXBlPT09by5kP2VbMF0ucHVzaCh0KTplWzFdLnB1c2godCksZX0pLFtbXSxbXV0pfShlKSwyKSxjPWlbMF0scz1pWzFdO3JldHVybiBzLmxlbmd0aD4wJiZuLnB1c2goZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxpPSExLGM9dihlLHQpLGQ9T2JqZWN0KHIuX21hcCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLnVuaXR9KSk7Yy5hdXM9T2JqZWN0KHIuX21hcCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLnBhcnNlU2l6ZXNJbnB1dCkoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcykuam9pbigiLCIpfSkpLmpvaW4oInwiKSxjLmRpdmlkcz1PYmplY3Qoci5fbWFwKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUuYWRVbml0Q29kZSl9KSkuam9pbigiLCIpLGMuYXVjcz1PYmplY3Qoci5fbWFwKShlLChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpO3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodHx8IiIpfSkpLmpvaW4oIiwiKSxkLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpJiYoYy5hdWlkPWQuam9pbigiLCIpKTtlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5kb05vdFRyYWNrfSkpJiYoYy5ucz0xKTsoITA9PT1hLmIuZ2V0Q29uZmlnKCJjb3BwYSIpfHxlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5jb3BwYX0pKSkmJihjLnRmY2Q9MSk7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlLnBhcmFtcy5jdXN0b21QYXJhbXMpe3ZhciB0PU9iamVjdChyLl9tYXApKE9iamVjdC5rZXlzKGUucGFyYW1zLmN1c3RvbVBhcmFtcyksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPXRbZV07T2JqZWN0KHIuaXNBcnJheSkobikmJihuPW4uam9pbigiLCIpKTtyZXR1cm4oZS50b0xvd2VyQ2FzZSgpKyI9IituLnRvTG93ZXJDYXNlKCkpLnJlcGxhY2UoIisiLCIuIikucmVwbGFjZSgiLyIsIl8iKX0odCxlLnBhcmFtcy5jdXN0b21QYXJhbXMpfSkpLGE9d2luZG93LmJ0b2EodC5qb2luKCImIikpO2k9ITAsbi5wdXNoKGEpfWVsc2Ugbi5wdXNoKCIiKX0pKSxpJiYoYy50cHM9bi5qb2luKCIsIikpO3JldHVybiBnKGMsby5iLGUpLHttZXRob2Q6IkdFVCIsdXJsOmMucGg/Imh0dHBzOi8vdS5vcGVueC5uZXQvdy8xLjAvYXJqIjoiaHR0cHM6Ly8iLmNvbmNhdChlWzBdLnBhcmFtcy5kZWxEb21haW4sIi93LzEuMC9hcmoiKSxkYXRhOmMscGF5bG9hZDp7YmlkczplLHN0YXJ0VGltZTpuZXcgRGF0ZX19fShzLHQpKSxjLmxlbmd0aD4wJiZjLmZvckVhY2goKGZ1bmN0aW9uKGUpe24ucHVzaChmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIG4sYSxpPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxjPXYoW2VdLHQpLHM9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvIil8fHt9LHU9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikscD1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKTtPYmplY3Qoci5pc0FycmF5KShlLnNpemVzKSYmMj09PWUuc2l6ZXMubGVuZ3RoJiYhT2JqZWN0KHIuaXNBcnJheSkoZS5zaXplc1swXSk/KG49cGFyc2VJbnQoZS5zaXplc1swXSwxMCksYT1wYXJzZUludChlLnNpemVzWzFdLDEwKSk6T2JqZWN0KHIuaXNBcnJheSkoZS5zaXplcykmJk9iamVjdChyLmlzQXJyYXkpKGUuc2l6ZXNbMF0pJiYyPT09ZS5zaXplc1swXS5sZW5ndGg/KG49cGFyc2VJbnQoZS5zaXplc1swXVswXSwxMCksYT1wYXJzZUludChlLnNpemVzWzBdWzFdLDEwKSk6T2JqZWN0KHIuaXNBcnJheSkocCkmJjI9PT1wLmxlbmd0aCYmKG49cGFyc2VJbnQocFswXSwxMCksYT1wYXJzZUludChwWzFdLDEwKSk7dmFyIG09e3c6bixoOmF9LGI9ZS5wYXJhbXMudmlkZW98fGUucGFyYW1zLm9wZW5ydGJ8fHt9O2Iub3BlbnJ0YiYmKGI9Yi5vcGVucnRiKTtPYmplY3Qoci5pc0FycmF5KShiLmltcCkmJihiPWIuaW1wWzBdLnZpZGVvKTtPYmplY3Qua2V5cyhiKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBkKCkobCxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbVtlXT1iW2VdfSkpLE9iamVjdC5rZXlzKGkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGQoKShsLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBtW2VdPWlbZV19KSk7dmFyIGY9e2ltcDpbe3ZpZGVvOm19XX07Yy5vcGVucnRiPUpTT04uc3RyaW5naWZ5KGYpLGMuYXVpZD1lLnBhcmFtcy51bml0LGMudndkPW58fHMudndkLGMudmh0PWF8fHMudmh0LCJvdXRzdHJlYW0iPT09dSYmKGMudm9zPSIxMDEiKTtzLm1pbWVzJiYoYy52bWltZXM9cy5taW1lcyk7ZS5wYXJhbXMudGVzdCYmKGMudnRlc3Q9MSk7dmFyIGg9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKTtoJiYoYy5hdWNzPWVuY29kZVVSSUNvbXBvbmVudChoKSk7cmV0dXJuIGcoYyxvLmQsW2VdKSxjfShlLHQpO3JldHVybnttZXRob2Q6IkdFVCIsdXJsOm4ucGg/Imh0dHBzOi8vdS5vcGVueC5uZXQvdi8xLjAvYXZqcCI6Imh0dHBzOi8vIi5jb25jYXQoZS5wYXJhbXMuZGVsRG9tYWluLCIvdi8xLjAvYXZqcCIpLGRhdGE6bixwYXlsb2FkOntiaWQ6ZSxzdGFydFRpbWU6bmV3IERhdGV9fX0oZSx0KSl9KSksbn0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmJvZHk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybi9hdmpwJC8udGVzdChlLnVybCk/by5kOm8uYn0odCk9PT1vLmQ/ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmJpZCxhPSh0LnN0YXJ0VGltZSxbXSk7aWYodm9pZCAwIT09ZSYmIiIhPT1lLnZhc3RVcmwmJmUucHViX3Jldj4wKXt2YXIgaT1PYmplY3Qoci5wYXJzZVVybCkoZS52YXN0VXJsKS5zZWFyY2h8fHt9LGM9e307Yy5yZXF1ZXN0SWQ9bi5iaWRJZCxlLmRlYWxfaWQmJihjLmRlYWxJZD1lLmRlYWxfaWQpLGMudHRsPTMwMCxjLm5ldFJldmVudWU9ITAsYy5jdXJyZW5jeT1lLmN1cnJlbmN5LGMuY3BtPXBhcnNlSW50KGUucHViX3JldiwxMCkvMWUzLGMud2lkdGg9cGFyc2VJbnQoZS53aWR0aCwxMCksYy5oZWlnaHQ9cGFyc2VJbnQoZS5oZWlnaHQsMTApLGMuY3JlYXRpdmVJZD1lLmFkaWQsYy52YXN0VXJsPWUudmFzdFVybCxjLm1lZGlhVHlwZT1vLmQsZS5waD1pLnBoLGUuY29sbz1pLmNvbG8sZS50cz1pLnRzLGEucHVzaChjKX1yZXR1cm4gYX0obix0LnBheWxvYWQpOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXQuYmlkcyxyPSh0LnN0YXJ0VGltZSxlLmFkcy5hZCksYT1bXSxpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBvPXJbaV0sYz1wYXJzZUludChvLmlkeCwxMCksZD17fTtpZihkLnJlcXVlc3RJZD1uW2NdLmJpZElkLG8ucHViX3Jldil7ZC5jcG09TnVtYmVyKG8ucHViX3JldikvMWUzO3ZhciBzPW8uY3JlYXRpdmVbMF07cyYmKGQud2lkdGg9cy53aWR0aCxkLmhlaWdodD1zLmhlaWdodCksZC5jcmVhdGl2ZUlkPXMuaWQsZC5hZD1vLmh0bWwsby5kZWFsX2lkJiYoZC5kZWFsSWQ9by5kZWFsX2lkKSxkLnR0bD0zMDAsZC5uZXRSZXZlbnVlPSEwLGQuY3VycmVuY3k9by5jdXJyZW5jeSxvLnRiZCYmKGQudGJkPW8udGJkKSxkLnRzPW8udHMsZC5tZXRhPXt9LG8uYnJhbmRfaWQmJihkLm1ldGEuYnJhbmRJZD1vLmJyYW5kX2lkKSxvLmFkb21haW4mJmxlbmd0aChvLmFkb21haW4pPjA/ZC5tZXRhLmFkdmVydGlzZXJEb21haW5zPW8uYWRvbWFpbjpkLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9W10sby5hZHZfaWQmJihkLm1ldGEuZHNwaWQ9by5hZHZfaWQpLGEucHVzaChkKX19cmV0dXJuIGF9KG4sdC5wYXlsb2FkKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxuLGEpe2lmKGUuaWZyYW1lRW5hYmxlZHx8ZS5waXhlbEVuYWJsZWQpcmV0dXJuW3t0eXBlOmUuaWZyYW1lRW5hYmxlZD8iaWZyYW1lIjoiaW1hZ2UiLHVybDpPYmplY3Qoci5kZWVwQWNjZXNzKSh0LCIwLmJvZHkuYWRzLnBpeGVscyIpfHxPYmplY3Qoci5kZWVwQWNjZXNzKSh0LCIwLmJvZHkucGl4ZWxzIil8fGZ1bmN0aW9uKGUsdCl7dmFyIG49Imh0dHBzOi8vdS5vcGVueC5uZXQvdy8xLjAvcGQiLHI9W107ZSYmKHIucHVzaCgiZ2Rwcj0iKyhlLmdkcHJBcHBsaWVzPzE6MCkpLHIucHVzaCgiZ2Rwcl9jb25zZW50PSIrZW5jb2RlVVJJQ29tcG9uZW50KGUuY29uc2VudFN0cmluZ3x8IiIpKSk7dCYmci5wdXNoKCJ1c19wcml2YWN5PSIrZW5jb2RlVVJJQ29tcG9uZW50KHQpKTtyZXR1cm4iIi5jb25jYXQobikuY29uY2F0KHIubGVuZ3RoPjA/Ij8iK3Iuam9pbigiJiIpOiIiKX0obixhKX1dfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KHIuY29udmVydFR5cGVzKSh7dW5pdDoic3RyaW5nIixjdXN0b21GbG9vcjoibnVtYmVyIn0sZSl9fTtmdW5jdGlvbiBoKGUpe3ZhciB0LG4scixhPXdpbmRvdyxpPWRvY3VtZW50LG89aS5kb2N1bWVudEVsZW1lbnQ7aWYoZSl7dHJ5e2E9d2luZG93LnRvcCxpPXdpbmRvdy50b3AuZG9jdW1lbnR9Y2F0Y2goZSl7cmV0dXJufW89aS5kb2N1bWVudEVsZW1lbnQscj1pLmJvZHksdD1hLmlubmVyV2lkdGh8fG8uY2xpZW50V2lkdGh8fHIuY2xpZW50V2lkdGgsbj1hLmlubmVySGVpZ2h0fHxvLmNsaWVudEhlaWdodHx8ci5jbGllbnRIZWlnaHR9ZWxzZSBvPWkuZG9jdW1lbnRFbGVtZW50LHQ9YS5pbm5lcldpZHRofHxvLmNsaWVudFdpZHRoLG49YS5pbm5lckhlaWdodHx8by5jbGllbnRIZWlnaHQ7cmV0dXJuIiIuY29uY2F0KHQsIngiKS5jb25jYXQobil9ZnVuY3Rpb24gdihlLHQpe3ZhciBuLGk9T2JqZWN0KHIuaW5JZnJhbWUpKCk7bj17anU6YS5iLmdldENvbmZpZygicGFnZVVybCIpfHx0LnJlZmVyZXJJbmZvLnJlZmVyZXIsY2g6ZG9jdW1lbnQuY2hhclNldHx8ZG9jdW1lbnQuY2hhcmFjdGVyU2V0LHJlczoiIi5jb25jYXQoc2NyZWVuLndpZHRoLCJ4IikuY29uY2F0KHNjcmVlbi5oZWlnaHQsIngiKS5jb25jYXQoc2NyZWVuLmNvbG9yRGVwdGgpLGlmcjppLHR6OihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSx0d3M6aChpKSxiZToxLGJjOmVbMF0ucGFyYW1zLmJjfHwiIi5jb25jYXQoImhiX3BiIiwiXyIpLmNvbmNhdCgiMy4wLjMiKSxkZGRpZDpPYmplY3Qoci5fbWFwKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkfSkpLmpvaW4oIiwiKSxub2NhY2hlOihuZXcgRGF0ZSkuZ2V0VGltZSgpfTt2YXIgbz15KCJvcnRiMi51c2VyLmRhdGEiKTtvLmxlbmd0aD4wJiYobi5zbT1vKTt2YXIgYyxkLHMsdSxwLG09eSgib3J0YjIuc2l0ZS5jb250ZW50LmRhdGEiKTtpZihtLmxlbmd0aD4wJiYobi5zY3NtPW0pLGVbMF0ucGFyYW1zLnBsYXRmb3JtJiYobi5waD1lWzBdLnBhcmFtcy5wbGF0Zm9ybSksdC5nZHByQ29uc2VudCl7dmFyIGw9dC5nZHByQ29uc2VudDt2b2lkIDAhPT1sLmNvbnNlbnRTdHJpbmcmJihuLmdkcHJfY29uc2VudD1sLmNvbnNlbnRTdHJpbmcpLHZvaWQgMCE9PWwuZ2RwckFwcGxpZXMmJihuLmdkcHI9bC5nZHByQXBwbGllcz8xOjApLCJpYWIiPT09YS5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQuY21wQXBpIikmJihuLnhfZ2Rwcl9mPTEpfXJldHVybiB0JiZ0LnVzcENvbnNlbnQmJihuLnVzX3ByaXZhY3k9dC51c3BDb25zZW50KSxPYmplY3Qoci5kZWVwQWNjZXNzKShlWzBdLCJjcnVtYnMucHViY2lkIikmJk9iamVjdChyLmRlZXBTZXRWYWx1ZSkoZVswXSwidXNlcklkLnB1YmNpZCIsT2JqZWN0KHIuZGVlcEFjY2VzcykoZVswXSwiY3J1bWJzLnB1YmNpZCIpKSxjPW4sZD1lWzBdLnVzZXJJZCxPYmplY3Qoci5fZWFjaCkoZCwoZnVuY3Rpb24oZSx0KXt2YXIgbj1iW3RdO2lmKGIuaGFzT3duUHJvcGVydHkodCkpc3dpdGNoKHQpe2Nhc2UibWVya2xlSWQiOmNhc2UiZmxvY0lkIjpjYXNlInVpZDIiOmNbbl09ZS5pZDticmVhaztjYXNlImxpcGIiOmlmKGNbbl09ZS5saXBiaWQsQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGg+MCl7dmFyIHI9ImxpdmVpbnRlbnQ6IitlLnNlZ21lbnRzLmpvaW4oInwiKTtjLnNtPSIiLmNvbmNhdChjLnNtP2Muc20rIiwiOiIiKS5jb25jYXQocil9YnJlYWs7Y2FzZSJwYXJyYWJsZUlkIjpjW25dPWUuZWlkO2JyZWFrO2Nhc2UiaWQ1aWQiOmNbbl09ZS51aWQ7YnJlYWs7Y2FzZSJub3ZhdGlxIjpjW25dPWUuc25vd2ZsYWtlO2JyZWFrO2RlZmF1bHQ6Y1tuXT1lfX0pKSxuPWMsZVswXS5zY2hhaW4mJihuLnNjaGFpbj0ocz1lWzBdLnNjaGFpbiwiIi5jb25jYXQocy52ZXIsIiwiKS5jb25jYXQocy5jb21wbGV0ZSwiISIpLmNvbmNhdCgodT1zLm5vZGVzLHA9WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iXSx1Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHAubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XXx8IiJ9KSkuam9pbigiLCIpfSkpLmpvaW4oIiEiKSkpKSksbn1mdW5jdGlvbiB5KGUpe3ZhciB0PWEuYi5nZXRDb25maWcoZSk7aWYoIUFycmF5LmlzQXJyYXkodCl8fCF0Lmxlbmd0aClyZXR1cm4iIjt2YXIgbj10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZS5zZWdtZW50KSYmZS5zZWdtZW50Lmxlbmd0aD4wJiZ2b2lkIDAhPT1lLm5hbWUmJmUubmFtZS5sZW5ndGg+MH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49Im9iamVjdCI9PT1zKHQuZXh0KSYmdC5leHQuc2VndGF4PyIiLmNvbmNhdCh0Lm5hbWUsIi8iKS5jb25jYXQodC5leHQuc2VndGF4KTp0Lm5hbWU7cmV0dXJuIGVbbl09KGVbbl18fFtdKS5jb25jYXQodC5zZWdtZW50Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSkpLGV9KSx7fSk7cmV0dXJuIE9iamVjdC5rZXlzKG4pLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsiOiIrbltlXS5qb2luKCJ8Iil9KSkuam9pbigiLCIpfWZ1bmN0aW9uIGcoZSx0LG4pe3ZhciByPVtdLGk9ITE7bi5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1mdW5jdGlvbihlLHQpe3ZhciBuPXt9LHI9YS5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpfHwiVVNEIjsiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vciYmKG49ZS5nZXRGbG9vcih7Y3VycmVuY3k6cixtZWRpYVR5cGU6dCxzaXplOiIqIn0pKTt2YXIgaT1uLmZsb29yfHxlLnBhcmFtcy5jdXN0b21GbG9vcnx8MDtyZXR1cm4gTWF0aC5yb3VuZCgxZTMqaSl9KGUsdCk7bj8oci5wdXNoKG4pLGk9ITApOnIucHVzaCgwKX0pKSxpJiYoZS5hdW1mcz1yLmpvaW4oIiwiKSl9T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGYpfX0sWzY2OV0pOwp1cGJqc0NodW5rKFszN10sezY5NTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNjk2KX0sNjk2OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQucmVzZXRTeW5jZWRTdGF0dXM9ZnVuY3Rpb24oKXtVPTB9LHQucmVzZXRXdXJsTWFwPWZ1bmN0aW9uKCl7WD17fX0sdC5QcmViaWRTZXJ2ZXI9JDt2YXIgbj1yKDYzKSxpPXIoMzkpLGM9cigwKSxzPXIoNSksbz1yLm4ocyksYT1yKDgpLGQ9cigzKSxwPXIoMiksYj1yKDM4KSx1PXIoMSksbD1yKDEwKSxmPXIubihsKSx2PXIoMTIpLGc9ci5uKHYpLHk9cig2OTcpLG09cig0KSxPPXIoMTEpLGo9ci5uKE8pO2Z1bmN0aW9uIGgoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIEMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/aChPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe1MoZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOmgoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gUyhlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9ZnVuY3Rpb24geChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBuLGksYz1bXSxzPSEwLG89ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKHM9KG49ci5uZXh0KCkpLmRvbmUpJiYoYy5wdXNoKG4udmFsdWUpLCF0fHxjLmxlbmd0aCE9PXQpO3M9ITApO31jYXRjaChlKXtvPSEwLGk9ZX1maW5hbGx5e3RyeXtzfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgaX19cmV0dXJuIGN9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gQShlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4gQShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gQShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIEUoKXtyZXR1cm4oRT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHcoZSl7cmV0dXJuKHc9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgUCxrLF89ZC5iLmdldENvbmZpZyxJPW8uYS5TMlMuU1JDLFU9MCxCPXt0aW1lb3V0OjFlMyxtYXhCaWRzOjEsYWRhcHRlcjoicHJlYmlkU2VydmVyIixhZGFwdGVyT3B0aW9uczp7fSxzeW5jVXJsTW9kaWZpZXI6e30sYmlkZGVyczpbXX07ZnVuY3Rpb24gVChlKXtpZihlKXt2YXIgdD1BcnJheS5pc0FycmF5KGUpP2U6W2VdLHI9W107cmV0dXJuIHQuZXZlcnkoKGZ1bmN0aW9uKHQsbixpKXtpZigoZnVuY3Rpb24oZSl7WyJlbmRwb2ludCIsInN5bmNFbmRwb2ludCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKE9iamVjdChjLmlzU3RyKShlW3RdKSl7dmFyIHI9ZVt0XTtlW3RdPXtwMUNvbnNlbnQ6cixub1AxQ29uc2VudDpyfX0hT2JqZWN0KGMuaXNQbGFpbk9iamVjdCkoZVt0XSl8fGVbdF0ucDFDb25zZW50JiZlW3RdLm5vUDFDb25zZW50fHxbInAxQ29uc2VudCIsIm5vUDFDb25zZW50Il0uZm9yRWFjaCgoZnVuY3Rpb24ocil7ZVt0XVtyXXx8T2JqZWN0KGMubG9nV2FybikoInMyc0NvbmZpZy4iLmNvbmNhdCh0LCIuIikuY29uY2F0KHIsIiBub3QgZGVmaW5lZC4gIFBCUyByZXF1ZXN0IHdpbGwgYmUgc2tpcHBlZCBpbiBzb21lIFAxIHNjZW5hcmlvcy4iKSl9KSl9KSl9KGUpLCExIT09ZnVuY3Rpb24oZSl7aWYoZS5kZWZhdWx0VmVuZG9yKXt2YXIgdD1lLmRlZmF1bHRWZW5kb3Iscj1PYmplY3Qua2V5cyhlKTtpZigheS5hW3RdKXJldHVybiBPYmplY3QoYy5sb2dFcnJvcikoIkluY29ycmVjdCBvciB1bmF2YWlsYWJsZSBwcmViaWQgc2VydmVyIGRlZmF1bHQgdmVuZG9yIG9wdGlvbjogIit0KSwhMTtPYmplY3Qua2V5cyh5LmFbdF0pLmZvckVhY2goKGZ1bmN0aW9uKG4pe0Jbbl0hPT1lW25dJiZnKCkocixuKXx8KGVbbl09eS5hW3RdW25dKX0pKX1yZXR1cm4gZS5lbmFibGVkPSJib29sZWFuIj09dHlwZW9mIGUuZW5hYmxlZCYmZS5lbmFibGVkfSh0KSkmJiExIT09ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aWYoWyJhY2NvdW50SWQiLCJiaWRkZXJzIiwiZW5kcG9pbnQiXS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFnKCkodCxlKSYmKE9iamVjdChjLmxvZ0Vycm9yKShlKyIgbWlzc2luZyBpbiBzZXJ2ZXIgdG8gc2VydmVyIGNvbmZpZyIpLCEwKX0pKS5sZW5ndGg+MClyZXR1cm4hMX0odCkpcmV0dXJuIEFycmF5LmlzQXJyYXkodC5iaWRkZXJzKSYmKGlbbl0uYmlkZGVycz10LmJpZGRlcnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PXIuaW5kZXhPZihlKSYmKHIucHVzaChlKSwhMCl9KSkpLCEwO3JldHVybiBPYmplY3QoYy5sb2dXYXJuKSgicHJlYmlkU2VydmVyOiBzMnMgY29uZmlnIGlzIGRpc2FibGVkIiksITF9KSk/UD10OnZvaWQgMH19ZnVuY3Rpb24gUihlLHQscixuKXtpZihQLmxlbmd0aCE9PVUpe1UrKzt2YXIgaT17dXVpZDpPYmplY3QoYy5nZW5lcmF0ZVVVSUQpKCksYmlkZGVyczplLGFjY291bnQ6bi5hY2NvdW50SWR9LHM9bi51c2VyU3luY0xpbWl0O09iamVjdChjLmlzTnVtYmVyKShzKSYmcz4wJiYoaS5saW1pdD1zKSx0JiYoaS5nZHByPXQuZ2RwckFwcGxpZXM/MTowLCExIT09dC5nZHByQXBwbGllcyYmKGkuZ2Rwcl9jb25zZW50PXQuY29uc2VudFN0cmluZykpLHImJihpLnVzX3ByaXZhY3k9ciksImJvb2xlYW4iPT10eXBlb2Ygbi5jb29wU3luYyYmKGkuY29vcFN5bmM9bi5jb29wU3luYyk7dmFyIG89SlNPTi5zdHJpbmdpZnkoaSk7T2JqZWN0KG0uYSkoSyhuLnN5bmNFbmRwb2ludCx0KSwoZnVuY3Rpb24oZSl7dHJ5e0QoKGU9SlNPTi5wYXJzZShlKSkuYmlkZGVyX3N0YXR1cyxuKX1jYXRjaChlKXtPYmplY3QoYy5sb2dFcnJvcikoZSl9fSksbyx7Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0pfX1mdW5jdGlvbiBEKGUsdCl7aWYoMCE9PWUubGVuZ3RoKXt2YXIgcj1lLnNoaWZ0KCk7ci5ub19jb29raWU/ZnVuY3Rpb24oZSx0LHIsbixpKXtpZihpLnN5bmNVcmxNb2RpZmllciYmImZ1bmN0aW9uIj09dHlwZW9mIGkuc3luY1VybE1vZGlmaWVyW3JdKXtxKGUsaS5zeW5jVXJsTW9kaWZpZXJbcl0oZSx0LHIpLHIsbil9ZWxzZSBxKGUsdCxyLG4pfShyLnVzZXJzeW5jLnR5cGUsci51c2Vyc3luYy51cmwsci5iaWRkZXIsYy5iaW5kLmNhbGwoRCxudWxsLGUsdCksdCk6RChlLHQpfX1mdW5jdGlvbiBxKGUsdCxyLG4pe3Q/ImltYWdlIj09PWV8fCJyZWRpcmVjdCI9PT1lPyhPYmplY3QoYy5sb2dNZXNzYWdlKSgnSW52b2tpbmcgaW1hZ2UgcGl4ZWwgdXNlciBzeW5jIGZvciBiaWRkZXI6ICInLmNvbmNhdChyLCciJykpLE9iamVjdChjLnRyaWdnZXJQaXhlbCkodCxuKSk6ImlmcmFtZSI9PWU/KE9iamVjdChjLmxvZ01lc3NhZ2UpKCdJbnZva2luZyBpZnJhbWUgdXNlciBzeW5jIGZvciBiaWRkZXI6ICInLmNvbmNhdChyLCciJykpLE9iamVjdChjLmluc2VydFVzZXJTeW5jSWZyYW1lKSh0LG4pKTooT2JqZWN0KGMubG9nRXJyb3IpKCdVc2VyIHN5bmMgdHlwZSAiJy5jb25jYXQoZSwnIiBub3Qgc3VwcG9ydGVkIGZvciBiaWRkZXI6ICInKS5jb25jYXQociwnIicpKSxuKCkpOihPYmplY3QoYy5sb2dFcnJvcikoJ05vIHN5bmMgdXJsIGZvciBiaWRkZXIgIicuY29uY2F0KHIsJyI6ICcpLmNvbmNhdCh0KSksbigpKX1kLmIuc2V0RGVmYXVsdHMoe3Myc0NvbmZpZzpCfSksXygiczJzQ29uZmlnIiwoZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5zMnNDb25maWcpfSkpO3ZhciBWPXtzcG9uc29yZWRCeToxLGJvZHk6MixyYXRpbmc6MyxsaWtlczo0LGRvd25sb2Fkczo1LHByaWNlOjYsc2FsZVByaWNlOjcscGhvbmU6OCxhZGRyZXNzOjksYm9keTI6MTAsY3RhOjEyfSxOPU9iamVjdC5rZXlzKFYpLHo9e2ljb246MSxpbWFnZTozfSxNPXtpbWc6MSxqczoyfTtbVix6LHtpbXByZXNzaW9uOjEsInZpZXdhYmxlLW1yYzUwIjoyLCJ2aWV3YWJsZS1tcmMxMDAiOjMsInZpZXdhYmxlLXZpZGVvNTAiOjR9LE1dLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbZVt0XV09dH0pKX0pKTt2YXIgVz17fSxKPXt9LFg9e307dmFyIEY9ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgcz1bXSxvPXt9LHA9dFswXSx1PW5ldyBTZXQ7aWYoci5mb3JFYWNoKChmdW5jdGlvbihlKXtmb3IodmFyIHI9ZS5jb2RlLGk9MTt1LmhhcyhyKTspaSsrLHI9IiIuY29uY2F0KGUuY29kZSwiLSIpLmNvbmNhdChpKTt1LmFkZChyKTt2YXIgbCxmPU9iamVjdChiLmgpKE9iamVjdChjLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMubmF0aXZlIikpO2lmKGYpdHJ5e2w9SltyXT1PYmplY3Qua2V5cyhmKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9Zlt0XTtmdW5jdGlvbiBuKGUpe3JldHVybiBFKHtyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MH0sZT9PYmplY3QoYy5jbGVhbk9iaikoZSk6e30pfXN3aXRjaCh0KXtjYXNlImltYWdlIjpjYXNlImljb24iOnZhciBpPXpbdF0scz1PYmplY3QoYy5jbGVhbk9iaikoe3R5cGU6aSx3Ok9iamVjdChjLmRlZXBBY2Nlc3MpKHIsInNpemVzLjAiKSxoOk9iamVjdChjLmRlZXBBY2Nlc3MpKHIsInNpemVzLjEiKSx3bWluOk9iamVjdChjLmRlZXBBY2Nlc3MpKHIsImFzcGVjdF9yYXRpb3MuMC5taW5fd2lkdGgiKSxobWluOk9iamVjdChjLmRlZXBBY2Nlc3MpKHIsImFzcGVjdF9yYXRpb3MuMC5taW5faGVpZ2h0Iil9KTtpZighKHMudyYmcy5ofHxzLmhtaW4mJnMud21pbikpdGhyb3ciaW52YWxpZCBpbWcgc2l6ZXMgKG11c3QgcHJvdmlkZSBzaXplcyBvciBtaW5faGVpZ2h0ICYgbWluX3dpZHRoIGlmIHVzaW5nIGFzcGVjdF9yYXRpb3MpIjtBcnJheS5pc0FycmF5KHIuYXNwZWN0X3JhdGlvcykmJihzLmV4dD17YXNwZWN0cmF0aW9zOnIuYXNwZWN0X3JhdGlvcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChlLnJhdGlvX3dpZHRoLCI6IikuY29uY2F0KGUucmF0aW9faGVpZ2h0KX0pKX0pLGUucHVzaChuKHtpbWc6c30pKTticmVhaztjYXNlInRpdGxlIjppZighci5sZW4pdGhyb3ciaW52YWxpZCB0aXRsZS5sZW4iO2UucHVzaChuKHt0aXRsZTp7bGVuOnIubGVufX0pKTticmVhaztkZWZhdWx0OnZhciBvPVZbdF07byYmZS5wdXNoKG4oe2RhdGE6e3R5cGU6byxsZW46ci5sZW59fSkpfXJldHVybiBlfSksW10pfWNhdGNoKGUpe09iamVjdChjLmxvZ0Vycm9yKSgiZXJyb3IgY3JlYXRpbmcgbmF0aXZlIHJlcXVlc3Q6ICIrU3RyaW5nKGUpKX12YXIgdj1PYmplY3QoYy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIiksZz1PYmplY3QoYy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpO2UuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihXWyIiLmNvbmNhdChyKS5jb25jYXQoZS5iaWRkZXIpXT1lLmJpZF9pZCxhLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmJpZGRlcl0pe3ZhciB0PWEuZGVmYXVsdC5iaWRkZXJSZWdpc3RyeVtlLmJpZGRlcl07dCYmIXQuZ2V0U3BlYygpLnNraXBQYnNBbGlhc2luZyYmKG9bZS5iaWRkZXJdPWEuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W2UuYmlkZGVyXSl9fSkpO3ZhciB5PXt9O2lmKGcmJmcuc2l6ZXMpe3ZhciBtPU9iamVjdChjLnBhcnNlU2l6ZXNJbnB1dCkoZy5zaXplcykubWFwKChmdW5jdGlvbihlKXt2YXIgdD14KGUuc3BsaXQoIngiKSwyKSxyPXRbMF0sbj10WzFdO3JldHVybnt3OnBhcnNlSW50KHIsMTApLGg6cGFyc2VJbnQobiwxMCl9fSkpO3kuYmFubmVyPXtmb3JtYXQ6bX0sZy5wb3MmJih5LmJhbm5lci5wb3M9Zy5wb3MpfWlmKE9iamVjdChjLmlzRW1wdHkpKHYpfHwoIm91dHN0cmVhbSIhPT12LmNvbnRleHR8fHYucmVuZGVyZXJ8fGUucmVuZGVyZXI/KCJpbnN0cmVhbSIhPT12LmNvbnRleHR8fHYuaGFzT3duUHJvcGVydHkoInBsYWNlbWVudCIpfHwodi5wbGFjZW1lbnQ9MSkseS52aWRlbz1PYmplY3Qua2V5cyh2KS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJjb250ZXh0IiE9PWV9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiJwbGF5ZXJTaXplIj09PXQ/KGUudz1PYmplY3QoYy5kZWVwQWNjZXNzKSh2LCIiLmNvbmNhdCh0LCIuMC4wIikpLGUuaD1PYmplY3QoYy5kZWVwQWNjZXNzKSh2LCIiLmNvbmNhdCh0LCIuMC4xIikpKTplW3RdPXZbdF0sZX0pLHt9KSk6T2JqZWN0KGMubG9nRXJyb3IpKCJPdXRzdHJlYW0gYmlkIHdpdGhvdXQgcmVuZGVyZXIgY2Fubm90IGJlIHNlbnQgdG8gUHJlYmlkIFNlcnZlci4iKSksbCl0cnl7eS5uYXRpdmU9e3JlcXVlc3Q6SlNPTi5zdHJpbmdpZnkoe2NvbnRleHQ6MSxwbGNtdHR5cGU6MSxldmVudHRyYWNrZXJzOlt7ZXZlbnQ6MSxtZXRob2RzOlsxXX1dLGFzc2V0czpsfSksdmVyOiIxLjIifX1jYXRjaChlKXtPYmplY3QoYy5sb2dFcnJvcikoImVycm9yIGNyZWF0aW5nIG5hdGl2ZSByZXF1ZXN0OiAiK1N0cmluZyhlKSl9dmFyIE89ZS5iaWRzLnJlZHVjZSgoZnVuY3Rpb24ocixpKXt2YXIgYz1hLmRlZmF1bHQuYmlkZGVyUmVnaXN0cnlbaS5iaWRkZXJdO3JldHVybiBjJiZjLmdldFNwZWMoKS50cmFuc2Zvcm1CaWRQYXJhbXMmJihpLnBhcmFtcz1jLmdldFNwZWMoKS50cmFuc2Zvcm1CaWRQYXJhbXMoaS5wYXJhbXMsITAsZSx0KSkscltpLmJpZGRlcl09bi5hZGFwdGVyT3B0aW9ucyYmbi5hZGFwdGVyT3B0aW9uc1tpLmJpZGRlcl0/RSh7fSxpLnBhcmFtcyxuLmFkYXB0ZXJPcHRpb25zW2kuYmlkZGVyXSk6aS5wYXJhbXMscn0pLEMoe30sT2JqZWN0KGMuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0IikpKSxoPXtpZDpyLGV4dDpPLHNlY3VyZTpuLnNlY3VyZX0sUz1DKHt9LE9iamVjdChjLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhIikpO09iamVjdC5rZXlzKFMpLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJwYmFkc2xvdCI9PT1lPyJzdHJpbmciPT10eXBlb2YgU1tlXSYmU1tlXT9PYmplY3QoYy5kZWVwU2V0VmFsdWUpKGgsImV4dC5kYXRhLnBiYWRzbG90IixTW2VdKTpkZWxldGUgaC5leHQuZGF0YS5wYmFkc2xvdDoiYWRzZXJ2ZXIiPT09ZT9bIm5hbWUiLCJhZHNsb3QiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoYy5kZWVwQWNjZXNzKShTLCJhZHNlcnZlci4iLmNvbmNhdChlKSk7InN0cmluZyI9PXR5cGVvZiB0JiZ0JiZPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGgsImV4dC5kYXRhLmFkc2VydmVyLiIuY29uY2F0KGUudG9Mb3dlckNhc2UoKSksdCl9KSk6T2JqZWN0KGMuZGVlcFNldFZhbHVlKShoLCJleHQuZGF0YS4iLmNvbmNhdChlKSxTW2VdKX0pKSxFKGgseSk7dmFyIEE9aigpKHAuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWUuY29kZSYmdC5zdG9yZWRBdWN0aW9uUmVzcG9uc2V9KSk7QSYmT2JqZWN0KGMuZGVlcFNldFZhbHVlKShoLCJleHQucHJlYmlkLnN0b3JlZGF1Y3Rpb25yZXNwb25zZS5pZCIsQS5zdG9yZWRBdWN0aW9uUmVzcG9uc2UudG9TdHJpbmcoKSk7dmFyIHc9aigpKHAuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWUuY29kZSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuZ2V0Rmxvb3J9KSk7aWYodyl7dmFyIFA7dHJ5e1A9dy5nZXRGbG9vcih7Y3VycmVuY3k6ZC5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpfHwiVVNEIn0pfWNhdGNoKGUpe09iamVjdChjLmxvZ0Vycm9yKSgiUEJTOiBnZXRGbG9vciB0aHJldyBhbiBlcnJvcjogIixlKX1QJiZQLmN1cnJlbmN5JiYhaXNOYU4ocGFyc2VGbG9hdChQLmZsb29yKSkmJihoLmJpZGZsb29yPXBhcnNlRmxvYXQoUC5mbG9vciksaC5iaWRmbG9vcmN1cj1QLmN1cnJlbmN5KX0oaC5iYW5uZXJ8fGgudmlkZW98fGgubmF0aXZlKSYmcy5wdXNoKGgpfSkpLHMubGVuZ3RoKXt2YXIgbD17aWQ6ZS50aWQsc291cmNlOnt0aWQ6ZS50aWR9LHRtYXg6bi50aW1lb3V0LGltcDpzLHRlc3Q6bi50ZXN0fHwwLGV4dDp7cHJlYmlkOnthdWN0aW9udGltZXN0YW1wOnAuYXVjdGlvblN0YXJ0LHRhcmdldGluZzp7aW5jbHVkZXdpbm5lcnM6ITAsaW5jbHVkZWJpZGRlcmtleXM6ITF9fX19O2wuZXh0LnByZWJpZD1FKGwuZXh0LnByZWJpZCx7Y2hhbm5lbDp7bmFtZToicGJqcyIsdmVyc2lvbjp1cGJqcy52ZXJzaW9ufX0pLF8oImRlYnVnIikmJihsLmV4dC5wcmViaWQ9RShsLmV4dC5wcmViaWQse2RlYnVnOiEwfSkpLG4uZXh0UHJlYmlkJiYib2JqZWN0Ij09PXcobi5leHRQcmViaWQpJiYobC5leHQucHJlYmlkPUUobC5leHQucHJlYmlkLG4uZXh0UHJlYmlkKSk7dmFyIGY9ZC5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpO2YmJiJzdHJpbmciPT10eXBlb2YgZj9sLmN1cj1bZl06QXJyYXkuaXNBcnJheShmKSYmZi5sZW5ndGgmJihsLmN1cj1bZlswXV0pLGZ1bmN0aW9uKGUsdCxyKXtlJiYoIm9iamVjdCI9PT13KGQuYi5nZXRDb25maWcoImFwcCIpKT8oZS5hcHA9ZC5iLmdldENvbmZpZygiYXBwIiksZS5hcHAucHVibGlzaGVyPXtpZDpyfSk6KGUuc2l0ZT17fSxPYmplY3QoYy5pc1BsYWluT2JqZWN0KShkLmIuZ2V0Q29uZmlnKCJzaXRlIikpJiYoZS5zaXRlPWQuYi5nZXRDb25maWcoInNpdGUiKSksT2JqZWN0KGMuZGVlcEFjY2VzcykoZS5zaXRlLCJwdWJsaXNoZXIuaWQiKXx8T2JqZWN0KGMuZGVlcFNldFZhbHVlKShlLnNpdGUsInB1Ymxpc2hlci5pZCIsciksZS5zaXRlLnBhZ2V8fChlLnNpdGUucGFnZT10KSksIm9iamVjdCI9PT13KGQuYi5nZXRDb25maWcoImRldmljZSIpKSYmKGUuZGV2aWNlPWQuYi5nZXRDb25maWcoImRldmljZSIpKSxlLmRldmljZXx8KGUuZGV2aWNlPXt9KSxlLmRldmljZS53fHwoZS5kZXZpY2Uudz13aW5kb3cuaW5uZXJXaWR0aCksZS5kZXZpY2UuaHx8KGUuZGV2aWNlLmg9d2luZG93LmlubmVySGVpZ2h0KSl9KGwsdFswXS5yZWZlcmVySW5mby5yZWZlcmVyLG4uYWNjb3VudElkKTt2YXIgdj1PYmplY3QoYy5kZWVwQWNjZXNzKSh0LCIwLmJpZHMuMC5zY2hhaW4iKTt2JiYobC5zb3VyY2UuZXh0PXtzY2hhaW46dn0pLE9iamVjdChjLmlzRW1wdHkpKG8pfHwobC5leHQucHJlYmlkLmFsaWFzZXM9QyhDKHt9LGwuZXh0LnByZWJpZC5hbGlhc2VzKSxvKSk7dmFyIHk9T2JqZWN0KGMuZGVlcEFjY2VzcykodCwiMC5iaWRzLjAudXNlcklkQXNFaWRzIik7T2JqZWN0KGMuaXNBcnJheSkoeSkmJnkubGVuZ3RoPjAmJk9iamVjdChjLmRlZXBTZXRWYWx1ZSkobCwidXNlci5leHQuZWlkcyIseSksT2JqZWN0KGMuaXNBcnJheSkoaykmJmsubGVuZ3RoPjAmJihpJiZPYmplY3QoYy5pc0FycmF5KShpKSYmay5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZGRlcnMmJihlLmJpZGRlcnM9ZS5iaWRkZXJzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGcoKShpLGUpfSkpKX0pKSxPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGwsImV4dC5wcmViaWQuZGF0YS5laWRwZXJtaXNzaW9ucyIsaykpO3ZhciBtPWQuYi5nZXRDb25maWcoIm11bHRpYmlkIik7aWYobSYmT2JqZWN0KGMuZGVlcFNldFZhbHVlKShsLCJleHQucHJlYmlkLm11bHRpYmlkIixtLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cltlLnRvTG93ZXJDYXNlKCldPXRbZV19KSksZS5wdXNoKHIpLGV9KSxbXSkpLHQpe3ZhciBPO2lmKHAuZ2RwckNvbnNlbnQpImJvb2xlYW4iPT10eXBlb2YgcC5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKE89cC5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApLE9iamVjdChjLmRlZXBTZXRWYWx1ZSkobCwicmVncy5leHQuZ2RwciIsTyksT2JqZWN0KGMuZGVlcFNldFZhbHVlKShsLCJ1c2VyLmV4dC5jb25zZW50IixwLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLHAuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50JiYic3RyaW5nIj09dHlwZW9mIHAuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50JiZPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGwsInVzZXIuZXh0LkNvbnNlbnRlZFByb3ZpZGVyc1NldHRpbmdzLmNvbnNlbnRlZF9wcm92aWRlcnMiLHAuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50KTtwLnVzcENvbnNlbnQmJk9iamVjdChjLmRlZXBTZXRWYWx1ZSkobCwicmVncy5leHQudXNfcHJpdmFjeSIscC51c3BDb25zZW50KX0hMD09PV8oImNvcHBhIikmJk9iamVjdChjLmRlZXBTZXRWYWx1ZSkobCwicmVncy5jb3BwYSIsMSk7dmFyIGg9Xygib3J0YjIiKXx8e307cmV0dXJuIE9iamVjdChjLm1lcmdlRGVlcCkobCxoKSxmdW5jdGlvbihlKXt2YXIgdD1kLmIuZ2V0QmlkZGVyQ29uZmlnKCkscj1PYmplY3Qua2V5cyh0KS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIG49dFtyXTtpZihuLm9ydGIyKXt2YXIgaT1PYmplY3QoYy5tZXJnZURlZXApKHt9LG4ub3J0YjIpO2UucHVzaCh7YmlkZGVyczpbcl0sY29uZmlnOntvcnRiMjppfX0pfXJldHVybiBlfSksW10pO3IubGVuZ3RoJiZPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGUsImV4dC5wcmViaWQuYmlkZGVyY29uZmlnIixyKX0obCksbH1PYmplY3QoYy5sb2dFcnJvcikoIlJlcXVlc3QgdG8gUHJlYmlkIFNlcnZlciByZWplY3RlZCBkdWUgdG8gaW52YWxpZCBtZWRpYSB0eXBlKHMpIGluIGFkVW5pdC4iKX0sSD1mdW5jdGlvbihlLHQscil7dmFyIG49W10scz1PYmplY3QoYy5kZWVwQWNjZXNzKShlLCJleHQucmVzcG9uc2V0aW1lbWlsbGlzIiksYT10LmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlckNvZGV9KSk7cmV0dXJuIGEmJnMmJk9iamVjdC5rZXlzKHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdChjLmRlZXBDbG9uZSkoYSk7ci5pc0R5bmFtaWM9ITAsci5iaWRkZXJDb2RlPWUsci5iaWRkZXJSZXF1ZXN0SWQ9T2JqZWN0KGMuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxyLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5iaWRkZXI9ZSx0LmJpZGRlclJlcXVlc3RJZD1yLmJpZGRlclJlcXVlc3RJZCx0LmJpZF9pZD1PYmplY3QoYy5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLHQuYmlkSWQ9dC5iaWRfaWQsV1siIi5jb25jYXQodC5hZFVuaXRDb2RlKS5jb25jYXQoZSldPXQuYmlkX2lkfSkpLHQucHVzaChyKX0pKSxbWyJlcnJvcnMiLCJzZXJ2ZXJFcnJvcnMiXSxbInJlc3BvbnNldGltZW1pbGxpcyIsInNlcnZlclJlc3BvbnNlVGltZU1zIl1dLmZvckVhY2goKGZ1bmN0aW9uKHIpe3JldHVybiBmdW5jdGlvbihlLHQscixuKXt2YXIgaT1PYmplY3QoYy5kZWVwQWNjZXNzKSh0LCJleHQuIi5jb25jYXQocikpO2kmJk9iamVjdC5rZXlzKGkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPWooKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJDb2RlPT09dH0pKTtyJiYocltuXT1pW3RdKX0pKX0odCxlLHJbMF0sclsxXSl9KSksZS5zZWF0YmlkJiZlLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24ocyl7KHMuYmlkfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24oYSl7dmFyIGQsYj0iIi5jb25jYXQoYS5pbXBpZCkuY29uY2F0KHMuc2VhdCk7V1tiXSYmKGQ9T2JqZWN0KGMuZ2V0QmlkUmVxdWVzdCkoV1tiXSx0KSk7dmFyIHU9YS5wcmljZSxsPTAhPT11P28uYS5TVEFUVVMuR09PRDpvLmEuU1RBVFVTLk5PX0JJRCxmPU9iamVjdChpLmEpKGwsZHx8e2JpZGRlcjpzLnNlYXQsc3JjOkl9KTtmLmNwbT11O3ZhciB2PU9iamVjdChjLmRlZXBBY2Nlc3MpKGUsWyJleHQiLCJyZXNwb25zZXRpbWVtaWxsaXMiLHMuc2VhdF0uam9pbigiLiIpKTtkJiZ2JiYoZC5zZXJ2ZXJSZXNwb25zZVRpbWVNcz12KTt2YXIgZyx5LG0sTz1PYmplY3QoYy5kZWVwQWNjZXNzKShhLCJleHQucHJlYmlkLmJpZGlkIik7T2JqZWN0KGMuaXNTdHIpKE8pJiYoZi5wYnNCaWRJZD1PKSxPYmplY3QoYy5pc1N0cikoT2JqZWN0KGMuZGVlcEFjY2VzcykoYSwiZXh0LnByZWJpZC5ldmVudHMud2luIikpJiYoZz1kLmF1Y3Rpb25JZCx5PWYuYWRJZCxtPU9iamVjdChjLmRlZXBBY2Nlc3MpKGEsImV4dC5wcmViaWQuZXZlbnRzLndpbiIpLFtnLHldLmV2ZXJ5KGMuaXNTdHIpJiYoWFsiIi5jb25jYXQoZykuY29uY2F0KHkpXT1tKSk7dmFyIGo9T2JqZWN0KGMuZGVlcEFjY2VzcykoYSwiZXh0LnByZWJpZC50YXJnZXRpbmciKTtpZihPYmplY3QoYy5pc1BsYWluT2JqZWN0KShqKSYmKE9iamVjdChjLmlzU3RyKShPYmplY3QoYy5kZWVwQWNjZXNzKShhLCJleHQucHJlYmlkLmV2ZW50cy53aW4iKSkmJihqPU9iamVjdChjLmdldERlZmluZWRQYXJhbXMpKGosT2JqZWN0LmtleXMoaikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PWUuaW5kZXhPZigiaGJfd2ludXJsIikmJi0xPT09ZS5pbmRleE9mKCJoYl9iaWRpZCIpfSkpKSksZi5hZHNlcnZlclRhcmdldGluZz1qKSxmLnNlYXRCaWRJZD1hLmlkLE9iamVjdChjLmRlZXBBY2Nlc3MpKGEsImV4dC5wcmViaWQudHlwZSIpPT09cC5kKXtmLm1lZGlhVHlwZT1wLmQ7dmFyIGg9ZC5zaXplcyYmZC5zaXplc1swXTtmLnBsYXllcldpZHRoPWhbMF0sZi5wbGF5ZXJIZWlnaHQ9aFsxXSxhLmV4dC5wcmViaWQuY2FjaGUmJiJvYmplY3QiPT09dyhhLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbCkmJmEuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLmNhY2hlSWQmJmEuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLnVybD8oZi52aWRlb0NhY2hlS2V5PWEuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLmNhY2hlSWQsZi52YXN0VXJsPWEuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLnVybCk6aiYmai5oYl91dWlkJiZqLmhiX2NhY2hlX2hvc3QmJmouaGJfY2FjaGVfcGF0aCYmKGYudmlkZW9DYWNoZUtleT1qLmhiX3V1aWQsZi52YXN0VXJsPSJodHRwczovLyIuY29uY2F0KGouaGJfY2FjaGVfaG9zdCkuY29uY2F0KGouaGJfY2FjaGVfcGF0aCwiP3V1aWQ9IikuY29uY2F0KGouaGJfdXVpZCkpLGEuYWRtJiYoZi52YXN0WG1sPWEuYWRtKSwhZi52YXN0VXJsJiZhLm51cmwmJihmLnZhc3RVcmw9YS5udXJsKX1lbHNlIGlmKE9iamVjdChjLmRlZXBBY2Nlc3MpKGEsImV4dC5wcmViaWQudHlwZSIpPT09cC5jKXt2YXIgQyx4O2YubWVkaWFUeXBlPXAuYyx4PSJzdHJpbmciPT10eXBlb2YgYS5hZG0/Zi5hZG09SlNPTi5wYXJzZShhLmFkbSk6Zi5hZG09YS5hZG07dmFyIEE9KFMoQz17fSxNLmltZyx4LmltcHRyYWNrZXJzfHxbXSksUyhDLE0uanMseC5qc3RyYWNrZXI/W3guanN0cmFja2VyXTpbXSksQyk7aWYoeC5ldmVudHRyYWNrZXJzJiZ4LmV2ZW50dHJhY2tlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7c3dpdGNoKGUubWV0aG9kKXtjYXNlIE0uaW1nOkFbTS5pbWddLnB1c2goZS51cmwpO2JyZWFrO2Nhc2UgTS5qczpBW00uanNdLnB1c2goZS51cmwpfX0pKSxPYmplY3QoYy5pc1BsYWluT2JqZWN0KSh4KSYmQXJyYXkuaXNBcnJheSh4LmFzc2V0cykpe3ZhciBFPUpbYS5pbXBpZF07Zi5uYXRpdmU9T2JqZWN0KGMuY2xlYW5PYmopKHguYXNzZXRzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgcj1FW3QuaWRdO3JldHVybiBPYmplY3QoYy5pc1BsYWluT2JqZWN0KSh0LmltZyk/ZVtyLmltZy50eXBlP3pbci5pbWcudHlwZV06ImltYWdlIl09T2JqZWN0KGMucGljaykodC5pbWcsWyJ1cmwiLCJ3IGFzIHdpZHRoIiwiaCBhcyBoZWlnaHQiXSk6T2JqZWN0KGMuaXNQbGFpbk9iamVjdCkodC50aXRsZSk/ZS50aXRsZT10LnRpdGxlLnRleHQ6T2JqZWN0KGMuaXNQbGFpbk9iamVjdCkodC5kYXRhKSYmTi5mb3JFYWNoKChmdW5jdGlvbihuKXtWW25dPT09ci5kYXRhLnR5cGUmJihlW25dPXQuZGF0YS52YWx1ZSl9KSksZX0pLE9iamVjdChjLmNsZWFuT2JqKSh7Y2xpY2tVcmw6eC5saW5rLGNsaWNrVHJhY2tlcnM6T2JqZWN0KGMuZGVlcEFjY2VzcykoeCwibGluay5jbGlja3RyYWNrZXJzIiksaW1wcmVzc2lvblRyYWNrZXJzOkFbTS5pbWddLGphdmFzY3JpcHRUcmFja2VyczpBW00uanNdfSkpKX1lbHNlIE9iamVjdChjLmxvZ0Vycm9yKSgicHJlYmlkIHNlcnZlciBuYXRpdmUgcmVzcG9uc2UgY29udGFpbmVkIG5vIGFzc2V0cyIpfWVsc2UgYS5hZG0mJmEubnVybD8oZi5hZD1hLmFkbSxmLmFkKz1PYmplY3QoYy5jcmVhdGVUcmFja1BpeGVsSHRtbCkoZGVjb2RlVVJJQ29tcG9uZW50KGEubnVybCkpKTphLmFkbT9mLmFkPWEuYWRtOmEubnVybCYmKGYuYWRVcmw9YS5udXJsKTtmLndpZHRoPWEudyxmLmhlaWdodD1hLmgsYS5kZWFsaWQmJihmLmRlYWxJZD1hLmRlYWxpZCksZi5yZXF1ZXN0SWQ9ZC5iaWRJZHx8ZC5iaWRfSWQsZi5jcmVhdGl2ZV9pZD1hLmNyaWQsZi5jcmVhdGl2ZUlkPWEuY3JpZCxhLmJ1cmwmJihmLmJ1cmw9YS5idXJsKSxmLmN1cnJlbmN5PWUuY3VyP2UuY3VyOiJVU0QiLGYubWV0YT17fTt2YXIgUD1PYmplY3QoYy5kZWVwQWNjZXNzKShhLCJleHQucHJlYmlkLm1ldGEiKTtQJiZPYmplY3QoYy5pc1BsYWluT2JqZWN0KShQKSYmKGYubWV0YT1PYmplY3QoYy5kZWVwQ2xvbmUpKFApKSxhLmFkb21haW4mJihmLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9YS5hZG9tYWluKTt2YXIgaz1yLmRlZmF1bHRUdGx8fDYwO2YudHRsPWEuZXhwP2EuZXhwOmssZi5uZXRSZXZlbnVlPSFhLm5ldFJldmVudWV8fGEubmV0UmV2ZW51ZSxuLnB1c2goe2FkVW5pdDpkLmFkVW5pdENvZGUsYmlkOmZ9KX0pKX0pKSxufTtmdW5jdGlvbiBMKGUpe3ZhciB0LHIsbj1mdW5jdGlvbihlLHQpe2lmKFtlLHRdLmV2ZXJ5KGMuaXNTdHIpKXJldHVybiBYWyIiLmNvbmNhdChlKS5jb25jYXQodCldfShlLmF1Y3Rpb25JZCxlLmFkSWQpO09iamVjdChjLmlzU3RyKShuKSYmKE9iamVjdChjLmxvZ01lc3NhZ2UpKCdJbnZva2luZyBpbWFnZSBwaXhlbCBmb3Igd3VybCBvbiBCSURfV0lOOiAiJy5jb25jYXQobiwnIicpKSxPYmplY3QoYy50cmlnZ2VyUGl4ZWwpKG4pLHQ9ZS5hdWN0aW9uSWQscj1lLmFkSWQsW3Qscl0uZXZlcnkoYy5pc1N0cikmJihYWyIiLmNvbmNhdCh0KS5jb25jYXQocildPXZvaWQgMCkpfWZ1bmN0aW9uIEsoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ITA7cmV0dXJuIGUmJmUuZ2RwckFwcGxpZXMmJjI9PT1lLmFwaVZlcnNpb24mJih0PSEoITAhPT1PYmplY3QoYy5kZWVwQWNjZXNzKShlLCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKSksdH0odCk/ZS5wMUNvbnNlbnQ6ZS5ub1AxQ29uc2VudH1mdW5jdGlvbiBHKGUpe3ZhciB0LHI7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoPjAmJih0PWVbMF0uZ2RwckNvbnNlbnQscj1lWzBdLnVzcENvbnNlbnQpLHtnZHByQ29uc2VudDp0LHVzcENvbnNlbnQ6cn19ZnVuY3Rpb24gJCgpe3ZhciBlPW5ldyBuLmEoInByZWJpZFNlcnZlciIpO3JldHVybiBlLmNhbGxCaWRzPWZ1bmN0aW9uKGUsdCxyLG4saSl7dmFyIHM9T2JqZWN0KGMuZGVlcENsb25lKShlLmFkX3VuaXRzKSxwPUcodCksYj1wLmdkcHJDb25zZW50LGw9cC51c3BDb25zZW50LHY9cy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1lZGlhVHlwZXMmJihlLm1lZGlhVHlwZXMubmF0aXZlfHxlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHxlLm1lZGlhVHlwZXMudmlkZW8mJmUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplKX0pKSx5PXYubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpLmZpbHRlcihjLnVuaXF1ZXMpfSkpLnJlZHVjZShjLmZsYXR0ZW4pLmZpbHRlcihjLnVuaXF1ZXMpO2lmKEFycmF5LmlzQXJyYXkoUCkpe2lmKCF0LmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlckNvZGV9KSkmJmUuczJzQ29uZmlnJiZlLnMyc0NvbmZpZy5zeW5jRW5kcG9pbnQmJksoZS5zMnNDb25maWcuc3luY0VuZHBvaW50LGIpKVIoZS5zMnNDb25maWcuYmlkZGVycy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlXXx8ZX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci5pbmRleE9mKGUpPT09dH0pKSxiLGwsZS5zMnNDb25maWcpO3ZhciBtPUYoZSx0LHYsZS5zMnNDb25maWcseSksTz1tJiZKU09OLnN0cmluZ2lmeShtKTtPYmplY3QoYy5sb2dJbmZvKSgiQmlkUmVxdWVzdDogIitPKTt2YXIgaj1LKGUuczJzQ29uZmlnLmVuZHBvaW50LGIpO20mJk8mJmo/aShqLHtzdWNjZXNzOmZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihlLHQscixuLGkscyl7dmFyIHAsYj1bXSxsPUcociksdj1sLmdkcHJDb25zZW50LHk9bC51c3BDb25zZW50O3RyeXtpZihwPUpTT04ucGFyc2UoZSksYj1IKHAscixzKSx0PXQuY29uY2F0KHIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJDb2RlfSkpKS5maWx0ZXIoYy51bmlxdWVzKSxyLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlckNvZGV9KSkpaWYocyYmcy5zeW5jRW5kcG9pbnQmJksocy5zeW5jRW5kcG9pbnQsdikpUihyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGEuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W2UuYmlkZGVyQ29kZV18fGUuYmlkZGVyQ29kZX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci5pbmRleE9mKGUpPT09dH0pKSx2LHkscyk7ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRHluYW1pY30pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuKG51bGwse2JpZGRlckNvZGU6ZS5iaWRkZXJDb2RlLGFkZFJlcXVlc3RPbmx5OiEwfSl9KSksYi5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLmFkVW5pdCxpPWUuYmlkO09iamVjdCh1LmlzVmFsaWQpKHQsaSxyKSYmbih0LGkpfSkpLHIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiIT09ZS5iaWRkZXJDb2RlfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBmLmEuZW1pdChvLmEuRVZFTlRTLkJJRERFUl9ET05FLGUpfSkpfWNhdGNoKGUpe09iamVjdChjLmxvZ0Vycm9yKShlKX0oIXB8fHAuc3RhdHVzJiZnKCkocC5zdGF0dXMsIkVycm9yIikpJiZPYmplY3QoYy5sb2dFcnJvcikoImVycm9yIHBhcnNpbmcgcmVzcG9uc2U6ICIscC5zdGF0dXMpO2koKSxmdW5jdGlvbihlLHQscil7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1hLmRlZmF1bHQuZ2V0QmlkQWRhcHRlcihlKTtuJiZuLnJlZ2lzdGVyU3luY3MmJmQuYi5ydW5XaXRoQmlkZGVyKGUsYy5iaW5kLmNhbGwobi5yZWdpc3RlclN5bmNzLG4sW10sdCxyKSl9KSl9KHQsdix5KX0oaSx5LHQscixuLGUuczJzQ29uZmlnKX0sZXJyb3I6bn0sTyx7Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0pOk9iamVjdChjLmxvZ0Vycm9yKSgiUEJTIHJlcXVlc3Qgbm90IG1hZGUuICBDaGVjayBlbmRwb2ludHMuIil9fSxmLmEub24oby5hLkVWRU5UUy5CSURfV09OLEwpLEUodGhpcyx7Y2FsbEJpZHM6ZS5jYWxsQmlkcyxzZXRCaWRkZXJDb2RlOmUuc2V0QmlkZGVyQ29kZSx0eXBlOkl9KX1PYmplY3QoYy5nZXRQcmViaWRJbnRlcm5hbCkoKS5zZXRFaWRQZXJtaXNzaW9ucz1mdW5jdGlvbihlKXtrPWV9LGEuZGVmYXVsdC5yZWdpc3RlckJpZEFkYXB0ZXIobmV3ICQsInByZWJpZFNlcnZlciIpfSw2OTc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSk7dmFyIG49e2FwcG5leHVzOnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQuYWRueHMuY29tL3Bicy92MS9vcGVucnRiMi9hdWN0aW9uIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQuYWRueHMtc2ltcGxlLmNvbS9wYnMvdjEvb3BlbnJ0YjIvYXVjdGlvbiJ9LHN5bmNFbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC5hZG54cy5jb20vcGJzL3YxL2Nvb2tpZV9zeW5jIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQuYWRueHMtc2ltcGxlLmNvbS9wYnMvdjEvY29va2llX3N5bmMifSx0aW1lb3V0OjFlM30sYXBwbmV4dXNwc3A6e2FkYXB0ZXI6InByZWJpZFNlcnZlciIsZW5hYmxlZDohMCxlbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL2liLmFkbnhzLmNvbS9vcGVucnRiMi9wcmViaWQiLG5vUDFDb25zZW50OiJodHRwczovL2liLmFkbnhzLXNpbXBsZS5jb20vb3BlbnJ0YjIvcHJlYmlkIn0sdGltZW91dDoxZTN9LHJ1Ymljb246e2FkYXB0ZXI6InByZWJpZFNlcnZlciIsZW5hYmxlZDohMCxlbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC1zZXJ2ZXIucnViaWNvbnByb2plY3QuY29tL29wZW5ydGIyL2F1Y3Rpb24iLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC1zZXJ2ZXIucnViaWNvbnByb2plY3QuY29tL29wZW5ydGIyL2F1Y3Rpb24ifSxzeW5jRW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQtc2VydmVyLnJ1Ymljb25wcm9qZWN0LmNvbS9jb29raWVfc3luYyIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLXNlcnZlci5ydWJpY29ucHJvamVjdC5jb20vY29va2llX3N5bmMifSx0aW1lb3V0OjUwMH0sb3Blbng6e2FkYXB0ZXI6InByZWJpZFNlcnZlciIsZW5hYmxlZDohMCxlbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC5vcGVueC5uZXQvb3BlbnJ0YjIvYXVjdGlvbiIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLm9wZW54Lm5ldC9vcGVucnRiMi9hdWN0aW9uIn0sc3luY0VuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLm9wZW54Lm5ldC9jb29raWVfc3luYyIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLm9wZW54Lm5ldC9jb29raWVfc3luYyJ9LHRpbWVvdXQ6MWUzfSxzbmlnZWw6e2FkYXB0ZXI6InByZWJpZFNlcnZlciIsZW5hYmxlZDohMCxlbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL2Fkc2Vydi5zbmlnZWx3ZWIuY29tL2JwL3YxL29wZW5ydGIyL2F1Y3Rpb24iLG5vUDFDb25zZW50OiJodHRwczovL2Fkc2Vydi5zbmlnZWx3ZWIuY29tL2JwL3YxL29wZW5ydGIyL2F1Y3Rpb24ifSxzeW5jRW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9hZHNlcnYuc25pZ2Vsd2ViLmNvbS9icC92MS9jb29raWVfc3luYyIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vYWRzZXJ2LnNuaWdlbHdlYi5jb20vYnAvdjEvY29va2llX3N5bmMifSx0aW1lb3V0OjQwMH19fX0sWzY5NV0pOwp1cGJqc0NodW5rKFsxNjVdLHs3MDA6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDcwMSl9LDcwMTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwiYWxsb3dlZEZpZWxkcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGt9KSksci5kKHQsIl9mbG9vckRhdGFGb3JBdWN0aW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKSxyLmQodCwiZmllbGRNYXRjaGluZ0Z1bmN0aW9ucyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSksdC5nZXRGaXJzdE1hdGNoaW5nRmxvb3I9TSx0LmdldEJpZGRlcnNDcG1BZGp1c3RtZW50PXgsdC5jYWxjdWxhdGVBZGp1c3RlZEZsb29yPVYsdC5nZXRGbG9vcj1XLHQuZ2V0Rmxvb3JzRGF0YUZvckF1Y3Rpb249Ryx0LmdldEZsb29yRGF0YUZyb21BZFVuaXRzPU4sdC51cGRhdGVBZFVuaXRzRm9yQXVjdGlvbj1fLHQucGlja1JhbmRvbU1vZGVsPUgsdC5jcmVhdGVGbG9vcnNEYXRhRm9yQXVjdGlvbj1KLHQuY29udGludWVBdWN0aW9uPUwsdC5pc0Zsb29yc0RhdGFWYWxpZD1RLHQucGFyc2VGbG9vckRhdGE9WCx0LnJlcXVlc3RCaWRzSG9vaz1aLHQuaGFuZGxlRmV0Y2hSZXNwb25zZT1lZSx0LmdlbmVyYXRlQW5kSGFuZGxlRmV0Y2g9cmUsdC5oYW5kbGVTZXRGbG9vcnNDb25maWc9b2UsdC5hZGRCaWRSZXNwb25zZUhvb2s9bmU7dmFyIG89cigwKSxuPXIoMTQpLGM9cigzKSxhPXIoNCksaT1yKDEwKSx1PXIubihpKSxzPXIoNSksZD1yLm4ocyksbD1yKDkpLGY9cigzOSkscD1yKDExKSxtPXIubihwKSxiPXIoMTkpLGg9WyJtb2RlbEdyb3VwcyJdO2Z1bmN0aW9uIGcoZSl7cmV0dXJuKGc9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiB5KGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgcixvLG49ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciByLG8sbj17fSxjPU9iamVjdC5rZXlzKGUpO2ZvcihvPTA7bzxjLmxlbmd0aDtvKyspcj1jW29dLHQuaW5kZXhPZihyKT49MHx8KG5bcl09ZVtyXSk7cmV0dXJuIG59KGUsdCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtmb3Iobz0wO288Yy5sZW5ndGg7bysrKXI9Y1tvXSx0LmluZGV4T2Yocik+PTB8fE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHIpJiYobltyXT1lW3JdKX1yZXR1cm4gbn1mdW5jdGlvbiBPKCl7cmV0dXJuKE89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbyBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG8pJiYoZVtvXT1yW29dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBqKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobz1vLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixvKX1yZXR1cm4gcn1mdW5jdGlvbiB2KGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2ooT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtGKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpqKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIEYoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciBBLFM9IlByaWNlIEZsb29ycyIsQz1PYmplY3QoYS5iKSgxZTQpLGs9WyJncHRTbG90IiwiYWRVbml0Q29kZSIsInNpemUiLCJkb21haW4iLCJtZWRpYVR5cGUiXSxUPSExLEQ9ITEsUj17fSxVPVtdLEU9e307ZnVuY3Rpb24gdyhlLHQpe3JldHVybiBNYXRoLmNlaWwoKHBhcnNlRmxvYXQoZSkqTWF0aC5wb3coMTAsdCkpLnRvRml4ZWQoMSkpL01hdGgucG93KDEwLHQpfXZhciBJPXtzaXplOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChvLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5KSh0LnNpemUpfHwiKiJ9LG1lZGlhVHlwZTpmdW5jdGlvbihlLHQpe3JldHVybiB0Lm1lZGlhVHlwZXx8ImJhbm5lciJ9LGdwdFNsb3Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImdhbSI9PT1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5hZHNlcnZlci5uYW1lIikmJmUub3J0YjJJbXAuZXh0LmRhdGEuYWRzZXJ2ZXIuYWRzbG90fShlKXx8T2JqZWN0KG8uZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKShlLmFkVW5pdENvZGUpLmdwdFNsb3R9LGRvbWFpbjpmdW5jdGlvbihlLHQpe3JldHVybiBBfHwocj1PYmplY3QoYi5hKSgpLnJlZmVyZXIsQT1PYmplY3Qoby5wYXJzZVVybCkocix7bm9EZWNvZGVXaG9sZVVSTDohMH0pLmhvc3RuYW1lKTt2YXIgcn0sYWRVbml0Q29kZTpmdW5jdGlvbihlLHQpe3JldHVybiBlLmFkVW5pdENvZGV9fTtmdW5jdGlvbiBQKGUsdCxyKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbyl7dmFyIG49SVtvXSh0LHIpfHwiKiI7cmV0dXJuIGUucHVzaCgiKiI9PT1uP1siKiJdOltuLnRvTG93ZXJDYXNlKCksIioiXSksZX0pLFtdKX1mdW5jdGlvbiBNKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49UChPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJzY2hlbWEuZmllbGRzIil8fFtdLHQscik7aWYoIW4ubGVuZ3RoKXJldHVybnttYXRjaGluZ0Zsb29yOmUuZGVmYXVsdH07dmFyIGM9bi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdfSkpLmpvaW4oIi0iKSxhPU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1hdGNoaW5nSW5wdXRzLiIuY29uY2F0KGMpKTtpZihhKXJldHVybiB2KHt9LGEpO3ZhciBpPUIobixPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJzY2hlbWEuZGVsaW1pdGVyIil8fCJ8IiksdT1tKCkoaSwoZnVuY3Rpb24odCl7cmV0dXJuIGUudmFsdWVzLmhhc093blByb3BlcnR5KHQpfSkpLHM9e2Zsb29yTWluOmUuZmxvb3JNaW58fDAsZmxvb3JSdWxlVmFsdWU6ZS52YWx1ZXNbdV18fGUuZGVmYXVsdCxtYXRjaGluZ0RhdGE6aVswXSxtYXRjaGluZ1J1bGU6dX07cmV0dXJuIHMubWF0Y2hpbmdGbG9vcj1NYXRoLm1heChzLmZsb29yTWluLHMuZmxvb3JSdWxlVmFsdWUpLE9iamVjdChvLmRlZXBTZXRWYWx1ZSkoZSwibWF0Y2hpbmdJbnB1dHMuIi5jb25jYXQoYyksdih7fSxzKSksc31mdW5jdGlvbiBCKGUsdCl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciBvPVtdO3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7ci5tYXAoKGZ1bmN0aW9uKHIpe28ucHVzaChlK3Qrcil9KSl9KSksb30pKS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLnNwbGl0KCIqIikubGVuZ3RoLXQuc3BsaXQoIioiKS5sZW5ndGh9KSl9ZnVuY3Rpb24geChlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxjPU9iamVjdChvLmRlZXBBY2Nlc3MpKE9iamVjdChuLmEpKCksImJpZGRlclNldHRpbmdzLiIuY29uY2F0KGUsIi5iaWRDcG1BZGp1c3RtZW50IikpfHxPYmplY3Qoby5kZWVwQWNjZXNzKShPYmplY3Qobi5hKSgpLCJiaWRkZXJTZXR0aW5ncy5zdGFuZGFyZC5iaWRDcG1BZGp1c3RtZW50Iik7cmV0dXJuIGMmJnBhcnNlRmxvYXQoYyh0LHYodih7fSxyKSx7fSx7Y3BtOnR9KSkpfHxwYXJzZUZsb2F0KHQpfWZ1bmN0aW9uIFYoZSx0KXt2YXIgcj1NYXRoLnBvdygxMCwxMCk7cmV0dXJuIGUqci8odCpyKSooZSpyKS9yfXZhciBxPXtiYW5uZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIil8fFtdfSx2aWRlbzpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG8uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIil8fFtdfSxuYXRpdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMubmF0aXZlLmltYWdlLnNpemVzIik/W09iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMubmF0aXZlLmltYWdlLnNpemVzIildOltdfX07ZnVuY3Rpb24geihlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUubWVkaWFUeXBlc3x8e30pO3JldHVybiIqIj09PXQubWVkaWFUeXBlJiYxPT09ci5sZW5ndGgmJih0Lm1lZGlhVHlwZT1yWzBdKSwiKiI9PT10LnNpemUmJi0xIT09ci5pbmRleE9mKHQubWVkaWFUeXBlKSYmcVt0Lm1lZGlhVHlwZV0mJjE9PT1xW3QubWVkaWFUeXBlXShlKS5sZW5ndGgmJih0LnNpemU9cVt0Lm1lZGlhVHlwZV0oZSlbMF0pLHR9ZnVuY3Rpb24gVygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0sdD10aGlzLHI9RVt0LmF1Y3Rpb25JZF07aWYoIXJ8fHIuc2tpcHBlZClyZXR1cm57fTtlPXoodCxlKTt2YXIgYz1NKHIuZGF0YSx2KHt9LHQpLHttZWRpYVR5cGU6ZS5tZWRpYVR5cGUsc2l6ZTplLnNpemV9KSxhPWUuY3VycmVuY3l8fHIuZGF0YS5jdXJyZW5jeTtpZihjLm1hdGNoaW5nRmxvb3ImJmEhPT1yLmRhdGEuY3VycmVuY3kpdHJ5e2MubWF0Y2hpbmdGbG9vcj1PYmplY3Qobi5hKSgpLmNvbnZlcnRDdXJyZW5jeShjLm1hdGNoaW5nRmxvb3Isci5kYXRhLmN1cnJlbmN5LGEpfWNhdGNoKGUpe09iamVjdChvLmxvZ1dhcm4pKCIiLmNvbmNhdChTLCI6IFVuYWJsZSB0byBnZXQgY3VycmVuY3kgY29udmVyc2lvbiBmb3IgZ2V0Rmxvb3IgZm9yIGJpZGRlciAiKS5jb25jYXQodC5iaWRkZXIsIi4gWW91IG11c3QgaGF2ZSBjdXJyZW5jeSBtb2R1bGUgZW5hYmxlZCB3aXRoIGRlZmF1bHRSYXRlcyBpbiB5b3VyIGN1cnJlbmN5IGNvbmZpZyIpKSxhPXIuZGF0YS5jdXJyZW5jeX1pZihyLmVuZm9yY2VtZW50LmJpZEFkanVzdG1lbnQmJmMubWF0Y2hpbmdGbG9vcil7dmFyIGk9eCh0LmJpZGRlcixjLm1hdGNoaW5nRmxvb3IpO2MubWF0Y2hpbmdGbG9vcj1pP1YoYy5tYXRjaGluZ0Zsb29yLGkpOmMubWF0Y2hpbmdGbG9vcn1yZXR1cm4gYy5tYXRjaGluZ0Zsb29yP3tmbG9vcjp3KGMubWF0Y2hpbmdGbG9vciw0KSxjdXJyZW5jeTphfTp7fX1mdW5jdGlvbiBHKGUsdCl7dmFyIHI9T2JqZWN0KG8uZGVlcENsb25lKShlKTtyZXR1cm4gci5zY2hlbWEuZGVsaW1pdGVyPWUuc2NoZW1hLmRlbGltaXRlcnx8InwiLHIudmFsdWVzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5zY2hlbWEuZmllbGRzLG89ZS5zY2hlbWEuZGVsaW1pdGVyLG49dCYmLTE9PT1yLmluZGV4T2YoImFkVW5pdENvZGUiKSYmci51bnNoaWZ0KCJhZFVuaXRDb2RlIik7cmV0dXJuIE9iamVjdC5rZXlzKGUudmFsdWVzKS5yZWR1Y2UoKGZ1bmN0aW9uKHIsYyl7cmV0dXJuIHJbKG4/IiIuY29uY2F0KHQpLmNvbmNhdChvKS5jb25jYXQoYyk6YykudG9Mb3dlckNhc2UoKV09ZS52YWx1ZXNbY10scn0pLHt9KX0ocix0KSxyLmN1cnJlbmN5PXIuY3VycmVuY3l8fCJVU0QiLHJ9ZnVuY3Rpb24gTihlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7aWYoUSh0LmZsb29ycykpaWYoZS52YWx1ZXMpe3ZhciByPUcodC5mbG9vcnMsdC5jb2RlKS52YWx1ZXM7TyhlLnZhbHVlcyxyKX1lbHNlKGU9Ryh0LmZsb29ycyx0LmNvZGUpKS5sb2NhdGlvbj0iYWRVbml0IjtyZXR1cm4gZX0pLHt9KX1mdW5jdGlvbiBfKGUsdCxyKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnNraXBwZWQ/ZGVsZXRlIGUuZ2V0Rmxvb3I6ZS5nZXRGbG9vcj1XLGUuYXVjdGlvbklkPXIsZS5mbG9vckRhdGE9e3NraXBwZWQ6dC5za2lwcGVkLHNraXBSYXRlOnQuc2tpcFJhdGUsZmxvb3JNaW46dC5mbG9vck1pbixtb2RlbFZlcnNpb246T2JqZWN0KG8uZGVlcEFjY2VzcykodCwiZGF0YS5tb2RlbFZlcnNpb24iKSxtb2RlbFdlaWdodDpPYmplY3Qoby5kZWVwQWNjZXNzKSh0LCJkYXRhLm1vZGVsV2VpZ2h0IiksbW9kZWxUaW1lc3RhbXA6T2JqZWN0KG8uZGVlcEFjY2VzcykodCwiZGF0YS5tb2RlbFRpbWVzdGFtcCIpLGxvY2F0aW9uOk9iamVjdChvLmRlZXBBY2Nlc3MpKHQsImRhdGEubG9jYXRpb24iLCJub0RhdGEiKSxmbG9vclByb3ZpZGVyOnQuZmxvb3JQcm92aWRlcixmZXRjaFN0YXR1czpSLmZldGNoU3RhdHVzfX0pKX0pKX1mdW5jdGlvbiBIKGUsdCl7Zm9yKHZhciByPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0KzEpLG89MDtvPGUubGVuZ3RoO28rKylpZigoci09ZVtvXS5tb2RlbFdlaWdodCk8PTApcmV0dXJuIGVbb119ZnVuY3Rpb24gSihlLHQpe3ZhciByPU9iamVjdChvLmRlZXBDbG9uZSkoUik7aWYoMj09PU9iamVjdChvLmRlZXBBY2Nlc3MpKHIsImRhdGEuZmxvb3JzU2NoZW1hVmVyc2lvbiIpKXt2YXIgbj1yLmRhdGEsYz1uLm1vZGVsR3JvdXBzLGE9eShuLGgpO3IuZGF0YT1PKGEsSChjLGEubW9kZWxXZWlnaHRTdW0pKX12YXIgaT0wPT09T2JqZWN0LmtleXMoT2JqZWN0KG8uZGVlcEFjY2VzcykociwiZGF0YS52YWx1ZXMiKXx8e30pLmxlbmd0aDtpZihyLmRhdGE9aT9OKGUpOkcoci5kYXRhKSwwPT09T2JqZWN0LmtleXMoT2JqZWN0KG8uZGVlcEFjY2VzcykociwiZGF0YS52YWx1ZXMiKXx8e30pLmxlbmd0aClyLnNraXBwZWQ9ITA7ZWxzZXt2YXIgdT1PYmplY3Qoby5nZXRQYXJhbWV0ZXJCeU5hbWUpKCJwYmpzX3NraXBSYXRlIil8fHIuc2tpcFJhdGUscz0xMDAqTWF0aC5yYW5kb20oKTxwYXJzZUZsb2F0KHUpO3Iuc2tpcHBlZD1zfXJldHVybiByLmhhc093blByb3BlcnR5KCJmbG9vck1pbiIpJiYoci5kYXRhLmZsb29yTWluPXIuZmxvb3JNaW4pLF8oZSxyLHQpLHJ9ZnVuY3Rpb24gTChlKXtlLmhhc0V4aXRlZHx8KFU9VS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRpbWVyIT09ZS50aW1lcn0pKSxlLnJlcUJpZHNDb25maWdPYmouYXVjdGlvbklkPWUucmVxQmlkc0NvbmZpZ09iai5hdWN0aW9uSWR8fE9iamVjdChvLmdlbmVyYXRlVVVJRCkoKSxFW2UucmVxQmlkc0NvbmZpZ09iai5hdWN0aW9uSWRdPUooZS5yZXFCaWRzQ29uZmlnT2JqLmFkVW5pdHN8fE9iamVjdChuLmEpKCkuYWRVbml0cyxlLnJlcUJpZHNDb25maWdPYmouYXVjdGlvbklkKSxlLm5leHRGbi5hcHBseShlLmNvbnRleHQsW2UucmVxQmlkc0NvbmZpZ09ial0pLGUuaGFzRXhpdGVkPSEwKX1mdW5jdGlvbiBZKGUpe3JldHVybiB0PU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsInNjaGVtYS5maWVsZHMiKSwhIShBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wJiZ0LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PWsuaW5kZXhPZihlKX0pKXx8KE9iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQoUywiOiBGaWVsZHMgcmVjaWV2ZWQgZG8gbm90IG1hdGNoIGFsbG93ZWQgZmllbGRzIikpLDApKSYmKHI9ZSxuPWUuc2NoZW1hLmZpZWxkcy5sZW5ndGgsYz1lLnNjaGVtYS5kZWxpbWl0ZXJ8fCJ8Iiwib2JqZWN0Ij09PWcoci52YWx1ZXMpJiYoci52YWx1ZXM9T2JqZWN0LmtleXMoci52YWx1ZXMpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsbyl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZlLnNwbGl0KG8pLmxlbmd0aD09PXImJiJudW1iZXIiPT10eXBlb2YgdH0odCxyLnZhbHVlc1t0XSxuLGMpJiYoZVt0XT1yLnZhbHVlc1t0XSksZX0pLHt9KSxPYmplY3Qua2V5cyhyLnZhbHVlcykubGVuZ3RoPjApKTt2YXIgdCxyLG4sY312YXIgSz17MTpmdW5jdGlvbihlKXtyZXR1cm4gWShlKX0sMjpmdW5jdGlvbihlKXtyZXR1cm4hKCFBcnJheS5pc0FycmF5KGUubW9kZWxHcm91cHMpfHwwPT09ZS5tb2RlbEdyb3Vwcy5sZW5ndGgpJiYoZS5tb2RlbFdlaWdodFN1bT0wLGUubW9kZWxHcm91cHMuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiEoIm51bWJlciIhPXR5cGVvZiB0Lm1vZGVsV2VpZ2h0fHwhWSh0KSkmJihlLm1vZGVsV2VpZ2h0U3VtKz10Lm1vZGVsV2VpZ2h0LCEwKX0pKSl9fTtmdW5jdGlvbiBRKGUpe3JldHVybiJvYmplY3QiPT09ZyhlKSYmKGUuZmxvb3JzU2NoZW1hVmVyc2lvbj1lLmZsb29yc1NjaGVtYVZlcnNpb258fDEsImZ1bmN0aW9uIiE9dHlwZW9mIEtbZS5mbG9vcnNTY2hlbWFWZXJzaW9uXT8oT2JqZWN0KG8ubG9nRXJyb3IpKCIiLmNvbmNhdChTLCI6IFVua25vd24gZmxvb3JzU2NoZW1hVmVyc2lvbjogIiksZS5mbG9vcnNTY2hlbWFWZXJzaW9uKSwhMSk6S1tlLmZsb29yc1NjaGVtYVZlcnNpb25dKGUpKX1mdW5jdGlvbiBYKGUsdCl7aWYoZSYmIm9iamVjdCI9PT1nKGUpJiZRKGUpKXJldHVybiBPYmplY3Qoby5sb2dJbmZvKSgiIi5jb25jYXQoUywiOiBBICIpLmNvbmNhdCh0LCIgc2V0IHRoZSBhdWN0aW9uIGZsb29yIGRhdGEgc2V0IHRvICIpLGUpLHYodih7fSxlKSx7fSx7bG9jYXRpb246dH0pO09iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQoUywiOiBUaGUgZmxvb3JzIGRhdGEgZGlkIG5vdCBjb250YWluIGNvcnJlY3QgdmFsdWVzIiksZSl9ZnVuY3Rpb24gWihlLHQpe3ZhciByPXtyZXFCaWRzQ29uZmlnT2JqOnQsY29udGV4dDp0aGlzLG5leHRGbjplLGhhdmVFeGl0ZWQ6ITEsdGltZXI6bnVsbH07Ui5hdWN0aW9uRGVsYXk+MCYmVD8oci50aW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe09iamVjdChvLmxvZ1dhcm4pKCIiLmNvbmNhdChTLCI6IEZldGNoIGF0dGVtcHQgZGlkIG5vdCByZXR1cm4gaW4gdGltZSBmb3IgYXVjdGlvbiIpKSxSLmZldGNoU3RhdHVzPSJ0aW1lb3V0IixMKHIpfSksUi5hdWN0aW9uRGVsYXkpLFUucHVzaChyKSk6TChyKX1mdW5jdGlvbiAkKCl7VS5mb3JFYWNoKChmdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZS50aW1lciksTChlKX0pKSxVPVtdfWZ1bmN0aW9uIGVlKGUpe3ZhciB0O1Q9ITEsUi5mZXRjaFN0YXR1cz0ic3VjY2VzcyI7dHJ5e3Q9SlNPTi5wYXJzZShlKX1jYXRjaChyKXt0PWV9dmFyIHI9WCh0LCJmZXRjaCIpO3ImJihSLmRhdGE9cixSLnNraXBSYXRlPU9iamVjdChvLmlzTnVtYmVyKShyLnNraXBSYXRlKT9yLnNraXBSYXRlOlIuc2tpcFJhdGUsUi5mbG9vclByb3ZpZGVyPXIuZmxvb3JQcm92aWRlcnx8Ui5mbG9vclByb3ZpZGVyKSwkKCl9ZnVuY3Rpb24gdGUoZSl7VD0hMSxSLmZldGNoU3RhdHVzPSJlcnJvciIsT2JqZWN0KG8ubG9nRXJyb3IpKCIiLmNvbmNhdChTLCI6IEZldGNoIGVycm9yZWQgd2l0aDogIiksZSksJCgpfWZ1bmN0aW9uIHJlKGUpe2UudXJsJiYhVD8iR0VUIiE9PShlLm1ldGhvZHx8IkdFVCIpP09iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQoUywiOiAnR0VUJyBpcyB0aGUgb25seSByZXF1ZXN0IG1ldGhvZCBzdXBwb3J0ZWQgYXQgdGhpcyB0aW1lISIpKTooQyhlLnVybCx7c3VjY2VzczplZSxlcnJvcjp0ZX0sbnVsbCx7bWV0aG9kOiJHRVQifSksVD0hMCk6VCYmT2JqZWN0KG8ubG9nV2FybikoIiIuY29uY2F0KFMsIjogQSBmZXRjaCBpcyBhbHJlYWR5IG9jY3VyaW5nLiBTa2lwcGluZy4iKSl9ZnVuY3Rpb24gb2UoZSl7KFI9T2JqZWN0KG8ucGljaykoZSxbImZsb29yTWluIiwiZW5hYmxlZCIsZnVuY3Rpb24oZSl7cmV0dXJuITEhPT1lfSwiYXVjdGlvbkRlbGF5IixmdW5jdGlvbihlKXtyZXR1cm4gZXx8MH0sImZsb29yUHJvdmlkZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJkYXRhLmZsb29yUHJvdmlkZXIiLHQpfSwiZW5kcG9pbnQiLGZ1bmN0aW9uKGUpe3JldHVybiBlfHx7fX0sInNraXBSYXRlIixmdW5jdGlvbigpe3JldHVybiBpc05hTihPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJkYXRhLnNraXBSYXRlIikpP2Uuc2tpcFJhdGV8fDA6ZS5kYXRhLnNraXBSYXRlfSwiZW5mb3JjZW1lbnQiLGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoby5waWNrKShlfHx7fSxbImVuZm9yY2VKUyIsZnVuY3Rpb24oZSl7cmV0dXJuITEhPT1lfSwiZW5mb3JjZVBCUyIsZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lfSwiZmxvb3JEZWFscyIsZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lfSwiYmlkQWRqdXN0bWVudCIsZnVuY3Rpb24oZSl7cmV0dXJuITEhPT1lfV0pfSwiYWRkaXRpb25hbFNjaGVtYUZpZWxkcyIsZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PT1nKGUpJiZPYmplY3Qua2V5cyhlKS5sZW5ndGg+MD8odD1lLHZvaWQgT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7LTE9PT1rLmluZGV4T2YoZSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W2VdJiYoay5wdXNoKGUpLElbZV09dFtlXSl9KSkpOnZvaWQgMDt2YXIgdH0sImRhdGEiLGZ1bmN0aW9uKGUpe3JldHVybiBlJiZYKGUsInNldENvbmZpZyIpfHxSLmRhdGF9XSkpLmVuYWJsZWQ/KHJlKFIuZW5kcG9pbnQpLER8fCh1LmEub24oZC5hLkVWRU5UUy5BVUNUSU9OX0VORCwoZnVuY3Rpb24oZSl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gZGVsZXRlIEVbZS5hdWN0aW9uSWRdfSksM2UzKX0pKSxPYmplY3Qobi5hKSgpLnJlcXVlc3RCaWRzLmJlZm9yZShaLDUwKSxPYmplY3QobC5hKSgiYWRkQmlkUmVzcG9uc2UiKS5iZWZvcmUobmUsT2JqZWN0KG8uZGVidWdUdXJuZWRPbikoKT80OjUwKSxEPSEwKSk6KE9iamVjdChvLmxvZ0luZm8pKCIiLmNvbmNhdChTLCI6IFR1cm5pbmcgb2ZmIG1vZHVsZSIpKSxSPXt9LEU9e30sT2JqZWN0KGwuYSkoImFkZEJpZFJlc3BvbnNlIikuZ2V0SG9va3Moe2hvb2s6bmV9KS5yZW1vdmUoKSxPYmplY3Qobi5hKSgpLnJlcXVlc3RCaWRzLmdldEhvb2tzKHtob29rOlp9KS5yZW1vdmUoKSxEPSExKX1mdW5jdGlvbiBuZShlLHQscil7dmFyIGM9RVt0aGlzLmJpZGRlclJlcXVlc3QuYXVjdGlvbklkXSxhPW0oKSh0aGlzLmJpZGRlclJlcXVlc3QuYmlkcywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkSWQmJmUuYmlkSWQ9PT1yLnJlcXVlc3RJZH0pKTtpZighY3x8IXJ8fGMuc2tpcHBlZHx8IWEpcmV0dXJuIGUuY2FsbCh0aGlzLHQscik7dmFyIGksdT1NKGMuZGF0YSx2KHt9LGEpLHYodih7fSxyKSx7fSx7c2l6ZTpbci53aWR0aCxyLmhlaWdodF19KSk7aWYoIXUubWF0Y2hpbmdGbG9vcilyZXR1cm4gT2JqZWN0KG8ubG9nV2FybikoIiIuY29uY2F0KFMsIjogdW5hYmxlIHRvIGRldGVybWluZSBhIG1hdGNoaW5nIHByaWNlIGZsb29yIGZvciBiaWRSZXNwb25zZSIpLHIpLGUuY2FsbCh0aGlzLHQscik7dmFyIHM9Yy5kYXRhLmN1cnJlbmN5LnRvVXBwZXJDYXNlKCksbD1yLmN1cnJlbmN5fHwiVVNEIjtpZihzPT09bC50b1VwcGVyQ2FzZSgpKWk9ci5jcG07ZWxzZSBpZihyLm9yaWdpbmFsQ3VycmVuY3kmJnM9PT1yLm9yaWdpbmFsQ3VycmVuY3kudG9VcHBlckNhc2UoKSlpPXIub3JpZ2luYWxDcG07ZWxzZSB0cnl7aT1PYmplY3Qobi5hKSgpLmNvbnZlcnRDdXJyZW5jeShyLmNwbSxsLnRvVXBwZXJDYXNlKCkscyl9Y2F0Y2gobil7cmV0dXJuIE9iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQoUywiOiBVbmFibGUgZG8gZ2V0IGN1cnJlbmN5IGNvbnZlcnNpb24gZm9yIGJpZFJlc3BvbnNlIHRvIEZsb29yIEN1cnJlbmN5LiBEbyB5b3UgaGF2ZSBDdXJyZW5jeSBtb2R1bGUgZW5hYmxlZD8gIikuY29uY2F0KHIpKSxlLmNhbGwodGhpcyx0LHIpfWlmKGk9eChyLmJpZGRlckNvZGUsaSxyKSxmdW5jdGlvbihlLHQscixvKXtyLmZsb29yRGF0YT17Zmxvb3JWYWx1ZTp0Lm1hdGNoaW5nRmxvb3IsZmxvb3JSdWxlOnQubWF0Y2hpbmdSdWxlLGZsb29yUnVsZVZhbHVlOnQuZmxvb3JSdWxlVmFsdWUsZmxvb3JDdXJyZW5jeTplLmRhdGEuY3VycmVuY3ksY3BtQWZ0ZXJBZGp1c3RtZW50czpvLGVuZm9yY2VtZW50czp2KHt9LGUuZW5mb3JjZW1lbnQpLG1hdGNoZWRGaWVsZHM6e319LGUuZGF0YS5zY2hlbWEuZmllbGRzLmZvckVhY2goKGZ1bmN0aW9uKG8sbil7dmFyIGM9dC5tYXRjaGluZ0RhdGEuc3BsaXQoZS5kYXRhLnNjaGVtYS5kZWxpbWl0ZXIpW25dO3IuZmxvb3JEYXRhLm1hdGNoZWRGaWVsZHNbb109Y30pKX0oYyx1LHIsaSksZnVuY3Rpb24oZSx0LHIpe3ZhciBuPSExIT09T2JqZWN0KG8uZGVlcEFjY2VzcykoZSwiZW5mb3JjZW1lbnQuZW5mb3JjZUpTIiksYz0hMD09PU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsImVuZm9yY2VtZW50LmZsb29yRGVhbHMiKXx8IXIuZGVhbElkLGE9ci5mbG9vckRhdGEuY3BtQWZ0ZXJBZGp1c3RtZW50czx0Lm1hdGNoaW5nRmxvb3I7cmV0dXJuIG4mJmEmJmN9KGMsdSxyKSl7dmFyIHA9T2JqZWN0KGYuYSkoZC5hLlNUQVRVUy5OT19CSUQsYSk7cmV0dXJuIE8ocCxPYmplY3Qoby5waWNrKShyLFsiZmxvb3JEYXRhIiwid2lkdGgiLCJoZWlnaHQiLCJtZWRpYVR5cGUiLCJjdXJyZW5jeSIsIm9yaWdpbmFsQ3BtIiwib3JpZ2luYWxDdXJyZW5jeSIsImdldENwbUluTmV3Q3VycmVuY3kiXSkpLHAuc3RhdHVzPWQuYS5CSURfU1RBVFVTLkJJRF9SRUpFQ1RFRCxwLmNwbT0wLE9iamVjdChvLmxvZ1dhcm4pKCIiLmNvbmNhdChTLCI6ICIpLmNvbmNhdChwLmJpZGRlckNvZGUsIidzIEJpZCBSZXNwb25zZSBmb3IgIikuY29uY2F0KHQsIiB3YXMgcmVqZWN0ZWQgZHVlIHRvIGZsb29yIG5vdCBtZXQiKSxyKSxlLmNhbGwodGhpcyx0LHApfXJldHVybiBlLmNhbGwodGhpcyx0LHIpfWMuYi5nZXRDb25maWcoImZsb29ycyIsKGZ1bmN0aW9uKGUpe3JldHVybiBvZShlLmZsb29ycyl9KSl9fSxbNzAwXSk7CnVwYmpzQ2h1bmsoWzE2Ml0sezcwNjpmdW5jdGlvbihlLGQsbil7ZS5leHBvcnRzPW4oNzA3KX0sNzA3OmZ1bmN0aW9uKGUsZCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZChkLCJwdWJQcm92aWRlZElkU3VibW9kdWxlIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgbz1uKDkpLHQ9bigwKSx1PXtuYW1lOiJwdWJQcm92aWRlZElkIixkZWNvZGU6ZnVuY3Rpb24oZSl7dmFyIGQ9ZT97cHViUHJvdmlkZWRJZDplfTp2b2lkIDA7cmV0dXJuIE9iamVjdCh0LmxvZ0luZm8pKCJQdWJQcm92aWRlZElkOiBEZWNvZGVkIHZhbHVlICIrSlNPTi5zdHJpbmdpZnkoZCkpLGR9LGdldElkOmZ1bmN0aW9uKGUpe3ZhciBkPWUmJmUucGFyYW1zfHx7fSxuPVtdO3JldHVybiBPYmplY3QodC5pc0FycmF5KShkLmVpZHMpJiYobj1uLmNvbmNhdChkLmVpZHMpKSwiZnVuY3Rpb24iPT10eXBlb2YgZC5laWRzRnVuY3Rpb24mJihuPW4uY29uY2F0KGQuZWlkc0Z1bmN0aW9uKCkpKSx7aWQ6bn19fTtPYmplY3Qoby5lKSgidXNlcklkIix1KX19LFs3MDZdKTsKdXBianNDaHVuayhbMTU5XSx7NzE0OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg3MTUpfSw3MTU6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5jaGVja1ZpZGVvUGxhY2VtZW50PV8sdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBYfSkpO3ZhciBhPXQoMCksaT10KDEpLG49dCgyKSxzPXQoMyksbz10KDEzKTtmdW5jdGlvbiBkKCl7cmV0dXJuKGQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgYSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGEpJiYoZVthXT10W2FdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBjKGUscil7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyJiYoYT1hLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKS5lbnVtZXJhYmxlfSkpKSx0LnB1c2guYXBwbHkodCxhKX1yZXR1cm4gdH1mdW5jdGlvbiBwKGUscix0KXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPXQsZX1mdW5jdGlvbiB1KGUpe3JldHVybih1PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIGw9InB1Ym1hdGljIixtPSJQdWJNYXRpYzogIixiPSJVU0QiLGc9dm9pZCAwLGY9Imh0dHBzOi8vcHVibWF0aWMuYmJ2bXMuY29tL3IvIi5jb25jYXQoIiRSRU5ERVJFUiIsIi5qcyIpLGg9e2thZHBhZ2V1cmw6IiIsZ2VuZGVyOiIiLHlvYjoiIixsYXQ6IiIsbG9uOiIiLHdpaWQ6IiIscHJvZklkOiIiLHZlcklkOiIifSx5PSJudW1iZXIiLHY9InN0cmluZyIsTz0iYm9vbGVhbiIsRT0iYXJyYXkiLEk9e21pbWVzOkUsbWluZHVyYXRpb246eSxtYXhkdXJhdGlvbjp5LHN0YXJ0ZGVsYXk6eSxwbGF5YmFja21ldGhvZDpFLGFwaTpFLHByb3RvY29sczpFLHc6eSxoOnksYmF0dHI6RSxsaW5lYXJpdHk6eSxwbGFjZW1lbnQ6eSxtaW5iaXRyYXRlOnksbWF4Yml0cmF0ZTp5LHNraXA6eX0sdz17VElUTEU6e0lEOjEsS0VZOiJ0aXRsZSIsVFlQRTowfSxJTUFHRTp7SUQ6MixLRVk6ImltYWdlIixUWVBFOjB9LElDT046e0lEOjMsS0VZOiJpY29uIixUWVBFOjB9LFNQT05TT1JFREJZOntJRDo0LEtFWToic3BvbnNvcmVkQnkiLFRZUEU6MX0sQk9EWTp7SUQ6NSxLRVk6ImJvZHkiLFRZUEU6Mn0sQ0xJQ0tVUkw6e0lEOjYsS0VZOiJjbGlja1VybCIsVFlQRTowfSxWSURFTzp7SUQ6NyxLRVk6InZpZGVvIixUWVBFOjB9LEVYVDp7SUQ6OCxLRVk6ImV4dCIsVFlQRTowfSxEQVRBOntJRDo5LEtFWToiZGF0YSIsVFlQRTowfSxMT0dPOntJRDoxMCxLRVk6ImxvZ28iLFRZUEU6MH0sU1BPTlNPUkVEOntJRDoxMSxLRVk6InNwb25zb3JlZCIsVFlQRToxfSxERVNDOntJRDoxMixLRVk6ImRhdGEiLFRZUEU6Mn0sUkFUSU5HOntJRDoxMyxLRVk6InJhdGluZyIsVFlQRTozfSxMSUtFUzp7SUQ6MTQsS0VZOiJsaWtlcyIsVFlQRTo0fSxET1dOTE9BRFM6e0lEOjE1LEtFWToiZG93bmxvYWRzIixUWVBFOjV9LFBSSUNFOntJRDoxNixLRVk6InByaWNlIixUWVBFOjZ9LFNBTEVQUklDRTp7SUQ6MTcsS0VZOiJzYWxlcHJpY2UiLFRZUEU6N30sUEhPTkU6e0lEOjE4LEtFWToicGhvbmUiLFRZUEU6OH0sQUREUkVTUzp7SUQ6MTksS0VZOiJhZGRyZXNzIixUWVBFOjl9LERFU0MyOntJRDoyMCxLRVk6ImRlc2MyIixUWVBFOjEwfSxESVNQTEFZVVJMOntJRDoyMSxLRVk6ImRpc3BsYXl1cmwiLFRZUEU6MTF9LENUQTp7SUQ6MjIsS0VZOiJjdGEiLFRZUEU6MTJ9fSxqPTEsUD0yLFQ9MyxTPVt7aWQ6dy5TUE9OU09SRURCWS5JRCxyZXF1aXJlZDohMCxkYXRhOnt0eXBlOjF9fSx7aWQ6dy5USVRMRS5JRCxyZXF1aXJlZDohMH0se2lkOncuSU1BR0UuSUQscmVxdWlyZWQ6ITB9XSxEPXsxOiJQTVAiLDU6IlBSRUYiLDY6IlBNUEcifSx4PTEsWT0yLGs9e2Jvb3RzdHJhcFBsYXllcjpmdW5jdGlvbihlKXt2YXIgcj17Y29kZTplLmFkVW5pdENvZGV9O2lmKGUudmFzdFhtbD9yLnZhc3RYbWw9ZS52YXN0WG1sOmUudmFzdFVybCYmKHIudmFzdFVybD1lLnZhc3RVcmwpLGUudmFzdFhtbHx8ZS52YXN0VXJsKXtmb3IodmFyIHQsaT1rLmdldFJlbmRlcmVySWQoInB1Ym1hdGljIixlLnJlbmRlcmVyQ29kZSksbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmFkVW5pdENvZGUpLHM9MDtzPHdpbmRvdy5ibHVlYmlsbHl3aWcucmVuZGVyZXJzLmxlbmd0aDtzKyspaWYod2luZG93LmJsdWViaWxseXdpZy5yZW5kZXJlcnNbc10uX2lkPT09aSl7dD13aW5kb3cuYmx1ZWJpbGx5d2lnLnJlbmRlcmVyc1tzXTticmVha310P3QuYm9vdHN0cmFwKHIsbik6T2JqZWN0KGEubG9nV2FybikoIiIuY29uY2F0KG0sIjogQ291bGRuJ3QgZmluZCBhIHJlbmRlcmVyIHdpdGggIikuY29uY2F0KGkpKX1lbHNlIE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChtLCI6IE5vIHZhc3RYbWwgb3IgdmFzdFVybCBvbiBiaWQsIGJhaWxpbmcuLi4iKSl9LG5ld1JlbmRlcmVyOmZ1bmN0aW9uKGUscil7dmFyIHQ9Zi5yZXBsYWNlKCIkUkVOREVSRVIiLGUpLGk9by5hLmluc3RhbGwoe3VybDp0LGxvYWRlZDohMSxhZFVuaXRDb2RlOnJ9KTt0cnl7aS5zZXRSZW5kZXIoay5vdXRzdHJlYW1SZW5kZXIpfWNhdGNoKGUpe09iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChtLCI6IEVycm9yIHR5aW5nIHRvIHNldFJlbmRlciBvbiByZW5kZXJlciIpLGUpfXJldHVybiBpfSxvdXRzdHJlYW1SZW5kZXI6ZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe2suYm9vdHN0cmFwUGxheWVyKGUpfSkpfSxnZXRSZW5kZXJlcklkOmZ1bmN0aW9uKGUscil7cmV0dXJuIiIuY29uY2F0KGUsIi0iKS5jb25jYXQocil9fSxSPVtuLmIsbi5kLG4uY10sQT0wLEM9ITEsej17fSxLPXt9O2Z1bmN0aW9uIE4oZSxyKXtpZighT2JqZWN0KGEuaXNTdHIpKHIpKXJldHVybiByJiZPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IElnbm9yaW5nIHBhcmFtIGtleTogIitlKyIsIGV4cGVjdHMgc3RyaW5nLXZhbHVlLCBmb3VuZCAiK3UocikpLGc7c3dpdGNoKGUpe2Nhc2UicG16b25laWQiOnJldHVybiByLnNwbGl0KCIsIikuc2xpY2UoMCw1MCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KSkuam9pbigpO2Nhc2Uia2FkZmxvb3IiOmNhc2UibGF0IjpjYXNlImxvbiI6cmV0dXJuIHBhcnNlRmxvYXQocil8fGc7Y2FzZSJ5b2IiOnJldHVybiBwYXJzZUludChyKXx8ZztkZWZhdWx0OnJldHVybiByfX1mdW5jdGlvbiBVKGUpe3ZhciByO2UucGFyYW1zLmFkVW5pdD0iIixlLnBhcmFtcy5hZFVuaXRJbmRleD0iMCIsZS5wYXJhbXMud2lkdGg9MCxlLnBhcmFtcy5oZWlnaHQ9MCxlLnBhcmFtcy5hZFNsb3Q9KHI9ZS5wYXJhbXMuYWRTbG90LE9iamVjdChhLmlzU3RyKShyKT9yLnJlcGxhY2UoL15ccysvZywiIikucmVwbGFjZSgvXHMrJC9nLCIiKToociYmT2JqZWN0KGEubG9nV2FybikoInB1Ym1hdGljOiBhZFNsb3QgbXVzdCBiZSBhIHN0cmluZy4gSWdub3JpbmcgYWRTbG90IiksIiIpKTt2YXIgdD1lLnBhcmFtcy5hZFNsb3QsaT10LnNwbGl0KCI6Iik7aWYodD1pWzBdLDI9PWkubGVuZ3RoJiYoZS5wYXJhbXMuYWRVbml0SW5kZXg9aVsxXSksaT10LnNwbGl0KCJAIiksZS5wYXJhbXMuYWRVbml0PWlbMF0saS5sZW5ndGg+MSl7aWYoMiE9KGk9aVsxXS5zcGxpdCgieCIpKS5sZW5ndGgpcmV0dXJuIHZvaWQgT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBBZFNsb3QgRXJyb3I6IGFkU2xvdCBub3QgaW4gcmVxdWlyZWQgZm9ybWF0Iik7ZS5wYXJhbXMud2lkdGg9cGFyc2VJbnQoaVswXSwxMCksZS5wYXJhbXMuaGVpZ2h0PXBhcnNlSW50KGlbMV0sMTApfWVsc2UgaWYoZS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpJiZlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobi5iKSYmZS5tZWRpYVR5cGVzLmJhbm5lci5oYXNPd25Qcm9wZXJ0eSgic2l6ZXMiKSl7Zm9yKHZhciBzPTAsbz1bXTtzPGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoO3MrKykyPT09ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1tzXS5sZW5ndGgmJm8ucHVzaChlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzW3NdKTtlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzPW8sZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGg+PTEmJihlLnBhcmFtcy53aWR0aD1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzWzBdWzBdLGUucGFyYW1zLmhlaWdodD1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzWzBdWzFdLGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5zcGxpY2UoMSxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aC0xKSl9fWZ1bmN0aW9uIE0oZSxyLHQpe3ZhciBpLG49Iklnbm9yaW5nIHBhcmFtIGtleTogIitlKyIsIGV4cGVjdHMgIit0KyIsIGZvdW5kICIrdShyKTtzd2l0Y2godCl7Y2FzZSBPOmk9YS5pc0Jvb2xlYW47YnJlYWs7Y2FzZSB5Omk9YS5pc051bWJlcjticmVhaztjYXNlIHY6aT1hLmlzU3RyO2JyZWFrO2Nhc2UgRTppPWEuaXNBcnJheX1yZXR1cm4gaShyKT9yOihPYmplY3QoYS5sb2dXYXJuKShtK24pLGcpfWZ1bmN0aW9uIHEoZSxyKXt2YXIgdD1lLktFWTtyZXR1cm57aWQ6ZS5JRCxyZXF1aXJlZDpyW3RdLnJlcXVpcmVkPzE6MCxkYXRhOnt0eXBlOmUuVFlQRSxsZW46clt0XS5sZW4sZXh0OnJbdF0uZXh0fX19ZnVuY3Rpb24gTChlKXt2YXIgcj17YXNzZXRzOltdfTtmb3IodmFyIHQgaW4gZSl7aWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIGk9e307aWYoIShyLmFzc2V0cyYmci5hc3NldHMubGVuZ3RoPjAmJnIuYXNzZXRzLmhhc093blByb3BlcnR5KHQpKSlzd2l0Y2godCl7Y2FzZSB3LlRJVExFLktFWTplW3RdLmxlbnx8ZVt0XS5sZW5ndGg/aT17aWQ6dy5USVRMRS5JRCxyZXF1aXJlZDplW3RdLnJlcXVpcmVkPzE6MCx0aXRsZTp7bGVuOmVbdF0ubGVufHxlW3RdLmxlbmd0aCxleHQ6ZVt0XS5leHR9fTpPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBUaXRsZSBMZW5ndGggaXMgcmVxdWlyZWQgZm9yIG5hdGl2ZSBhZDogIitKU09OLnN0cmluZ2lmeShlKSk7YnJlYWs7Y2FzZSB3LklNQUdFLktFWTplW3RdLnNpemVzJiZlW3RdLnNpemVzLmxlbmd0aD4wP2k9e2lkOncuSU1BR0UuSUQscmVxdWlyZWQ6ZVt0XS5yZXF1aXJlZD8xOjAsaW1nOnt0eXBlOlQsdzplW3RdLnd8fGVbdF0ud2lkdGh8fChlW3RdLnNpemVzP2VbdF0uc2l6ZXNbMF06ZyksaDplW3RdLmh8fGVbdF0uaGVpZ2h0fHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzFdOmcpLHdtaW46ZVt0XS53bWlufHxlW3RdLm1pbmltdW1XaWR0aHx8KGVbdF0ubWluc2l6ZXM/ZVt0XS5taW5zaXplc1swXTpnKSxobWluOmVbdF0uaG1pbnx8ZVt0XS5taW5pbXVtSGVpZ2h0fHwoZVt0XS5taW5zaXplcz9lW3RdLm1pbnNpemVzWzFdOmcpLG1pbWVzOmVbdF0ubWltZXMsZXh0OmVbdF0uZXh0fX06T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogSW1hZ2Ugc2l6ZXMgaXMgcmVxdWlyZWQgZm9yIG5hdGl2ZSBhZDogIitKU09OLnN0cmluZ2lmeShlKSk7YnJlYWs7Y2FzZSB3LklDT04uS0VZOmVbdF0uc2l6ZXMmJmVbdF0uc2l6ZXMubGVuZ3RoPjA/aT17aWQ6dy5JQ09OLklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpqLHc6ZVt0XS53fHxlW3RdLndpZHRofHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzBdOmcpLGg6ZVt0XS5ofHxlW3RdLmhlaWdodHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1sxXTpnKX19Ok9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IEljb24gc2l6ZXMgaXMgcmVxdWlyZWQgZm9yIG5hdGl2ZSBhZDogIitKU09OLnN0cmluZ2lmeShlKSk7YnJlYWs7Y2FzZSB3LlZJREVPLktFWTppPXtpZDp3LlZJREVPLklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowLHZpZGVvOnttaW5kdXJhdGlvbjplW3RdLm1pbmR1cmF0aW9uLG1heGR1cmF0aW9uOmVbdF0ubWF4ZHVyYXRpb24scHJvdG9jb2xzOmVbdF0ucHJvdG9jb2xzLG1pbWVzOmVbdF0ubWltZXMsZXh0OmVbdF0uZXh0fX07YnJlYWs7Y2FzZSB3LkVYVC5LRVk6aT17aWQ6dy5FWFQuSUQscmVxdWlyZWQ6ZVt0XS5yZXF1aXJlZD8xOjB9O2JyZWFrO2Nhc2Ugdy5MT0dPLktFWTppPXtpZDp3LkxPR08uSUQscmVxdWlyZWQ6ZVt0XS5yZXF1aXJlZD8xOjAsaW1nOnt0eXBlOlAsdzplW3RdLnd8fGVbdF0ud2lkdGh8fChlW3RdLnNpemVzP2VbdF0uc2l6ZXNbMF06ZyksaDplW3RdLmh8fGVbdF0uaGVpZ2h0fHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzFdOmcpfX07YnJlYWs7Y2FzZSB3LlNQT05TT1JFREJZLktFWTpjYXNlIHcuQk9EWS5LRVk6Y2FzZSB3LlJBVElORy5LRVk6Y2FzZSB3LkxJS0VTLktFWTpjYXNlIHcuRE9XTkxPQURTLktFWTpjYXNlIHcuUFJJQ0UuS0VZOmNhc2Ugdy5TQUxFUFJJQ0UuS0VZOmNhc2Ugdy5QSE9ORS5LRVk6Y2FzZSB3LkFERFJFU1MuS0VZOmNhc2Ugdy5ERVNDMi5LRVk6Y2FzZSB3LkRJU1BMQVlVUkwuS0VZOmNhc2Ugdy5DVEEuS0VZOmk9cShLW3RdLGUpfX1pJiZpLmlkJiYoci5hc3NldHNbci5hc3NldHMubGVuZ3RoXT1pKX12YXIgbj1TLmxlbmd0aCxzPTA7cmV0dXJuIFMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXIuYXNzZXRzLmxlbmd0aCxhPTA7YTx0O2ErKylpZihlLmlkPT1yLmFzc2V0c1thXS5pZCl7cysrO2JyZWFrfX0pKSxDPW4hPXMscn1mdW5jdGlvbiBXKGUpe3ZhciByLHQ9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyxpPVtdO2lmKHQhPT1nJiZPYmplY3QoYS5pc0FycmF5KSh0KSl7aWYocj17fSxlLnBhcmFtcy53aWR0aHx8ZS5wYXJhbXMuaGVpZ2h0KXIudz1lLnBhcmFtcy53aWR0aCxyLmg9ZS5wYXJhbXMuaGVpZ2h0O2Vsc2V7aWYoMD09PXQubGVuZ3RoKXJldHVybiByPWcsT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogbWVkaWFUeXBlcy5iYW5uZXIuc2l6ZSBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBiYW5uZXIgaW1wcmVzc2lvbiBpbiB0aGUgYWR1bml0LiIpLHI7ci53PXBhcnNlSW50KHRbMF1bMF0sMTApLHIuaD1wYXJzZUludCh0WzBdWzFdLDEwKSx0PXQuc3BsaWNlKDEsdC5sZW5ndGgtMSl9dC5sZW5ndGg+MCYmKGk9W10sdC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmxlbmd0aD4xJiZpLnB1c2goe3c6ZVswXSxoOmVbMV19KX0pKSxpLmxlbmd0aD4wJiYoci5mb3JtYXQ9aSkpLHIucG9zPTAsci50b3BmcmFtZT1PYmplY3QoYS5pbklmcmFtZSkoKT8wOjF9ZWxzZSBPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBtZWRpYVR5cGVzLmJhbm5lci5zaXplIG1pc3NpbmcgZm9yIGFkdW5pdDogIitlLnBhcmFtcy5hZFVuaXQrIi4gSWdub3JpbmcgdGhlIGJhbm5lciBpbXByZXNzaW9uIGluIHRoZSBhZHVuaXQuIikscj1nO3JldHVybiByfWZ1bmN0aW9uIF8oZSxyKXtPYmplY3QoYS5kZWVwQWNjZXNzKShlLCJwbGFjZW1lbnQiKXx8T2JqZWN0KGEubG9nV2FybikoIlZpZGVvLlBsYWNlbWVudCBwYXJhbSBtaXNzaW5nIGZvciAiK3IpfWZ1bmN0aW9uIFYoZSl7dmFyIHIsdD1PYmplY3QoYS5tZXJnZURlZXApKE9iamVjdChhLmRlZXBBY2Nlc3MpKGUubWVkaWFUeXBlcywidmlkZW8iKSxlLnBhcmFtcy52aWRlbyk7aWYodCE9PWcpe2Zvcih2YXIgaSBpbiByPXt9LF8odCxlLmFkVW5pdENvZGUpLEkpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKHJbaV09TShpLHRbaV0sSVtpXSkpO09iamVjdChhLmlzQXJyYXkpKGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKT8oci53PXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzBdLDEwKSxyLmg9cGFyc2VJbnQoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMV0sMTApKTpPYmplY3QoYS5pc051bWJlcikoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pJiYoci53PXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdLDEwKSxyLmg9cGFyc2VJbnQoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMV0sMTApKX1lbHNlIHI9ZyxPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBWaWRlbyBjb25maWcgcGFyYW1zIG1pc3NpbmcgZm9yIGFkdW5pdDogIitlLnBhcmFtcy5hZFVuaXQrIiB3aXRoIG1lZGlhVHlwZSBzZXQgYXMgdmlkZW8uIElnbm9yaW5nIHZpZGVvIGltcHJlc3Npb24gaW4gdGhlIGFkdW5pdC4iKTtyZXR1cm4gcn1mdW5jdGlvbiBCKGUscix0KXt2YXIgYT1yLnJ0ZCYmci5ydGQuandwbGF5ZXImJnIucnRkLmp3cGxheWVyLnRhcmdldGluZ3x8dm9pZCAwLGk9IiI7aWYodm9pZCAwIT09YSYmIiIhPT1hJiZhLmhhc093blByb3BlcnR5KCJzZWdtZW50cyIpKXt2YXIgbixzPWEuc2VnbWVudHMubGVuZ3RoO2krPSJqdy1pZD0iK2EuY29udGVudC5pZDtmb3IodmFyIG89MDtvPHM7bysrKWkrPSJ8anctIithLnNlZ21lbnRzW29dKyI9MSI7dD92b2lkIDA9PT1lLmRjdHJ8fDA9PWUuZGN0ci5sZW5ndGg/ZS5kY3RyPWk6ZS5kY3RyKz0ifCIraToobj1lLmV4dCkmJnZvaWQgMD09PW4ua2V5X3ZhbD9uLmtleV92YWw9aTpuLmtleV92YWwrPSJ8IitpfX1mdW5jdGlvbiBHKGUscil7dmFyIHQsaSxvPXt9LGQ9e30sbD1lLmhhc093blByb3BlcnR5KCJzaXplcyIpP2Uuc2l6ZXM6W10sZj0iIixoPVtdO2lmKGZ1bmN0aW9uKGUscil7ci5wYXJhbXMuZGVhbHMmJihPYmplY3QoYS5pc0FycmF5KShyLnBhcmFtcy5kZWFscyk/ci5wYXJhbXMuZGVhbHMuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0KGEuaXNTdHIpKHIpJiZyLmxlbmd0aD4zPyhlLnBtcHx8KGUucG1wPXtwcml2YXRlX2F1Y3Rpb246MCxkZWFsczpbXX0pLGUucG1wLmRlYWxzLnB1c2goe2lkOnJ9KSk6T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogZGVhbC1pZCBwcmVzZW50IGluIGFycmF5IGJpZC5wYXJhbXMuZGVhbHMgc2hvdWxkIGJlIGEgc3RyaW5ncyB3aXRoIG1vcmUgdGhhbiAzIGNoYXJhdGVycyBsZW5ndGgsIGRlYWwtaWQgaWdub3JlZDogIityKX0pKTpPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBiaWQucGFyYW1zLmRlYWxzIHNob3VsZCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLiIpKX0obz17aWQ6ZS5iaWRJZCx0YWdpZDplLnBhcmFtcy5hZFVuaXR8fHZvaWQgMCxiaWRmbG9vcjpOKCJrYWRmbG9vciIsZS5wYXJhbXMua2FkZmxvb3IpLHNlY3VyZToxLGV4dDp7cG1ab25lSWQ6TigicG16b25laWQiLGUucGFyYW1zLnBtem9uZWlkKX0sYmlkZmxvb3JjdXI6ZS5wYXJhbXMuY3VycmVuY3k/TigiY3VycmVuY3kiLGUucGFyYW1zLmN1cnJlbmN5KTpifSxlKSxmdW5jdGlvbihlLHIpe3ZhciB0LGk9IiI7aWYoci5wYXJhbXMuZGN0cilpZihpPXIucGFyYW1zLmRjdHIsT2JqZWN0KGEuaXNTdHIpKGkpJiZpLmxlbmd0aD4wKXt2YXIgbj1pLnNwbGl0KCJ8Iik7aT0iIixuLmZvckVhY2goKGZ1bmN0aW9uKGUpe2krPWUubGVuZ3RoPjA/ZS50cmltKCkrInwiOiIifSkpLHQ9aS5sZW5ndGgsInwiPT09aS5zdWJzdHJpbmcodCx0LTEpJiYoaT1pLnN1YnN0cmluZygwLHQtMSkpLGUuZXh0LmtleV92YWw9aS50cmltKCl9ZWxzZSBPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IElnbm9yaW5nIHBhcmFtIDogZGN0ciB3aXRoIHZhbHVlIDogIitpKyIsIGV4cGVjdHMgc3RyaW5nLXZhbHVlLCBmb3VuZCBlbXB0eSBvciBub24tc3RyaW5nIHZhbHVlIil9KG8sZSksQihvLGUpLGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSlmb3IoZiBpbiBlLm1lZGlhVHlwZXMpc3dpdGNoKGYpe2Nhc2Ugbi5iOih0PVcoZSkpIT09ZyYmKG8uYmFubmVyPXQpO2JyZWFrO2Nhc2Ugbi5jOmQucmVxdWVzdD1KU09OLnN0cmluZ2lmeShMKGUubmF0aXZlUGFyYW1zKSksQz9PYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBFcnJvciBpbiBOYXRpdmUgYWR1bml0ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBhZHVuaXQuIFJlZmVyIHRvIGh0dHA6Ly9wcmViaWQub3JnL2Rldi1kb2NzL3Nob3ctbmF0aXZlLWFkcy5odG1sIGZvciBtb3JlIGRldGFpbHMuIik6by5uYXRpdmU9ZDticmVhaztjYXNlIG4uZDooaT1WKGUpKSE9PWcmJihvLnZpZGVvPWkpfWVsc2UgdD17cG9zOjAsdzplLnBhcmFtcy53aWR0aCxoOmUucGFyYW1zLmhlaWdodCx0b3BmcmFtZTpPYmplY3QoYS5pbklmcmFtZSkoKT8wOjF9LE9iamVjdChhLmlzQXJyYXkpKGwpJiZsLmxlbmd0aD4xJiYoKGw9bC5zcGxpY2UoMSxsLmxlbmd0aC0xKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aC5wdXNoKHt3OmVbMF0saDplWzFdfSl9KSksdC5mb3JtYXQ9aCksby5iYW5uZXI9dDtyZXR1cm4gZnVuY3Rpb24oZSxyKXt2YXIgdD1mdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9jKE9iamVjdCh0KSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7cChlLHIsdFtyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSk6YyhPYmplY3QodCkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpKX0pKX1yZXR1cm4gZX0oe30sT2JqZWN0KGEuZGVlcEFjY2Vzcykociwib3J0YjJJbXAuZXh0LmRhdGEiKSk7T2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7InBiYWRzbG90Ij09PXI/InN0cmluZyI9PXR5cGVvZiB0W3JdJiZ0W3JdJiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGUsImV4dC5kYXRhLnBiYWRzbG90Iix0W3JdKToiYWRzZXJ2ZXIiPT09cj9bIm5hbWUiLCJhZHNsb3QiXS5mb3JFYWNoKChmdW5jdGlvbihyKXt2YXIgaT1PYmplY3QoYS5kZWVwQWNjZXNzKSh0LCJhZHNlcnZlci4iLmNvbmNhdChyKSk7InN0cmluZyI9PXR5cGVvZiBpJiZpJiYoT2JqZWN0KGEuZGVlcFNldFZhbHVlKShlLCJleHQuZGF0YS5hZHNlcnZlci4iLmNvbmNhdChyLnRvTG93ZXJDYXNlKCkpLGkpLCJhZHNsb3QiPT09ciYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShlLCJleHQuZGZwX2FkX3VuaXRfY29kZSIsaSkpfSkpOk9iamVjdChhLmRlZXBTZXRWYWx1ZSkoZSwiZXh0LmRhdGEuIi5jb25jYXQociksdFtyXSl9KSl9KG8sZSksZnVuY3Rpb24oZSxyKXt2YXIgdD0tMTsiZnVuY3Rpb24iIT10eXBlb2Ygci5nZXRGbG9vcnx8cy5iLmdldENvbmZpZygicHVibWF0aWMuZGlzYWJsZUZsb29ycyIpfHxbbi5iLG4uZCxuLmNdLmZvckVhY2goKGZ1bmN0aW9uKGkpe2lmKGUuaGFzT3duUHJvcGVydHkoaSkpe3ZhciBuPVtdOyJiYW5uZXIiPT09aSYmKGVbaV0udyYmZVtpXS5oJiZuLnB1c2goW2VbaV0udyxlW2ldLmhdKSxPYmplY3QoYS5pc0FycmF5KShlW2ldLmZvcm1hdCkmJmVbaV0uZm9ybWF0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBuLnB1c2goW2UudyxlLmhdKX0pKSksMD09PW4ubGVuZ3RoJiZuLnB1c2goIioiKSxuLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBzPXIuZ2V0Rmxvb3Ioe2N1cnJlbmN5OmUuYmlkZmxvb3JjdXIsbWVkaWFUeXBlOmksc2l6ZTpufSk7aWYoT2JqZWN0KGEubG9nSW5mbykobSwiZmxvb3IgZnJvbSBmbG9vciBtb2R1bGUgcmV0dXJuZWQgZm9yIG1lZGlhdHlwZToiLGksIiBhbmQgc2l6ZToiLG4sIiBpczogY3VycmVuY3kiLHMuY3VycmVuY3ksImZsb29yIixzLmZsb29yKSwib2JqZWN0Ij09PXUocykmJnMuY3VycmVuY3k9PT1lLmJpZGZsb29yY3VyJiYhaXNOYU4ocGFyc2VJbnQocy5mbG9vcikpKXt2YXIgbz1wYXJzZUZsb2F0KHMuZmxvb3IpO09iamVjdChhLmxvZ0luZm8pKG0sImZsb29yIGZyb20gZmxvb3IgbW9kdWxlOiIsbywicHJldmlvdXMgZmxvb3IgdmFsdWUiLHQsIk1pbjoiLE1hdGgubWluKG8sdCkpLHQ9LTE9PT10P286TWF0aC5taW4obyx0KSxPYmplY3QoYS5sb2dJbmZvKShtLCJuZXcgZmxvb3IgdmFsdWU6Iix0KX19KSl9fSkpO2UuYmlkZmxvb3ImJihPYmplY3QoYS5sb2dJbmZvKShtLCJmbG9vciBmcm9tIGZsb29yIG1vZHVsZToiLHQsImltcE9iai5iaWRmbG9vciIsZS5iaWRmbG9vciwiTWF4OiIsTWF0aC5tYXgodCxlLmJpZGZsb29yKSksdD1NYXRoLm1heCh0LGUuYmlkZmxvb3IpKTtlLmJpZGZsb29yPSFpc05hTih0KSYmdD4wP3Q6ZyxPYmplY3QoYS5sb2dJbmZvKShtLCJuZXcgaW1wT2JqLmJpZGZsb29yIHZhbHVlOiIsZS5iaWRmbG9vcil9KG8sZSksby5oYXNPd25Qcm9wZXJ0eShuLmIpfHxvLmhhc093blByb3BlcnR5KG4uYyl8fG8uaGFzT3duUHJvcGVydHkobi5kKT9vOmd9ZnVuY3Rpb24gRihlLHIpe3ZhciB0PW51bGwsaT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCIwLnVzZXJJZC5mbG9jSWQiKTtpZihpJiZpLmlkKXN3aXRjaChyKXtjYXNlIFk6dD17aWQ6IkZMT0MiLG5hbWU6IkZMT0MiLGV4dDp7dmVyOmkudmVyc2lvbn0sc2VnbWVudDpbe2lkOmkuaWQsbmFtZToiY2hyb21lLmNvbSIsdmFsdWU6aS5pZC50b1N0cmluZygpfV19O2JyZWFrO2Nhc2UgeDpkZWZhdWx0OnQ9e3NvdXJjZToiY2hyb21lLmNvbSIsdWlkczpbe2F0eXBlOjEsaWQ6aS5pZCxleHQ6e3ZlcjppLnZlcnNpb259fV19fXJldHVybiB0fWZ1bmN0aW9uIEooZSl7cmV0dXJuITA9PT1PYmplY3QoYS5pc0FycmF5KShlKSYmZS5sZW5ndGg+MH1PYmplY3QoYS5fZWFjaCkodywoZnVuY3Rpb24oZSl7eltlLklEXT1lLktFWX0pKSxPYmplY3QoYS5fZWFjaCkodywoZnVuY3Rpb24oZSl7S1tlLktFWV09ZX0pKTt2YXIgWD17Y29kZTpsLGd2bGlkOjc2LHN1cHBvcnRlZE1lZGlhVHlwZXM6W24uYixuLmQsbi5jXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZihlJiZlLnBhcmFtcyl7aWYoIU9iamVjdChhLmlzU3RyKShlLnBhcmFtcy5wdWJsaXNoZXJJZCkpcmV0dXJuIE9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IHB1Ymxpc2hlcklkIGlzIG1hbmRhdG9yeSBhbmQgY2Fubm90IGJlIG51bWVyaWMgKHdyYXAgaXQgaW4gcXVvdGVzIGluIHlvdXIgY29uZmlnKS4gQ2FsbCB0byBPcGVuQmlkIHdpbGwgbm90IGJlIHNlbnQgZm9yIGFkIHVuaXQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpLCExO2lmKGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSYmZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uZCkpe3ZhciByPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUubWVkaWFUeXBlcywidmlkZW8ubWltZXMiKSx0PU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlby5taW1lcyIpO2lmKCExPT09SihyKSYmITE9PT1KKHQpKXJldHVybiBPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBGb3IgdmlkZW8gYWRzLCBiaWQubWVkaWFUeXBlcy52aWRlby5taW1lcyBPUiBiaWQucGFyYW1zLnZpZGVvLm1pbWVzIHNob3VsZCBiZSBwcmVzZW50IGFuZCBtdXN0IGJlIGEgbm9uLWVtcHR5IGFycmF5LiBDYWxsIHRvIE9wZW5CaWQgd2lsbCBub3QgYmUgc2VudCBmb3IgYWQgdW5pdDoiK0pTT04uc3RyaW5naWZ5KGUpKSwhMTtpZighZS5tZWRpYVR5cGVzW24uZF0uaGFzT3duUHJvcGVydHkoImNvbnRleHQiKSlyZXR1cm4gT2JqZWN0KGEubG9nRXJyb3IpKCIiLmNvbmNhdChtLCI6IG5vIGNvbnRleHQgc3BlY2lmaWVkIGluIGJpZC4gUmVqZWN0aW5nIGJpZDogIiksZSksITE7aWYoIm91dHN0cmVhbSI9PT1lLm1lZGlhVHlwZXNbbi5kXS5jb250ZXh0JiYhT2JqZWN0KGEuaXNTdHIpKGUucGFyYW1zLm91dHN0cmVhbUFVKSYmIWUuaGFzT3duUHJvcGVydHkoInJlbmRlcmVyIikmJiFlLm1lZGlhVHlwZXNbbi5kXS5oYXNPd25Qcm9wZXJ0eSgicmVuZGVyZXIiKSlyZXR1cm4gZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uYil8fGUubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuLmMpPyhkZWxldGUgZS5tZWRpYVR5cGVzW24uZF0sT2JqZWN0KGEubG9nV2FybikoIiIuY29uY2F0KG0sJzogZm9yICJvdXRzdHJlYW0iIGJpZHMgZWl0aGVyIG91dHN0cmVhbUFVIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIG9yIGFkIHVuaXQgc3VwcGxpZWQgcmVuZGVyZXIgaXMgcmVxdWlyZWQuIFJlamVjdGluZyBtZWRpYXR5cGUgVmlkZW8gb2YgYmlkOiAnKSxlKSwhMCk6KE9iamVjdChhLmxvZ0Vycm9yKSgiIi5jb25jYXQobSwnOiBmb3IgIm91dHN0cmVhbSIgYmlkcyBlaXRoZXIgb3V0c3RyZWFtQVUgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgb3IgYWQgdW5pdCBzdXBwbGllZCByZW5kZXJlciBpcyByZXF1aXJlZC4gUmVqZWN0aW5nIGJpZDogJyksZSksITEpfXJldHVybiEwfXJldHVybiExfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ7ciYmci5yZWZlcmVySW5mbyYmKHQ9ci5yZWZlcmVySW5mbyk7dmFyIGksbz1mdW5jdGlvbihlKXtyZXR1cm57cGFnZVVSTDplJiZlLnJlZmVyZXI/ZS5yZWZlcmVyOndpbmRvdy5sb2NhdGlvbi5ocmVmLHJlZlVSTDp3aW5kb3cuZG9jdW1lbnQucmVmZXJyZXJ9fSh0KSxjPWZ1bmN0aW9uKGUpe3JldHVybntpZDoiIisobmV3IERhdGUpLmdldFRpbWUoKSxhdDoxLGN1cjpbYl0saW1wOltdLHNpdGU6e3BhZ2U6ZS5wYWdlVVJMLHJlZjplLnJlZlVSTCxwdWJsaXNoZXI6e319LGRldmljZTp7dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxqczoxLGRudDoieWVzIj09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09bmF2aWdhdG9yLm1zRG9Ob3RUcmFjaz8xOjAsaDpzY3JlZW4uaGVpZ2h0LHc6c2NyZWVuLndpZHRoLGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZX0sdXNlcjp7fSxleHQ6e319fShvKSxwPSIiLGw9W10sbT1bXTtpZihlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKChpPU9iamVjdChhLmRlZXBDbG9uZSkoZSkpLnBhcmFtcy5hZFNsb3Q9aS5wYXJhbXMuYWRTbG90fHwiIixVKGkpLGkucGFyYW1zLmhhc093blByb3BlcnR5KCJ2aWRlbyIpKTtlbHNlIGlmKCEoaS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpJiZpLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobi5jKXx8MCE9PWkucGFyYW1zLndpZHRofHwwIT09aS5wYXJhbXMuaGVpZ2h0KSlyZXR1cm4gdm9pZCBPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IFNraXBwaW5nIHRoZSBub24tc3RhbmRhcmQgYWRzbG90OiAiLGkucGFyYW1zLmFkU2xvdCxKU09OLnN0cmluZ2lmeShpKSk7by5wdWJJZD1vLnB1YklkfHxpLnBhcmFtcy5wdWJsaXNoZXJJZCwobz1mdW5jdGlvbihlLHIpe3ZhciB0LGksbjtmb3IodCBpbiByLmthZHBhZ2V1cmx8fChyLmthZHBhZ2V1cmw9ci5wYWdlVVJMKSxoKWguaGFzT3duUHJvcGVydHkodCkmJihpPWVbdF0pJiYoIm9iamVjdCI9PT11KG49aFt0XSkmJihpPW4uZihpLHIpKSxPYmplY3QoYS5pc1N0cikoaSk/clt0XT1pOk9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogSWdub3JpbmcgcGFyYW0gOiAiK3QrIiB3aXRoIHZhbHVlIDogIitoW3RdKyIsIGV4cGVjdHMgc3RyaW5nLXZhbHVlLCBmb3VuZCAiK3UoaSkpKTtyZXR1cm4gcn0oaS5wYXJhbXMsbykpLnRyYW5zYWN0aW9uSWQ9aS50cmFuc2FjdGlvbklkLCIiPT09cD9wPWkucGFyYW1zLmN1cnJlbmN5fHxnOmkucGFyYW1zLmhhc093blByb3BlcnR5KCJjdXJyZW5jeSIpJiZwIT09aS5wYXJhbXMuY3VycmVuY3kmJk9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogQ3VycmVuY3kgc3BlY2lmaWVyIGlnbm9yZWQuIE9ubHkgb25lIGN1cnJlbmN5IHBlcm1pdHRlZC4iKSxpLnBhcmFtcy5jdXJyZW5jeT1wLGkucGFyYW1zLmhhc093blByb3BlcnR5KCJkY3RyIikmJk9iamVjdChhLmlzU3RyKShpLnBhcmFtcy5kY3RyKSYmbC5wdXNoKGkucGFyYW1zLmRjdHIpLGkucGFyYW1zLmhhc093blByb3BlcnR5KCJiY2F0IikmJk9iamVjdChhLmlzQXJyYXkpKGkucGFyYW1zLmJjYXQpJiYobT1tLmNvbmNhdChpLnBhcmFtcy5iY2F0KSk7dmFyIHI9RyhpKTtyJiZjLmltcC5wdXNoKHIpfSkpLDAhPWMuaW1wLmxlbmd0aCl7dmFyIGYseTtjLnNpdGUucHVibGlzaGVyLmlkPW8ucHViSWQudHJpbSgpLEE9by5wdWJJZC50cmltKCksYy5leHQud3JhcHBlcj17fSxjLmV4dC53cmFwcGVyLnByb2ZpbGU9cGFyc2VJbnQoby5wcm9mSWQpfHxnLGMuZXh0LndyYXBwZXIudmVyc2lvbj1wYXJzZUludChvLnZlcklkKXx8ZyxjLmV4dC53cmFwcGVyLndpaWQ9by53aWlkfHxyLmF1Y3Rpb25JZCxjLmV4dC53cmFwcGVyLnd2PSJwcmViaWRfcHJlYmlkXzUuMjAuMiIsYy5leHQud3JhcHBlci50cmFuc2FjdGlvbklkPW8udHJhbnNhY3Rpb25JZCxjLmV4dC53cmFwcGVyLndwPSJwYmpzIixjLnVzZXIuZ2VuZGVyPW8uZ2VuZGVyP28uZ2VuZGVyLnRyaW0oKTpnLGMudXNlci5nZW89e30sYy51c2VyLmdlby5sYXQ9TigibGF0IixvLmxhdCksYy51c2VyLmdlby5sb249TigibG9uIixvLmxvbiksYy51c2VyLnlvYj1OKCJ5b2IiLG8ueW9iKSxjLmRldmljZS5nZW89Yy51c2VyLmdlbyxjLnNpdGUucGFnZT1vLmthZHBhZ2V1cmwudHJpbSgpfHxjLnNpdGUucGFnZS50cmltKCksYy5zaXRlLmRvbWFpbj0oZj1jLnNpdGUucGFnZSwoeT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpLmhyZWY9Zix5Lmhvc3RuYW1lKSwib2JqZWN0Ij09PXUocy5iLmdldENvbmZpZygiY29udGVudCIpKSYmKGMuc2l0ZS5jb250ZW50PXMuYi5nZXRDb25maWcoImNvbnRlbnQiKSksIm9iamVjdCI9PT11KHMuYi5nZXRDb25maWcoImRldmljZSIpKSYmKGMuZGV2aWNlPWQoYy5kZXZpY2Uscy5iLmdldENvbmZpZygiZGV2aWNlIikpKSxPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGMsInNvdXJjZS50aWQiLG8udHJhbnNhY3Rpb25JZCksLTEhPT13aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJwdWJtYXRpY1Rlc3Q9dHJ1ZSIpJiYoYy50ZXN0PTEpLGVbMF0uc2NoYWluJiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGMsInNvdXJjZS5leHQuc2NoYWluIixlWzBdLnNjaGFpbiksciYmci5nZHByQ29uc2VudCYmKE9iamVjdChhLmRlZXBTZXRWYWx1ZSkoYywidXNlci5leHQuY29uc2VudCIsci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGMsInJlZ3MuZXh0LmdkcHIiLHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSksciYmci51c3BDb25zZW50JiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGMsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCksITA9PT1zLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGMsInJlZ3MuY29wcGEiLDEpLGZ1bmN0aW9uKGUscil7dmFyIHQ9T2JqZWN0KGEuZGVlcEFjY2VzcykociwiMC51c2VySWRBc0VpZHMiKSxpPUYocix4KTtpJiYodHx8KHQ9W10pLHQucHVzaChpKSksT2JqZWN0KGEuaXNBcnJheSkodCkmJnQubGVuZ3RoPjAmJk9iamVjdChhLmRlZXBTZXRWYWx1ZSkoZSwidXNlci5laWRzIix0KX0oYyxlKSxmdW5jdGlvbihlLHIpeyhyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV8fChPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IGJjYXQ6IEVhY2ggY2F0ZWdvcnkgc2hvdWxkIGJlIGEgc3RyaW5nLCBpZ25vcmluZyBjYXRlZ29yeTogIitlKSwhMSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KSkuZmlsdGVyKChmdW5jdGlvbihlLHIsdCl7aWYoZS5sZW5ndGg+MylyZXR1cm4gdC5pbmRleE9mKGUpPT09cjtPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IGJjYXQ6IEVhY2ggY2F0ZWdvcnkgc2hvdWxkIGhhdmUgYSB2YWx1ZSBvZiBhIGxlbmd0aCBvZiBtb3JlIHRoYW4gMyBjaGFyYWN0ZXJzLCBpZ25vcmluZyBjYXRlZ29yeTogIitlKX0pKSkubGVuZ3RoPjAmJihPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IGJjYXQ6IFNlbGVjdGVkOiAiLHIpLGUuYmNhdD1yKX0oYyxtKSxmdW5jdGlvbihlLHIpe3ZhciB0PUYocixZKTt0JiYoZS51c2VyfHwoZS51c2VyPXt9KSxlLnVzZXIuZGF0YXx8KGUudXNlci5kYXRhPVtdKSxlLnVzZXIuZGF0YS5wdXNoKHQpKX0oYyxlKTt2YXIgdj1zLmIuZ2V0Q29uZmlnKCJvcnRiMiIpfHx7fTtyZXR1cm4gdi5zaXRlJiZPYmplY3QoYS5tZXJnZURlZXApKGMse3NpdGU6di5zaXRlfSksdi51c2VyJiZPYmplY3QoYS5tZXJnZURlZXApKGMse3VzZXI6di51c2VyfSksIm9iamVjdCI9PT11KHMuYi5nZXRDb25maWcoImFwcCIpKSYmKGMuYXBwPXMuYi5nZXRDb25maWcoImFwcCIpLGMuYXBwLnB1Ymxpc2hlcj1jLnNpdGUucHVibGlzaGVyLGMuYXBwLmV4dD1jLnNpdGUuZXh0fHxnLCJvYmplY3QiIT09dShjLmFwcC5jb250ZW50KSYmKGMuYXBwLmNvbnRlbnQ9Yy5zaXRlLmNvbnRlbnR8fGcpLGRlbGV0ZSBjLnNpdGUpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9oYm9wZW5iaWQucHVibWF0aWMuY29tL3RyYW5zbGF0b3I/c291cmNlPXByZWJpZC1jbGllbnQiLGRhdGE6SlNPTi5zdHJpbmdpZnkoYyksYmlkZGVyUmVxdWVzdDpyfX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10saT1iLHM9SlNPTi5wYXJzZShyLmRhdGEpLG89cy5zaXRlJiZzLnNpdGUucmVmP3Muc2l0ZS5yZWY6IiI7dHJ5e2UuYm9keSYmZS5ib2R5LnNlYXRiaWQmJk9iamVjdChhLmlzQXJyYXkpKGUuYm9keS5zZWF0YmlkKSYmKGk9ZS5ib2R5LmN1cnx8aSxlLmJvZHkuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZCYmT2JqZWN0KGEuaXNBcnJheSkoZS5iaWQpJiZlLmJpZC5mb3JFYWNoKChmdW5jdGlvbihkKXt2YXIgYz17cmVxdWVzdElkOmQuaW1waWQsY3BtOihwYXJzZUZsb2F0KGQucHJpY2UpfHwwKS50b0ZpeGVkKDIpLHdpZHRoOmQudyxoZWlnaHQ6ZC5oLGNyZWF0aXZlSWQ6ZC5jcmlkfHxkLmlkLGRlYWxJZDpkLmRlYWxpZCxjdXJyZW5jeTppLG5ldFJldmVudWU6dHJ1ZSx0dGw6MzAwLHJlZmVycmVyOm8sYWQ6ZC5hZG0scG1fc2VhdDplLnNlYXR8fG51bGwscG1fZHNwaWQ6ZC5leHQmJmQuZXh0LmRzcGlkP2QuZXh0LmRzcGlkOm51bGwscGFydG5lckltcElkOmQuaWR8fCIifTtzLmltcCYmcy5pbXAubGVuZ3RoPjAmJnMuaW1wLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGQuaW1waWQ9PT1lLmlkKXN3aXRjaChmdW5jdGlvbihlLHIpe2lmKGUuZXh0JiZudWxsIT1lLmV4dC5CaWRUeXBlKXIubWVkaWFUeXBlPVJbZS5leHQuQmlkVHlwZV07ZWxzZXtPYmplY3QoYS5sb2dJbmZvKSgiUHViTWF0aWM6IGJpZC5leHQuQmlkVHlwZSBkb2VzIG5vdCBleGlzdCwgY2hlY2tpbmcgYWx0ZXJuYXRpdmVseSBmb3IgbWVkaWFUeXBlIik7dmFyIHQ9ZS5hZG0saT0iIixzPW5ldyBSZWdFeHAoL1ZBU1Rccyt2ZXJzaW9uLyk7aWYodC5pbmRleE9mKCdzcGFuIGNsYXNzPSJQdWJBUElBZCInKT49MClyLm1lZGlhVHlwZT1uLmI7ZWxzZSBpZihzLnRlc3QodCkpci5tZWRpYVR5cGU9bi5kO2Vsc2UgdHJ5eyhpPUpTT04ucGFyc2UodC5yZXBsYWNlKC9cXC9nLCIiKSkpJiZpLm5hdGl2ZSYmKHIubWVkaWFUeXBlPW4uYyl9Y2F0Y2goZSl7T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogQ2Fubm90IHBhcnNlIG5hdGl2ZSByZXBvbnNlIGZvciBhZCByZXNwb25zZTogIit0KX19fShkLGMpLGMubWVkaWFUeXBlKXtjYXNlIG4uYjpicmVhaztjYXNlIG4uZDpjLndpZHRoPWQuaGFzT3duUHJvcGVydHkoInciKT9kLnc6ZS52aWRlby53LGMuaGVpZ2h0PWQuaGFzT3duUHJvcGVydHkoImgiKT9kLmg6ZS52aWRlby5oLGMudmFzdFhtbD1kLmFkbSxmdW5jdGlvbihlLHIpe3ZhciB0LGEsaTtpZihyLmJpZGRlclJlcXVlc3QmJnIuYmlkZGVyUmVxdWVzdC5iaWRzKXtmb3IodmFyIHM9MDtzPHIuYmlkZGVyUmVxdWVzdC5iaWRzLmxlbmd0aDtzKyspci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10uYmlkSWQ9PT1lLnJlcXVlc3RJZCYmKHQ9ci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10ucGFyYW1zLGE9ci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10ubWVkaWFUeXBlc1tuLmRdLmNvbnRleHQsaT1yLmJpZGRlclJlcXVlc3QuYmlkc1tzXS5hZFVuaXRDb2RlKTthJiYib3V0c3RyZWFtIj09PWEmJnQmJnQub3V0c3RyZWFtQVUmJmkmJihlLnJlbmRlcmVyQ29kZT10Lm91dHN0cmVhbUFVLGUucmVuZGVyZXI9ay5uZXdSZW5kZXJlcihlLnJlbmRlcmVyQ29kZSxpKSl9fShjLHIpO2JyZWFrO2Nhc2Ugbi5jOiFmdW5jdGlvbihlLHIpe2lmKHIubmF0aXZlPXt9LGUuaGFzT3duUHJvcGVydHkoImFkbSIpKXt2YXIgdD0iIjt0cnl7dD1KU09OLnBhcnNlKGUuYWRtLnJlcGxhY2UoL1xcL2csIiIpKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBDYW5ub3QgcGFyc2UgbmF0aXZlIHJlcG9uc2UgZm9yIGFkIHJlc3BvbnNlOiAiK3IuYWRtKX1pZih0JiZ0Lm5hdGl2ZSYmdC5uYXRpdmUuYXNzZXRzJiZ0Lm5hdGl2ZS5hc3NldHMubGVuZ3RoPjApe3IubWVkaWFUeXBlPW4uYztmb3IodmFyIGk9MCxzPXQubmF0aXZlLmFzc2V0cy5sZW5ndGg7aTxzO2krKylzd2l0Y2godC5uYXRpdmUuYXNzZXRzW2ldLmlkKXtjYXNlIHcuVElUTEUuSUQ6ci5uYXRpdmUudGl0bGU9dC5uYXRpdmUuYXNzZXRzW2ldLnRpdGxlJiZ0Lm5hdGl2ZS5hc3NldHNbaV0udGl0bGUudGV4dDticmVhaztjYXNlIHcuSU1BR0UuSUQ6ci5uYXRpdmUuaW1hZ2U9e3VybDp0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZ0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nLnVybCxoZWlnaHQ6dC5uYXRpdmUuYXNzZXRzW2ldLmltZyYmdC5uYXRpdmUuYXNzZXRzW2ldLmltZy5oLHdpZHRoOnQubmF0aXZlLmFzc2V0c1tpXS5pbWcmJnQubmF0aXZlLmFzc2V0c1tpXS5pbWcud307YnJlYWs7Y2FzZSB3LklDT04uSUQ6ci5uYXRpdmUuaWNvbj17dXJsOnQubmF0aXZlLmFzc2V0c1tpXS5pbWcmJnQubmF0aXZlLmFzc2V0c1tpXS5pbWcudXJsLGhlaWdodDp0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZ0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nLmgsd2lkdGg6dC5uYXRpdmUuYXNzZXRzW2ldLmltZyYmdC5uYXRpdmUuYXNzZXRzW2ldLmltZy53fTticmVhaztjYXNlIHcuU1BPTlNPUkVEQlkuSUQ6Y2FzZSB3LkJPRFkuSUQ6Y2FzZSB3LkxJS0VTLklEOmNhc2Ugdy5ET1dOTE9BRFMuSUQ6Y2FzZSB3LlBSSUNFOmNhc2Ugdy5TQUxFUFJJQ0UuSUQ6Y2FzZSB3LlBIT05FLklEOmNhc2Ugdy5BRERSRVNTLklEOmNhc2Ugdy5ERVNDMi5JRDpjYXNlIHcuQ1RBLklEOmNhc2Ugdy5SQVRJTkcuSUQ6Y2FzZSB3LkRJU1BMQVlVUkwuSUQ6ci5uYXRpdmVbelt0Lm5hdGl2ZS5hc3NldHNbaV0uaWRdXT10Lm5hdGl2ZS5hc3NldHNbaV0uZGF0YSYmdC5uYXRpdmUuYXNzZXRzW2ldLmRhdGEudmFsdWV9ci5uYXRpdmUuY2xpY2tVcmw9dC5uYXRpdmUubGluayYmdC5uYXRpdmUubGluay51cmwsci5uYXRpdmUuY2xpY2tUcmFja2Vycz10Lm5hdGl2ZS5saW5rJiZ0Lm5hdGl2ZS5saW5rLmNsaWNrdHJhY2tlcnN8fFtdLHIubmF0aXZlLmltcHJlc3Npb25UcmFja2Vycz10Lm5hdGl2ZS5pbXB0cmFja2Vyc3x8W10sci5uYXRpdmUuanN0cmFja2VyPXQubmF0aXZlLmpzdHJhY2tlcnx8W10sci53aWR0aHx8KHIud2lkdGg9MCksci5oZWlnaHR8fChyLmhlaWdodD0wKX19fShkLGMpfX0pKSxkLmV4dCYmZC5leHQuZGVhbF9jaGFubmVsJiYoYy5kZWFsQ2hhbm5lbD1EW2QuZXh0LmRlYWxfY2hhbm5lbF18fG51bGwpLGMubWV0YT17fSxkLmV4dCYmZC5leHQuZHNwaWQmJihjLm1ldGEubmV0d29ya0lkPWQuZXh0LmRzcGlkKSxkLmV4dCYmZC5leHQuYWR2aWQmJihjLm1ldGEuYnV5ZXJJZD1kLmV4dC5hZHZpZCksZC5hZG9tYWluJiZkLmFkb21haW4ubGVuZ3RoPjAmJihjLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9ZC5hZG9tYWluLGMubWV0YS5jbGlja1VybD1kLmFkb21haW5bMF0pLGUuZXh0JiZlLmV4dC5idXlpZCYmKGMuYWRzZXJ2ZXJUYXJnZXRpbmc9e2hiX2J1eWlkX3B1Ym1hdGljOmUuZXh0LmJ1eWlkfSksdC5wdXNoKGMpfSkpfSkpKX1jYXRjaChlKXtPYmplY3QoYS5sb2dFcnJvcikoZSl9cmV0dXJuIHR9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCxhKXt2YXIgaT0iIitBO3JldHVybiB0JiYoaSs9IiZnZHByPSIrKHQuZ2RwckFwcGxpZXM/MTowKSxpKz0iJmdkcHJfY29uc2VudD0iK2VuY29kZVVSSUNvbXBvbmVudCh0LmNvbnNlbnRTdHJpbmd8fCIiKSksYSYmKGkrPSImdXNfcHJpdmFjeT0iK2VuY29kZVVSSUNvbXBvbmVudChhKSksITA9PT1zLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYoaSs9IiZjb3BwYT0xIiksZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vYWRzLnB1Ym1hdGljLmNvbS9BZFNlcnZlci9qcy91c2VyX3N5bmMuaHRtbD9rZG50dWlkPTEmcD0iK2l9XTpbe3R5cGU6ImltYWdlIix1cmw6Imh0dHBzOi8vaW1hZ2U4LnB1Ym1hdGljLmNvbS9BZFNlcnZlci9JbWdTeW5jP3A9IitpfV19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIsdCxpKXtyZXR1cm4gQihlLHQuYmlkc1swXSwhMCksT2JqZWN0KGEuY29udmVydFR5cGVzKSh7cHVibGlzaGVySWQ6InN0cmluZyIsYWRTbG90OiJzdHJpbmcifSxlKX19O09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShYKX19LFs3MTRdKTsKdXBianNDaHVuayhbMzNdLHs2OmZ1bmN0aW9uKGUsbix0KXsidXNlIHN0cmljdCI7bi5hPWZ1bmN0aW9uKGUpe3ZhciBuLHQ9ZS51cmwscj1lLmFuYWx5dGljc1R5cGUsdT1lLmdsb2JhbCxsPWUuaGFuZGxlcixTPVtdLGo9MCxtPSEwOyhmdW5jdGlvbigpe2lmKG0pe2Zvcih2YXIgZT0wO2U8Uy5sZW5ndGg7ZSsrKVNbZV0oKTtTLnB1c2g9ZnVuY3Rpb24oZSl7ZSgpfSxtPSExfU9iamVjdChvLmxvZ01lc3NhZ2UpKCJldmVudCBjb3VudCBzZW50IHRvICIuY29uY2F0KHUsIjogIikuY29uY2F0KGopKX0pKCk7cmV0dXJue3RyYWNrOmZ1bmN0aW9uKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHQ9ZS5hcmdzO3RoaXMuZ2V0QWRhcHRlclR5cGUoKT09PU4mJndpbmRvd1t1XShsLG4sdCk7dGhpcy5nZXRBZGFwdGVyVHlwZSgpPT09cSYmVS5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX0sZW5xdWV1ZTpCLGVuYWJsZUFuYWx5dGljczpSLGRpc2FibGVBbmFseXRpY3M6ZnVuY3Rpb24oKXtPYmplY3Qoby5fZWFjaCkobiwoZnVuY3Rpb24oZSxuKXtzLm9mZihuLGUpfSkpLHRoaXMuZW5hYmxlQW5hbHl0aWNzPXRoaXMuX29sZEVuYWJsZT90aGlzLl9vbGRFbmFibGU6Un0sZ2V0QWRhcHRlclR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sZ2V0R2xvYmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHV9LGdldEhhbmRsZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbH0sZ2V0VXJsOmZ1bmN0aW9uKCl7cmV0dXJuIHR9fTtmdW5jdGlvbiBVKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHI9ZS5hcmdzLHU9ZS5jYWxsYmFjaztPYmplY3QoYS5hKSh0LHUsSlNPTi5zdHJpbmdpZnkoe2V2ZW50VHlwZTpuLGFyZ3M6cn0pKX1mdW5jdGlvbiBCKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHQ9ZS5hcmdzLHI9dGhpczt1JiZ3aW5kb3dbdV0mJm4mJnQ/dGhpcy50cmFjayh7ZXZlbnRUeXBlOm4sYXJnczp0fSk6Uy5wdXNoKChmdW5jdGlvbigpe2orKyxyLnRyYWNrKHtldmVudFR5cGU6bixhcmdzOnR9KX0pKX1mdW5jdGlvbiBSKGUpe3ZhciB0LHI9dGhpcyxhPXRoaXM7Im9iamVjdCIhPT1pKGUpfHwib2JqZWN0IiE9PWkoZS5vcHRpb25zKXx8KHZvaWQgMD09PWUub3B0aW9ucy5zYW1wbGluZ3x8TWF0aC5yYW5kb20oKTxwYXJzZUZsb2F0KGUub3B0aW9ucy5zYW1wbGluZykpPyhzLmdldEV2ZW50cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHQ9ZS5hcmdzO24hPT1iJiZCLmNhbGwoYSx7ZXZlbnRUeXBlOm4sYXJnczp0fSl9fSkpLGModD17fSx5LChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6eSxhcmdzOmV9KX0pKSxjKHQsZywoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOmcsYXJnczplfSl9KSksYyh0LFQsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpULGFyZ3M6ZX0pfSkpLGModCx2LChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6dixhcmdzOmV9KX0pKSxjKHQsYiwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOmIsYXJnczplfSl9KSksYyh0LGQsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpkLGFyZ3M6ZX0pfSkpLGModCxFLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6RSxhcmdzOmV9KX0pKSxjKHQsXywoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOl8sYXJnczplfSl9KSksYyh0LEEsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpBLGFyZ3M6ZX0pfSkpLGModCxwLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6cCxhcmdzOmV9KX0pKSxjKHQsRCwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOkQsYXJnczplfSl9KSksYyh0LGgsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpoLGFyZ3M6ZX0pfSkpLGModCxPLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6TyxhcmdzOmV9KX0pKSxjKHQsSSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOkksYXJnczplfSl9KSksYyh0LGYsKGZ1bmN0aW9uKG4pe24uY29uZmlnPSJvYmplY3QiPT09aShlKSYmZS5vcHRpb25zfHx7fSxyLmVucXVldWUoe2V2ZW50VHlwZTpmLGFyZ3M6bn0pfSkpLG49dCxPYmplY3Qoby5fZWFjaCkobiwoZnVuY3Rpb24oZSxuKXtzLm9uKG4sZSl9KSkpOk9iamVjdChvLmxvZ01lc3NhZ2UpKCdBbmFseXRpY3MgYWRhcHRlciBmb3IgIicuY29uY2F0KHUsJyIgZGlzYWJsZWQgYnkgc2FtcGxpbmcnKSk7dGhpcy5fb2xkRW5hYmxlPXRoaXMuZW5hYmxlQW5hbHl0aWNzLHRoaXMuZW5hYmxlQW5hbHl0aWNzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChvLmxvZ01lc3NhZ2UpKCdBbmFseXRpY3MgYWRhcHRlciBmb3IgIicuY29uY2F0KHUsJyIgYWxyZWFkeSBlbmFibGVkLCB1bm5lY2Vzc2FyeSBjYWxsIHRvIGBlbmFibGVBbmFseXRpY3NgLicpKX19fTt2YXIgcj10KDUpLHU9dC5uKHIpLGE9dCg0KSxvPXQoMCk7ZnVuY3Rpb24gYyhlLG4sdCl7cmV0dXJuIG4gaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtuXT10LGV9ZnVuY3Rpb24gaShlKXtyZXR1cm4oaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBzPXQoMTApLGw9dS5hLkVWRU5UUyxmPWwuQVVDVElPTl9JTklULHA9bC5BVUNUSU9OX0VORCx5PWwuUkVRVUVTVF9CSURTLGc9bC5CSURfUkVRVUVTVEVELGI9bC5CSURfVElNRU9VVCxUPWwuQklEX1JFU1BPTlNFLHY9bC5OT19CSUQsZD1sLkJJRF9XT04sRT1sLkJJRF9BREpVU1RNRU5ULF89bC5CSURERVJfRE9ORSxBPWwuU0VUX1RBUkdFVElORyxEPWwuQURfUkVOREVSX0ZBSUxFRCxoPWwuQURfUkVOREVSX1NVQ0NFRURFRCxPPWwuQVVDVElPTl9ERUJVRyxJPWwuQUREX0FEX1VOSVRTLHE9ImVuZHBvaW50IixOPSJidW5kbGUifSw3MTg6ZnVuY3Rpb24oZSxuLHQpe2UuZXhwb3J0cz10KDcxOSl9LDcxOTpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj10KDYpLHU9dCg4KSxhPU9iamVjdChyLmEpKHtnbG9iYWw6IlB1YnN0YWNrQW5hbHl0aWNzIixoYW5kbGVyOiJvbiIsYW5hbHl0aWNzVHlwZToiYnVuZGxlIn0pO3UuZGVmYXVsdC5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXIoe2FkYXB0ZXI6YSxjb2RlOiJwdWJzdGFjayJ9KSxuLmRlZmF1bHQ9YX19LFs3MThdKTsKdXBianNDaHVuayhbMTU2XSx7NzMwOmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg3MzEpfSw3MzE6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciBuPXQoMCksaT10KDEpLGE9dCgxMyk7ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHM9MTAwLHU9MjAwLG89NTAsYz0xNTAscD01MCxsPSJVU0QiLG09WyJjcCIsImN0IiwiY2YiLCJ2aWRlbyIsImJhdHRyIiwiYmNhdCIsImJhZHYiLCJiaWRmbG9vciJdLGY9e2NvZGU6InB1bHNlcG9pbnQiLGd2bGlkOjgxLGFsaWFzZXM6WyJwdWxzZUxpdGUiLCJwdWxzZXBvaW50TGl0ZSJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6WyJiYW5uZXIiLCJuYXRpdmUiLCJ2aWRlbyJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUucGFyYW1zJiZlLnBhcmFtcy5jcCYmZS5wYXJhbXMuY3QpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2JpZC5jb250ZXh0d2ViLmNvbS9oZWFkZXIvb3J0Yj9zcmM9cHJlYmlkIixkYXRhOntpZDplWzBdLmJpZGRlclJlcXVlc3RJZCxpbXA6ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm57aWQ6ZS5iaWRJZCxiYW5uZXI6YihlKSxuYXRpdmU6aChlKSx0YWdpZDplLnBhcmFtcy5jdC50b1N0cmluZygpLHZpZGVvOnYoZSksYmlkZmxvb3I6UihlKSxleHQ6ZyhlKX19KGUpfSkpLHNpdGU6aihlLHIpLGFwcDp3KGUpLGRldmljZTp7dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5zeXN0ZW1MYW5ndWFnZX0sYmNhdDplWzBdLnBhcmFtcy5iY2F0LGJhZHY6ZVswXS5wYXJhbXMuYmFkdix1c2VyOmsoZVswXSxyKSxyZWdzOngociksc291cmNlOlAoZVswXS5zY2hhaW4pfSxiaWRkZXJSZXF1ZXN0OnJ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3JldHVybiBmdW5jdGlvbihlLHIpe3ZhciB0PXt9LGk9e30sZD17fSxzPXIuYm9keTtlLmRhdGEuaW1wLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZS5pZF09ZX0pKSxzJiZzLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lbZS5pbXBpZF09ZX0pKX0pKTtlLmJpZGRlclJlcXVlc3QmJmUuYmlkZGVyUmVxdWVzdC5iaWRzJiZlLmJpZGRlclJlcXVlc3QuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtkW2UuYmlkSWRdPWV9KSk7dmFyIHU9W107cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGlbZV0pe3ZhciByPXtyZXF1ZXN0SWQ6ZSxjcG06aVtlXS5wcmljZSxjcmVhdGl2ZV9pZDppW2VdLmNyaWQsY3JlYXRpdmVJZDppW2VdLmNyaWQsYWRJZDplLHR0bDppW2VdLmV4cHx8MjAsbmV0UmV2ZW51ZTp0cnVlLGN1cnJlbmN5OnMuY3VyfHxsLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmlbZV0uYWRvbWFpbnx8W119fTt0W2VdLnZpZGVvPyhkW2VdJiYib3V0c3RyZWFtIj09PU9iamVjdChuLmRlZXBBY2Nlc3MpKGRbZV0sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiYoci5yZW5kZXJlcj0obz1PYmplY3Qobi5kZWVwQWNjZXNzKShkW2VdLCJyZW5kZXJlci5vcHRpb25zIiksYz1PYmplY3Qobi5kZWVwQWNjZXNzKShpW2VdLCJleHQub3V0c3RyZWFtIiksKHA9YS5hLmluc3RhbGwoe3VybDpjLnJlbmRlcmVyVXJsLGNvbmZpZzp7ZGVmYXVsdE9wdGlvbnM6Yy5jb25maWcscmVuZGVyZXJPcHRpb25zOm8sdHlwZTpjLnR5cGV9LGxvYWRlZDohMX0pKS5zZXRSZW5kZXIoKGZ1bmN0aW9uKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt2YXIgcj1lLnJlbmRlcmVyLmdldENvbmZpZygpOyhuZXcgd2luZG93LlB1bHNlUG9pbnRPdXRzdHJlYW1SZW5kZXJlcikucmVuZGVyKHthZFVuaXRDb2RlOmUuYWRVbml0Q29kZSx2YXN0WG1sOmUudmFzdFhtbCx0eXBlOnIudHlwZSxkZWZhdWx0T3B0aW9uczpyLmRlZmF1bHRPcHRpb25zLHJlbmRlcmVyT3B0aW9uczpvfSl9KSl9KSkscCkpLHIudmFzdFhtbD1pW2VdLmFkbSxyLm1lZGlhVHlwZT0idmlkZW8iLHIud2lkdGg9aVtlXS53LHIuaGVpZ2h0PWlbZV0uaCk6dFtlXS5iYW5uZXI/KHIuYWQ9aVtlXS5hZG0sci53aWR0aD1pW2VdLnd8fHRbZV0uYmFubmVyLncsci5oZWlnaHQ9aVtlXS5ofHx0W2VdLmJhbm5lci5oKTp0W2VdLm5hdGl2ZSYmKHIubmF0aXZlPWZ1bmN0aW9uKGUscil7aWYoZS5uYXRpdmUpe3ZhciB0PWZ1bmN0aW9uKGUpe3RyeXtpZihlKXJldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKGUpe09iamVjdChuLmxvZ0Vycm9yKSgicHVsc2Vwb2ludExpdGUuc2FmZVBhcnNlIiwiRVJST1IiLGUpfXJldHVybiBudWxsfShyLmFkbSksaT17fTtpZih0JiZ0Lm5hdGl2ZSYmdC5uYXRpdmUuYXNzZXRzKXJldHVybiB0Lm5hdGl2ZS5hc3NldHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS50aXRsZT1lLnRpdGxlP2UudGl0bGUudGV4dDppLnRpdGxlLGkuYm9keT1lLmRhdGEmJjI9PT1lLmRhdGEudHlwZT9lLmRhdGEudmFsdWU6aS5ib2R5LGkuc3BvbnNvcmVkQnk9ZS5kYXRhJiYxPT09ZS5kYXRhLnR5cGU/ZS5kYXRhLnZhbHVlOmkuc3BvbnNvcmVkQnksaS5pbWFnZT1lLmltZyYmMz09PWUuaW1nLnR5cGU/ZS5pbWcudXJsOmkuaW1hZ2UsaS5pY29uPWUuaW1nJiYxPT09ZS5pbWcudHlwZT9lLmltZy51cmw6aS5pY29ufSkpLHQubmF0aXZlLmxpbmsmJihpLmNsaWNrVXJsPWVuY29kZVVSSUNvbXBvbmVudCh0Lm5hdGl2ZS5saW5rLnVybCkpLGkuaW1wcmVzc2lvblRyYWNrZXJzPXQubmF0aXZlLmltcHRyYWNrZXJzLGl9cmV0dXJuIG51bGx9KHRbZV0saVtlXSksci5tZWRpYVR5cGU9Im5hdGl2ZSIpLHUucHVzaChyKX12YXIgbyxjLHB9KSksdX0ocixlKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/W3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9iaC5jb250ZXh0d2ViLmNvbS92aXNpdG9ybWF0Y2gifV06ZS5waXhlbEVuYWJsZWQ/W3t0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL2JoLmNvbnRleHR3ZWIuY29tL3Zpc2l0b3JtYXRjaC9wcmViaWQifV06dm9pZCAwfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gT2JqZWN0KG4uY29udmVydFR5cGVzKSh7Y2Y6InN0cmluZyIsY3A6Im51bWJlciIsY3Q6Im51bWJlciJ9LGUpfX07ZnVuY3Rpb24gYihlKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgcj1PYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpO2lmKHImJk9iamVjdChuLmlzQXJyYXkpKHIpKXJldHVybiByLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuLmlzQXJyYXkpKGUpJiYyPT09ZS5sZW5ndGh9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSk7cmV0dXJuIG51bGx9KGUpLHQ9ZnVuY3Rpb24oZSxyKXtpZihlLnBhcmFtcy5jZil7dmFyIHQ9ZS5wYXJhbXMuY2YudG9VcHBlckNhc2UoKS5zcGxpdCgiWCIpO3JldHVybltwYXJzZUludChlLnBhcmFtcy5jd3x8dFswXSwxMCkscGFyc2VJbnQoZS5wYXJhbXMuY2h8fHRbMV0sMTApXX1pZihyJiZyLmxlbmd0aD4wKXJldHVybltyWzBdLncsclswXS5oXTtyZXR1cm5bMSwxXX0oZSxyKTtyZXR1cm4gZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyP3t3OnRbMF0saDp0WzFdLGJhdHRyOmUucGFyYW1zLmJhdHRyLGZvcm1hdDpyfTpudWxsfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIGUucGFyYW1zLnZpZGVvP2Qoe30sZS5wYXJhbXMudmlkZW8sZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8/ZS5tZWRpYVR5cGVzLnZpZGVvOnt9LHtiYXR0cjplLnBhcmFtcy5iYXR0cn0pOm51bGx9ZnVuY3Rpb24gZyhlKXt2YXIgcj17fSx0PXt9O3JldHVybiBtLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdPTF9KSksT2JqZWN0LmtleXMoZS5wYXJhbXMpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3Rbbl18fChyW25dPWUucGFyYW1zW25dKX0pKSxPYmplY3Qua2V5cyhyKS5sZW5ndGg+MD97cHJlYmlkOnJ9Om51bGx9ZnVuY3Rpb24gaChlKXtpZihlLm5hdGl2ZVBhcmFtcyl7dmFyIHI9W107cmV0dXJuIHkocixmdW5jdGlvbihlLHIsdCl7aWYocilyZXR1cm57aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCx0aXRsZTp7bGVuOnIubGVufHx0fX07cmV0dXJuIG51bGx9KHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMudGl0bGUscykpLHkocixPKHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuYm9keSwyLHUpKSx5KHIsTyhyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLnNwb25zb3JlZEJ5LDEsbykpLHkocixJKHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuaWNvbiwxLHAscCkpLHkocixJKHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuaW1hZ2UsMyxjLGMpKSx7cmVxdWVzdDpKU09OLnN0cmluZ2lmeSh7YXNzZXRzOnJ9KSx2ZXI6IjEuMSIsYmF0dHI6ZS5wYXJhbXMuYmF0dHJ9fXJldHVybiBudWxsfWZ1bmN0aW9uIHkoZSxyKXtyJiZlLnB1c2gocil9ZnVuY3Rpb24gSShlLHIsdCxuLGkpe3JldHVybiByP3tpZDplLHJlcXVpcmVkOnIucmVxdWlyZWQ/MTowLGltZzp7dHlwZTp0LHdtaW46ci53bWlufHxuLGhtaW46ci5obWlufHxpfX06bnVsbH1mdW5jdGlvbiBPKGUscix0LG4pe3JldHVybiByP3tpZDplLHJlcXVpcmVkOnIucmVxdWlyZWQ/MTowLGRhdGE6e3R5cGU6dCxsZW46ci5sZW58fG59fTpudWxsfWZ1bmN0aW9uIGooZSxyKXt2YXIgdD1lJiZlLmxlbmd0aD4wP2VbMF0ucGFyYW1zLmNwOiIwIjtyZXR1cm4gZVswXS5wYXJhbXMuYXBwP251bGw6e3B1Ymxpc2hlcjp7aWQ6dC50b1N0cmluZygpfSxyZWY6VCgpLHBhZ2U6ciYmci5yZWZlcmVySW5mbz9yLnJlZmVyZXJJbmZvLnJlZmVyZXI6IiJ9fWZ1bmN0aW9uIHcoZSl7dmFyIHI9ZSYmZS5sZW5ndGg+MD9lWzBdLnBhcmFtcy5jcDoiMCIsdD1lWzBdLnBhcmFtcy5hcHA7cmV0dXJuIHQ/e3B1Ymxpc2hlcjp7aWQ6ci50b1N0cmluZygpfSxidW5kbGU6dC5idW5kbGUsc3RvcmV1cmw6dC5zdG9yZVVybCxkb21haW46dC5kb21haW59Om51bGx9ZnVuY3Rpb24gVCgpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcn1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQucmVmZXJyZXJ9fWZ1bmN0aW9uIGsoZSxyKXt2YXIgdD17fTtpZihyJiZyLmdkcHJDb25zZW50JiYodC5jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksZSYmZS51c2VySWQpe3QuZWlkcz1bXSxxKHQuZWlkcyxlLnVzZXJJZC5wdWJjaWQsInB1YmNpZC5vcmciKSxxKHQuZWlkcyxlLnVzZXJJZC5icml0ZXBvb2xpZCwiYnJpdGVwb29sLmNvbSIpLHEodC5laWRzLGUudXNlcklkLmNyaXRlb0lkLCJjcml0ZW8uY29tIikscSh0LmVpZHMsZS51c2VySWQuaWRsX2VudiwibGl2ZXJhbXAuY29tIikscSh0LmVpZHMsT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkLmlkNWlkLnVpZCIpLCJpZDUtc3luYy5jb20iLE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInVzZXJJZC5pZDVpZC5leHQiKSkscSh0LmVpZHMsT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkLnBhcnJhYmxlSWQuZWlkIiksInBhcnJhYmxlLmNvbSIpLHEodC5laWRzLGUudXNlcklkLmZhYnJpY2tJZCwibmV1c3Rhci5iaXoiKSxxKHQuZWlkcyxPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJ1c2VySWQuaGFsb0lkLmhhbG9JZCIpLCJhdWRpZ2VudC5jb20iKSxxKHQuZWlkcyxlLnVzZXJJZC5tZXJrbGVJZCwibWVya2xlaW5jLmNvbSIpLHEodC5laWRzLGUudXNlcklkLmxvdGFtZVBhbm9yYW1hSWQsImNyd2RjbnRybC5uZXQiKSxxKHQuZWlkcyxlLnVzZXJJZC5jb25uZWN0aWQsInZlcml6b25tZWRpYS5jb20iKSxxKHQuZWlkcyxPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJ1c2VySWQudWlkMi5pZCIpLCJ1aWRhcGkuY29tIiksZS51c2VySWQubGlwYiYmZS51c2VySWQubGlwYi5saXBiaWQmJnEodC5laWRzLGUudXNlcklkLmxpcGIubGlwYmlkLCJsaXZlaW50ZW50LmNvbSIpLHEodC5laWRzLGUudXNlcklkLnRkaWQsImFkc2VydmVyLm9yZyIse3J0aVBhcnRuZXI6IlRESUQifSk7dmFyIGk9ZS51c2VySWQuZGlnaXRydXN0aWQ7aWYoaSYmaS5kYXRhKXt2YXIgYT17fTtpLmRhdGEuaWQmJihhLmlkPWkuZGF0YS5pZCksaS5kYXRhLmtleXYmJihhLmtleXY9aS5kYXRhLmtleXYpLHQuZGlnaXRydXN0PWF9fXJldHVybntleHQ6dH19ZnVuY3Rpb24gcShlLHIsdCxuKXtpZihyKXt2YXIgaT17aWQ6cn07biYmKGkuZXh0PW4pLGUucHVzaCh7c291cmNlOnQsdWlkczpbaV19KX19ZnVuY3Rpb24geChlKXtpZihlLmdkcHJDb25zZW50fHxlLnVzcENvbnNlbnQpe3ZhciByPXt9O3JldHVybiBlLmdkcHJDb25zZW50JiYoci5nZHByPWUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSxlLnVzcENvbnNlbnQmJihyLnVzX3ByaXZhY3k9ZS51c3BDb25zZW50KSx7ZXh0OnJ9fXJldHVybiBudWxsfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIGU/e2V4dDp7c2NoYWluOmV9fTpudWxsfWZ1bmN0aW9uIFIoZSl7dmFyIHI9ZS5wYXJhbXMuYmlkZmxvb3I7aWYoT2JqZWN0KG4uaXNGbikoZS5nZXRGbG9vcikpe3ZhciB0PWUuZ2V0Rmxvb3Ioe21lZGlhVHlwZTplLm1lZGlhVHlwZXMuYmFubmVyPyJiYW5uZXIiOmUubWVkaWFUeXBlcy52aWRlbz8idmlkZW8iOiJOYXRpdmUiLHNpemU6IioiLGN1cnJlbmN5Omx9KTt0JiZ0LmZsb29yJiYocj10LmZsb29yKX1yZXR1cm4gcn1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikoZil9fSxbNzMwXSk7CnVwYmpzQ2h1bmsoWzE0Nl0sezc1MjpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNzUzKX0sNzUzOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKTt2YXIgbj1yKDApLGE9cigzKSxzPXIoMSk7ZnVuY3Rpb24gaSgpe3JldHVybihpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBuLGEscz1bXSxpPSEwLG89ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKGk9KG49ci5uZXh0KCkpLmRvbmUpJiYocy5wdXNoKG4udmFsdWUpLCF0fHxzLmxlbmd0aCE9PXQpO2k9ITApO31jYXRjaChlKXtvPSEwLGE9ZX1maW5hbGx5e3RyeXtpfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgYX19cmV0dXJuIHN9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gdShlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4gdShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gdShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufXZhciBjPSJodHRwczovLyIuY29uY2F0KCJlLnJlbGF5LmJpZCIsIi9wL29wZW5ydGIyIiksZD1mdW5jdGlvbihlKXtyZXR1cm57ZmQ6MSx0aWQ6ZS50cmFuc2FjdGlvbklkLGV4dDp7c2NoYWluOmUuc2NoYWlufX19LGw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5iaWRJZCxyPWUucGFyYW1zLGE9ZS5tZWRpYVR5cGVzLHM9ZS5hZFVuaXRDb2RlO24ubG9nTWVzc2FnZSh7dHJhY2U6Im1ha2VJbXAiLGJpZElkOnQscGFyYW1zOnJ9KTt2YXIgaT1bXTtmb3IodmFyIHUgaW4gYSl7dmFyIGM9e2lkOnQsdGFnaWQ6cyxleHQ6e2EweDp7YmlkZGVyczpyfX19LGQ9YVt1XS5zaXplcy5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PW8oZSwyKTtyZXR1cm57dzp0WzBdLGg6dFsxXX19KSk7Y1t1XT17Zm9ybWF0OmR9LGkucHVzaChjKX1yZXR1cm4gaX0sZz1mdW5jdGlvbihlLHQpe24ubG9nTWVzc2FnZSh7dHJhY2U6Im1ha2VVc2VyIix2YWxpZEJpZFJlcXVlc3Q6ZX0pO3ZhciByPXtleHQ6e2NvbnNlbnQ6KHQuZ2RwckNvbnNlbnR8fHt9KS5jb25zZW50U3RyaW5nfHwiIn19O3JldHVybiBlLnVzZXJJZEFzRWlkcyYmKHIuZXh0LmVpZHM9ZS51c2VySWRBc0VpZHMpLHJ9LHA9ZnVuY3Rpb24oZSl7cmV0dXJue2NvcHBhOmEuYi5nZXRDb25maWcoImNvcHBhIil8fCExPzE6MCxleHQ6e2dkcHI6KGUuZ2RwckNvbnNlbnR8fHt9KS5nZHByQXBwbGllc3x8ITE/MTowfX19LGY9e2NvZGU6InJlbGF5Iixpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJpc0JpZFJlcXVlc3RWYWxpZCIsYmlkOmV9KTt0cnl7cmV0dXJuIGUucGFyYW1zJiZlLnNpemVzLmxlbmd0aD4wfWNhdGNoKGUpe3JldHVybiBuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJpc0JpZFJlcXVlc3RWYWxpZDo6ZXhjZXB0aW9uIixleGNlcHRpb246ZX0pLCExfX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPWEuYi5nZXRDb25maWcoInJlbGF5QWNjb3VudElkIik7cmV0dXJuIHJ8fG4ubG9nV2Fybih7dHJhY2U6ImJ1aWxkUmVxdWVzdHMiLG1lc3NhZ2U6IkZhaWxlZCB0byBidWlsZCByZXF1ZXN0OiB5b3VyIGFjY291bnRJZCBpcyBub3Qgc2V0LiBQbGVhc2Ugc2V0IHBianMuc2V0Q29uZmlnKHthY2NvdW50SWQ6IEFDQ09VTlRfSUQsIC4uLn0pLiJ9KSxuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJidWlsZFJlcXVlc3RzIix2YWxpZEJpZFJlcXVlc3RzOmUsYmlkZGVyUmVxdWVzdDp0LGFjY291bnRJZDpyfSksZS5tYXAoKGZ1bmN0aW9uKGUpe24ubG9nTWVzc2FnZSh7dHJhY2U6ImJ1aWxkUmVxdWVzdHM6Om1hcCJ9KTt2YXIgcz1mdW5jdGlvbihlLHQpe24ubG9nTWVzc2FnZSh7dHJhY2U6Im1ha2VSZWxheVJlcXVlc3QiLHZhbGlkQmlkUmVxdWVzdDplfSk7dmFyIHIscyxvLHUsYyxmLGIsbSx5PXtpZDplLmF1Y3Rpb25JZCxzb3VyY2U6ZChlKSxpbXA6bChlKSxiYWR2OltdLGRldmljZTooYz0od2luZG93fHx7fSkubmF2aWdhdG9yfHx7fSxmPWMucGxhdGZvcm18fCIiLGI9Yy51c2VyQWdlbnR8fCIiLHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pbmRleE9mKHQpPi0xfSxvPWYudG9Mb3dlckNhc2UoKSx1PXMobywid2luIil8fHMobywibWFjIil8fHMobywieDExIil8fHMobywibGludXgiKSxtPXttb2JpbGU6MSxwYzoyLHBob25lOjR9WyhzKG8sImlwaG9uZSIpfHxzKG8sImFuZHJvaWQiKT8icGhvbmUiOnUmJiJwYyIpfHwibW9iaWxlIl0se3VhOmIsbGFuZ3VhZ2U6KGMubGFuZ3VhZ2VzWzFdfHwiIikudG9VcHBlckNhc2UoKSxkZXZpY2V0eXBlOm0sanM6MX0pLHNpdGU6KHI9bmV3IFVSTChhLmIuZ2V0Q29uZmlnKCJwdWJsaXNoZXJEb21haW4iKXx8IiIpLHtpZDoiMCIscGFnZTpyLGRvbWFpbjoocnx8e30pLmhvc3R9KSx1c2VyOmcoZSx0KSxyZWdzOnAodCksYXQ6MSxleHQ6e3NzbDoxfX07cmV0dXJuIGkoeSxhLmIuZ2V0Q29uZmlnKCJvcnRiMiIpfHx7fSxlLm9ydGIySW1wfHx7fSl9KGUsdCk7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOiIiLmNvbmNhdChjLCI/YT0iKS5jb25jYXQociksZGF0YTpzfX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXtpZihuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJpbnRlcnByZXRSZXNwb25zZSIsc2VydmVyUmVzcG9uc2U6ZSxyZXF1ZXN0OnR9KSwhZSlyZXR1cm5bXTt2YXIgcj0oKGV8fHt9KS5ib2R5fHx7fSkuc2VhdGJpZHx8W107cmV0dXJuIG4ubG9nTWVzc2FnZSh7c2VhdEJpZHM6cn0pLHIubGVuZ3RoP3IuZmxhdE1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkLm1hcCgoZnVuY3Rpb24odCl7bi5sb2dNZXNzYWdlKHt0cmFjZToiaW50ZXJwcmV0UmVzcG9uc2U6OnNlYXQuYmlkOjptYXAiLGJpZDp0fSksdC5idEJpZGRlckNvZGU9ZS5zZWF0O3ZhciByPWZ1bmN0aW9uKGUpe3JldHVybiBuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJuZXdCaWRSZXNwb25zZSIsYmlkOmV9KSx7cmVxdWVzdElkOmUuaW1waWQsY3BtOmUucHJpY2UsY3VycmVuY3k6ZS5jdXJyZW5jeXx8IlVTRCIsd2lkdGg6ZS53fHwzNTAsaGVpZ2h0OmUuaHx8MjAwLGFkOmUuYWRtLHR0bDplLnR0bHx8MzYwLGNyZWF0aXZlSWQ6ZS5jcmlkLG5ldFJldmVudWU6ITAsYnRCaWRkZXJDb2RlOmUuYnRCaWRkZXJDb2RlfX0odCk7cmV0dXJuIG4ubG9nTWVzc2FnZSh7YmlkUmVzcG9uc2U6cn0pLHJ9KSl9KSk6W119LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixhKXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJnZXRVc2VyU3luY3MiLHNlcnZlclJlc3BvbnNlczp0fSk7dmFyIHM9KCgodFswXXx8e30pLmJvZHl8fHt9KS5leHR8fHt9KS51c2VyX3N5bmNzfHxbXTtyZXR1cm4gZS5waXhlbEVuYWJsZWQmJnM/KG4ubG9nTWVzc2FnZSh7dHJhY2U6ImdldFVzZXJTeW5jczo6c3luY3NGb3VuZCIsc3luY3M6c30pLHMpOltdfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7bi5sb2dNZXNzYWdlKHt0cmFjZToib25UaW1lb3V0IixzdGF0dXM6Ik5vdCBpbXBsZW1lbnRlZC4iLHRpbWVvdXREYXRhOmV9KX0sb25CaWRXb246ZnVuY3Rpb24oZSl7bi5sb2dNZXNzYWdlKHt0cmFjZToib25CaWRXb24iLHN0YXR1czoiTm90IGltcGxlbWVudGVkLiJ9KX0sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24oZSl7bi5sb2dNZXNzYWdlKHt0cmFjZToib25TZXRUYXJnZXRpbmciLHN0YXR1czoiTm90IGltcGxlbWVudGVkLiJ9KX19O09iamVjdChzLnJlZ2lzdGVyQmlkZGVyKShmKX19LFs3NTJdKTsKdXBianNDaHVuayhbMTQzXSx7NzYwOmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg3NjEpfSw3NjE6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBufSkpO3ZhciBhPXQoMCksaT10KDEpLHM9dCgyKTt2YXIgbj1uZXcgZnVuY3Rpb24oKXt0aGlzLmNvZGU9InJoeXRobW9uZSIsdGhpcy5zdXBwb3J0ZWRNZWRpYVR5cGVzPVtzLmQscy5iXTt2YXIgZT1bMiwzLDUsNl0scj1bInZpZGVvL21wNCJdLHQ9WzEsMiwzLDRdLGk9WzFdLG49WzEsMiw1XSxkPXt9LHA9dGhpcztmdW5jdGlvbiBjKGUscil7dmFyIHQsaT1bXSxzPTA7aWYociYmci5yZWZlcmVySW5mbyYmci5yZWZlcmVySW5mby5zdGFjay5sZW5ndGgpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtuLmhyZWY9ci5yZWZlcmVySW5mby5zdGFja1swXSxzPSJodHRwczoiPT1uLnByb3RvY29sPzE6MH1mb3IodmFyIHA9MDtwPGUubGVuZ3RoO3ArKyl7ZFtlW3BdLmFkVW5pdENvZGVdPWVbcF07dmFyIGM9e307aWYoYy5pZD1lW3BdLmFkVW5pdENvZGUsYy5iaWRmbG9vcj0wLGMuc2VjdXJlPXMsT2JqZWN0KGEuZGVlcEFjY2VzcykoZVtwXSwibWVkaWFUeXBlcy5iYW5uZXIiKXx8ImJhbm5lciI9PT1PYmplY3QoYS5kZWVwQWNjZXNzKShlW3BdLCJtZWRpYVR5cGUiKSl7dmFyIG89dihlW3BdKTtvJiYoYy5iYW5uZXI9byl9KE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbcF0sIm1lZGlhVHlwZXMudmlkZW8iKXx8InZpZGVvIj09PU9iamVjdChhLmRlZXBBY2Nlc3MpKGVbcF0sIm1lZGlhVHlwZSIpKSYmKGMudmlkZW89dShlW3BdKSksKGMuYmFubmVyfHxjLnZpZGVvKSYmKGMuZXh0PXtiaWRkZXI6e3BsYWNlbWVudElkOih0PWVbcF0pLnBhcmFtcy5wbGFjZW1lbnRJZCx6b25lOnQucGFyYW1zJiZ0LnBhcmFtcy56b25lP3QucGFyYW1zLnpvbmU6IjFyIixwYXRoOnQucGFyYW1zJiZ0LnBhcmFtcy5wYXRoP3QucGFyYW1zLnBhdGg6Im12byJ9fSxpLnB1c2goYykpfXJldHVybiBpfWZ1bmN0aW9uIG8oZSl7dmFyIHI9e2RvbWFpbjoiIixwYWdlOiIiLHJlZjoiIn07aWYoZSYmZS5yZWZlcmVySW5mbyl7dmFyIHQ9ZS5yZWZlcmVySW5mbztpZihyLnJlZj10LnJlZmVyZXIsdC5zdGFjay5sZW5ndGgpe3IucGFnZT10LnN0YWNrW3Quc3RhY2subGVuZ3RoLTFdO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTthLmhyZWY9dC5zdGFja1swXSxyLmRvbWFpbj1hLmhvc3RuYW1lfX1yZXR1cm4gcn1mdW5jdGlvbiBtKGUpe3ZhciByPXBhcnNlSW50KGVbMF0pLHQ9cGFyc2VJbnQoZVsxXSk7cmV0dXJuIHI9PXImJnQ9PXQmJltyLHRdfWZ1bmN0aW9uIHYoZSl7dmFyIHI9ZS5zaXplcztlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJihyPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpO3ZhciB0PU9iamVjdChhLnBhcnNlU2l6ZXNJbnB1dCkociksaT1bXTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlKXt2YXIgcj1tKGUuc3BsaXQoIngiKSk7ciYmaS5wdXNoKHt3OnJbMF0saDpyWzFdfSl9fSkpLCEhaS5sZW5ndGgmJntmb3JtYXQ6aX19ZnVuY3Rpb24gdShzKXt2YXIgZD1bXTtpZihPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSl7dmFyIHA9cy5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemU7T2JqZWN0KGEuaXNBcnJheSkocy5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pJiYocD1zLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSk7dmFyIGM9bShwKTtjJiYoZD1jKX1yZXR1cm57bWltZXM6T2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5taW1lcyIpfHxyLHByb3RvY29sczpPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLnByb3RvY29scyIpfHxlLHc6ZFswXSxoOmRbMV0sc3RhcnRkZWxheTpPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLnN0YXJ0ZGVsYXkiKXx8MCxza2lwOk9iamVjdChhLmRlZXBBY2Nlc3MpKHMsIm1lZGlhVHlwZXMudmlkZW8uc2tpcCIpfHwwLHBsYXliYWNrbWV0aG9kOk9iamVjdChhLmRlZXBBY2Nlc3MpKHMsIm1lZGlhVHlwZXMudmlkZW8ucGxheWJhY2ttZXRob2QiKXx8dCxkZWxpdmVyeTpPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLmRlbGl2ZXJ5Iil8fGksYXBpOk9iamVjdChhLmRlZXBBY2Nlc3MpKHMsIm1lZGlhVHlwZXMudmlkZW8uYXBpIil8fG59fWZ1bmN0aW9uIGwoZSxyKXtmb3IodmFyIHQ9MDt0PHIubGVuZ3RoO3QrKylpZihyW3RdLnBhcmFtcyYmclt0XS5wYXJhbXNbZV0pcmV0dXJuIHJbdF0ucGFyYW1zW2VdfXRoaXMuaXNCaWRSZXF1ZXN0VmFsaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuISghZS5wYXJhbXN8fCFlLnBhcmFtcy5wbGFjZW1lbnRJZCl9LHRoaXMuZ2V0VXNlclN5bmNzPWZ1bmN0aW9uKGUscix0KXtyZXR1cm5bXX0sdGhpcy5idWlsZFJlcXVlc3RzPWZ1bmN0aW9uKGUscil7dmFyIHQ9bCgicGxhY2VtZW50SWQiLGUpO2lmKHZvaWQgMD09PXR8fGUubGVuZ3RoPDEpcmV0dXJuW107dmFyIGk9bCgiZW5kcG9pbnQiLGUpfHwiaHR0cHM6Ly90YWcuMXJ4LmlvL3JtcC97cGxhY2VtZW50SWR9LzAve3BhdGh9P3o9e3pvbmV9IixzPWwoInpvbmUiLGUpfHwiMXIiLG49bCgicGF0aCIsZSl8fCJtdm8iO2k9KGk9KGk9aS5yZXBsYWNlKC9ce3BsYWNlbWVudElkXH0vaSx0KSkucmVwbGFjZSgvXHt6b25lXH0vaSxzKSkucmVwbGFjZSgvXHtwYXRoXH0vaSxuKTt2YXIgZD0vKF52fChcLjApKyQpL2dpO2krPSImaGJ2PSIrIjUuMjAuMiIucmVwbGFjZShkLCIiKSsiLCIrIjIuMSIucmVwbGFjZShkLCIiKTt2YXIgcD1mdW5jdGlvbihlLHIpe3ZhciB0PXtpZDplWzBdLmJpZGRlclJlcXVlc3RJZCxpbXA6YyhlLHIpLHNpdGU6byhyKSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsaXA6IiIsZG50Ok9iamVjdChhLmdldEROVCkoKT8xOjB9LHVzZXI6e2V4dDp7Y29uc2VudDpPYmplY3QoYS5kZWVwQWNjZXNzKShyLCJnZHByQ29uc2VudC5nZHByQXBwbGllcyIpP3IuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZzoiIn19LGF0OjEsdG1heDoxZTMscmVnczp7ZXh0OntnZHByOiEhT2JqZWN0KGEuZGVlcEFjY2VzcykociwiZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMiKSYmQm9vbGVhbigxJnIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpfX19O3JldHVybiBlWzBdLnNjaGFpbiYmKHQuc291cmNlPXtleHQ6e3NjaGFpbjplWzBdLnNjaGFpbn19KSx0fShlLHIpO3JldHVybiBwLmltcC5sZW5ndGg/e21ldGhvZDoiUE9TVCIsdXJsOmksZGF0YTpKU09OLnN0cmluZ2lmeShwKX06e319LHRoaXMuaW50ZXJwcmV0UmVzcG9uc2U9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5ib2R5fHxbXSx0PVtdLGE9MDtpZihyLnNlYXRiaWQpe3ZhciBpPVtdO2ZvcihhPTA7YTxyLnNlYXRiaWQubGVuZ3RoO2ErKylmb3IodmFyIHM9MDtzPHIuc2VhdGJpZFthXS5iaWQubGVuZ3RoO3MrKylpLnB1c2goci5zZWF0YmlkW2FdLmJpZFtzXSk7cj1pfWZvcihhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBuPXJbYV0sYz1kW24uaW1waWRdLG89e3JlcXVlc3RJZDpjLmJpZElkLGJpZGRlckNvZGU6cC5jb2RlLGNwbTpwYXJzZUZsb2F0KG4ucHJpY2UpLHdpZHRoOm4udyxoZWlnaHQ6bi5oLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOm4uYWRvbWFpbn0sY3JlYXRpdmVJZDpuLmNyaWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzUwfTtjLm1lZGlhVHlwZXMmJmMubWVkaWFUeXBlcy52aWRlbz8oby52YXN0VXJsPW4ubnVybCxvLm1lZGlhVHlwZT0idmlkZW8iLG8udHRsPTYwMCk6by5hZD1uLmFkbSx0LnB1c2gobyl9cmV0dXJuIHR9fTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikobil9fSxbNzYwXSk7CnVwYmpzQ2h1bmsoWzEzN10sezc3ODpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNzc5KX0sNzc5OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gan0pKSx0Lmhhc1ZpZGVvTWVkaWFUeXBlPUksci5kKHQsInJlc2V0UnViaUNvbmYiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLHQubWFzU2l6ZU9yZGVyaW5nPVIsdC5kZXRlcm1pbmVSdWJpY29uVmlkZW9TaXplSWQ9eix0LmdldFByaWNlR3JhbnVsYXJpdHk9VCx0Lmhhc1ZhbGlkVmlkZW9QYXJhbXM9RSx0Lmhhc1ZhbGlkU3VwcGx5Q2hhaW5QYXJhbXM9VSx0LmVuY29kZVBhcmFtPVAsdC5yZXNldFVzZXJTeW5jPWZ1bmN0aW9uKCl7Tj0hMX07dmFyIG49cigwKSxpPXIoMSksbz1yKDMpLGE9cigyKSxjPXIoMTEpLHM9ci5uKGMpLGQ9cigxMyksdT1yKDE0KTtmdW5jdGlvbiBwKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBsKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3AoT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtnKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpwKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGIoKXtyZXR1cm4oYj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixpLG89W10sYT0hMCxjPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShhPShuPXIubmV4dCgpKS5kb25lKSYmKG8ucHVzaChuLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7Yz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIG0oZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIG0oZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIG0oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn1mdW5jdGlvbiBnKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiB2KGUpe3JldHVybih2PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHk9Imh0dHBzOi8vdmlkZW8tb3V0c3RyZWFtLnJ1Ymljb25wcm9qZWN0LmNvbS9hcGV4LTIuMC4wLmpzIix4PXt9O28uYi5nZXRDb25maWcoInJ1Ymljb24iLChmdW5jdGlvbihlKXtPYmplY3Qobi5tZXJnZURlZXApKHgsZS5ydWJpY29uKX0pKTt2YXIgaD17MToiNDY4eDYwIiwyOiI3Mjh4OTAiLDU6IjEyMHg5MCIsNzoiMTI1eDEyNSIsODoiMTIweDYwMCIsOToiMTYweDYwMCIsMTA6IjMwMHg2MDAiLDEzOiIyMDB4MjAwIiwxNDoiMjUweDI1MCIsMTU6IjMwMHgyNTAiLDE2OiIzMzZ4MjgwIiwxNzoiMjQweDQwMCIsMTk6IjMwMHgxMDAiLDMxOiI5ODB4MTIwIiwzMjoiMjUweDM2MCIsMzM6IjE4MHg1MDAiLDM1OiI5ODB4MTUwIiwzNzoiNDY4eDQwMCIsMzg6IjkzMHgxODAiLDM5OiI3NTB4MTAwIiw0MDoiNzUweDIwMCIsNDE6Ijc1MHgzMDAiLDQyOiIyeDQiLDQzOiIzMjB4NTAiLDQ0OiIzMDB4NTAiLDQ4OiIzMDB4MzAwIiw1MzoiMTAyNHg3NjgiLDU0OiIzMDB4MTA1MCIsNTU6Ijk3MHg5MCIsNTc6Ijk3MHgyNTAiLDU4OiIxMDAweDkwIiw1OToiMzIweDgwIiw2MDoiMzIweDE1MCIsNjE6IjEwMDB4MTAwMCIsNjQ6IjU4MHg1MDAiLDY1OiI2NDB4NDgwIiw2NjoiOTMweDYwMCIsNjc6IjMyMHg0ODAiLDY4OiIxODAweDEwMDAiLDcyOiIzMjB4MzIwIiw3MzoiMzIweDE2MCIsNzg6Ijk4MHgyNDAiLDc5OiI5ODB4MzAwIiw4MDoiOTgweDQwMCIsODM6IjQ4MHgzMDAiLDg1OiIzMDB4MTIwIiw5MDoiNTQ4eDE1MCIsOTQ6Ijk3MHgzMTAiLDk1OiI5NzB4MTAwIiw5NjoiOTcweDIxMCIsMTAxOiI0ODB4MzIwIiwxMDI6Ijc2OHgxMDI0IiwxMDM6IjQ4MHgyODAiLDEwNToiMjUweDgwMCIsMTA4OiIzMjB4MjQwIiwxMTM6IjEwMDB4MzAwIiwxMTc6IjMyMHgxMDAiLDEyNToiODAweDI1MCIsMTI2OiIyMDB4NjAwIiwxNDQ6Ijk4MHg2MDAiLDE0NToiOTgweDE1MCIsMTUyOiIxMDAweDI1MCIsMTU2OiI2NDB4MzIwIiwxNTk6IjMyMHgyNTAiLDE3OToiMjUweDYwMCIsMTk1OiI2MDB4MzAwIiwxOTg6IjY0MHgzNjAiLDE5OToiNjQweDIwMCIsMjEzOiIxMDMweDU5MCIsMjE0OiI5ODB4MzYwIiwyMjE6IjF4MSIsMjI5OiIzMjB4MTgwIiwyMzA6IjIwMDB4MTQwMCIsMjMyOiI1ODB4NDAwIiwyMzQ6IjZ4NiIsMjUxOiIyeDIiLDI1NjoiNDgweDgyMCIsMjU3OiI0MDB4NjAwIiwyNTg6IjUwMHgyMDAiLDI1OToiOTk4eDIwMCIsMjY0OiI5NzB4MTAwMCIsMjY1OiIxOTIweDEwODAiLDI3NDoiMTgwMHgyMDAiLDI3ODoiMzIweDUwMCIsMjgyOiIzMjB4NDAwIiwyODg6IjY0MHgzODAiLDU0ODoiNTAweDEwMDAiLDU1MDoiOTgweDQ4MCIsNTUyOiIzMDB4MjAwIiw1NTg6IjY0MHg2NDAiLDU2MjoiMzAweDQzMSIsNTY0OiIzMjB4NDMxIiw1NjY6IjMyMHgzMDAiLDU2ODoiMzAweDE1MCIsNTcwOiIzMDB4MTI1Iiw1NzI6IjI1MHgzNTAiLDU3NDoiNjIweDg5MSIsNTc2OiI2MTB4ODc3Iiw1Nzg6Ijk4MHg1NTIiLDU4MDoiNTA1eDY1NiJ9O09iamVjdChuLl9lYWNoKShoLChmdW5jdGlvbihlLHQpe3JldHVybiBoW2VdPXR9KSk7dmFyIGo9e2NvZGU6InJ1Ymljb24iLGd2bGlkOjUyLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiIT09dihlLnBhcmFtcykpcmV0dXJuITE7Zm9yKHZhciB0PTAscj1bImFjY291bnRJZCIsInNpdGVJZCIsInpvbmVJZCJdO3Q8ci5sZW5ndGg7dCsrKWlmKGUucGFyYW1zW3JbdF1dPXBhcnNlSW50KGUucGFyYW1zW3JbdF1dKSxpc05hTihlLnBhcmFtc1tyW3RdXSkpcmV0dXJuIE9iamVjdChuLmxvZ0Vycm9yKSgiUnViaWNvbjogd3JvbmcgZm9ybWF0IG9mIGFjY291bnRJZCBvciBzaXRlSWQgb3Igem9uZUlkLiIpLCExO3ZhciBpPXcoZSwhMCk7cmV0dXJuISFpJiYoInZpZGVvIiE9PWl8fEUoZSkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W10saT1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuInZpZGVvIj09PXcoZSl9KSkubWFwKChmdW5jdGlvbihlKXtlLnN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKTt2YXIgcj17aWQ6ZS50cmFuc2FjdGlvbklkLHRlc3Q6by5iLmdldENvbmZpZygiZGVidWciKT8xOjAsY3VyOlsiVVNEIl0sc291cmNlOnt0aWQ6ZS50cmFuc2FjdGlvbklkfSx0bWF4OnQudGltZW91dCxpbXA6W3tleHA6by5iLmdldENvbmZpZygiczJzQ29uZmlnLmRlZmF1bHRUdGwiKSxpZDplLmFkVW5pdENvZGUsc2VjdXJlOjEsZXh0Omcoe30sZS5iaWRkZXIsZS5wYXJhbXMpLHZpZGVvOk9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKXx8e319XSxleHQ6e3ByZWJpZDp7Y2hhbm5lbDp7bmFtZToicGJqcyIsdmVyc2lvbjp1cGJqcy52ZXJzaW9ufSxjYWNoZTp7dmFzdHhtbDp7cmV0dXJuQ3JlYXRpdmU6ITA9PT14LnJldHVyblZhc3R9fSx0YXJnZXRpbmc6e2luY2x1ZGV3aW5uZXJzOiEwLGluY2x1ZGViaWRkZXJrZXlzOiExLHByaWNlZ3JhbnVsYXJpdHk6VChvLmIpfSxiaWRkZXJzOntydWJpY29uOntpbnRlZ3JhdGlvbjp4LmludF90eXBlfHwicGJqcyJ9fX19fTsicnViaWNvbiIhPT1lLmJpZGRlciYmKHIuZXh0LnByZWJpZC5hbGlhc2VzPWcoe30sZS5iaWRkZXIsInJ1Ymljb24iKSk7dmFyIGksYyxzPU9iamVjdCh1LmEpKCkuaW5zdGFsbGVkTW9kdWxlcztpZighc3x8cy5sZW5ndGgmJi0xPT09cy5pbmRleE9mKCJydWJpY29uQW5hbHl0aWNzQWRhcHRlciIpfHxPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIsImV4dC5wcmViaWQuYW5hbHl0aWNzIix7cnViaWNvbjp7ImNsaWVudC1hbmFseXRpY3MiOiEwfX0pLCJmdW5jdGlvbiIhPXR5cGVvZiBlLmdldEZsb29yfHx4LmRpc2FibGVGbG9vcnMpaT1wYXJzZUZsb2F0KE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5mbG9vciIpKTtlbHNle3ZhciBkO3RyeXtkPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToidmlkZW8iLHNpemU6QShlLCJ2aWRlbyIpfSl9Y2F0Y2goZSl7T2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBnZXRGbG9vciB0aHJldyBhbiBlcnJvcjogIixlKX1pPSJvYmplY3QiIT09dihkKXx8IlVTRCIhPT1kLmN1cnJlbmN5fHxpc05hTihwYXJzZUludChkLmZsb29yKSk/dm9pZCAwOnBhcnNlRmxvYXQoZC5mbG9vcil9KGlzTmFOKGkpfHwoci5pbXBbMF0uYmlkZmxvb3I9aSksci5pbXBbMF0uZXh0W2UuYmlkZGVyXS52aWRlby5zaXplX2lkPXooZSksZnVuY3Rpb24oZSx0LHIpe2lmKCFlKXJldHVybjsib2JqZWN0Ij09PXYoby5iLmdldENvbmZpZygiYXBwIikpP2UuYXBwPW8uYi5nZXRDb25maWcoImFwcCIpOmUuc2l0ZT17cGFnZTpPKHQscil9OyJvYmplY3QiPT09dihvLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkmJihlLmRldmljZT1vLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSk7dC5wYXJhbXMudmlkZW8ubGFuZ3VhZ2UmJlsic2l0ZSIsImRldmljZSJdLmZvckVhY2goKGZ1bmN0aW9uKHIpe2Vbcl0mJigic2l0ZSI9PT1yP2Vbcl0uY29udGVudD1iKHtsYW5ndWFnZTp0LnBhcmFtcy52aWRlby5sYW5ndWFnZX0sZVtyXS5jb250ZW50KTplW3JdPWIoe2xhbmd1YWdlOnQucGFyYW1zLnZpZGVvLmxhbmd1YWdlfSxlW3JdKSl9KSl9KHIsZSx0KSxmdW5jdGlvbihlLHQpeyJvYmplY3QiPT09dihlLmltcFswXS52aWRlbykmJnZvaWQgMD09PWUuaW1wWzBdLnZpZGVvLnNraXAmJihlLmltcFswXS52aWRlby5za2lwPXQucGFyYW1zLnZpZGVvLnNraXApOyJvYmplY3QiPT09dihlLmltcFswXS52aWRlbykmJnZvaWQgMD09PWUuaW1wWzBdLnZpZGVvLnNraXBhZnRlciYmKGUuaW1wWzBdLnZpZGVvLnNraXBhZnRlcj10LnBhcmFtcy52aWRlby5za2lwZGVsYXkpOyJvYmplY3QiPT09dihlLmltcFswXS52aWRlbykmJnZvaWQgMD09PWUuaW1wWzBdLnZpZGVvLnBvcyYmKCJhdGYiPT09dC5wYXJhbXMucG9zaXRpb24/ZS5pbXBbMF0udmlkZW8ucG9zPTE6ImJ0ZiI9PT10LnBhcmFtcy5wb3NpdGlvbiYmKGUuaW1wWzBdLnZpZGVvLnBvcz0zKSk7dmFyIHI9QSh0LCJ2aWRlbyIpO2UuaW1wWzBdLnZpZGVvLnc9clswXSxlLmltcFswXS52aWRlby5oPXJbMV19KHIsZSksdC5nZHByQ29uc2VudCkmJigiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoYz10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCksT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJyZWdzLmV4dC5nZHByIixjKSxPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIsInVzZXIuZXh0LmNvbnNlbnQiLHQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpO3QudXNwQ29uc2VudCYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJyZWdzLmV4dC51c19wcml2YWN5Iix0LnVzcENvbnNlbnQpO3ZhciBwPU9iamVjdChuLmRlZXBBY2Nlc3MpKHQsImJpZHMuMC51c2VySWRBc0VpZHMiKTtwJiZwLmxlbmd0aCYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJ1c2VyLmV4dC5laWRzIixwKTt2YXIgbD1vLmIuZ2V0Q29uZmlnKCJ1c2VyLmlkIik7bCYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJ1c2VyLmlkIixsKSwhMD09PW8uYi5nZXRDb25maWcoImNvcHBhIikmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwicmVncy5jb3BwYSIsMSksZS5zY2hhaW4mJlUoZS5zY2hhaW4pJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIsInNvdXJjZS5leHQuc2NoYWluIixlLnNjaGFpbik7dmFyIGY9by5iLmdldENvbmZpZygibXVsdGliaWQiKTtyZXR1cm4gZiYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJleHQucHJlYmlkLm11bHRpYmlkIixmLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cltlLnRvTG93ZXJDYXNlKCldPXRbZV19KSksZS5wdXNoKHIpLGV9KSxbXSkpLFMoZSxhLmQsciksZS5zdG9yZWRBdWN0aW9uUmVzcG9uc2UmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkoci5pbXBbMF0sImV4dC5wcmViaWQuc3RvcmVkYXVjdGlvbnJlc3BvbnNlLmlkIixlLnN0b3JlZEF1Y3Rpb25SZXNwb25zZS50b1N0cmluZygpKSxPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIuaW1wWzBdLCJleHQucHJlYmlkLmF1Y3Rpb250aW1lc3RhbXAiLHQuYXVjdGlvblN0YXJ0KSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoeC52aWRlb0hvc3R8fCJwcmViaWQtc2VydmVyIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS9vcGVucnRiMi9hdWN0aW9uIiksZGF0YTpyLGJpZFJlcXVlc3Q6ZX19KSk7aWYoITAhPT14LnNpbmdsZVJlcXVlc3Qpcj1pLmNvbmNhdChlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT13KGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ai5jcmVhdGVTbG90UGFyYW1zKGUsdCk7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoeC5iYW5uZXJIb3N0fHwiZmFzdGxhbmUiLCIucnViaWNvbnByb2plY3QuY29tL2EvYXBpL2Zhc3RsYW5lLmpzb24iKSxkYXRhOmouZ2V0T3JkZXJlZFBhcmFtcyhyKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIGk9clt0XTtyZXR1cm4gT2JqZWN0KG4uaXNTdHIpKGkpJiYiIiE9PWl8fE9iamVjdChuLmlzTnVtYmVyKShpKT8iIi5jb25jYXQoZSkuY29uY2F0KFAodCxpKSwiJiIpOmV9KSwiIikrInNsb3RzPTEmcmFuZD0iLmNvbmNhdChNYXRoLnJhbmRvbSgpKSxiaWRSZXF1ZXN0OmV9fSkpKTtlbHNle3ZhciBjPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIj09PXcoZSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybihlW3QucGFyYW1zLnNpdGVJZF09ZVt0LnBhcmFtcy5zaXRlSWRdfHxbXSkucHVzaCh0KSxlfSkse30pO3I9aS5jb25jYXQoT2JqZWN0LmtleXMoYykucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciBpLG87cmV0dXJuKGk9Y1tyXSxvPTEwLGkubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiB0JW89PTA/aS5zbGljZSh0LHQrbyk6bnVsbH0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpKS5mb3JFYWNoKChmdW5jdGlvbihyKXt2YXIgaT1qLmNvbWJpbmVTbG90VXJsUGFyYW1zKHIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gai5jcmVhdGVTbG90UGFyYW1zKGUsdCl9KSkpO2UucHVzaCh7bWV0aG9kOiJHRVQiLHVybDoiaHR0cHM6Ly8iLmNvbmNhdCh4LmJhbm5lckhvc3R8fCJmYXN0bGFuZSIsIi5ydWJpY29ucHJvamVjdC5jb20vYS9hcGkvZmFzdGxhbmUuanNvbiIpLGRhdGE6ai5nZXRPcmRlcmVkUGFyYW1zKGkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgcj1pW3RdO3JldHVybiBPYmplY3Qobi5pc1N0cikocikmJiIiIT09cnx8T2JqZWN0KG4uaXNOdW1iZXIpKHIpPyIiLmNvbmNhdChlKS5jb25jYXQoUCh0LHIpLCImIik6ZX0pLCIiKSsic2xvdHM9Ii5jb25jYXQoci5sZW5ndGgsIiZyYW5kPSIpLmNvbmNhdChNYXRoLnJhbmRvbSgpKSxiaWRSZXF1ZXN0OnJ9KX0pKSxlfSksW10pKX1yZXR1cm4gcn0sZ2V0T3JkZXJlZFBhcmFtczpmdW5jdGlvbihlKXt2YXIgdD0vXnRnX3YvLHI9L150Z19pLyxuPS9eZWlkX3xedHBpZF8vLGk9WyJhY2NvdW50X2lkIiwic2l0ZV9pZCIsInpvbmVfaWQiLCJzaXplX2lkIiwiYWx0X3NpemVfaWRzIiwicF9wb3MiLCJnZHByIiwiZ2Rwcl9jb25zZW50IiwidXNfcHJpdmFjeSIsInJwX3NjaGFpbiJdLmNvbmNhdChPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBuLnRlc3QoZSl9KSkpLmNvbmNhdChbInhfbGl2ZXJhbXBpZGwiLCJwcHVpZCIsInJmIiwicF9nZW8ubGF0aXR1ZGUiLCJwX2dlby5sb25naXR1ZGUiLCJrdyJdKS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KGUpfSkpKS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gci50ZXN0KGUpfSkpKS5jb25jYXQoWyJ0a19mbGludCIsInhfc291cmNlLnRpZCIsInhfc291cmNlLnBjaGFpbiIsInBfc2NyZWVuX3JlcyIsInJwX2Zsb29yIiwicnBfc2VjdXJlIiwidGtfdXNlcl9rZXkiXSk7cmV0dXJuIGkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1pLmluZGV4T2YoZSl9KSkpfSxjb21iaW5lU2xvdFVybFBhcmFtczpmdW5jdGlvbihlKXtpZigxPT09ZS5sZW5ndGgpcmV0dXJuIGVbMF07dmFyIHQ9ZS5yZWR1Y2UoKGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gT2JqZWN0LmtleXMocikuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dC5oYXNPd25Qcm9wZXJ0eShpKXx8KHRbaV09bmV3IEFycmF5KGUubGVuZ3RoKSksdFtpXS5zcGxpY2UobiwxLHJbaV0pfSkpLHR9KSx7fSkscj1uZXcgUmVnRXhwKCJeKFteO10qKSg7XFwxKSskIik7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXRbZV0uam9pbigiOyIpLGk9bi5tYXRjaChyKTt0W2VdPWk/aVsxXTpufSkpLHR9LGNyZWF0ZVNsb3RQYXJhbXM6ZnVuY3Rpb24oZSx0KXtlLnN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKTt2YXIgcj1lLnBhcmFtcyxpPUEoZSwiYmFubmVyIiksYz1mKHIubGF0TG9uZ3x8W10sMiksZD1jWzBdLHU9Y1sxXSxwPXthY2NvdW50X2lkOnIuYWNjb3VudElkLHNpdGVfaWQ6ci5zaXRlSWQsem9uZV9pZDpyLnpvbmVJZCxzaXplX2lkOmlbMF0sYWx0X3NpemVfaWRzOmkuc2xpY2UoMSkuam9pbigiLCIpfHx2b2lkIDAscnBfZmxvb3I6KHIuZmxvb3I9cGFyc2VGbG9hdChyLmZsb29yKSk+PS4wMT9yLmZsb29yOnZvaWQgMCxycF9zZWN1cmU6IjEiLHRrX2ZsaW50OiIiLmNvbmNhdCh4LmludF90eXBlfHwicGJqc19saXRlIiwiX3Y1LjIwLjIiKSwieF9zb3VyY2UudGlkIjplLnRyYW5zYWN0aW9uSWQsInhfc291cmNlLnBjaGFpbiI6ci5wY2hhaW4scF9zY3JlZW5fcmVzOlt3aW5kb3cuc2NyZWVuLndpZHRoLHdpbmRvdy5zY3JlZW4uaGVpZ2h0XS5qb2luKCJ4IiksdGtfdXNlcl9rZXk6ci51c2VySWQsInBfZ2VvLmxhdGl0dWRlIjppc05hTihwYXJzZUZsb2F0KGQpKT92b2lkIDA6cGFyc2VGbG9hdChkKS50b0ZpeGVkKDQpLCJwX2dlby5sb25naXR1ZGUiOmlzTmFOKHBhcnNlRmxvYXQodSkpP3ZvaWQgMDpwYXJzZUZsb2F0KHUpLnRvRml4ZWQoNCksInRnX2ZsLmVpZCI6ZS5jb2RlLHJmOk8oZSx0KX07aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3ImJiF4LmRpc2FibGVGbG9vcnMpe3ZhciBsO3RyeXtsPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiYmFubmVyIixzaXplOiIqIn0pfWNhdGNoKGUpe09iamVjdChuLmxvZ0Vycm9yKSgiUnViaWNvbjogZ2V0Rmxvb3IgdGhyZXcgYW4gZXJyb3I6ICIsZSl9cC5ycF9oYXJkX2Zsb29yPSJvYmplY3QiIT09dihsKXx8IlVTRCIhPT1sLmN1cnJlbmN5fHxpc05hTihwYXJzZUludChsLmZsb29yKSk/dm9pZCAwOmwuZmxvb3J9dmFyIGI9ezE6ImF0ZiIsMzoiYnRmIn1bT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIucG9zIildfHwiIjtwLnBfcG9zPSJhdGYiPT09ci5wb3NpdGlvbnx8ImJ0ZiI9PT1yLnBvc2l0aW9uP3IucG9zaXRpb246Yjt2YXIgbT1vLmIuZ2V0Q29uZmlnKCJ1c2VyLmlkIik7cmV0dXJuIG0mJihwLnBwdWlkPW0pLGUudXNlcklkQXNFaWRzJiZlLnVzZXJJZEFzRWlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0cnl7aWYoImFkc2VydmVyLm9yZyI9PT1lLnNvdXJjZT8ocC50cGlkX3RkaWQ9ZS51aWRzWzBdLmlkLHBbImVpZF9hZHNlcnZlci5vcmciXT1lLnVpZHNbMF0uaWQpOiJsaXZlaW50ZW50LmNvbSI9PT1lLnNvdXJjZT8ocFsidHBpZF9saXZlaW50ZW50LmNvbSJdPWUudWlkc1swXS5pZCxwWyJlaWRfbGl2ZWludGVudC5jb20iXT1lLnVpZHNbMF0uaWQsZS5leHQmJkFycmF5LmlzQXJyYXkoZS5leHQuc2VnbWVudHMpJiZlLmV4dC5zZWdtZW50cy5sZW5ndGgmJihwWyJ0Z192LkxJc2VnIl09ZS5leHQuc2VnbWVudHMuam9pbigiLCIpKSk6ImxpdmVyYW1wLmNvbSI9PT1lLnNvdXJjZT9wLnhfbGl2ZXJhbXBpZGw9ZS51aWRzWzBdLmlkOiJpZDUtc3luYy5jb20iPT09ZS5zb3VyY2U/cFsiZWlkX2lkNS1zeW5jLmNvbSJdPSIiLmNvbmNhdChlLnVpZHNbMF0uaWQsIl4iKS5jb25jYXQoZS51aWRzWzBdLmF0eXBlLCJeIikuY29uY2F0KGUudWlkc1swXS5leHQmJmUudWlkc1swXS5leHQubGlua1R5cGV8fCIiKTpwWyJlaWRfIi5jb25jYXQoZS5zb3VyY2UpXT0iIi5jb25jYXQoZS51aWRzWzBdLmlkLCJeIikuY29uY2F0KGUudWlkc1swXS5hdHlwZXx8IiIpLCFwLnBwdWlkKXt2YXIgdD1zKCkoZS51aWRzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5leHQmJiJwcHVpZCI9PT1lLmV4dC5zdHlwZX0pKTt0JiZ0LmlkJiYocC5wcHVpZD10LmlkKX19Y2F0Y2godCl7T2JqZWN0KG4ubG9nV2FybikoIlJ1Ymljb246IGVycm9yIHJlYWRpbmcgZWlkOiIsZSx0KX19KSksdC5nZHByQ29uc2VudCYmKCJib29sZWFuIj09dHlwZW9mIHQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihwLmdkcHI9TnVtYmVyKHQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpKSxwLmdkcHJfY29uc2VudD10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLHQudXNwQ29uc2VudCYmKHAudXNfcHJpdmFjeT1lbmNvZGVVUklDb21wb25lbnQodC51c3BDb25zZW50KSkscC5ycF9tYXhiaWRzPXQuYmlkTGltaXR8fDEsUyhlLGEuYixwKSwhMD09PW8uYi5nZXRDb25maWcoImNvcHBhIikmJihwLmNvcHBhPTEpLGUuc2NoYWluJiZVKGUuc2NoYWluKSYmKHAucnBfc2NoYWluPWouc2VyaWFsaXplU3VwcGx5Q2hhaW4oZS5zY2hhaW4pKSxwfSxzZXJpYWxpemVTdXBwbHlDaGFpbjpmdW5jdGlvbihlKXtpZighVShlKSlyZXR1cm4iIjt2YXIgdD1lLnZlcixyPWUuY29tcGxldGUsbj1lLm5vZGVzO3JldHVybiIiLmNvbmNhdCh0LCIsIikuY29uY2F0KHIsIiEiKS5jb25jYXQoai5zZXJpYWxpemVTdXBwbHlDaGFpbk5vZGVzKG4pKX0sc2VyaWFsaXplU3VwcGx5Q2hhaW5Ob2RlczpmdW5jdGlvbihlKXt2YXIgdD1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiJdO3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGVbdF18fCIiKX0pKS5qb2luKCIsIil9KSkuam9pbigiISIpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPXQuYmlkUmVxdWVzdDtpZighKGU9ZS5ib2R5KXx8Im9iamVjdCIhPT12KGUpKXJldHVybltdO2lmKGUuc2VhdGJpZCl7dmFyIGk9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwiZXh0LmVycm9ycy5ydWJpY29uIik7QXJyYXkuaXNBcnJheShpKSYmaS5sZW5ndGg+MCYmT2JqZWN0KG4ubG9nV2FybikoIlJ1Ymljb246IEVycm9yIGluIHZpZGVvIHJlc3BvbnNlIik7dmFyIG89W107cmV0dXJuIGUuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbih0KXsodC5iaWR8fFtdKS5mb3JFYWNoKChmdW5jdGlvbihpKXt2YXIgYz17cmVxdWVzdElkOnIuYmlkSWQsY3VycmVuY3k6ZS5jdXJ8fCJVU0QiLGNyZWF0aXZlSWQ6aS5jcmlkLGNwbTppLnByaWNlfHwwLGJpZGRlckNvZGU6dC5zZWF0LHR0bDozMDAsbmV0UmV2ZW51ZTohMSE9PXgubmV0UmV2ZW51ZSx3aWR0aDppLnd8fE9iamVjdChuLmRlZXBBY2Nlc3MpKHIsIm1lZGlhVHlwZXMudmlkZW8udyIpfHxPYmplY3Qobi5kZWVwQWNjZXNzKShyLCJwYXJhbXMudmlkZW8ucGxheWVyV2lkdGgiKSxoZWlnaHQ6aS5ofHxPYmplY3Qobi5kZWVwQWNjZXNzKShyLCJtZWRpYVR5cGVzLnZpZGVvLmgiKXx8T2JqZWN0KG4uZGVlcEFjY2VzcykociwicGFyYW1zLnZpZGVvLnBsYXllckhlaWdodCIpfTtpLmlkJiYoYy5zZWF0QmlkSWQ9aS5pZCksaS5kZWFsaWQmJihjLmRlYWxJZD1pLmRlYWxpZCksaS5hZG9tYWluJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKGMsIm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnMiLEFycmF5LmlzQXJyYXkoaS5hZG9tYWluKT9pLmFkb21haW46W2kuYWRvbWFpbl0pLE9iamVjdChuLmRlZXBBY2Nlc3MpKGksImV4dC5iaWRkZXIucnAuYWR2aWQiKSYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShjLCJtZXRhLmFkdmVydGlzZXJJZCIsaS5leHQuYmlkZGVyLnJwLmFkdmlkKTt2YXIgcz1PYmplY3Qobi5kZWVwQWNjZXNzKShlLCJleHQucmVzcG9uc2V0aW1lbWlsbGlzLnJ1Ymljb24iKTtpZihyJiZzJiYoci5zZXJ2ZXJSZXNwb25zZVRpbWVNcz1zKSxPYmplY3Qobi5kZWVwQWNjZXNzKShpLCJleHQucHJlYmlkLnR5cGUiKT09PWEuZCl7Yy5tZWRpYVR5cGU9YS5kLE9iamVjdChuLmRlZXBTZXRWYWx1ZSkoYywibWV0YS5tZWRpYVR5cGUiLGEuZCk7dmFyIHU9T2JqZWN0KG4uZGVlcEFjY2VzcykoaSwiZXh0LnByZWJpZC50YXJnZXRpbmciKTt1JiYib2JqZWN0Ij09PXYodSkmJihjLmFkc2VydmVyVGFyZ2V0aW5nPXUpLGkuZXh0LnByZWJpZC5jYWNoZSYmIm9iamVjdCI9PT12KGkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sKSYmaS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwuY2FjaGVJZCYmaS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwudXJsPyhjLnZpZGVvQ2FjaGVLZXk9aS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwuY2FjaGVJZCxjLnZhc3RVcmw9aS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwudXJsKTp1JiZ1LmhiX3V1aWQmJnUuaGJfY2FjaGVfaG9zdCYmdS5oYl9jYWNoZV9wYXRoJiYoYy52aWRlb0NhY2hlS2V5PXUuaGJfdXVpZCxjLnZhc3RVcmw9Imh0dHBzOi8vIi5jb25jYXQodS5oYl9jYWNoZV9ob3N0KS5jb25jYXQodS5oYl9jYWNoZV9wYXRoLCI/dXVpZD0iKS5jb25jYXQodS5oYl91dWlkKSksaS5hZG0mJihjLnZhc3RYbWw9aS5hZG0pLGkubnVybCYmKGMudmFzdFVybD1pLm51cmwpLCFjLnZhc3RVcmwmJmkubnVybCYmKGMudmFzdFVybD1pLm51cmwpLCJvdXRzdHJlYW0iPT09T2JqZWN0KG4uZGVlcEFjY2VzcykociwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikudG9Mb3dlckNhc2UoKSYmKGMucmVuZGVyZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZC5hLmluc3RhbGwoe2lkOmUuYWRJZCx1cmw6eC5yZW5kZXJlclVybHx8eSxjb25maWc6eC5yZW5kZXJlckNvbmZpZ3x8e30sbG9hZGVkOiExLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfSk7dHJ5e3Quc2V0UmVuZGVyKF8pfWNhdGNoKGUpe09iamVjdChuLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiB0fShjKSl9ZWxzZSBPYmplY3Qobi5sb2dXYXJuKSgiUnViaWNvbjogdmlkZW8gcmVzcG9uc2UgcmVjZWl2ZWQgbm9uLXZpZGVvIG1lZGlhIHR5cGUiKTtvLnB1c2goYyl9KSl9KSksb312YXIgYyxzPWUuYWRzLHU9MDtyZXR1cm4ib2JqZWN0IiE9PXYocil8fEFycmF5LmlzQXJyYXkocil8fCJ2aWRlbyIhPT13KHIpfHwib2JqZWN0IiE9PXYocyl8fChzPXNbci5hZFVuaXRDb2RlXSksIUFycmF5LmlzQXJyYXkocyl8fHMubGVuZ3RoPDE/W106cy5yZWR1Y2UoKGZ1bmN0aW9uKHQsaSxvKXtpZihpLmltcHJlc3Npb25faWQmJmM9PT1pLmltcHJlc3Npb25faWQ/dSsrOmM9aS5pbXByZXNzaW9uX2lkLCJvayIhPT1pLnN0YXR1cylyZXR1cm4gdDt2YXIgcyxkLHA9QXJyYXkuaXNBcnJheShyKT9yW28tdV06cjtpZihwJiYib2JqZWN0Ij09PXYocCkpe3ZhciBsPXtyZXF1ZXN0SWQ6cC5iaWRJZCxjdXJyZW5jeToiVVNEIixjcmVhdGl2ZUlkOmkuY3JlYXRpdmVfaWR8fCIiLmNvbmNhdChpLm5ldHdvcmt8fCIiLCItIikuY29uY2F0KGkuYWR2ZXJ0aXNlcnx8IiIpLGNwbTppLmNwbXx8MCxkZWFsSWQ6aS5kZWFsLHR0bDozMDAsbmV0UmV2ZW51ZTohMSE9PXgubmV0UmV2ZW51ZSxydWJpY29uOnthZHZlcnRpc2VySWQ6aS5hZHZlcnRpc2VyLG5ldHdvcmtJZDppLm5ldHdvcmt9LG1ldGE6e2FkdmVydGlzZXJJZDppLmFkdmVydGlzZXIsbmV0d29ya0lkOmkubmV0d29yayxtZWRpYVR5cGU6YS5ifX07aWYoaS5jcmVhdGl2ZV90eXBlJiYobC5tZWRpYVR5cGU9aS5jcmVhdGl2ZV90eXBlKSxpLmFkb21haW4mJihsLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9QXJyYXkuaXNBcnJheShpLmFkb21haW4pP2kuYWRvbWFpbjpbaS5hZG9tYWluXSksaS5jcmVhdGl2ZV90eXBlPT09YS5kKWwud2lkdGg9cC5wYXJhbXMudmlkZW8ucGxheWVyV2lkdGgsbC5oZWlnaHQ9cC5wYXJhbXMudmlkZW8ucGxheWVySGVpZ2h0LGwudmFzdFVybD1pLmNyZWF0aXZlX2RlcG90X3VybCxsLmltcHJlc3Npb25faWQ9aS5pbXByZXNzaW9uX2lkLGwudmlkZW9DYWNoZUtleT1pLmltcHJlc3Npb25faWQ7ZWxzZXtsLmFkPShzPWkuc2NyaXB0LGQ9aS5pbXByZXNzaW9uX2lkLCI8aHRtbD5cbjxoZWFkPjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz5pbkRhcElGPXRydWU7PFwvc2NyaXB0PjwvaGVhZD5cbjxib2R5IHN0eWxlPSdtYXJnaW4gOiAwOyBwYWRkaW5nOiAwOyc+XG5ceDNjIS0tIFJ1Ymljb24gUHJvamVjdCBBZCBUYWcgLS1ceDNlXG48ZGl2IGRhdGEtcnAtaW1wcmVzc2lvbi1pZD0nIi5jb25jYXQoZCwiJz5cbjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz4iKS5jb25jYXQocywiPFwvc2NyaXB0PlxuPC9kaXY+XG48L2JvZHk+XG48L2h0bWw+IikpO3ZhciBiPWYoaFtpLnNpemVfaWRdLnNwbGl0KCJ4IikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gTnVtYmVyKGUpfSkpLDIpO2wud2lkdGg9YlswXSxsLmhlaWdodD1iWzFdfWwucnViaWNvblRhcmdldGluZz0oQXJyYXkuaXNBcnJheShpLnRhcmdldGluZyk/aS50YXJnZXRpbmc6W10pLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0LmtleV09dC52YWx1ZXNbMF0sZX0pLHtycGZsX2VsZW1pZDpwLmFkVW5pdENvZGV9KSx0LnB1c2gobCl9ZWxzZSBPYmplY3Qobi5sb2dFcnJvcikoIlJ1Ymljb246IGJpZFJlcXVlc3QgdW5kZWZpbmVkIGF0IGluZGV4IHBvc2l0aW9uOiIuY29uY2F0KG8pLHIsZSk7cmV0dXJuIHR9KSxbXSkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4odC5jcG18fDApLShlLmNwbXx8MCl9KSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXtpZighTiYmZS5pZnJhbWVFbmFibGVkKXt2YXIgaT0iIjtyZXR1cm4gciYmInN0cmluZyI9PXR5cGVvZiByLmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJBcHBsaWVzP2krPSI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIoci5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHIuY29uc2VudFN0cmluZyk6aSs9Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQoci5jb25zZW50U3RyaW5nKSksbiYmKGkrPSIiLmNvbmNhdChpPyImIjoiPyIsInVzX3ByaXZhY3k9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChuKSkpLE49ITAse3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovLyIuY29uY2F0KHguc3luY0hvc3R8fCJldXMiLCIucnViaWNvbnByb2plY3QuY29tL3VzeW5jLmh0bWwiKStpfX19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qobi5jb252ZXJ0VHlwZXMpKHthY2NvdW50SWQ6Im51bWJlciIsc2l0ZUlkOiJudW1iZXIiLHpvbmVJZDoibnVtYmVyIn0sZSl9fTtmdW5jdGlvbiBPKGUsdCl7dmFyIHI9by5iLmdldENvbmZpZygicGFnZVVybCIpO3JldHVybiBlLnBhcmFtcy5yZWZlcnJlcj9yPWUucGFyYW1zLnJlZmVycmVyOnJ8fChyPXQucmVmZXJlckluZm8ucmVmZXJlciksZS5wYXJhbXMuc2VjdXJlP3IucmVwbGFjZSgvXmh0dHA6L2ksImh0dHBzOiIpOnJ9ZnVuY3Rpb24gXyhlKXt2YXIgdCxyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUuYWRVbml0Q29kZSk7KHQ9ci5xdWVyeVNlbGVjdG9yKCJkaXZbaWRePSdnb29nbGVfYWRzJ10iKSkmJnQuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5xdWVyeVNlbGVjdG9yKCJzY3JpcHRbaWRePSdzYXNfc2NyaXB0J10iKSxyPXQmJnQubmV4dFNpYmxpbmc7ciYmImlmcmFtZSI9PT1yLmxvY2FsTmFtZSYmci5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsIm5vbmUiKX0ocik7dmFyIG49ZS5yZW5kZXJlci5nZXRDb25maWcoKTtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93Lk1hZ25pdGVBcGV4LnJlbmRlckFkKHt3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCx2YXN0VXJsOmUudmFzdFVybCxwbGFjZW1lbnQ6e2F0dGFjaFRvOiIjIi5jb25jYXQoZS5hZFVuaXRDb2RlKSxhbGlnbjpuLmFsaWdufHwiY2VudGVyIixwb3NpdGlvbjpuLnBvc2l0aW9ufHwiYXBwZW5kIn0sY2xvc2VCdXR0b246bi5jbG9zZUJ1dHRvbnx8ITEsbGFiZWw6bi5sYWJlbHx8dm9pZCAwLGNvbGxhcHNlOm4uY29sbGFwc2V8fCEwfSl9KSl9ZnVuY3Rpb24gQShlLHQpe3ZhciByPWUucGFyYW1zO2lmKCJ2aWRlbyI9PT10KXt2YXIgaT1bXTtyZXR1cm4gci52aWRlbyYmci52aWRlby5wbGF5ZXJXaWR0aCYmci52aWRlby5wbGF5ZXJIZWlnaHQ/aT1bci52aWRlby5wbGF5ZXJXaWR0aCxyLnZpZGVvLnBsYXllckhlaWdodF06QXJyYXkuaXNBcnJheShPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSkmJjE9PT1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZS5sZW5ndGg/aT1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXTpBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiZlLnNpemVzLmxlbmd0aD4wJiZBcnJheS5pc0FycmF5KGUuc2l6ZXNbMF0pJiZlLnNpemVzWzBdLmxlbmd0aD4xJiYoaT1lLnNpemVzWzBdKSxpfXZhciBvPVtdO3JldHVybiBBcnJheS5pc0FycmF5KHIuc2l6ZXMpP289ci5zaXplczp2b2lkIDAhPT1PYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpP289QyhlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKTpBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiZlLnNpemVzLmxlbmd0aD4wP289QyhlLnNpemVzKTpPYmplY3Qobi5sb2dXYXJuKSgiUnViaWNvbjogbm8gc2l6ZXMgYXJlIHNldHVwIG9yIGZvdW5kIiksUihvKX1mdW5jdGlvbiBTKGUsdCxyKXt2YXIgaT17dXNlcjp7ZXh0OntkYXRhOmwoe30sZS5wYXJhbXMudmlzaXRvcil9fSxzaXRlOntleHQ6e2RhdGE6bCh7fSxlLnBhcmFtcy5pbnZlbnRvcnkpfX19O2UucGFyYW1zLmtleXdvcmRzJiYoaS5zaXRlLmtleXdvcmRzPU9iamVjdChuLmlzQXJyYXkpKGUucGFyYW1zLmtleXdvcmRzKT9lLnBhcmFtcy5rZXl3b3Jkcy5qb2luKCIsIik6ZS5wYXJhbXMua2V5d29yZHMpO3ZhciBjPU9iamVjdChuLm1lcmdlRGVlcCkoe30sby5iLmdldENvbmZpZygib3J0YjIiKXx8e30saSkscz1PYmplY3Qobi5kZWVwQWNjZXNzKShlLm9ydGIySW1wLCJleHQuZGF0YSIpfHx7fSxkPXt1c2VyOls0XSxzaXRlOlsxLDIsNSw2XX0sdT17dXNlcjoidGdfdi4iLHNpdGU6InRnX2kuIixhZHNlcnZlcjoidGdfaS5kZnBfYWRfdW5pdF9jb2RlIixwYmFkc2xvdDoidGdfaS5wYmFkc2xvdCIsa2V5d29yZHM6Imt3In0scD1mdW5jdGlvbihlLHQscil7aWYoImRhdGEiPT09dCYmQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlZ21lbnQmJk9iamVjdChuLmRlZXBBY2Nlc3MpKGUsImV4dC5zZWd0YXgiKSYmZFtyXSYmLTEhPT1kW3JdLmluZGV4T2YoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwiZXh0LnNlZ3RheCIpKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VnbWVudC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5wdXNoKHQuaWQpLGV9KSxbXSk7aWYodC5sZW5ndGg+MClyZXR1cm4gdC50b1N0cmluZygpfSkpLnRvU3RyaW5nKCk7aWYoIm9iamVjdCIhPT12KGUpfHxBcnJheS5pc0FycmF5KGUpKXtpZih2b2lkIDAhPT1lKXJldHVybiBBcnJheS5pc0FycmF5KGUpP2UuZmlsdGVyKChmdW5jdGlvbihlKXtpZigib2JqZWN0IiE9PXYoZSkmJnZvaWQgMCE9PWUpcmV0dXJuIGUudG9TdHJpbmcoKTtPYmplY3Qobi5sb2dXYXJuKSgiUnViaWNvbjogRmlsdGVyZWQgdmFsdWU6ICIsZSwiZm9yIGtleSIsdCwiOiBFeHBlY3RlZCB2YWx1ZSB0byBiZSBzdHJpbmcsIGludGVnZXIsIG9yIGFuIGFycmF5IG9mIHN0cmluZ3MvaW50cyIpfSkpLnRvU3RyaW5nKCk6ZS50b1N0cmluZygpfWVsc2UgT2JqZWN0KG4ubG9nV2FybikoIlJ1Ymljb246IEZpbHRlcmVkIEZQRCBrZXk6ICIsdCwiOiBFeHBlY3RlZCB2YWx1ZSB0byBiZSBzdHJpbmcsIGludGVnZXIsIG9yIGFuIGFycmF5IG9mIHN0cmluZ3MvaW50cyIpfSxiPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT0hKGFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdKXx8YXJndW1lbnRzWzNdLG89cChlLG4sdCksYT11W25dJiZpPyIiLmNvbmNhdCh1W25dKToiZGF0YSI9PT1uPyIiLmNvbmNhdCh1W3RdLCJpYWIiKToiIi5jb25jYXQodVt0XSkuY29uY2F0KG4pO3JbYV09clthXT9yW2FdLmNvbmNhdCgiLCIsbyk6b307T2JqZWN0LmtleXMocykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ImFkc2VydmVyIj09PWU/WyJuYW1lIiwiYWRzbG90Il0uZm9yRWFjaCgoZnVuY3Rpb24odCl7c1tlXVt0XSYmKHNbZV1bdF09c1tlXVt0XS50b1N0cmluZygpLnJlcGxhY2UoL15cLysvLCIiKSl9KSk6InBiYWRzbG90Ij09PWUmJihzW2VdPXNbZV0udG9TdHJpbmcoKS5yZXBsYWNlKC9eXC8rLywiIikpfSkpLHQ9PT1hLmI/KFsic2l0ZSIsInVzZXIiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhjW2VdKS5mb3JFYWNoKChmdW5jdGlvbih0KXsic2l0ZSI9PT1lJiYiY29udGVudCI9PT10JiZjW2VdW3RdLmRhdGE/YihjW2VdW3RdLmRhdGEsZSwiZGF0YSIpOiJleHQiIT09dD9iKGNbZV1bdF0sZSx0KTpjW2VdW3RdLmRhdGEmJk9iamVjdC5rZXlzKGNbZV0uZXh0LmRhdGEpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2IoY1tlXS5leHQuZGF0YVt0XSxlLHQsITEpfSkpfSkpfSkpLE9iamVjdC5rZXlzKHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJhZHNlcnZlciI9PT1lP2Ioc1tlXS5hZHNsb3QsbmFtZSxlKTpiKHNbZV0sInNpdGUiLGUpfSkpKTooT2JqZWN0LmtleXMocykubGVuZ3RoJiZPYmplY3Qobi5tZXJnZURlZXApKHIuaW1wWzBdLmV4dCx7ZGF0YTpzfSksT2JqZWN0KG4ubWVyZ2VEZWVwKShyLGMpKX1mdW5jdGlvbiBDKGUpe3JldHVybiBPYmplY3Qobi5wYXJzZVNpemVzSW5wdXQpKGUpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgcj1wYXJzZUludChoW3RdLDEwKTtyZXR1cm4gciYmZS5wdXNoKHIpLGV9KSxbXSl9ZnVuY3Rpb24gSShlKXtyZXR1cm4ib2JqZWN0Ij09PXYoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvIikpJiZ2b2lkIDAhPT1PYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGEuZCkpfWZ1bmN0aW9uIHcoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtyZXR1cm4gSShlKT8tMT09PVsib3V0c3RyZWFtIiwiaW5zdHJlYW0iXS5pbmRleE9mKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYS5kLCIuY29udGV4dCIpKSk/dm9pZCh0JiZPYmplY3Qobi5sb2dFcnJvcikoIlJ1Ymljb246IG1lZGlhVHlwZXMudmlkZW8uY29udGV4dCBtdXN0IGJlIG91dHN0cmVhbSBvciBpbnN0cmVhbSIpKTpBKGUsInZpZGVvIikubGVuZ3RoPDI/dm9pZCh0JiZPYmplY3Qobi5sb2dFcnJvcikoIlJ1Ymljb246IGNvdWxkIG5vdCBkZXRlcm1pbmUgdGhlIHBsYXllclNpemUgb2YgdGhlIHZpZGVvIikpOih0JiZPYmplY3Qobi5sb2dNZXNzYWdlKSgiUnViaWNvbjogbWFraW5nIHZpZGVvIHJlcXVlc3QgZm9yIGFkVW5pdCIsZS5hZFVuaXRDb2RlKSwidmlkZW8iKTowPT09QShlLCJiYW5uZXIiKS5sZW5ndGg/dm9pZCh0JiZPYmplY3Qobi5sb2dFcnJvcikoIlJ1Ymljb246IGNvdWxkIG5vdCBkZXRlcm1pbmUgdGhlIHNpemVzIGZvciBiYW5uZXIgcmVxdWVzdCIpKToodCYmT2JqZWN0KG4ubG9nTWVzc2FnZSkoIlJ1Ymljb246IG1ha2luZyBiYW5uZXIgcmVxdWVzdCBmb3IgYWRVbml0IixlLmFkVW5pdENvZGUpLCJiYW5uZXIiKX12YXIgaz1mdW5jdGlvbigpe3JldHVybiB4PXt9fTtmdW5jdGlvbiBSKGUpe3ZhciB0PVsxNSwyLDldO3JldHVybiBlLnNvcnQoKGZ1bmN0aW9uKGUscil7dmFyIG49dC5pbmRleE9mKGUpLGk9dC5pbmRleE9mKHIpO3JldHVybiBuPi0xfHxpPi0xPy0xPT09bj8xOi0xPT09aT8tMTpuLWk6ZS1yfSkpfWZ1bmN0aW9uIHooZSl7dmFyIHQ9cGFyc2VJbnQoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvLnNpemVfaWQiKSk7cmV0dXJuIGlzTmFOKHQpPyJvdXRzdHJlYW0iPT09T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChhLmQsIi5jb250ZXh0IikpPzIwMzoyMDE6dH1mdW5jdGlvbiBUKGUpe3JldHVybntyYW5nZXM6e2xvdzpbe21heDo1LGluY3JlbWVudDouNX1dLG1lZGl1bTpbe21heDoyMCxpbmNyZW1lbnQ6LjF9XSxoaWdoOlt7bWF4OjIwLGluY3JlbWVudDouMDF9XSxhdXRvOlt7bWF4OjUsaW5jcmVtZW50Oi4wNX0se21pbjo1LG1heDoxMCxpbmNyZW1lbnQ6LjF9LHttaW46MTAsbWF4OjIwLGluY3JlbWVudDouNX1dLGRlbnNlOlt7bWF4OjMsaW5jcmVtZW50Oi4wMX0se21pbjozLG1heDo4LGluY3JlbWVudDouMDV9LHttaW46OCxtYXg6MjAsaW5jcmVtZW50Oi41fV0sY3VzdG9tOmUuZ2V0Q29uZmlnKCJjdXN0b21QcmljZUJ1Y2tldCIpJiZlLmdldENvbmZpZygiY3VzdG9tUHJpY2VCdWNrZXQiKS5idWNrZXRzfVtlLmdldENvbmZpZygicHJpY2VHcmFudWxhcml0eSIpXX19ZnVuY3Rpb24gRShlKXt2YXIgdD0hMCxyPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChbXSksaT17bWltZXM6cixwcm90b2NvbHM6cixsaW5lYXJpdHk6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKDApLGFwaTpyfTtyZXR1cm4gT2JqZWN0LmtleXMoaSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uIityKSkhPT1pW3JdJiYodD0hMSxPYmplY3Qobi5sb2dFcnJvcikoIlJ1Ymljb246IG1lZGlhVHlwZXMudmlkZW8uIityKyIgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgb2YgdHlwZTogIitpW3JdKSl9KSksdH1mdW5jdGlvbiBVKGUpe3ZhciB0PSExLHI9WyJhc2kiLCJzaWQiLCJocCJdO3JldHVybiBlLm5vZGVzPygodD1lLm5vZGVzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT9yLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShlKX0pKTplfSksITApKXx8T2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiByZXF1aXJlZCBzY2hhaW4gcGFyYW1zIG1pc3NpbmciKSx0KTp0fWZ1bmN0aW9uIFAoZSx0KXtyZXR1cm4icnBfc2NoYWluIj09PWU/InJwX3NjaGFpbj0iLmNvbmNhdCh0KToiIi5jb25jYXQoZSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodCkpfXZhciBOPSExO09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShqKX19LFs3NzhdKTsKdXBianNDaHVuayhbMTM1XSx7Nzg0OmZ1bmN0aW9uKG4saSxlKXtuLmV4cG9ydHM9ZSg3ODUpfSw3ODU6ZnVuY3Rpb24obixpLGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksaS5pc1NjaGFpbk9iamVjdFZhbGlkPWgsaS5pc1ZhbGlkU2NoYWluQ29uZmlnPXUsaS5tYWtlQmlkUmVxdWVzdHNIb29rPU8saS5pbml0PWw7dmFyIHQ9ZSgzKSxjPWUoOCksbz1lKDApLGE9IkludmFsaWQgc2NoYWluIG9iamVjdCBmb3VuZDogIixzPSIgc2hvdWxkIGJlIGEgc3RyaW5nIixyPSIgc2hvdWxkIGJlIGFuIEludGVnZXIiLGY9IiBzaG91bGQgYmUgYW4gb2JqZWN0IixkPXtTVFJJQ1Q6InN0cmljdCIsUkVMQVhFRDoicmVsYXhlZCIsT0ZGOiJvZmYifSxiPVtdO2Z1bmN0aW9uIGgobixpKXt2YXIgZT0iRGV0ZWN0ZWQgc29tZXRoaW5nIHdyb25nIHdpdGhpbiBhbiBzY2hhaW4gY29uZmlnOiIsdD0iIjtmdW5jdGlvbiBjKG4pe3QrPSJcbiIrbn1mdW5jdGlvbiBhKCl7ITA9PT1pP09iamVjdChvLmxvZ0Vycm9yKShlLG4sdCk6T2JqZWN0KG8ubG9nV2FybikoZSxuLHQpfWlmKCFPYmplY3Qoby5pc1BsYWluT2JqZWN0KShuKSYmKGMoInNjaGFpbi5jb25maWciK2YpLGEoKSxpKSlyZXR1cm4hMTtpZihPYmplY3Qoby5pc051bWJlcikobi5jb21wbGV0ZSkmJk9iamVjdChvLmlzSW50ZWdlcikobi5jb21wbGV0ZSl8fGMoInNjaGFpbi5jb25maWcuY29tcGxldGUiK3IpLE9iamVjdChvLmlzU3RyKShuLnZlcil8fGMoInNjaGFpbi5jb25maWcudmVyIitzKSxPYmplY3Qoby5oYXNPd24pKG4sImV4dCIpJiYoT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobi5leHQpfHxjKCJzY2hhaW4uY29uZmlnLmV4dCIrZikpLE9iamVjdChvLmlzQXJyYXkpKG4ubm9kZXMpKW4ubm9kZXMuZm9yRWFjaCgoZnVuY3Rpb24obixpKXtPYmplY3Qoby5pc1N0cikobi5hc2kpfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0uYXNpIikrcyksT2JqZWN0KG8uaXNTdHIpKG4uc2lkKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLnNpZCIpK3MpLE9iamVjdChvLmlzTnVtYmVyKShuLmhwKSYmT2JqZWN0KG8uaXNJbnRlZ2VyKShuLmhwKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLmhwIikrciksT2JqZWN0KG8uaGFzT3duKShuLCJyaWQiKSYmKE9iamVjdChvLmlzU3RyKShuLnJpZCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5yaWQiKStzKSksT2JqZWN0KG8uaGFzT3duKShuLCJuYW1lIikmJihPYmplY3Qoby5pc1N0cikobi5uYW1lKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLm5hbWUiKStzKSksT2JqZWN0KG8uaGFzT3duKShuLCJkb21haW4iKSYmKE9iamVjdChvLmlzU3RyKShuLmRvbWFpbil8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5kb21haW4iKStzKSksT2JqZWN0KG8uaGFzT3duKShuLCJleHQiKSYmKE9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4uZXh0KXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLmV4dCIpK2YpKX0pKTtlbHNlIGlmKGMoInNjaGFpbi5jb25maWcubm9kZXMgc2hvdWxkIGJlIGFuIEFycmF5IiksYSgpLGkpcmV0dXJuITE7cmV0dXJuISh0Lmxlbmd0aD4wJiYoYSgpLGkpKX1mdW5jdGlvbiB1KG4pe3JldHVybiB2b2lkIDAhPT1uJiYoISFPYmplY3Qoby5pc1BsYWluT2JqZWN0KShuKXx8KE9iamVjdChvLmxvZ0Vycm9yKShhKyJ0aGUgZm9sbG93aW5nIHNjaGFpbiBjb25maWcgd2lsbCBub3QgYmUgdXNlZCBhcyBzY2hhaW4gaXMgbm90IGFuIG9iamVjdC4iLG4pLCExKSl9ZnVuY3Rpb24gTyhuLGkpe3ZhciBlPXQuYi5nZXRDb25maWcoInNjaGFpbiIpLGM9dC5iLmdldEJpZGRlckNvbmZpZygpO2kuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIGk9bi5iaWRkZXJDb2RlLHQ9ZnVuY3Rpb24obil7cmV0dXJuIGNbbl0mJmNbbl0uc2NoYWlufHxlfShpKTtuLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIGU9ZnVuY3Rpb24obixpKXt2YXIgZT1kLlNUUklDVDtpZih1KG4pKXtpZihPYmplY3Qoby5pc1N0cikobi52YWxpZGF0aW9uKSYmLTEhPWIuaW5kZXhPZihuLnZhbGlkYXRpb24pJiYoZT1uLnZhbGlkYXRpb24pLGU9PT1kLk9GRilyZXR1cm4gbi5jb25maWc7aWYoaChuLmNvbmZpZywhKGUhPT1kLlNUUklDVCkpKXJldHVybiBuLmNvbmZpZztPYmplY3Qoby5sb2dFcnJvcikoYSsiZHVlIHRvIHRoZSAnc3RyaWN0JyB2YWxpZGF0aW9uIHNldHRpbmcsIHRoaXMgc2NoYWluIGNvbmZpZyB3aWxsIG5vdCBiZSBwYXNzZWQgdG8gYmlkZGVyICciLmNvbmNhdChpLCInLiAgU2VlIGFib3ZlIGVycm9yIGZvciBkZXRhaWxzLiIpKX1yZXR1cm4gbnVsbH0odCxpKTtlJiYobi5zY2hhaW49ZSl9KSl9KSksbihpKX1mdW5jdGlvbiBsKCl7Yy5kZWZhdWx0Lm1ha2VCaWRSZXF1ZXN0cy5hZnRlcihPKX1PYmplY3Qoby5fZWFjaCkoZCwoZnVuY3Rpb24obil7cmV0dXJuIGIucHVzaChuKX0pKSxsKCl9fSxbNzg0XSk7CnVwYmpzQ2h1bmsoWzIyXSx7MTc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSlpZigicHViUHJvdmlkZWRJZCI9PT1yKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBuPWkoZVtyXSxyKTtuJiZ0LnB1c2gobil9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qobi5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdChuLmRlZXBBY2Nlc3MpKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJk9iamVjdChuLmRlZXBBY2Nlc3MpKG8scisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTpvW3JdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgbj1yKDApLG89e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxuYXZlZ2dJZDp7c291cmNlOiJuYXZlZ2cuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qobi5waWNrKShlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0scHVibGlua0lkOntzb3VyY2U6ImVwc2lsb24uY29tIixhdHlwZTozfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX0sY29ubmVjdElkOntzb3VyY2U6InlhaG9vLmNvbSIsYXR5cGU6M319O2Z1bmN0aW9uIGkoZSx0KXt2YXIgcj1vW3RdO2lmKHImJmUpe3ZhciBpPXt9O2kuc291cmNlPXIuc291cmNlO3ZhciBhPU9iamVjdChuLmlzRm4pKHIuZ2V0VmFsdWUpP3IuZ2V0VmFsdWUoZSk6ZTtpZihPYmplY3Qobi5pc1N0cikoYSkpe3ZhciBjPXtpZDphLGF0eXBlOnIuYXR5cGV9O2lmKE9iamVjdChuLmlzRm4pKHIuZ2V0VWlkRXh0KSl7dmFyIHU9ci5nZXRVaWRFeHQoZSk7dSYmKGMuZXh0PXUpfWlmKGkudWlkcz1bY10sT2JqZWN0KG4uaXNGbikoci5nZXRFaWRFeHQpKXt2YXIgZD1yLmdldEVpZEV4dChlKTtkJiYoaS5leHQ9ZCl9cmV0dXJuIGl9fXJldHVybiBudWxsfX0sNzk0OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig3OTUpfSw3OTU6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNoYXJldGhyb3VnaEludGVybmFsIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKSxyLmQodCwic2hhcmV0aHJvdWdoQWRhcHRlclNwZWMiLChmdW5jdGlvbigpe3JldHVybiBnfSkpO3ZhciBuPXIoMCksbz1yKDEpLGk9cigzKSxhPXIoMiksYz1yKDE3KTtmdW5jdGlvbiB1KGUpe3JldHVybih1PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gZChlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9kKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cChlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6ZChPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBwKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIG4sbyxpPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEoYT0obj1yLm5leHQoKSkuZG9uZSkmJihpLnB1c2gobi52YWx1ZSksIXR8fGkubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsbz1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBvfX1yZXR1cm4gaX0oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiB5KGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXJ8fCJTZXQiPT09cilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpKXJldHVybiB5KGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB5KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59dmFyIGY9InNoYXJldGhyb3VnaCIsbT0iaHR0cHM6Ly9idGxyLnNoYXJldGhyb3VnaC5jb20vdW5pdmVyc2FsL3YxP3N1cHBseV9pZD0iLmNvbmNhdCgiV1l1MkJYdjEiKSxiPXtnZXRQcm90b2NvbDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2x9fSxnPXtjb2RlOmYsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5kLGEuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy5wa2V5JiZlLmJpZGRlcj09PWZ9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iiksbz1iLmdldFByb3RvY29sKCkuaW5kZXhPZigiaHR0cCIpPDB8fGIuZ2V0UHJvdG9jb2woKS5pbmRleE9mKCJodHRwcyIpPi0xLGE9e2lkOk9iamVjdChuLmdlbmVyYXRlVVVJRCkoKSxhdDoxLGN1cjpbIlVTRCJdLHRtYXg6cixzaXRlOntkb21haW46d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLHBhZ2U6d2luZG93LmxvY2F0aW9uLmhyZWYscmVmOnQucmVmZXJlckluZm8mJnQucmVmZXJlckluZm8ucmVmZXJlcnx8bnVsbH0sdXNlcjp7ZXh0OntlaWRzOkkoZVswXSl9fSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsbGFuZ3VhZ2U6bmF2aWdhdG9yLmxhbmd1YWdlLGpzOjEsZG50OiIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrPzE6MCxoOndpbmRvdy5zY3JlZW4uaGVpZ2h0LHc6d2luZG93LnNjcmVlbi53aWR0aH0scmVnczp7Y29wcGE6ITA9PT1pLmIuZ2V0Q29uZmlnKCJjb3BwYSIpPzE6MCxleHQ6e319LHNvdXJjZTp7ZXh0Ont2ZXJzaW9uOiI1LjIwLjIiLHN0cjoiNC4wLjEiLHNjaGFpbjplWzBdLnNjaGFpbn19LGJjYXQ6ZVswXS5wYXJhbXMuYmNhdHx8W10sYmFkdjplWzBdLnBhcmFtcy5iYWR2fHxbXSx0ZXN0OjB9O2lmKHQuZ2RwckNvbnNlbnQpe3ZhciBjPSEwPT09dC5nZHByQ29uc2VudC5nZHByQXBwbGllczthLnJlZ3MuZXh0LmdkcHI9Yz8xOjAsYyYmKGEudXNlci5leHQuY29uc2VudD10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpfXJldHVybiB0LnVzcENvbnNlbnQmJihhLnJlZ3MuZXh0LnVzX3ByaXZhY3k9dC51c3BDb25zZW50KSxlLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9e30scj1PYmplY3Qobi5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpO2lmKHImJih0LmV4dD17Z3BpZDpyfSksZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8mJiJvdXRzdHJlYW0iPT09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQpcmV0dXJuIG51bGw7aWYoZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8pe3ZhciBpPWUubWVkaWFUeXBlcy52aWRlbyxhPTY0MCxjPTM2MDtpZihpLnBsYXllclNpemUmJmkucGxheWVyU2l6ZVswXSYmaS5wbGF5ZXJTaXplWzFdKXt2YXIgdT1sKGkucGxheWVyU2l6ZSwyKTthPXVbMF0sYz11WzFdfXQudmlkZW89e3BvczpqKGkucG9zLDApLHRvcGZyYW1lOk9iamVjdChuLmluSWZyYW1lKSgpPzA6MSxza2lwOmooaS5za2lwLDApLGxpbmVhcml0eTpqKGkubGluZWFyaXR5LDEpLG1pbmR1cmF0aW9uOmooaS5taW5kdXJhdGlvbiw1KSxtYXhkdXJhdGlvbjpqKGkubWF4ZHVyYXRpb24sNjApLHBsYXliYWNrbWV0aG9kOmkucGxheWJhY2ttZXRob2R8fFsyXSxhcGk6dihpKSxtaW1lczppLm1pbWVzfHxbInZpZGVvL21wNCJdLHByb3RvY29sczpoKGkpLHc6YSxoOmMsc3RhcnRkZWxheTpqKGkuc3RhcnRkZWxheSwwKSxza2lwbWluOmooaS5za2lwbWluLDApLHNraXBhZnRlcjpqKGkuc2tpcGFmdGVyLDApfSxpLnBsYWNlbWVudCYmKHQudmlkZW8ucGxhY2VtZW50PWkucGxhY2VtZW50KSxpLmRlbGl2ZXJ5JiYodC52aWRlby5kZWxpdmVyeT1pLmRlbGl2ZXJ5KSxpLmNvbXBhbmlvbnR5cGUmJih0LnZpZGVvLmNvbXBhbmlvbnR5cGU9aS5jb21wYW5pb250eXBlKSxpLmNvbXBhbmlvbmFkJiYodC52aWRlby5jb21wYW5pb25hZD1pLmNvbXBhbmlvbmFkKX1lbHNlIHQuYmFubmVyPXtwb3M6T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIucG9zIiwwKSx0b3BmcmFtZTpPYmplY3Qobi5pbklmcmFtZSkoKT8wOjEsZm9ybWF0OmUuc2l6ZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzorZVswXSxoOitlWzFdfX0pKX07cmV0dXJuIHMoe2lkOmUuYmlkSWQsdGFnaWQ6U3RyaW5nKGUucGFyYW1zLnBrZXkpLHNlY3VyZTpvPzE6MCxiaWRmbG9vcjpPKGUpfSx0KX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnttZXRob2Q6IlBPU1QiLHVybDptLGRhdGE6cyhzKHt9LGEpLHt9LHtpbXA6W2VdfSl9fSkpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keTtyZXR1cm4gciYmci5zZWF0YmlkJiYwIT09ci5zZWF0YmlkLmxlbmd0aCYmci5zZWF0YmlkWzBdLmJpZCYmMCE9PXIuc2VhdGJpZFswXS5iaWQubGVuZ3RoP3Iuc2VhdGJpZFswXS5iaWQubWFwKChmdW5jdGlvbihlKXt2YXIgbj17cmVxdWVzdElkOmUuaW1waWQsd2lkdGg6K2UudyxoZWlnaHQ6K2UuaCxjcG06K2UucHJpY2UsY3JlYXRpdmVJZDplLmNyaWQsZGVhbElkOmUuZGVhbGlkfHxudWxsLG1lZGlhVHlwZTp0LmRhdGEuaW1wWzBdLnZpZGVvP2EuZDphLmIsY3VycmVuY3k6ci5jdXJ8fCJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjM2MCxhZDplLmFkbSxudXJsOmUubnVybCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW58fFtdfX07cmV0dXJuIG4ubWVkaWFUeXBlPT09YS5kJiYobi50dGw9MzYwMCxuLnZhc3RYbWw9ZS5hZG0pLG59KSk6W119LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXt2YXIgbz1uPyImdXNfcHJpdmFjeT0iLmNvbmNhdChuKToiIixpPVtdO3JldHVybiBlLnBpeGVsRW5hYmxlZCYmdC5sZW5ndGg+MCYmdFswXS5ib2R5JiZ0WzBdLmJvZHkuY29va2llU3luY1VybHMmJnRbMF0uYm9keS5jb29raWVTeW5jVXJscy5mb3JFYWNoKChmdW5jdGlvbihlKXtpLnB1c2goe3R5cGU6ImltYWdlIix1cmw6ZStvfSl9KSksaX0sb25UaW1lb3V0OmZ1bmN0aW9uKGUpe30sb25CaWRXb246ZnVuY3Rpb24oZSl7fSxvblNldFRhcmdldGluZzpmdW5jdGlvbihlKXt9fTtmdW5jdGlvbiB2KGUpe3ZhciB0PWUuYXBpO3JldHVybiB0JiZBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wP3Q6WzJdfWZ1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5wcm90b2NvbHM7cmV0dXJuIHQmJkFycmF5LmlzQXJyYXkodCkmJnQubGVuZ3RoPjA/dDpbMiwzLDUsNiw3LDhdfWZ1bmN0aW9uIE8oZSl7dmFyIHQ9bnVsbDtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcil7dmFyIHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOmUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvPyJ2aWRlbyI6ImJhbm5lciIsc2l6ZTplLnNpemVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpfSk7Im9iamVjdCIhPT11KHIpfHwiVVNEIiE9PXIuY3VycmVuY3l8fGlzTmFOKHBhcnNlRmxvYXQoci5mbG9vcikpfHwodD1wYXJzZUZsb2F0KHIuZmxvb3IpKX1yZXR1cm4gbnVsbCE9PXQ/dDplLnBhcmFtcy5mbG9vcn1mdW5jdGlvbiBJKGUpe3ZhciB0PU9iamVjdChjLmIpKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInVzZXJJZCIpKXx8W10scj1PYmplY3Qobi5kZWVwQWNjZXNzKShlLCJ1c2VySWQuZmxvY0lkIik7cmV0dXJuIHImJnIuaWQmJnIudmVyc2lvbiYmdC5wdXNoKHtzb3VyY2U6ImNocm9tZS5jb20iLHVpZHM6W3tpZDpyLmlkLGF0eXBlOjEsZXh0Ont2ZXI6ci52ZXJzaW9ufX1dfSksdH1mdW5jdGlvbiBqKGUsdCl7cmV0dXJuIG51bGw9PWU/dDplfU9iamVjdChvLnJlZ2lzdGVyQmlkZGVyKShnKX19LFs3OTRdKTsKdXBianNDaHVuayhbMjBdLHsxNzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKWlmKCJwdWJQcm92aWRlZElkIj09PXIpdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIGE9byhlW3JdLHIpO2EmJnQucHVzaChhKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KGEuZGVlcEFjY2VzcykoaSxyKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOmlbcl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciBhPXIoMCksaT17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChhLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gbyhlLHQpe3ZhciByPWlbdF07aWYociYmZSl7dmFyIG89e307by5zb3VyY2U9ci5zb3VyY2U7dmFyIG49T2JqZWN0KGEuaXNGbikoci5nZXRWYWx1ZSk/ci5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChhLmlzU3RyKShuKSl7dmFyIGQ9e2lkOm4sYXR5cGU6ci5hdHlwZX07aWYoT2JqZWN0KGEuaXNGbikoci5nZXRVaWRFeHQpKXt2YXIgcz1yLmdldFVpZEV4dChlKTtzJiYoZC5leHQ9cyl9aWYoby51aWRzPVtkXSxPYmplY3QoYS5pc0ZuKShyLmdldEVpZEV4dCkpe3ZhciBjPXIuZ2V0RWlkRXh0KGUpO2MmJihvLmV4dD1jKX1yZXR1cm4gb319cmV0dXJuIG51bGx9fSw4MDg6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDgwOSl9LDgwOTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIGE9cigwKSxpPXIoMiksbz1yKDMpLG49cigxNyksZD1yKDEpLHM9e2NvZGU6InNtYXJ0YWRzZXJ2ZXIiLGd2bGlkOjQ1LGFsaWFzZXM6WyJzbWFydCJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2kuYixpLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUucGFyYW1zJiZlLnBhcmFtcy5zaXRlSWQmJmUucGFyYW1zLnBhZ2VJZCYmZS5wYXJhbXMuZm9ybWF0SWQpfSxzZXJpYWxpemVTdXBwbHlDaGFpbjpmdW5jdGlvbihlKXtpZighZXx8IWUubm9kZXMpcmV0dXJuIG51bGw7dmFyIHQ9WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iXTtyZXR1cm4iIi5jb25jYXQoZS52ZXIsIiwiKS5jb25jYXQoZS5jb21wbGV0ZSwiISIpK2Uubm9kZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdP2VuY29kZVVSSUNvbXBvbmVudChlW3RdKToiIn0pKS5qb2luKCIsIil9KSkuam9pbigiISIpfSxhZGFwdEJhbm5lclNpemVzOmZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpfSxmaWxsUGF5bG9hZEZvclZpZGVvQmlkUmVxdWVzdDpmdW5jdGlvbihlLHQscil7dmFyIGE9dC5wbGF5ZXJTaXplWzBdO2UuaXNWaWRlbz0iaW5zdHJlYW0iPT09dC5jb250ZXh0LGUubWVkaWFUeXBlPWkuZCxlLnZpZGVvRGF0YT17dmlkZW9Qcm90b2NvbDp0aGlzLmdldFByb3RvY29sRm9yVmlkZW9CaWRSZXF1ZXN0KHQscikscGxheWVyV2lkdGg6YVswXSxwbGF5ZXJIZWlnaHQ6YVsxXSxhZEJyZWFrOnRoaXMuZ2V0U3RhcnREZWxheUZvclZpZGVvQmlkUmVxdWVzdCh0LHIpfX0sZ2V0UHJvdG9jb2xGb3JWaWRlb0JpZFJlcXVlc3Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09dCYmdC5wcm90b2NvbD90LnByb3RvY29sOnZvaWQgMCE9PWUmJkFycmF5LmlzQXJyYXkoZS5wcm90b2NvbHMpP01hdGgubWF4LmFwcGx5KE1hdGgsZS5wcm90b2NvbHMpOm51bGx9LGdldFN0YXJ0RGVsYXlGb3JWaWRlb0JpZFJlcXVlc3Q6ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT10JiZ0LnN0YXJ0RGVsYXkpcmV0dXJuIHQuc3RhcnREZWxheTtpZih2b2lkIDAhPT1lKXtpZigwPT1lLnN0YXJ0ZGVsYXkpcmV0dXJuIDE7aWYoLTE9PWUuc3RhcnRkZWxheSlyZXR1cm4gMjtpZigtMj09ZS5zdGFydGRlbGF5KXJldHVybiAzfXJldHVybiAyfSxjcmVhdGVTZXJ2ZXJSZXF1ZXN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOih2b2lkIDAhPT10P3Q6Imh0dHBzOi8vcHJnLnNtYXJ0YWRzZXJ2ZXIuY29tIikrIi9wcmViaWQvdjEiLGRhdGE6SlNPTi5zdHJpbmdpZnkoZSl9fSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9by5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpO3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSxpKXt2YXIgZD17c2l0ZWlkOmkucGFyYW1zLnNpdGVJZCxwYWdlaWQ6aS5wYXJhbXMucGFnZUlkLGZvcm1hdGlkOmkucGFyYW1zLmZvcm1hdElkLGN1cnJlbmN5Q29kZTpyLGJpZGZsb29yOmkucGFyYW1zLmJpZGZsb29yfHxzLmdldEJpZEZsb29yKGksciksdGFyZ2V0aW5nOmkucGFyYW1zLnRhcmdldCYmIiIhPT1pLnBhcmFtcy50YXJnZXQ/aS5wYXJhbXMudGFyZ2V0OnZvaWQgMCxidWlkOmkucGFyYW1zLmJ1SWQmJiIiIT09aS5wYXJhbXMuYnVJZD9pLnBhcmFtcy5idUlkOnZvaWQgMCxhcHBuYW1lOmkucGFyYW1zLmFwcE5hbWUmJiIiIT09aS5wYXJhbXMuYXBwTmFtZT9pLnBhcmFtcy5hcHBOYW1lOnZvaWQgMCxja2lkOmkucGFyYW1zLmNrSWR8fDAsdGFnSWQ6aS5hZFVuaXRDb2RlLHBhZ2VEb21haW46dCYmdC5yZWZlcmVySW5mbyYmdC5yZWZlcmVySW5mby5yZWZlcmVyP3QucmVmZXJlckluZm8ucmVmZXJlcjp2b2lkIDAsdHJhbnNhY3Rpb25JZDppLnRyYW5zYWN0aW9uSWQsdGltZW91dDpvLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0IiksYmlkSWQ6aS5iaWRJZCxwcmViaWRWZXJzaW9uOiI1LjIwLjIiLHNjaGFpbjpzLnNlcmlhbGl6ZVN1cHBseUNoYWluKGkuc2NoYWluKX07dCYmdC5nZHByQ29uc2VudCYmKGQuYWRkdGxfY29uc2VudD10LmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCxkLmdkcHJfY29uc2VudD10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsZC5nZHByPXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLGkmJmkudXNlcklkJiYoZC5laWRzPU9iamVjdChuLmIpKGkudXNlcklkKSksdCYmdC51c3BDb25zZW50JiYoZC51c19wcml2YWN5PXQudXNwQ29uc2VudCk7dmFyIGM9T2JqZWN0KGEuZGVlcEFjY2VzcykoaSwibWVkaWFUeXBlcy52aWRlbyIpLHU9T2JqZWN0KGEuZGVlcEFjY2VzcykoaSwibWVkaWFUeXBlcy5iYW5uZXIiKSxwPWMmJigiaW5zdHJlYW0iPT09Yy5jb250ZXh0fHwib3V0c3RyZWFtIj09PWMuY29udGV4dCk7aWYoIXAmJnUpZC5zaXplcz1zLmFkYXB0QmFubmVyU2l6ZXModS5zaXplcyksZS5wdXNoKHMuY3JlYXRlU2VydmVyUmVxdWVzdChkLGkucGFyYW1zLmRvbWFpbikpO2Vsc2UgaWYocCYmIXUpcy5maWxsUGF5bG9hZEZvclZpZGVvQmlkUmVxdWVzdChkLGMsaS5wYXJhbXMudmlkZW8pLGUucHVzaChzLmNyZWF0ZVNlcnZlclJlcXVlc3QoZCxpLnBhcmFtcy5kb21haW4pKTtlbHNlIGlmKHAmJnUpe3ZhciBsPU9iamVjdChhLmRlZXBDbG9uZSkoZCk7cy5maWxsUGF5bG9hZEZvclZpZGVvQmlkUmVxdWVzdChsLGMsaS5wYXJhbXMudmlkZW8pLGUucHVzaChzLmNyZWF0ZVNlcnZlclJlcXVlc3QobCxpLnBhcmFtcy5kb21haW4pKSxkLnNpemVzPXMuYWRhcHRCYW5uZXJTaXplcyh1LnNpemVzKSxlLnB1c2gocy5jcmVhdGVTZXJ2ZXJSZXF1ZXN0KGQsaS5wYXJhbXMuZG9tYWluKSl9ZWxzZSBlLnB1c2goe30pO3JldHVybiBlfSksW10pfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPVtdLG89ZS5ib2R5O3RyeXtpZihvJiYhby5pc05vQWQpe3ZhciBuPUpTT04ucGFyc2UodC5kYXRhKSxkPXtyZXF1ZXN0SWQ6bi5iaWRJZCxjcG06by5jcG0sd2lkdGg6by53aWR0aCxoZWlnaHQ6by5oZWlnaHQsY3JlYXRpdmVJZDpvLmNyZWF0aXZlSWQsZGVhbElkOm8uZGVhbElkLGN1cnJlbmN5Om8uY3VycmVuY3ksbmV0UmV2ZW51ZTpvLmlzTmV0Q3BtLHR0bDpvLnR0bCxkc3BQaXhlbHM6by5kc3BQaXhlbHMsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6by5hZG9tYWluP28uYWRvbWFpbjpbXX19O24ubWVkaWFUeXBlPT09aS5kPyhkLm1lZGlhVHlwZT1pLmQsZC52YXN0VXJsPW8uYWRVcmwsZC52YXN0WG1sPW8uYWQsZC5jb250ZW50PW8uYWQpOihkLmFkVXJsPW8uYWRVcmwsZC5hZD1vLmFkKSxyLnB1c2goZCl9fWNhdGNoKGUpe09iamVjdChhLmxvZ0Vycm9yKSgiRXJyb3Igd2hpbGUgcGFyc2luZyBzbWFydCBzZXJ2ZXIgcmVzcG9uc2UiLGUpfXJldHVybiByfSxnZXRCaWRGbG9vcjpmdW5jdGlvbihlLHQpe2lmKCFPYmplY3QoYS5pc0ZuKShlLmdldEZsb29yKSlyZXR1cm4gMDt2YXIgcj1lLmdldEZsb29yKHtjdXJyZW5jeTp0fHwiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7cmV0dXJuIE9iamVjdChhLmlzUGxhaW5PYmplY3QpKHIpJiYhaXNOYU4oci5mbG9vcik/ci5mbG9vcjowfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtyZXR1cm4gZS5pZnJhbWVFbmFibGVkJiZ0Lmxlbmd0aD4wJiZudWxsIT10WzBdLmJvZHkuY1N5bmNVcmw/ci5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDp0WzBdLmJvZHkuY1N5bmNVcmx9KTplLnBpeGVsRW5hYmxlZCYmdC5sZW5ndGg+MCYmdm9pZCAwIT09dFswXS5ib2R5LmRzcFBpeGVscyYmdFswXS5ib2R5LmRzcFBpeGVscy5mb3JFYWNoKChmdW5jdGlvbihlKXtyLnB1c2goe3R5cGU6ImltYWdlIix1cmw6ZX0pfSkpLHJ9fTtPYmplY3QoZC5yZWdpc3RlckJpZGRlcikocyl9fSxbODA4XSk7CnVwYmpzQ2h1bmsoWzEyMl0sezgyMDpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoODIxKX0sODIxOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxyLmQodCwiX2lzSW5ib3VuZHMiLChmdW5jdGlvbigpe3JldHVybiBPfSkpLHQuX2dldFBsYXRmb3JtPV87dmFyIG49cigxKSxpPXIoMCkscz1yKDIpLGE9cigzKSxvPXIoMTMpLGM9cig2MSk7ZnVuY3Rpb24gZChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBuLGkscz1bXSxhPSEwLG89ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKGE9KG49ci5uZXh0KCkpLmRvbmUpJiYocy5wdXNoKG4udmFsdWUpLCF0fHxzLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtvPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgaX19cmV0dXJuIHN9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gdShlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4gdShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gdShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIHAoKXtyZXR1cm4ocD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGwoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciBiPSJzb25vYmkiLGY9T2JqZWN0KGkuZ2VuZXJhdGVVVUlEKSgpLG09Imh0dHBzOi8vbXRyeC5nby5zb25vYmkuY29tL3NiaV9vdXRzdHJlYW1fcmVuZGVyZXIuanMiLHY9e2NvZGU6YixzdXBwb3J0ZWRNZWRpYVR5cGVzOltzLmIscy5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZighZS5wYXJhbXMpcmV0dXJuITE7aWYoIWUucGFyYW1zLmFkX3VuaXQmJiFlLnBhcmFtcy5wbGFjZW1lbnRfaWQpcmV0dXJuITE7aWYoIU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikmJiFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIikpcmV0dXJuITE7aWYoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSl7aWYoIU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikmJiFlLnBhcmFtcy5zaXplcylyZXR1cm4hMX1lbHNlIGlmKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSl7aWYoIm91dHN0cmVhbSI9PT1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmIWUucGFyYW1zLnNpemVzKXJldHVybiExO2lmKCJpbnN0cmVhbSI9PT1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmIU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKXJldHVybiExfXJldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2lmKGUucGFyYW1zLmFkX3VuaXQpcmV0dXJuIGUucGFyYW1zLmFkX3VuaXQ7cmV0dXJuIGUucGFyYW1zLnBsYWNlbWVudF9pZH0oZSk7cmV0dXJuL15bXC9dP1tcZF0rW1tcL10uK1tcL10/XT8kLy50ZXN0KHQpPyh0PSIvIj09PXQuY2hhckF0KDApP3Q6Ii8iK3QsbCh7fSwiIi5jb25jYXQodCwifCIpLmNvbmNhdChlLmJpZElkKSwiIi5jb25jYXQoZyhlKSkuY29uY2F0KHkoZSkpLmNvbmNhdChoKGUpKSkpOi9eWzAtOWEtZkEtRl17MjB9JC8udGVzdCh0KSYmMjA9PT10Lmxlbmd0aD9sKHt9LGUuYmlkSWQsIiIuY29uY2F0KHQsInwiKS5jb25jYXQoZyhlKSkuY29uY2F0KHkoZSkpLmNvbmNhdChoKGUpKSk6dm9pZCBPYmplY3QoaS5sb2dFcnJvcikoIlRoZSBhZCB1bml0IGNvZGUgb3IgU29ub2JpIFBsYWNlbWVudCBpZCBmb3Igc2xvdCAiLmNvbmNhdChlLmJpZElkLCIgaXMgaW52YWxpZCIpKX0pKSxuPXt9O3IuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cChuLGUpfSkpO3ZhciBzPXtrZXlfbWFrZXI6SlNPTi5zdHJpbmdpZnkobikscmVmOnQucmVmZXJlckluZm8ucmVmZXJlcixzOk9iamVjdChpLmdlbmVyYXRlVVVJRCkoKSxwdjpmLHZwOl8oKSxsaWJfbmFtZToicHJlYmlkIixsaWJfdjoiNS4yMC4yIix1czowfSxvPWEuYi5nZXRDb25maWcoIm9ydGIyIik7aWYobyYmKHMuZnBkPUpTT04uc3RyaW5naWZ5KG8pKSxhLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpJiZhLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpLnN5bmNzUGVyQmlkZGVyJiYocy51cz1hLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpLnN5bmNzUGVyQmlkZGVyKSxjLmEuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jKCJpZnJhbWUiLGIpP3MuaXVzPTE6cy5pdXM9MCxPYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuaGZhIikmJihzLmhmYT1PYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuaGZhIikpLGVbMF0ucGFyYW1zLnJlZmVycmVyJiYocy5yZWY9ZVswXS5wYXJhbXMucmVmZXJyZXIpLHQmJnQuZ2RwckNvbnNlbnQmJihzLmdkcHI9dC5nZHByQ29uc2VudC5nZHByQXBwbGllcz8idHJ1ZSI6ImZhbHNlIix0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihzLmNvbnNlbnRfc3RyaW5nPXQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLGVbMF0uc2NoYWluJiYocy5zY2hhaW49SlNPTi5zdHJpbmdpZnkoZVswXS5zY2hhaW4pKSxPYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQiKSYmT2JqZWN0LmtleXMoZVswXS51c2VySWQpLmxlbmd0aD4wKXt2YXIgZD1PYmplY3QoaS5kZWVwQ2xvbmUpKGVbMF0udXNlcklkKTtkLmlkNWlkJiYoZC5pZDVpZD1PYmplY3QoaS5kZWVwQWNjZXNzKShkLCJpZDVpZC51aWQiKSkscy51c2VyaWQ9SlNPTi5zdHJpbmdpZnkoZCl9dmFyIHU9T2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwidXNlcklkQXNFaWRzIik7QXJyYXkuaXNBcnJheSh1KSYmdS5sZW5ndGg+MCYmKHMuZWlkcz1KU09OLnN0cmluZ2lmeSh1KSk7dmFyIG09ZVswXS5wYXJhbXMua2V5d29yZHM7aWYobSYmKHMua3c9bSksdCYmdC51c3BDb25zZW50JiYocy51c19wcml2YWN5PXQudXNwQ29uc2VudCksITA9PT1hLmIuZ2V0Q29uZmlnKCJjb3BwYSIpP3MuY29wcGE9MTpzLmNvcHBhPTAsT2JqZWN0KGkuaXNFbXB0eSkobikpcmV0dXJuIG51bGw7dmFyIHY9Imh0dHBzOi8vYXBleC5nby5zb25vYmkuY29tL3RyaW5pdHkuanNvbiI7cmV0dXJuIE9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5iaWRfcmVxdWVzdF91cmwiKSYmKHY9T2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmJpZF9yZXF1ZXN0X3VybCIpKSx7bWV0aG9kOiJHRVQiLHVybDp2LHdpdGhDcmVkZW50aWFsczohMCxkYXRhOnMsYmlkZGVyUmVxdWVzdHM6ZX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ib2R5LG49W10scz10LmRhdGEucmVmO3JldHVybiAwPT09T2JqZWN0LmtleXMoci5zbG90cykubGVuZ3RofHxPYmplY3Qua2V5cyhyLnNsb3RzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgYT1yLnNsb3RzW2VdLGM9ZS5zcGxpdCgifCIpLnNsaWNlKC0xKVswXSx1PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspaWYoZVtyXS5iaWRJZD09PXQpcmV0dXJuIGVbcl19KHQuYmlkZGVyUmVxdWVzdHMsYykscD1udWxsOyJ2aWRlbyI9PT1hLnNiaV9jdCYmKHA9InZpZGVvIiwib3V0c3RyZWFtIj09PU9iamVjdChpLmRlZXBBY2Nlc3MpKHUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiYocD0ib3V0c3RyZWFtIikpO3ZhciBsPWoocCxzKTtpZihhLnNiaV9haWQmJmEuc2JpX21vdXNlJiZhLnNiaV9zaXplKXt2YXIgYj1kKGEuc2JpX3NpemUuc3BsaXQoIngiKSwyKSxmPWJbMF0sdj12b2lkIDA9PT1mPzE6ZixnPWJbMV0seT12b2lkIDA9PT1nPzE6ZyxoPVtdO2Euc2JpX2Fkb21haW4mJihoPVthLnNiaV9hZG9tYWluXSk7dmFyIE89e3JlcXVlc3RJZDpjLGNwbTpOdW1iZXIoYS5zYmlfbW91c2UpLHdpZHRoOk51bWJlcih2KSxoZWlnaHQ6TnVtYmVyKHkpLGFkOmwoci5zYmlfZGMsYS5zYmlfYWlkKSx0dGw6NTAwLGNyZWF0aXZlSWQ6YS5zYmlfY3JpZHx8YS5zYmlfYWlkLGFpZDphLnNiaV9haWQsbmV0UmV2ZW51ZTohMCxjdXJyZW5jeToiVVNEIixtZXRhOnthZHZlcnRpc2VyRG9tYWluczpofX07aWYoYS5zYmlfZG96ZXImJihPLmRlYWxJZD1hLnNiaV9kb3plciksInZpZGVvIj09PXApTy5tZWRpYVR5cGU9InZpZGVvIixPLnZhc3RVcmw9bChyLnNiaV9kYyxhLnNiaV9haWQpLGRlbGV0ZSBPLmFkLGRlbGV0ZSBPLndpZHRoLGRlbGV0ZSBPLmhlaWdodDtlbHNlIGlmKCJvdXRzdHJlYW0iPT09cCYmdSl7ZGVsZXRlIE8uYWQsTy5tZWRpYVR5cGU9InZpZGVvIixPLnZhc3RVcmw9bChyLnNiaV9kYyxhLnNiaV9haWQpLE8ucmVuZGVyZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj1vLmEuaW5zdGFsbCh7aWQ6dC5haWQsdXJsOm0sY29uZmlnOnIsbG9hZGVkOiExLGFkVW5pdENvZGU6ZX0pO3RyeXtuLnNldFJlbmRlcihBKX1jYXRjaChlKXtPYmplY3QoaS5sb2dXYXJuKSgiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gbi5zZXRFdmVudEhhbmRsZXJzKHtpbXByZXNzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChpLmxvZ01lc3NhZ2UpKCJTb25vYmkgb3V0c3RyZWFtIHZpZGVvIGltcHJlc3Npb24gZXZlbnQiKX0sbG9hZGVkOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChpLmxvZ01lc3NhZ2UpKCJTb25vYmkgb3V0c3RyZWFtIHZpZGVvIGxvYWRlZCBldmVudCIpfSxlbmRlZDpmdW5jdGlvbigpe09iamVjdChpLmxvZ01lc3NhZ2UpKCJTb25vYmkgb3V0c3RyZWFtIHJlbmRlcmVyIHZpZGVvIGV2ZW50Iil9fSksbn0odS5hZFVuaXRDb2RlLE8sT2JqZWN0KGkuZGVlcEFjY2VzcykodSwicmVuZGVyZXIub3B0aW9ucyIpKTt2YXIgXz1PYmplY3QoaS5kZWVwQWNjZXNzKSh1LCJwYXJhbXMuc2l6ZXMiKTtBcnJheS5pc0FycmF5KF8pJiZBcnJheS5pc0FycmF5KF9bMF0pJiYoXz1fWzBdKSxfJiYoTy53aWR0aD1fWzBdLE8uaGVpZ2h0PV9bMV0pfW4ucHVzaChPKX19KSksbn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPVtdO3RyeXtlLnBpeGVsRW5hYmxlZCYmdFswXS5ib2R5LnNiaV9weC5mb3JFYWNoKChmdW5jdGlvbihlKXtpLnB1c2goe3R5cGU6ZS50eXBlLHVybDplLnVybH0pfSkpfWNhdGNoKGUpe31yZXR1cm4gaX19O2Z1bmN0aW9uIGcoZSl7cmV0dXJuIE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKT8iIjplLnBhcmFtcy5zaXplcz9PYmplY3QoaS5wYXJzZVNpemVzSW5wdXQpKGUucGFyYW1zLnNpemVzKS5qb2luKCIsIik6T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKT9PYmplY3QoaS5wYXJzZVNpemVzSW5wdXQpKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikpLmpvaW4oIiwiKTplLnNpemVzP09iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkoZS5zaXplcykuam9pbigiLCIpOnZvaWQgMH1mdW5jdGlvbiB5KGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2lmKCFPYmplY3QoaS5pc0ZuKShlLmdldEZsb29yKSlyZXR1cm4gZS5wYXJhbXMuZmxvb3I/ZS5wYXJhbXMuZmxvb3I6bnVsbDt2YXIgdD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7aWYoT2JqZWN0KGkuaXNQbGFpbk9iamVjdCkodCkmJiFpc05hTih0LmZsb29yKSYmIlVTRCI9PT10LmN1cnJlbmN5KXJldHVybiB0LmZsb29yO3JldHVybiIifShlKTtyZXR1cm4gdD8ifGY9Ii5jb25jYXQodCk6IiJ9ZnVuY3Rpb24gaChlKXt2YXIgdD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpfHxPYmplY3QoaS5kZWVwQWNjZXNzKShPYmplY3QoaS5nZXRHcHRTbG90SW5mb0ZvckFkVW5pdENvZGUpKGUuYWRVbml0Q29kZSksImdwdFNsb3QiKXx8ZS5wYXJhbXMuYWRfdW5pdDtyZXR1cm4gdD8ifGdwaWQ9Ii5jb25jYXQodCk6IiJ9dmFyIGo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4idmlkZW8iPT09ZXx8Im91dHN0cmVhbSI9PT1lP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4iaHR0cHM6Ly8iLmNvbmNhdChlLCJhcGV4LmdvLnNvbm9iaS5jb20vdmFzdC54bWw/dmlkPSIpLmNvbmNhdCh0LCImcmVmPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocikpfShyLG4sdCk6JzxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9IicrImh0dHBzOi8vIi5jb25jYXQociwiYXBleC5nby5zb25vYmkuY29tL3NiaS5qcz9haWQ9IikuY29uY2F0KG4sIiZhcz1udWxsJnJlZj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHQpKSsnIj48XC9zY3JpcHQ+J319O3ZhciBPPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOndpbmRvdztyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MCxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtyZXR1cm4gZS5pbm5lcldpZHRoPj10JiZlLmlubmVyV2lkdGg8cn19O2Z1bmN0aW9uIF8oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06d2luZG93LHQ9TyhlKSxyPXtsdDo3Njh9LG49e2x0Ojk5MixnZTo3Njh9O3JldHVybiB0KDAsci5sdCk/Im1vYmlsZSI6dChuLmdlLG4ubHQpPyJ0YWJsZXQiOiJkZXNrdG9wIn1mdW5jdGlvbiBBKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt2YXIgdD1kKGUuZ2V0U2l6ZSgpLnNwbGl0KCJ4IiksMikscj10WzBdLG49dFsxXSxpPW5ldyB3aW5kb3cuU2JpT3V0c3RyZWFtUmVuZGVyZXI7aS5pbml0KHt2YXN0VXJsOmUudmFzdFVybCxoZWlnaHQ6bix3aWR0aDpyfSksaS5zZXRSb290RWxlbWVudChlLmFkVW5pdENvZGUpfSkpfU9iamVjdChuLnJlZ2lzdGVyQmlkZGVyKSh2KX19LFs4MjBdKTsKdXBianNDaHVuayhbMTddLHsxNzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKWlmKCJwdWJQcm92aWRlZElkIj09PXIpdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIGE9aShlW3JdLHIpO2EmJnQucHVzaChhKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KGEuZGVlcEFjY2VzcykobixyKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOm5bcl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciBhPXIoMCksbj17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChhLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gaShlLHQpe3ZhciByPW5bdF07aWYociYmZSl7dmFyIGk9e307aS5zb3VyY2U9ci5zb3VyY2U7dmFyIGM9T2JqZWN0KGEuaXNGbikoci5nZXRWYWx1ZSk/ci5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChhLmlzU3RyKShjKSl7dmFyIG89e2lkOmMsYXR5cGU6ci5hdHlwZX07aWYoT2JqZWN0KGEuaXNGbikoci5nZXRVaWRFeHQpKXt2YXIgcz1yLmdldFVpZEV4dChlKTtzJiYoby5leHQ9cyl9aWYoaS51aWRzPVtvXSxPYmplY3QoYS5pc0ZuKShyLmdldEVpZEV4dCkpe3ZhciBkPXIuZ2V0RWlkRXh0KGUpO2QmJihpLmV4dD1kKX1yZXR1cm4gaX19cmV0dXJuIG51bGx9fSw4MjQ6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDgyNSl9LDgyNTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSk7dmFyIGE9cigwKSxuPXIoMSksaT1yKDMpLGM9cigyKSxvPXIoMTcpO2Z1bmN0aW9uIHMoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgYSxuLGk9W10sYz0hMCxvPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShjPShhPXIubmV4dCgpKS5kb25lKSYmKGkucHVzaChhLnZhbHVlKSwhdHx8aS5sZW5ndGghPT10KTtjPSEwKTt9Y2F0Y2goZSl7bz0hMCxuPWV9ZmluYWxseXt0cnl7Y3x8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IG59fXJldHVybiBpfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGQoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIGQoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGQoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxhPW5ldyBBcnJheSh0KTtyPHQ7cisrKWFbcl09ZVtyXTtyZXR1cm4gYX12YXIgdT0ic29ydGFibGUiLHA9Imh0dHBzOi8vYy5kZXBsb3lhZHMuY29tIjtmdW5jdGlvbiBsKGUsdCl7cmV0dXJuIGUucmVxdWlyZWQmJih0LnJlcXVpcmVkPTEpLHR9ZnVuY3Rpb24gbShlKXtyZXR1cm4gZS53fHxlLmg/e3VybDplLnVybCx3aWR0aDplLncsaGVpZ2h0OmUuaH06ZS51cmx9ZnVuY3Rpb24gYihlLHQscil7T2JqZWN0KGEuX2VhY2gpKGUsKGZ1bmN0aW9uKGUpe2UuYm9keSYmZS5ib2R5LmV4dCYmZS5ib2R5LmV4dC5zeW5jX2RzcHMmJmUuYm9keS5leHQuc3luY19kc3BzLmxlbmd0aCYmT2JqZWN0KGEuX2VhY2gpKGUuYm9keS5leHQuc3luY19kc3BzLChmdW5jdGlvbihlKXtlWzBdPT09dCYmZVsxXSYmci5wdXNoKHt0eXBlOnQsdXJsOmVbMV19KX0pKX0pKX1mdW5jdGlvbiB5KGUpe2lmKCFPYmplY3QoYS5pc0ZuKShlLmdldEZsb29yKSlyZXR1cm4gZS5wYXJhbXMuZmxvb3I/ZS5wYXJhbXMuZmxvb3I6bnVsbDt2YXIgdD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7cmV0dXJuIE9iamVjdChhLmlzUGxhaW5PYmplY3QpKHQpJiYhaXNOYU4odC5mbG9vcikmJiJVU0QiPT09dC5jdXJyZW5jeT90LmZsb29yOm51bGx9dmFyIGY9e2NvZGU6dSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltjLmIsYy5jLGMuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5iLmdldENvbmZpZygic29ydGFibGUiKSxyPXQmJiEhdC5zaXRlSWR8fGUucGFyYW1zLnNpdGVJZCxuPXkoZSksbz0hbnx8T2JqZWN0KGEuaXNOdW1iZXIpKG4pLHM9IWUucGFyYW1zLmtleXdvcmRzfHxPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlLnBhcmFtcy5rZXl3b3JkcykmJk9iamVjdC5rZXlzKGUucGFyYW1zLmtleXdvcmRzKS5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChhLmlzU3RyKSh0KSYmT2JqZWN0KGEuaXNTdHIpKGUucGFyYW1zLmtleXdvcmRzW3RdKX0pKSxkPSFlLm1lZGlhVHlwZXN8fGUubWVkaWFUeXBlc1tjLmJdfHwhKGUubWVkaWFUeXBlc1tjLmNdfHxlLm1lZGlhVHlwZXNbYy5kXSksdT1kP09iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZS4iLmNvbmNhdChjLmIsIi5zaXplcyIpKXx8ZS5zaXplczpudWxsO3JldHVybiEhKGUucGFyYW1zLnRhZ0lkJiZyJiZvJiZzJiYoIWR8fHUmJnUubGVuZ3RoPjAmJnUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiAyPT1lLmxlbmd0aCYmZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzTnVtYmVyKShlKX0pKX0pKSkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9KGkuYi5nZXRDb25maWcoInNvcnRhYmxlIil8fHt9KS5zaXRlSWQsbj1PYmplY3QoYS5wYXJzZVVybCkodC5yZWZlcmVySW5mby5yZWZlcmVyKSxkPU9iamVjdChhLl9tYXApKGUsKGZ1bmN0aW9uKGUpe3ZhciB0PXtpZDplLmJpZElkLHRhZ2lkOmUucGFyYW1zLnRhZ0lkLGV4dDp7fX0scj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGMuYikpLG49T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChjLmMpKSxpPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYy5kKSk7aWYocnx8IW4mJiFpKXt2YXIgbz1yJiZyLnNpemVzfHxlLnNpemVzO3QuYmFubmVyPXtmb3JtYXQ6T2JqZWN0KGEuX21hcCkobywoZnVuY3Rpb24oZSl7dmFyIHQ9cyhlLDIpO3JldHVybnt3OnRbMF0saDp0WzFdfX0pKX19aWYobiYmKHQubmF0aXZlPWZ1bmN0aW9uKGUpe3ZhciB0PVtdLHI9ZS50aXRsZTtyJiZ0LnB1c2gobChyLHt0aXRsZTp7bGVuOnIubGVufX0pKTt2YXIgbj1lLmltYWdlO24mJnQucHVzaChsKG4se2ltZzp7dHlwZTozLHdtaW46MSxobWluOjF9fSkpO3ZhciBpPWUuaWNvbjtpJiZ0LnB1c2gobChpLHtpbWc6e3R5cGU6MSx3bWluOjEsaG1pbjoxfX0pKTt2YXIgYz1lLmJvZHk7YyYmdC5wdXNoKGwoYyx7ZGF0YTp7dHlwZToyfX0pKTt2YXIgbz1lLmN0YTtvJiZ0LnB1c2gobChvLHtkYXRhOnt0eXBlOjEyfX0pKTt2YXIgcz1lLnNwb25zb3JlZEJ5O3JldHVybiBzJiZ0LnB1c2gobChzLHtkYXRhOnt0eXBlOjF9fSkpLE9iamVjdChhLl9lYWNoKSh0LChmdW5jdGlvbihlLHQpe3JldHVybiBlLmlkPXR9KSkse3ZlcjoiMSIscmVxdWVzdDpKU09OLnN0cmluZ2lmeSh7dmVyOiIxIixhc3NldHM6dH0pfX0obikpLGkmJiJpbnN0cmVhbSI9PT1pLmNvbnRleHQpe3ZhciBkPXtwbGFjZW1lbnQ6MX07ZC5taW1lcz1pLm1pbWVzfHxbXSxkLm1pbmR1cmF0aW9uPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlby5taW5kdXJhdGlvbiIpfHwxMCxkLm1heGR1cmF0aW9uPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlby5tYXhkdXJhdGlvbiIpfHw2MDt2YXIgdT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8uc3RhcnRkZWxheSIpO2lmKG51bGwhPXUmJihkLnN0YXJ0ZGVsYXk9dSksaS5wbGF5ZXJTaXplJiZpLnBsYXllclNpemUubGVuZ3RoKXt2YXIgcD1pLnBsYXllclNpemVbMF07ZC53PXBbMF0sZC5oPXBbMV19aS5hcGkmJihkLmFwaT1pLmFwaSksaS5wcm90b2NvbHMmJihkLnByb3RvY29scz1pLnByb3RvY29scyksaS5wbGF5YmFja21ldGhvZCYmKGQucGxheWJhY2ttZXRob2Q9aS5wbGF5YmFja21ldGhvZCksdC52aWRlbz1kfXZhciBtPXkoZSk7cmV0dXJuIG0mJih0LmZsb29yPW0pLGUucGFyYW1zLmtleXdvcmRzJiYodC5leHQua2V5d29yZHM9ZS5wYXJhbXMua2V5d29yZHMpLGUucGFyYW1zLmJpZGRlclBhcmFtcyYmT2JqZWN0KGEuX2VhY2gpKGUucGFyYW1zLmJpZGRlclBhcmFtcywoZnVuY3Rpb24oZSxyKXt0LmV4dFtyXT1lfSkpLHQuZXh0LmdwaWQ9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKSx0fSkpLHU9dCYmdC5nZHByQ29uc2VudCxtPWVbMF0udXNlcklkLGI9T2JqZWN0KG8uYikobSksZj17aWQ6T2JqZWN0KGEuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxpbXA6ZCxzb3VyY2U6e2V4dDp7c2NoYWluOmVbMF0uc2NoYWlufX0scmVnczp7ZXh0Ont9fSxzaXRlOntkb21haW46bi5ob3N0bmFtZSxwYWdlOm4uaHJlZixyZWY6bi5ocmVmLHB1Ymxpc2hlcjp7aWQ6cnx8ZVswXS5wYXJhbXMuc2l0ZUlkfSxkZXZpY2U6e3c6c2NyZWVuLndpZHRoLGg6c2NyZWVuLmhlaWdodH19LHVzZXI6e2V4dDp7fX19O3JldHVybiB0JiZ0LnRpbWVvdXQ+MCYmKGYudG1heD10LnRpbWVvdXQpLHUmJihmLnVzZXI9e2V4dDp7Y29uc2VudDp1LmNvbnNlbnRTdHJpbmd9fSwiYm9vbGVhbiI9PXR5cGVvZiB1LmdkcHJBcHBsaWVzJiYoZi5yZWdzLmV4dC5nZHByPXUuZ2RwckFwcGxpZXM/MTowKSksYi5sZW5ndGgmJihmLnVzZXIuZXh0LmVpZHM9YiksdC51c3BDb25zZW50JiYoZi5yZWdzLmV4dC51c19wcml2YWN5PXQudXNwQ29uc2VudCkse21ldGhvZDoiUE9TVCIsdXJsOiIiLmNvbmNhdChwLCIvb3BlbnJ0YjIvYXVjdGlvbj9zcmM9cHJlYmlkX3ByZWJpZF81LjIwLjImaG9zdD0iKS5jb25jYXQobi5ob3N0bmFtZSksZGF0YTpKU09OLnN0cmluZ2lmeShmKSxvcHRpb25zOntjb250ZW50VHlwZToidGV4dC9wbGFpbiJ9fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LHI9dC5pZCxuPXQuc2VhdGJpZCxpPVtdO3JldHVybiByJiZuJiZPYmplY3QoYS5fZWFjaCkobiwoZnVuY3Rpb24oZSl7T2JqZWN0KGEuX2VhY2gpKGUuYmlkLChmdW5jdGlvbihlKXt2YXIgdD17cmVxdWVzdElkOmUuaW1waWQsY3BtOnBhcnNlRmxvYXQoZS5wcmljZSksd2lkdGg6cGFyc2VJbnQoZS53KSxoZWlnaHQ6cGFyc2VJbnQoZS5oKSxjcmVhdGl2ZUlkOmUuY3JpZHx8ZS5pZCxkZWFsSWQ6ZS5kZWFsaWR8fG51bGwsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCxtZWRpYVR5cGU6Yy5iLHR0bDo2MCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW58fFtdfX07aWYoZS5hZG0pe3ZhciByPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsImV4dC5hZF9mb3JtYXQiKTtpZigibmF0aXZlIj09PXIpe3ZhciBuPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7dHJ5e3Q9SlNPTi5wYXJzZShlKX1jYXRjaChlKXtPYmplY3QoYS5sb2dFcnJvcikoIlNvcnRhYmxlIGJpZCBhZGFwdGVyIHVuYWJsZSB0byBwYXJzZSBuYXRpdmUgYmlkIHJlc3BvbnNlOlxuXG4iK2UpfXJldHVybiB0JiZ0Lm5hdGl2ZX0oZS5hZG0pO2lmKCFuKXJldHVybjt0Lm1lZGlhVHlwZT1jLmMsdC5uYXRpdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUubGluayYmKHQuY2xpY2tVcmw9ZS5saW5rLnVybCksT2JqZWN0KGEuX2VhY2gpKGUuYXNzZXRzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5pZCl7Y2FzZSAxOnQudGl0bGU9ZS50aXRsZS50ZXh0O2JyZWFrO2Nhc2UgMjp0LmltYWdlPW0oZS5pbWcpO2JyZWFrO2Nhc2UgMzp0Lmljb249bShlLmltZyk7YnJlYWs7Y2FzZSA0OnQuYm9keT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA1OnQuY3RhPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDY6dC5zcG9uc29yZWRCeT1lLmRhdGEudmFsdWV9fSkpLHR9KG4pfWVsc2UiaW5zdHJlYW0iPT09cj8odC5tZWRpYVR5cGU9Yy5kLHQudmFzdFhtbD1lLmFkbSk6KHQubWVkaWFUeXBlPWMuYix0LmFkPWUuYWRtLGUubnVybCYmKHQuYWQrPU9iamVjdChhLmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKShkZWNvZGVVUklDb21wb25lbnQoZS5udXJsKSkpKX1lbHNlIGUubnVybCYmKHQuYWRVcmw9ZS5udXJsKTtlLmV4dCYmKHQuc29ydGFibGU9ZS5leHQpLGkucHVzaCh0KX0pKX0pKSxpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtyZXR1cm4gZS5pZnJhbWVFbmFibGVkJiZiKHQsImlmcmFtZSIsciksZS5waXhlbEVuYWJsZWQmJmIodCwiaW1hZ2UiLHIpLHJ9LG9uVGltZW91dDpmdW5jdGlvbihlKXtmZXRjaCgiIi5jb25jYXQocCwiL3ByZWJpZC90aW1lb3V0Iikse21ldGhvZDoiUE9TVCIsYm9keTpKU09OLnN0cmluZ2lmeShlKSxtb2RlOiJuby1jb3JzIixoZWFkZXJzOm5ldyBIZWFkZXJzKHsiQ29udGVudC1UeXBlIjoidGV4dC9wbGFpbiJ9KX0pfX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKGYpfX0sWzgyNF0pOwp1cGJqc0NodW5rKFsxNV0sezE3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpaWYoInB1YlByb3ZpZGVkSWQiPT09cil0PXQuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgaT1hKGVbcl0scik7aSYmdC5wdXNoKGkpfXJldHVybiB0fSx0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZPYmplY3QoaS5kZWVwQWNjZXNzKShuLHIrIi5zb3VyY2UiKSYmdC5wdXNoKHtzb3VyY2U6bltyXS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSksdH07dmFyIGk9cigwKSxuPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0sbmF2ZWdnSWQ6e3NvdXJjZToibmF2ZWdnLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGkucGljaykoZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiB0fX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LHB1YmxpbmtJZDp7c291cmNlOiJlcHNpbG9uLmNvbSIsYXR5cGU6M30sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9LGNvbm5lY3RJZDp7c291cmNlOiJ5YWhvby5jb20iLGF0eXBlOjN9fTtmdW5jdGlvbiBhKGUsdCl7dmFyIHI9blt0XTtpZihyJiZlKXt2YXIgYT17fTthLnNvdXJjZT1yLnNvdXJjZTt2YXIgYz1PYmplY3QoaS5pc0ZuKShyLmdldFZhbHVlKT9yLmdldFZhbHVlKGUpOmU7aWYoT2JqZWN0KGkuaXNTdHIpKGMpKXt2YXIgbz17aWQ6YyxhdHlwZTpyLmF0eXBlfTtpZihPYmplY3QoaS5pc0ZuKShyLmdldFVpZEV4dCkpe3ZhciBkPXIuZ2V0VWlkRXh0KGUpO2QmJihvLmV4dD1kKX1pZihhLnVpZHM9W29dLE9iamVjdChpLmlzRm4pKHIuZ2V0RWlkRXh0KSl7dmFyIHU9ci5nZXRFaWRFeHQoZSk7dSYmKGEuZXh0PXUpfXJldHVybiBhfX1yZXR1cm4gbnVsbH19LDgyODpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoODI5KX0sODI5OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKTt2YXIgaT1yKDApLG49cigxKSxhPXIoMiksYz1yKDE3KSxvPXIoMyksZD17Y29kZToic292cm4iLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYl0sZ3ZsaWQ6MTMsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISghZS5wYXJhbXMudGFnaWR8fGlzTmFOKHBhcnNlRmxvYXQoZS5wYXJhbXMudGFnaWQpKXx8IWlzRmluaXRlKGUucGFyYW1zLnRhZ2lkKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIHIsbixhLGQsdT1bXSxzPVtdO09iamVjdChpLl9lYWNoKShlLChmdW5jdGlvbihlKXshYSYmZS51c2VySWQmJihhPU9iamVjdChjLmIpKGUudXNlcklkKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS51aWRzJiZlLnVpZHNbMF0mJigiY3JpdGVvLmNvbSI9PT1lLnNvdXJjZSYmKGQ9ZS51aWRzWzBdLmlkKSxzLnB1c2goe3NvdXJjZTplLnNvdXJjZSx1aWQ6ZS51aWRzWzBdLmlkfSkpfSkpLGUuc2NoYWluJiYobj1ufHxlLnNjaGFpbikscj1yfHxPYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoIml2IixlLnBhcmFtcyk7dmFyIHQ9ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHxlLnNpemVzLG89KHQ9KHQ9T2JqZWN0KGkuaXNBcnJheSkodCkmJk9iamVjdChpLmlzQXJyYXkpKHRbMF0pP3Q6W3RdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5pc0FycmF5KShlKX0pKSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzpwYXJzZUludChlWzBdLDEwKSxoOnBhcnNlSW50KGVbMV0sMTApfX0pKSxwPWUuZ2V0Rmxvb3ImJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yP2UuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiYmFubmVyIixzaXplOiIqIn0pOnt9O3AuZmxvb3I9cC5mbG9vcnx8T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJiaWRmbG9vciIsZS5wYXJhbXMpO3ZhciBsPXthZHVuaXRjb2RlOmUuYWRVbml0Q29kZSxpZDplLmJpZElkLGJhbm5lcjp7Zm9ybWF0Om8sdzoxLGg6MX0sdGFnaWQ6U3RyaW5nKE9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgidGFnaWQiLGUucGFyYW1zKSksYmlkZmxvb3I6cC5mbG9vcn07bC5leHQ9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJleHQiLGUub3J0YjJJbXApfHx2b2lkIDA7dmFyIGI9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJzZWdtZW50cyIsZS5wYXJhbXMpO2ImJihsLmV4dD1sLmV4dHx8e30sbC5leHQuZGVhbHM9Yi5zcGxpdCgiLCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpKSx1LnB1c2gobCl9KSk7dmFyIHA9T2JqZWN0KGkuZGVlcENsb25lKShvLmIuZ2V0Q29uZmlnKCJvcnRiMiIpKSxsPXAuc2l0ZXx8e307bC5wYWdlPXQucmVmZXJlckluZm8ucmVmZXJlcixsLmRvbWFpbj1PYmplY3QoaS5wYXJzZVVybCkobC5wYWdlKS5ob3N0bmFtZTt2YXIgYj17aWQ6T2JqZWN0KGkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxpbXA6dSxzaXRlOmwsdXNlcjpwLnVzZXJ8fHt9fTtuJiYoYi5zb3VyY2U9e2V4dDp7c2NoYWluOm59fSksdC5nZHByQ29uc2VudCYmKE9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYiwicmVncy5leHQuZ2RwciIsK3QuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLE9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYiwidXNlci5leHQuY29uc2VudCIsdC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksdC51c3BDb25zZW50JiZPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCksYSYmKE9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYiwidXNlci5leHQuZWlkcyIsYSksT2JqZWN0KGkuZGVlcFNldFZhbHVlKShiLCJ1c2VyLmV4dC50cGlkIixzKSxkJiZPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInVzZXIuZXh0LnByZWJpZF9jcml0ZW9pZCIsZCkpO3ZhciBtPSJodHRwczovL2FwLmxpaml0LmNvbS9ydGIvYmlkP3NyYz1wcmViaWRfcHJlYmlkXzUuMjAuMiI7cmV0dXJuIHImJihtKz0iJml2PSIuY29uY2F0KHIpKSx7bWV0aG9kOiJQT1NUIix1cmw6bSxkYXRhOkpTT04uc3RyaW5naWZ5KGIpLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIn19fWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiQ291bGQgbm90IGJ1aWxkIGJpZHJlcXVlc3QsIGVycm9yIGRlYXRpbHM6IixlKX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuYm9keSxyPXQuaWQsbj10LnNlYXRiaWQ7dHJ5e3ZhciBjPVtdO3JldHVybiByJiZuJiZuLmxlbmd0aD4wJiZuWzBdLmJpZCYmblswXS5iaWQubGVuZ3RoPjAmJm5bMF0uYmlkLm1hcCgoZnVuY3Rpb24oZSl7Yy5wdXNoKHtyZXF1ZXN0SWQ6ZS5pbXBpZCxjcG06cGFyc2VGbG9hdChlLnByaWNlKSx3aWR0aDpwYXJzZUludChlLncpLGhlaWdodDpwYXJzZUludChlLmgpLGNyZWF0aXZlSWQ6ZS5jcmlkfHxlLmlkLGRlYWxJZDplLmRlYWxpZHx8bnVsbCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLG1lZGlhVHlwZTphLmIsYWQ6ZGVjb2RlVVJJQ29tcG9uZW50KCIiLmNvbmNhdChlLmFkbSwnPGltZyBzcmM9IicpLmNvbmNhdChlLm51cmwsJyI+JykpLHR0bDplLmV4dCYmZS5leHQudHRsfHw5MCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplJiZlLmFkb21haW4/ZS5hZG9tYWluOltdfX0pfSkpLGN9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJDb3VsZCBub3QgaW50cmVwcmV0IGJpZHJlc3BvbnNlLCBlcnJvciBkZWF0aWxzOiIsZSl9fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dHJ5e3ZhciBhPVtdO2lmKHQmJjAhPT10Lmxlbmd0aCl7aWYoZS5pZnJhbWVFbmFibGVkKXt2YXIgYz10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImJvZHkuZXh0LmlpZCIpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYm9keS5leHQuaWlkfSkpLG89W107ciYmci5nZHByQXBwbGllcyYmInN0cmluZyI9PXR5cGVvZiByLmNvbnNlbnRTdHJpbmcmJm8ucHVzaChbImdkcHJfY29uc2VudCIsci5jb25zZW50U3RyaW5nXSksbiYmby5wdXNoKFsidXNfcHJpdmFjeSIsbl0pLGNbMF0mJihvLnB1c2goWyJpbmZvcm1lciIsY1swXV0pLGEucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vYXAubGlqaXQuY29tL2JlYWNvbj8iK28ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKCI9Iil9KSkuam9pbigiJiIpfSkpfWUucGl4ZWxFbmFibGVkJiZ0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImJvZHkuZXh0LnN5bmMucGl4ZWxzIil9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0LmJvZHkuZXh0LnN5bmMucGl4ZWxzKX0pLFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVybH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gYS5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmV9KX0pKX1yZXR1cm4gYX1jYXRjaChlKXtyZXR1cm5bXX19fTtPYmplY3Qobi5yZWdpc3RlckJpZGRlcikoZCl9fSxbODI4XSk7CnVwYmpzQ2h1bmsoWzEwNl0sezg2NDpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoODY1KX0sODY1OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJ0cmlwbGVsaWZ0QWRhcHRlclNwZWMiLChmdW5jdGlvbigpe3JldHVybiBtfSkpO3ZhciBuPXIoMCksaT1yKDIpLG89cigxKSx1PXIoMyk7ZnVuY3Rpb24gYygpe3JldHVybihjPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYShlKXtyZXR1cm4oYT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHAoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIGQoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/cChPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3MoZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOnAoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcyhlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9ZnVuY3Rpb24gZihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbChlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbChlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4gbChlLHQpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBsKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59dmFyIHk9ITAsYj1udWxsLG09e2d2bGlkOjI4LGNvZGU6InRyaXBsZWxpZnQiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2kuYixpLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lLnBhcmFtcy5pbnZlbnRvcnlDb2RlfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9Imh0dHBzOi8vdGx4LjNsaWZ0LmNvbS9oZWFkZXIvYXVjdGlvbj8iLGk9ZnVuY3Rpb24oZSl7dmFyIHQ9e30scj1lWzBdLnNjaGFpbixpPWZ1bmN0aW9uKCl7dmFyIGU9e30sdD17fSxyPXt9LGk9dS5iLmdldExlZ2FjeUZwZCh1LmIuZ2V0Q29uZmlnKCJvcnRiMiIpKXx8e30sbz1jKHt9LGkuY29udGV4dCksYT1jKHt9LGkudXNlcik7Tyh0LG8pLE8ocixhKSxPYmplY3Qobi5pc0VtcHR5KSh0KXx8KGUuY29udGV4dD10KTtPYmplY3Qobi5pc0VtcHR5KShyKXx8KGUudXNlcj1yKTtyZXR1cm4gZX0oKTt0LmltcD1lLm1hcCgoZnVuY3Rpb24oZSx0KXt2YXIgcj17aWQ6dCx0YWdpZDplLnBhcmFtcy5pbnZlbnRvcnlDb2RlLGZsb29yOnYoZSl9O3JldHVybiBnKGUpP3IudmlkZW89ZnVuY3Rpb24oZSl7dmFyIHQ9ZChkKHt9LGUucGFyYW1zLnZpZGVvKSxlLm1lZGlhVHlwZXMudmlkZW8pO3Qud3x8KHQudz10LnBsYXllclNpemVbMF1bMF0pO3QuaHx8KHQuaD10LnBsYXllclNpemVbMF1bMV0pOyJpbnN0cmVhbSI9PT10LmNvbnRleHQmJih0LnBsYWNlbWVudD0xKTtyZXR1cm4gZGVsZXRlIHQucGxheWVyU2l6ZSx0fShlKTplLm1lZGlhVHlwZXMuYmFubmVyJiYoci5iYW5uZXI9e2Zvcm1hdDpoKGUuc2l6ZXMpfSksT2JqZWN0KG4uaXNFbXB0eSkoZS5vcnRiMkltcCl8fChyLmZwZD1mdW5jdGlvbihlKXt2YXIgdD17fSxyPXt9O08ocixlLmV4dCksT2JqZWN0KG4uaXNFbXB0eSkocil8fCh0LmNvbnRleHQ9cik7cmV0dXJuIHR9KGUub3J0YjJJbXApKSxyfSkpO3ZhciBvPVtdLmNvbmNhdChmKChhPVtlWzBdXSxqKGEsInRkaWQiLCJhZHNlcnZlci5vcmciLCJURElEIikpKSxmKGZ1bmN0aW9uKGUpe3JldHVybiBqKGUsImlkbF9lbnYiLCJsaXZlcmFtcC5jb20iLCJpZGwiKX0oW2VbMF1dKSksZihmdW5jdGlvbihlKXtyZXR1cm4gaihlLCJjcml0ZW9JZCIsImNyaXRlby5jb20iLCJjcml0ZW9JZCIpfShbZVswXV0pKSxmKGZ1bmN0aW9uKGUpe3JldHVybiBqKGUsInB1YmNpZCIsInB1YmNpZC5vcmciLCJwdWJjaWQiKX0oW2VbMF1dKSkpO3ZhciBhO28ubGVuZ3RoPjAmJih0LnVzZXI9e2V4dDp7ZWlkczpvfX0pO3ZhciBwPWZ1bmN0aW9uKGUsdCl7dmFyIHI9e307T2JqZWN0KG4uaXNFbXB0eSkoZSl8fChyLnNjaGFpbj1kKHt9LGUpKTtPYmplY3Qobi5pc0VtcHR5KSh0KXx8KHIuZnBkPWQoe30sdCkpO3JldHVybiByfShyLGkpO09iamVjdChuLmlzRW1wdHkpKHApfHwodC5leHQ9cCk7cmV0dXJuIHR9KGUpO2lmKHI9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHIsImxpYiIsInByZWJpZCIpLHI9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHIsInYiLCI1LjIwLjIiKSx0JiZ0LnJlZmVyZXJJbmZvKXt2YXIgbz10LnJlZmVyZXJJbmZvLnJlZmVyZXI7cj1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykociwicmVmZXJyZXIiLG8pfXJldHVybiB0JiZ0LnRpbWVvdXQmJihyPU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKShyLCJ0bWF4Iix0LnRpbWVvdXQpKSx0JiZ0LmdkcHJDb25zZW50JiYodm9pZCAwIT09dC5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHk9dC5nZHByQ29uc2VudC5nZHByQXBwbGllcyxyPU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKShyLCJnZHByIix5LnRvU3RyaW5nKCkpKSx2b2lkIDAhPT10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihiPXQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxyPU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKShyLCJjbXBfY3MiLGIpKSksdCYmdC51c3BDb25zZW50JiYocj1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykociwidXNfcHJpdmFjeSIsdC51c3BDb25zZW50KSksITA9PT11LmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYocj1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykociwiY29wcGEiLCEwKSksci5sYXN0SW5kZXhPZigiJiIpPT09ci5sZW5ndGgtMSYmKHI9ci5zdWJzdHJpbmcoMCxyLmxlbmd0aC0xKSksT2JqZWN0KG4ubG9nTWVzc2FnZSkoInRsQ2FsbCByZXF1ZXN0IGJ1aWx0OiAiK3IpLHttZXRob2Q6IlBPU1QiLHVybDpyLGRhdGE6aSxiaWRkZXJSZXF1ZXN0OnR9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPXQuYmlkZGVyUmVxdWVzdDtyZXR1cm4oZS5ib2R5LmJpZHN8fFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciByPXt9LG49dC53aWR0aHx8MSxpPXQuaGVpZ2h0fHwxLG89dC5kZWFsX2lkfHwiIix1PXQuY3JpZHx8IiIsYz1lLmJpZHNbdC5pbXBfaWRdOzAhPXQuY3BtJiZ0LmFkJiYocj17cmVxdWVzdElkOmMuYmlkSWQsY3BtOnQuY3BtLHdpZHRoOm4saGVpZ2h0OmksbmV0UmV2ZW51ZTohMCxhZDp0LmFkLGNyZWF0aXZlSWQ6dSxkZWFsSWQ6byxjdXJyZW5jeToiVVNEIix0dGw6MzAwLHRsX3NvdXJjZTp0LnRsX3NvdXJjZSxtZXRhOnt9fSxnKGMpJiYoci52YXN0WG1sPXQuYWQsci5tZWRpYVR5cGU9InZpZGVvIixyLnR0bD0zNjAwKSx0LmFkdmVydGlzZXJfbmFtZSYmKHIubWV0YS5hZHZlcnRpc2VyTmFtZT10LmFkdmVydGlzZXJfbmFtZSksdC5hZG9tYWluJiZ0LmFkb21haW4ubGVuZ3RoJiYoci5tZXRhLmFkdmVydGlzZXJEb21haW5zPXQuYWRvbWFpbiksdC50bF9zb3VyY2UmJiJoZHgiPT10LnRsX3NvdXJjZSYmKHIubWV0YS5tZWRpYVR5cGU9ImJhbm5lciIpLHQudGxfc291cmNlJiYidGx4Ij09dC50bF9zb3VyY2UmJihyLm1ldGEubWVkaWFUeXBlPSJuYXRpdmUiKSk7cmV0dXJuIHJ9KHIsZSl9KSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixpKXt2YXIgbz1mdW5jdGlvbihlKXtpZighZSlyZXR1cm47aWYoZS5pZnJhbWVFbmFibGVkKXJldHVybiJpZnJhbWUiO2lmKGUucGl4ZWxFbmFibGVkKXJldHVybiJpbWFnZSJ9KGUpO2lmKG8pe3ZhciB1PSJodHRwczovL2ViMi4zbGlmdC5jb20vc3luYz8iO3JldHVybiJpbWFnZSI9PT1vJiYodT1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykodSwicHgiLDEpLHU9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHUsInNyYyIsInByZWJpZCIpKSxudWxsIT09YiYmKHU9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHUsImdkcHIiLHkpLHU9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHUsImNtcF9jcyIsYikpLGkmJih1PU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKSh1LCJ1c19wcml2YWN5IixpKSksW3t0eXBlOm8sdXJsOnV9XX19fTtmdW5jdGlvbiBnKGUpe3JldHVybiEhZS5tZWRpYVR5cGVzLnZpZGVvJiYoISFlLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCYmImluc3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0LnRvTG93ZXJDYXNlKCkpfWZ1bmN0aW9uIHYoZSl7dmFyIHQ9bnVsbDtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcil7dmFyIHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOmcoZSk/InZpZGVvIjoiYmFubmVyIixzaXplOiIqIn0pOyJvYmplY3QiIT09YShyKXx8IlVTRCIhPT1yLmN1cnJlbmN5fHxpc05hTihwYXJzZUZsb2F0KHIuZmxvb3IpKXx8KHQ9cGFyc2VGbG9hdChyLmZsb29yKSl9cmV0dXJuIG51bGwhPT10P3Q6ZS5wYXJhbXMuZmxvb3J9ZnVuY3Rpb24gTyhlLHQpe09iamVjdChuLmlzRW1wdHkpKHQpfHxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihyKXtudWxsIT10W3JdJiYoZVtyXT10W3JdKX0pKX1mdW5jdGlvbiBqKGUsdCxyLG4pe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQudXNlcklkJiZ0LnVzZXJJZFtlXX19KHQpKS5maWx0ZXIoUyh0KSkubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybntzb3VyY2U6ZSx1aWRzOlt7aWQ6ci5pZD9yLmlkOnIsZXh0OntydGlQYXJ0bmVyOnR9fV19fX0ocixuKSl9dmFyIFM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixpKXt2YXIgbz0hIXQmJihPYmplY3Qobi5pc1N0cikodCk/ISF0Ok9iamVjdChuLmlzUGxhaW5PYmplY3QpKHQpJiYhT2JqZWN0KG4uaXNBcnJheSkodCkmJiFPYmplY3Qobi5pc0VtcHR5KSh0KSYmdC5pZCYmT2JqZWN0KG4uaXNTdHIpKHQuaWQpJiYhIXQuaWQpO3JldHVybiBvfHx2b2lkIDA9PT1pWzBdfHxPYmplY3Qobi5sb2dXYXJuKSgiVHJpcGxlbGlmdDogaW52YWxpZCAiLmNvbmNhdChlLCIgdXNlcklkIGZvcm1hdCIpKSxvfX07ZnVuY3Rpb24gaChlKXtyZXR1cm4gZS5maWx0ZXIoQSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSl9ZnVuY3Rpb24gQShlKXtyZXR1cm4gMj09PWUubGVuZ3RoJiYibnVtYmVyIj09dHlwZW9mIGVbMF0mJiJudW1iZXIiPT10eXBlb2YgZVsxXX1PYmplY3Qoby5yZWdpc3RlckJpZGRlcikobSl9fSxbODY0XSk7CnVwYmpzQ2h1bmsoWzEwNF0sezg2ODpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoODY5KX0sODY5OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gU30pKTt2YXIgbj1yKDApLGk9cigxKSxvPXIoMTMpLGE9cigyKSxzPXIoMyk7ZnVuY3Rpb24gdShlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBuLGksbz1bXSxhPSEwLHM9ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKGE9KG49ci5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKG4udmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtzPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGwoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuKGQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBjKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBwKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8bChlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBsKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBwKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXJ8fCJTZXQiPT09cj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qocik/cChlLHQpOnZvaWQgMH19ZnVuY3Rpb24gcChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufXZhciBmPSJCaWQgZnJvbSByZXNwb25zZSBoYXMgbm8gYXVpZCBwYXJhbWV0ZXIgLSAiLG09IkJpZCBmcm9tIHJlc3BvbnNlIGhhcyBubyBhZG0gcGFyYW1ldGVyIC0gIix5PSJBcnJheSBvZiBiaWQgb2JqZWN0cyBpcyBlbXB0eSIsZz0iU2VhdGJpZCBhcnJheSBmcm9tIHJlc3BvbnNlIGhhcyBlbXB0eSBpdGVtIixiPSJSZXNwb25zZSBpcyBlbXB0eSIsaD0iUmVzcG9uc2UgaGFzIGVtcHR5IHNlYXRiaWQgYXJyYXkiLHY9IlNlYXRiaWQgZnJvbSByZXNwb25zZSBoYXMgbm8gYXJyYXkgb2YgYmlkIG9iamVjdHMgLSAiLFM9e2NvZGU6InRydXN0eCIsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iLGEuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy51aWR9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXtpZighZS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIHI9bnVsbCxpPW51bGwsbz1udWxsLGw9bnVsbCxwPW51bGwsZj1udWxsLG09bnVsbCx5PW51bGwsZz1udWxsLGI9dHx8e30saD1iLmJpZGRlclJlcXVlc3RJZCx2PWIuYXVjdGlvbklkLFM9Yi5nZHByQ29uc2VudCxqPWIudXNwQ29uc2VudCx3PWIudGltZW91dCxPPWIucmVmZXJlckluZm8seD1PP2VuY29kZVVSSUNvbXBvbmVudChPLnJlZmVyZXIpOiIiLEk9W10sRT17fTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2h8fChoPWUuYmlkZGVyUmVxdWVzdElkKSx2fHwodj1lLmF1Y3Rpb25JZCkscHx8KHA9ZS5zY2hhaW4pLGZ8fChmPWUudXNlcklkKSxtfHwobT1lLnVzZXJJZEFzRWlkcyk7dmFyIHQ9ZS5wYXJhbXMscz10LnVpZCxjPXQua2V5d29yZHMseT1lLm1lZGlhVHlwZXMsZz1lLmJpZElkLGI9ZS5hZFVuaXRDb2RlLFM9ZS5ydGQ7RVtnXT1lO3ZhciBqPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS52aWRlbz8idmlkZW8iOiJiYW5uZXIiLG49dC5wYXJhbXMuYmlkRmxvb3J8fDA7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQuZ2V0Rmxvb3Ipe3ZhciBpPXQuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTpyLHNpemU6dC5zaXplcy5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PXUoZSwyKTtyZXR1cm57dzp0WzBdLGg6dFsxXX19KSl9KTsib2JqZWN0IiE9PWQoaSl8fCJVU0QiIT09aS5jdXJyZW5jeXx8aXNOYU4ocGFyc2VGbG9hdChpLmZsb29yKSl8fChuPU1hdGgubWF4KG4scGFyc2VGbG9hdChpLmZsb29yKSkpfXJldHVybiBufSh5fHx7fSxlKTtpZihTKXt2YXIgdz1TLmp3cGxheWVyJiZTLmp3cGxheWVyLnRhcmdldGluZzt3JiYoIWkmJncuc2VnbWVudHMmJihpPXcuc2VnbWVudHMpLCFsJiZ3LmNvbnRlbnQmJihsPXcuY29udGVudCkpO3ZhciBPPVMucF9zdGFuZGFyZCYmUy5wX3N0YW5kYXJkLnRhcmdldGluZzshbyYmTyYmTy5zZWdtZW50cyYmKG89Ty5zZWdtZW50cyl9dmFyIEE9e2lkOmcmJmcudG9TdHJpbmcoKSx0YWdpZDpzLnRvU3RyaW5nKCksZXh0OntkaXZpZDpiJiZiLnRvU3RyaW5nKCl9fTtpZihPYmplY3Qobi5pc0VtcHR5KShjKXx8KHJ8fChyPWMpLEEuZXh0LmJpZGRlcj17a2V5d29yZHM6Y30pLGomJihBLmJpZGZsb29yPWopLCF5fHx5W2EuYl0pe3ZhciB4PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5zaXplc3x8ZS5zaXplcztpZighcnx8IXIubGVuZ3RoKXJldHVybjt2YXIgaT1yLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5VG9SdGJTaXplKShlKX0pKSxvPU9iamVjdChuLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5VG9SdGJTaXplKShyWzBdKTtpLmxlbmd0aCYmKG8uZm9ybWF0PWkpO3JldHVybiBvfShlLHk/eVthLmJdOnt9KTt4JiYoQS5iYW5uZXI9eCl9aWYoeSYmeVthLmRdKXt2YXIgUj1mdW5jdGlvbihlLHQpe3ZhciByPXQucGxheWVyU2l6ZSxpPXQubWltZXMsbz10LmR1cmF0aW9uUmFuZ2VTZWMsYT10LnByb3RvY29scyxzPShyfHxlLnNpemVzfHxbXSlbMF07aWYoIXMpcmV0dXJuO3ZhciB1PU9iamVjdChuLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5VG9SdGJTaXplKShzKTtpJiYodS5taW1lcz1pKTtvJiYyPT09by5sZW5ndGgmJih1Lm1pbmR1cmF0aW9uPW9bMF0sdS5tYXhkdXJhdGlvbj1vWzFdKTthJiZhLmxlbmd0aCYmKHUucHJvdG9jb2xzPWEpO3JldHVybiB1fShlLHlbYS5kXSk7UiYmKEEudmlkZW89Uil9KEEuYmFubmVyfHxBLnZpZGVvKSYmSS5wdXNoKEEpfSkpO3ZhciBSPXt0aWQ6diYmdi50b1N0cmluZygpLGV4dDp7d3JhcHBlcjoiUHJlYmlkX2pzIix3cmFwcGVyX3ZlcnNpb246IjUuMjAuMiJ9fTtwJiYoUi5leHQuc2NoYWluPXApO3ZhciBUPXMuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKXx8dyxfPXc/TWF0aC5taW4oVCx3KTpULGs9e2lkOmgmJmgudG9TdHJpbmcoKSxzaXRlOntwYWdlOnh9LHRtYXg6Xyxzb3VyY2U6UixpbXA6SX07bCYmKGsuc2l0ZS5jb250ZW50PWwpO3ZhciB6PVtdO0EoImlvd19sYWJzX3B1Yl9kYXRhIiwiandwc2VnIixpLHopLEEoInBlcm11dGl2ZSIsInBfc3RhbmRhcmQiLG8seiwicGVybXV0aXZlLmNvbSIpLHoubGVuZ3RoJiYoeT17ZGF0YTp6fSksUyYmUy5jb25zZW50U3RyaW5nJiYoZz17Y29uc2VudDpTLmNvbnNlbnRTdHJpbmd9KSxtJiZtLmxlbmd0aCYmKChnPWd8fHt9KS5laWRzPWMobSkpLGcmJk9iamVjdC5rZXlzKGcpLmxlbmd0aCYmKCh5PXl8fHt9KS5leHQ9ZykseSYmKGsudXNlcj15KTt2YXIgQz1PYmplY3Qobi5kZWVwQWNjZXNzKShzLmIuZ2V0Q29uZmlnKCJvcnRiMi51c2VyIiksImtleXdvcmRzIil8fG51bGwsTj1PYmplY3Qobi5kZWVwQWNjZXNzKShzLmIuZ2V0Q29uZmlnKCJvcnRiMi5zaXRlIiksImtleXdvcmRzIil8fG51bGw7cmV0dXJuIEMmJigocj1yfHx7fSkudXNlcj1yLnVzZXJ8fHt9LHIudXNlci5vcnRiMj1be25hbWU6ImtleXdvcmRzIixrZXl3b3JkczpDLnNwbGl0KCIsIil9XSksTiYmKChyPXJ8fHt9KS5zaXRlPXIuc2l0ZXx8e30sci5zaXRlLm9ydGIyPVt7bmFtZToia2V5d29yZHMiLGtleXdvcmRzOk4uc3BsaXQoIiwiKX1dKSxyJiYocj1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIG49ZVtyXTtpZihuKWlmKCJzaXRlIj09PXJ8fCJ1c2VyIj09PXIpe3ZhciBpPXt9O09iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkobltlXSkpe3ZhciB0PVtdO25bZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PT1kKGUpJiZlLm5hbWUpe3ZhciByPXtuYW1lOmUubmFtZSxzZWdtZW50czpbXX07T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7QXJyYXkuaXNBcnJheShlW3RdKSYmZVt0XS5mb3JFYWNoKChmdW5jdGlvbihlKXtlJiYoInN0cmluZyI9PXR5cGVvZiBlP3Iuc2VnbWVudHMucHVzaCh7bmFtZTp0LHZhbHVlOmV9KToic2VnbWVudHMiPT09dCYmInN0cmluZyI9PXR5cGVvZiBlLm5hbWUmJiJzdHJpbmciPT10eXBlb2YgZS52YWx1ZSYmci5zZWdtZW50cy5wdXNoKGUpKX0pKX0pKSxyLnNlZ21lbnRzLmxlbmd0aCYmdC5wdXNoKHIpfX0pKSx0Lmxlbmd0aCYmKGlbZV09dCl9fSkpLHRbcl09aX1lbHNlIHRbcl09bn0pKSxPYmplY3Qua2V5cyh0KS5sZW5ndGgmJnR9KHIpKSYmKGsuZXh0PXtrZXl3b3JkczpyfSksUyYmUy5nZHByQXBwbGllcyYmKGsucmVncz17ZXh0OntnZHByOlMuZ2RwckFwcGxpZXM/MTowfX0pLGomJihrLnJlZ3N8fChrLnJlZ3M9e2V4dDp7fX0pLGsucmVncy5leHQudXNfcHJpdmFjeT1qKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vZ3JpZC5iaWRzd2l0Y2gubmV0L2hianNvbj9zcD10cnVzdHgiLGRhdGE6SlNPTi5zdHJpbmdpZnkoayksYmlkc01hcDpFfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06by5hO2U9ZSYmZS5ib2R5O3ZhciBpLGE9W107cmV0dXJuIGU/ZS5zZWF0YmlkJiYhZS5zZWF0YmlkLmxlbmd0aCYmKGk9aCk6aT1iLCFpJiZlLnNlYXRiaWQmJmUuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXt3KGooZSksdCxhLHIpfSkpLGkmJk9iamVjdChuLmxvZ0Vycm9yKShpKSxhfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7aWYoZS5waXhlbEVuYWJsZWQpe3ZhciBpPXMuYi5nZXRDb25maWcoInVzZXJTeW5jLnN5bmNzUGVyQmlkZGVyIiksbz1bXTtyJiYic3RyaW5nIj09dHlwZW9mIHIuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIHIuZ2RwckFwcGxpZXM/by5wdXNoKCJnZHByPSIuY29uY2F0KE51bWJlcihyLmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoci5jb25zZW50U3RyaW5nKSk6by5wdXNoKCJnZHByX2NvbnNlbnQ9Ii5jb25jYXQoci5jb25zZW50U3RyaW5nKSkpLG4mJm8ucHVzaCgidXNfcHJpdmFjeT0iLmNvbmNhdChuKSk7dmFyIGE9by5qb2luKCImIiksdT1be3R5cGU6ImltYWdlIix1cmw6Imh0dHBzOi8vc29maWEudHJ1c3R4Lm9yZy9wdXNoX3N5bmMiKyhhPyI/Ii5jb25jYXQoYSk6IiIpfV07cmV0dXJuIGk+MSYmdS5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL3guYmlkc3dpdGNoLm5ldC9zeW5jP3NzcD10aGVtZWRpYWdyaWQiKyhhPyImIi5jb25jYXQoYSk6IiIpfSksdX19fTtmdW5jdGlvbiBqKGUpe3JldHVybiBlP2UuYmlkP2UuYmlkWzBdfHxPYmplY3Qobi5sb2dFcnJvcikoeSk6T2JqZWN0KG4ubG9nRXJyb3IpKHYrSlNPTi5zdHJpbmdpZnkoZSkpOk9iamVjdChuLmxvZ0Vycm9yKShnKSxlJiZlLmJpZCYmZS5iaWRbMF19ZnVuY3Rpb24gdyhlLHQscixpKXtpZihlKXt2YXIgbztpZihlLmF1aWR8fChvPWYrSlNPTi5zdHJpbmdpZnkoZSkpLGUuYWRtfHxlLm51cmwpe3ZhciBzPXQuYmlkc01hcFtlLmltcGlkXTtpZighbyYmcyl7dmFyIHU9e3JlcXVlc3RJZDpzLmJpZElkLGNwbTplLnByaWNlLHdpZHRoOmUudyxoZWlnaHQ6ZS5oLGNyZWF0aXZlSWQ6ZS5hdWlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITEsdHRsOjM2MCxkZWFsSWQ6ZS5kZWFsaWQsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWluP2UuYWRvbWFpbjpbXX19OyJ2aWRlbyI9PT1lLmNvbnRlbnRfdHlwZT8oZS5hZG0/KHUudmFzdFhtbD1lLmFkbSx1LmFkUmVzcG9uc2U9e2NvbnRlbnQ6dS52YXN0WG1sfSk6ZS5udXJsJiYodS52YXN0VXJsPWUubnVybCksdS5tZWRpYVR5cGU9YS5kLHMucmVuZGVyZXJ8fHMubWVkaWFUeXBlcyYmcy5tZWRpYVR5cGVzLnZpZGVvJiYib3V0c3RyZWFtIiE9PXMubWVkaWFUeXBlcy52aWRlby5jb250ZXh0fHwodS5yZW5kZXJlcj1mdW5jdGlvbihlLHQscil7dmFyIGk9ci5pbnN0YWxsKHtpZDp0LmlkLHVybDp0LnVybCxsb2FkZWQ6ITF9KTt0cnl7aS5zZXRSZW5kZXIoTyl9Y2F0Y2goZSl7T2JqZWN0KG4ubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIGl9KDAse2lkOnMuYmlkSWQsdXJsOiJodHRwczovL2FjZG4uYWRueHMuY29tL3ZpZGVvL291dHN0cmVhbS9BTk91dHN0cmVhbVZpZGVvLmpzIn0saSkpKToodS5hZD1lLmFkbSx1Lm1lZGlhVHlwZT1hLmIpLHIucHVzaCh1KX19ZWxzZSBvPW0rSlNPTi5zdHJpbmdpZnkoZSk7byYmT2JqZWN0KG4ubG9nRXJyb3IpKG8pfX1mdW5jdGlvbiBPKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cuQU5PdXRzdHJlYW1WaWRlby5yZW5kZXJBZCh7dGFyZ2V0SWQ6ZS5hZFVuaXRDb2RlLGFkUmVzcG9uc2U6ZS5hZFJlc3BvbnNlfSl9KSl9ZnVuY3Rpb24gQShlLHQscixuLGkpe2lmKHImJnIubGVuZ3RoKW4ucHVzaCh7bmFtZTplLHNlZ21lbnQ6ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiYoZS5pZHx8ZSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmKCJzdHJpbmciPT10eXBlb2YgZXx8Im51bWJlciI9PXR5cGVvZiBlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnQsdmFsdWU6ZS50b1N0cmluZygpfX0pKX0pO2Vsc2UgaWYoaSl7dmFyIG89cy5iLmdldENvbmZpZygib3J0YjIudXNlci5kYXRhIiksYT1udWxsO28mJm8uc29tZSgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5uYW1lLHI9ZS5zZWdtZW50O2lmKHQ9PT1pKXJldHVybiBhPXIsITB9KSksYSYmYS5sZW5ndGgmJm4ucHVzaCh7bmFtZTplLHNlZ21lbnQ6YS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiYoZS5pZHx8ZSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmKCJzdHJpbmciPT10eXBlb2YgZXx8Im51bWJlciI9PXR5cGVvZiBlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnQsdmFsdWU6ZS50b1N0cmluZygpfX0pKX0pfX1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikoUyl9fSxbODY4XSk7CnVwYmpzQ2h1bmsoWzEwMV0sezg3NjpmdW5jdGlvbihlLG4sdCl7ZS5leHBvcnRzPXQoODc3KX0sODc3OmZ1bmN0aW9uKGUsbix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4ucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe2Q9ITF9LHQuZChuLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTt2YXIgcz10KDApLGk9dCgzKSxyPXQoMSksYT0iMy41ViIsZD0hMTtPYmplY3Qocy5sb2dNZXNzYWdlKSgiSW5pdGlhbGl6aW5nIFVETSBBZGFwdGVyLiBQQkpTIFZlcnNpb246ICIuY29uY2F0KCI1LjIwLjIiLCIgd2l0aCBhZGFwdGVyIHZlcnNpb246ICIpLmNvbmNhdChhLCIgIFVwZGF0ZWQgMjAxOTEwMjgiKSk7dmFyIG89e2NvZGU6InVuZGVyZG9nbWVkaWEiLGJpZFBhcmFtczpbXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgbj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzO3JldHVybiEhKGUucGFyYW1zJiZlLnBhcmFtcy5zaXRlSWQmJm4mJm4ubGVuZ3RoPjApfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsbil7dmFyIHQ9W10saT0wO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplczt0PU9iamVjdChzLmZsYXR0ZW4pKHQsT2JqZWN0KHMucGFyc2VTaXplc0lucHV0KShuKSksaT1lLnBhcmFtcy5zaXRlSWR9KSk7dmFyIHI9e3RpZDoxLGR0OjEwLHNpZDppLHNpemVzOnQuam9pbigiLCIpLHZlcnNpb246YX07aWYobiYmbi5nZHByQ29uc2VudCYmKHZvaWQgMCE9PW4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihyLmdkcHJBcHBsaWVzPSEhbi5nZHByQ29uc2VudC5nZHByQXBwbGllcyksbi5nZHByQ29uc2VudC52ZW5kb3JEYXRhJiZuLmdkcHJDb25zZW50LnZlbmRvckRhdGEudmVuZG9yQ29uc2VudHMmJnZvaWQgMCE9PW4uZ2RwckNvbnNlbnQudmVuZG9yRGF0YS52ZW5kb3JDb25zZW50c1sxNTldJiYoci5jb25zZW50R2l2ZW49ISFuLmdkcHJDb25zZW50LnZlbmRvckRhdGEudmVuZG9yQ29uc2VudHNbMTU5XSksdm9pZCAwIT09bi5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYoci5jb25zZW50RGF0YT1uLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxuLnVzcENvbnNlbnQmJihyLnVzcENvbnNlbnQ9bi51c3BDb25zZW50KSwhci5nZHByQXBwbGllc3x8ci5jb25zZW50R2l2ZW4pcmV0dXJue21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vdWRtc2VydmUubmV0L3VkbS9pbWcuZmV0Y2giLGRhdGE6cixiaWRQYXJhbXM6ZX19LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLG4pe2lmKCFkJiZuLmxlbmd0aD4wJiZuWzBdLmJvZHkmJm5bMF0uYm9keS51c2VyU3luY3MmJm5bMF0uYm9keS51c2VyU3luY3MubGVuZ3RoPjApcmV0dXJuIGQ9ITAsblswXS5ib2R5LnVzZXJTeW5jcy5maWx0ZXIoKGZ1bmN0aW9uKG4pe3ZhciB0PW4udHlwZTtyZXR1cm4hKCFlLmlmcmFtZUVuYWJsZWR8fCJpZnJhbWUiIT09dCl8fCghKCFlLnBpeGVsRW5hYmxlZHx8ImltYWdlIiE9PXQpfHx2b2lkIDApfSkpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLG4pe3ZhciB0PVtdO3JldHVybiBuLmJpZFBhcmFtcy5mb3JFYWNoKChmdW5jdGlvbihuKXtlLmJvZHkubWlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZighKGUudXNlQ291bnQ+MCkpe2UudXNlQ291bnR8fChlLnVzZUNvdW50PTApO3ZhciByPSEwLGQ9bi5tZWRpYVR5cGVzJiZuLm1lZGlhVHlwZXMuYmFubmVyJiZuLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP24ubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6bi5zaXplcztpZihPYmplY3Qocy5wYXJzZVNpemVzSW5wdXQpKGQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe249PT1lLndpZHRoKyJ4IitlLmhlaWdodCYmKHI9ITEpfSkpLCFyKXt2YXIgcD17cmVxdWVzdElkOm4uYmlkSWQsYmlkZGVyQ29kZTpvLmNvZGUsY3BtOnBhcnNlRmxvYXQoZS5jcG0pLHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LGFkOmUuYWRfY29kZV9odG1sLGNyZWF0aXZlSWQ6ZS5taWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMSx0dGw6ZS50dGx8fDYwLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmUuYWR2ZXJ0aXNlcl9kb21haW5zfHxbXX19O3AuY3BtPD0wfHxwLmFkLmxlbmd0aDw9MHx8KGUudXNlQ291bnQrKyxwLmFkKz1mdW5jdGlvbihlLG4sdCl7dmFyIHM9bi5ub3RpZmljYXRpb25fdXJsLHI9cy5pbmRleE9mKCI7dmVyc2lvbj0iKTtyKzEmJihzPXMuc3Vic3RyaW5nKDAscikpO3MrPSI7dmVyc2lvbj0iLmNvbmNhdChhKSxzKz0iO2NiPSIrTWF0aC5yYW5kb20oKSxzKz0iO3FxcT0iKzEvZS5jcG0scys9IjtoYnQ9IitpLmIuZ2V0Q29uZmlnKCJfYmlkZGVyVGltZW91dCIpLHMrPSI7c3R5bGU9YWRhcHRlciIscys9Ijt2aXM9IitlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlKSxzKz0iO3RyYWZmaWNfaW5mbz0iK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShmdW5jdGlvbigpe2Zvcih2YXIgZSxuPXt9LHQ9d2luZG93LmxvY2F0aW9uLmhyZWYuc2xpY2Uod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiPyIpKzEpLnNwbGl0KCImIikscz0wO3M8dC5sZW5ndGg7cysrKShlPXRbc10uc3BsaXQoIj0iKSlbMF0ubWF0Y2goL151dG1fLykmJihuW2VbMF1dPWVbMV0uc3Vic3RyKDAsMTUwKSk7cmV0dXJuIG59KCkpKSx0LnBhcmFtcy5zdWJJZCYmKHMrPSI7c3ViaWQ9IitlbmNvZGVVUklDb21wb25lbnQodC5wYXJhbXMuc3ViSWQpKTtyZXR1cm4nPHNjcmlwdCBhc3luYyBzcmM9IicrcysnIj48XC9zY3JpcHQ+J30ocCxlLG4pLHQucHVzaChwKSl9fX0pKX0pKSx0fX07T2JqZWN0KHIucmVnaXN0ZXJCaWRkZXIpKG8pfX0sWzg3Nl0pOwp1cGJqc0NodW5rKFs5OF0sezg4MjpmdW5jdGlvbihyLGUsdCl7ci5leHBvcnRzPXQoODgzKX0sODgzOmZ1bmN0aW9uKHIsZSx0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChlLCJ1bmlmaWVkSWRTdWJtb2R1bGUiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciBuPXQoMCksbz10KDQpLGk9dCg5KSxjPSJ1bmlmaWVkSWQiLHU9e25hbWU6YyxndmxpZDoyMSxkZWNvZGU6ZnVuY3Rpb24ocil7cmV0dXJuIHImJiJzdHJpbmciPT10eXBlb2Ygci5URElEP3t0ZGlkOnIuVERJRH06dm9pZCAwfSxnZXRJZDpmdW5jdGlvbihyKXt2YXIgZT1yJiZyLnBhcmFtc3x8e307aWYoZSYmKCJzdHJpbmciPT10eXBlb2YgZS5wYXJ0bmVyfHwic3RyaW5nIj09dHlwZW9mIGUudXJsKSl7dmFyIHQ9ZS51cmx8fCJodHRwczovL21hdGNoLmFkc3J2ci5vcmcvdHJhY2svcmlkP3R0ZF9waWQ9Ii5jb25jYXQoZS5wYXJ0bmVyLCImZm10PWpzb24iKTtyZXR1cm57Y2FsbGJhY2s6ZnVuY3Rpb24ocil7dmFyIGU9e3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSl0cnl7dD1KU09OLnBhcnNlKGUpfWNhdGNoKHIpe09iamVjdChuLmxvZ0Vycm9yKShyKX1yKHQpfSxlcnJvcjpmdW5jdGlvbihlKXtPYmplY3Qobi5sb2dFcnJvcikoIiIuY29uY2F0KGMsIjogSUQgZmV0Y2ggZW5jb3VudGVyZWQgYW4gZXJyb3IiKSxlKSxyKCl9fTtPYmplY3Qoby5hKSh0LGUsdm9pZCAwLHttZXRob2Q6IkdFVCIsd2l0aENyZWRlbnRpYWxzOiEwfSl9fX1PYmplY3Qobi5sb2dFcnJvcikoIlVzZXIgSUQgLSB1bmlmaWVkSWQgc3VibW9kdWxlIHJlcXVpcmVzIGVpdGhlciBwYXJ0bmVyIG9yIHVybCB0byBiZSBkZWZpbmVkIil9fTtPYmplY3QoaS5lKSgidXNlcklkIix1KX19LFs4ODJdKTsKdXBianNDaHVuayhbMTFdLHsxNzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSlpZihlLmhhc093blByb3BlcnR5KG4pKWlmKCJwdWJQcm92aWRlZElkIj09PW4pdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIHI9YShlW25dLG4pO3ImJnQucHVzaChyKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24obil7T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KHIuZGVlcEFjY2VzcykobyxuKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOm9bbl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciByPW4oMCksbz17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChyLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gYShlLHQpe3ZhciBuPW9bdF07aWYobiYmZSl7dmFyIGE9e307YS5zb3VyY2U9bi5zb3VyY2U7dmFyIGk9T2JqZWN0KHIuaXNGbikobi5nZXRWYWx1ZSk/bi5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChyLmlzU3RyKShpKSl7dmFyIGM9e2lkOmksYXR5cGU6bi5hdHlwZX07aWYoT2JqZWN0KHIuaXNGbikobi5nZXRVaWRFeHQpKXt2YXIgdT1uLmdldFVpZEV4dChlKTt1JiYoYy5leHQ9dSl9aWYoYS51aWRzPVtjXSxPYmplY3Qoci5pc0ZuKShuLmdldEVpZEV4dCkpe3ZhciBzPW4uZ2V0RWlkRXh0KGUpO3MmJihhLmV4dD1zKX1yZXR1cm4gYX19cmV0dXJuIG51bGx9fSw4ODY6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDg4Nyl9LDg4NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiUEJKU19VU0VSX0lEX09QVE9VVF9OQU1FIiwoZnVuY3Rpb24oKXtyZXR1cm4gd30pKSxuLmQodCwiY29yZVN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZCh0LCJzeW5jRGVsYXkiLChmdW5jdGlvbigpe3JldHVybiBJfSkpLG4uZCh0LCJhdWN0aW9uRGVsYXkiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLHQuc2V0U3VibW9kdWxlUmVnaXN0cnk9ZnVuY3Rpb24oZSl7Vj1lfSx0LnNldFN0b3JlZFZhbHVlPUwsdC5zZXRTdG9yZWRDb25zZW50RGF0YT1NLHQuZmluZFJvb3REb21haW49Six0LnJlcXVlc3RCaWRzSG9vaz0kLG4uZCh0LCJ2YWxpZGF0ZUdkcHJFbmZvcmNlbWVudCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl9KSksdC5hdHRhY2hJZFN5c3RlbT1uZSx0LmluaXQ9cmU7dmFyIHI9bigxMSksbz1uLm4ociksYT1uKDMpLGk9bigxMCksYz1uLm4oaSksdT1uKDE0KSxzPW4oOCksZD1uKDUpLGw9bi5uKGQpLGY9big5KSxiPW4oMTcpLHA9big3KSxnPW4oMCksbT1uKDEyKSx5PW4ubihtKTtmdW5jdGlvbiBPKGUsdCl7dmFyIG49InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KGUpfHwobj1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHYoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHYoZSx0KX0oZSkpfHx0JiZlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXtuJiYoZT1uKTt2YXIgcj0wLG89ZnVuY3Rpb24oKXt9O3JldHVybntzOm8sbjpmdW5jdGlvbigpe3JldHVybiByPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtyKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOm99fXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX12YXIgYSxpPSEwLGM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtuPW4uY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPW4ubmV4dCgpO3JldHVybiBpPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe2M9ITAsYT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e2l8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBhfX19fWZ1bmN0aW9uIHYoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgaixoLEksayxEPSJVc2VyIElEIixFPSJjb29raWUiLFM9Imh0bWw1Iix4PSJfcGJqc191c2VyaWRfY29uc2VudF9kYXRhIixBPTMwLHc9Il9wYmpzX2lkX29wdG91dCIsQz1PYmplY3QocC5hKSgidXNlcmlkIiksVT1bXSxfPSExLFA9W10sVD1bXSxWPVtdO2Z1bmN0aW9uIEwoZSx0KXt2YXIgbj1lLmNvbmZpZy5zdG9yYWdlLHI9ImZ1bmN0aW9uIj09dHlwZW9mIGUuc3VibW9kdWxlLmRvbWFpbk92ZXJyaWRlP2Uuc3VibW9kdWxlLmRvbWFpbk92ZXJyaWRlKCk6bnVsbDt0cnl7dmFyIG89T2JqZWN0KGcuaXNQbGFpbk9iamVjdCkodCk/SlNPTi5zdHJpbmdpZnkodCk6dCxhPW5ldyBEYXRlKERhdGUubm93KCkrODY0ZTUqbi5leHBpcmVzKS50b1VUQ1N0cmluZygpO24udHlwZT09PUU/KEMuc2V0Q29va2llKG4ubmFtZSxvLGEsIkxheCIsciksIm51bWJlciI9PXR5cGVvZiBuLnJlZnJlc2hJblNlY29uZHMmJkMuc2V0Q29va2llKCIiLmNvbmNhdChuLm5hbWUsIl9sYXN0IiksKG5ldyBEYXRlKS50b1VUQ1N0cmluZygpLGEsIkxheCIscikpOm4udHlwZT09PVMmJihDLnNldERhdGFJbkxvY2FsU3RvcmFnZSgiIi5jb25jYXQobi5uYW1lLCJfZXhwIiksYSksQy5zZXREYXRhSW5Mb2NhbFN0b3JhZ2Uobi5uYW1lLGVuY29kZVVSSUNvbXBvbmVudChvKSksIm51bWJlciI9PXR5cGVvZiBuLnJlZnJlc2hJblNlY29uZHMmJkMuc2V0RGF0YUluTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChuLm5hbWUsIl9sYXN0IiksKG5ldyBEYXRlKS50b1VUQ1N0cmluZygpKSl9Y2F0Y2goZSl7T2JqZWN0KGcubG9nRXJyb3IpKGUpfX1mdW5jdGlvbiBOKGUpe3ZhciB0PU9iamVjdChnLmdldFByZWJpZEludGVybmFsKSgpLnNldEVpZFBlcm1pc3Npb25zOyJmdW5jdGlvbiI9PXR5cGVvZiB0JiZPYmplY3QoZy5pc0FycmF5KShlKSYmdChPYmplY3QoYi5hKShlKSl9ZnVuY3Rpb24gcShlKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp2b2lkIDAscj1uPyIiLmNvbmNhdChlLm5hbWUsIl8iKS5jb25jYXQobik6ZS5uYW1lO3RyeXtpZihlLnR5cGU9PT1FKXQ9Qy5nZXRDb29raWUocik7ZWxzZSBpZihlLnR5cGU9PT1TKXt2YXIgbz1DLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChlLm5hbWUsIl9leHAiKSk7IiI9PT1vP3Q9Qy5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShyKTpvJiZuZXcgRGF0ZShvKS5nZXRUaW1lKCktRGF0ZS5ub3coKT4wJiYodD1kZWNvZGVVUklDb21wb25lbnQoQy5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShyKSkpfSJzdHJpbmciPT10eXBlb2YgdCYmInsiPT09dC50cmltKCkuY2hhckF0KDApJiYodD1KU09OLnBhcnNlKHQpKX1jYXRjaChlKXtPYmplY3QoZy5sb2dFcnJvcikoZSl9cmV0dXJuIHR9ZnVuY3Rpb24gRihlKXt2YXIgdD17Y29uc2VudFN0cmluZzoiIixnZHByQXBwbGllczohMSxhcGlWZXJzaW9uOjB9O3JldHVybiBlJiYodC5jb25zZW50U3RyaW5nPWUuY29uc2VudFN0cmluZyx0LmdkcHJBcHBsaWVzPWUuZ2RwckFwcGxpZXMsdC5hcGlWZXJzaW9uPWUuYXBpVmVyc2lvbiksT2JqZWN0KGcuY3lyYjUzSGFzaCkoSlNPTi5zdHJpbmdpZnkodCkpfWZ1bmN0aW9uIE0oZSl7dHJ5e3ZhciB0PW5ldyBEYXRlKERhdGUubm93KCkrODY0ZTUqQSkudG9VVENTdHJpbmcoKTtDLnNldENvb2tpZSh4LEYoZSksdCwiTGF4Iil9Y2F0Y2goZSl7T2JqZWN0KGcubG9nRXJyb3IpKGUpfX1mdW5jdGlvbiBCKCl7dHJ5e3JldHVybiBDLmdldENvb2tpZSh4KX1jYXRjaChlKXtPYmplY3QoZy5sb2dFcnJvcikoZSl9fWZ1bmN0aW9uIFIoZSl7aWYoZSYmImJvb2xlYW4iPT10eXBlb2YgZS5nZHByQXBwbGllcyYmZS5nZHByQXBwbGllcyl7aWYoIWUuY29uc2VudFN0cmluZylyZXR1cm4hMTtpZigxPT09ZS5hcGlWZXJzaW9uJiYhMT09PU9iamVjdChnLmRlZXBBY2Nlc3MpKGUsInZlbmRvckRhdGEucHVycG9zZUNvbnNlbnRzLjEiKSlyZXR1cm4hMTtpZigyPT09ZS5hcGlWZXJzaW9uJiYhMT09PU9iamVjdChnLmRlZXBBY2Nlc3MpKGUsInZlbmRvckRhdGEucHVycG9zZS5jb25zZW50cy4xIikpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gSigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7aWYoIUMuY29va2llc0FyZUVuYWJsZWQoKSlyZXR1cm4gZTt2YXIgdCxuLHI9ZS5zcGxpdCgiLiIpO2lmKDI9PXIubGVuZ3RoKXJldHVybiBlO3ZhciBvPS0yLGE9Il9yZGMiLmNvbmNhdChEYXRlLm5vdygpKSxpPSJ3cml0ZWFibGUiO2Rve3Q9ci5zbGljZShvKS5qb2luKCIuIik7dmFyIGM9bmV3IERhdGUoT2JqZWN0KGcudGltZXN0YW1wKSgpKzFlNCkudG9VVENTdHJpbmcoKTtDLnNldENvb2tpZShhLGksYywiTGF4Iix0LHZvaWQgMCk7dmFyIHU9Qy5nZXRDb29raWUoYSx2b2lkIDApO3U9PT1pPyhuPSExLEMuc2V0Q29va2llKGEsIiIsIlRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UIix2b2lkIDAsdCx2b2lkIDApKToobys9LTEsbj1NYXRoLmFicyhvKTw9ci5sZW5ndGgpfXdoaWxlKG4pO3JldHVybiB0fWZ1bmN0aW9uIEgoZSx0KXt2YXIgbj1mdW5jdGlvbigpe307dCYmKG49T2JqZWN0KGcuZGVsYXlFeGVjdXRpb24pKChmdW5jdGlvbigpe2NsZWFyVGltZW91dChoKSx0KCl9KSxlLmxlbmd0aCkpLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5jYWxsYmFjaygoZnVuY3Rpb24odCl7dD8oZS5jb25maWcuc3RvcmFnZSYmTChlLHQpLGUuaWRPYmo9ZS5zdWJtb2R1bGUuZGVjb2RlKHQsZS5jb25maWcpKTpPYmplY3QoZy5sb2dJbmZvKSgiIi5jb25jYXQoRCwiOiAiKS5jb25jYXQoZS5zdWJtb2R1bGUubmFtZSwiIC0gcmVxdWVzdCBpZCByZXNwb25kZWQgd2l0aCBhbiBlbXB0eSB2YWx1ZSIpKSxuKCl9KSksZS5jYWxsYmFjaz12b2lkIDB9KSl9ZnVuY3Rpb24geihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg/ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoZy5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmtleXModC5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24obil7ZVtuXT10LmlkT2JqW25dfSkpLGV9KSx7fSk6e319ZnVuY3Rpb24gRyhlLHQpe1tlXS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4hQXJyYXkuaXNBcnJheShlKXx8IWUubGVuZ3RofSkpfHxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkcyYmT2JqZWN0KGcuaXNBcnJheSkoZS5iaWRzKSYmKCFlLmJpZHMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIj09PWUuYmlkZGVyfSkpJiZPYmplY3QoZy5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQucHJlYmlkLnN0b3JlZHJlcXVlc3QiKSYmZS5iaWRzLnB1c2goe2JpZGRlcjoiczJzQmlkZGVyUGxhY2Vob2xkZXIifSksZS5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoJiZ0P2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZS5jb25maWcuYmlkZGVyc3x8IU9iamVjdChnLmlzQXJyYXkpKGUuY29uZmlnLmJpZGRlcnMpfHx5KCkoZS5jb25maWcuYmlkZGVycyx0KXx8InMyc0JpZGRlclBsYWNlaG9sZGVyIj09PXR9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGcuaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKHQuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKG4pe2Vbbl09dC5pZE9ialtuXX0pKSxlfSkse30pOnt9fSh0LGUuYmlkZGVyKTtPYmplY3Qua2V5cyhuKS5sZW5ndGgmJihlLnVzZXJJZD1uLGUudXNlcklkQXNFaWRzPU9iamVjdChiLmIpKG4pKX0pKSl9KSl9ZnVuY3Rpb24gVyhlKXt2YXIgdD0hMTtpZih2b2lkIDA9PT1qJiYoaj1mdW5jdGlvbihlLHQpe3ZhciBuPVkoZSx0KSxyPW4udXNlcklkTW9kdWxlcztpZighbi5oYXNWYWxpZGF0ZWQmJiFSKHQpKXJldHVybiBPYmplY3QoZy5sb2dXYXJuKSgiIi5jb25jYXQoRCwiIC0gZ2RwciBwZXJtaXNzaW9uIG5vdCB2YWxpZCBmb3IgbG9jYWwgc3RvcmFnZSBvciBjb29raWVzLCBleGl0IG1vZHVsZSIpKSxbXTt2YXIgbz1CKCk7cmV0dXJuIE0odCksci5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIFoobix0LG8sITEpLGUucHVzaChuKSxlfSksW10pfShQLHMuZ2RwckRhdGFIYW5kbGVyLmdldENvbnNlbnREYXRhKCkpKS5sZW5ndGgpe04oaik7dmFyIG49ai5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoZy5pc0ZuKShlLmNhbGxiYWNrKX0pKTtpZihuLmxlbmd0aClpZihlJiZrPjApe3Q9ITA7dmFyIHI9ITEsbz1mdW5jdGlvbigpe3J8fChyPSEwLGUoKSl9O09iamVjdChnLmxvZ0luZm8pKCIiLmNvbmNhdChELCIgLSBhdWN0aW9uIGRlbGF5ZWQgYnkgIikuY29uY2F0KGssIiBhdCBtb3N0IHRvIGZldGNoIGlkcyIpKSxoPXNldFRpbWVvdXQobyxrKSxIKG4sbyl9ZWxzZSBjLmEub24obC5hLkVWRU5UUy5BVUNUSU9OX0VORCwoZnVuY3Rpb24gZSgpe2MuYS5vZmYobC5hLkVWRU5UUy5BVUNUSU9OX0VORCxlKSxJPjA/c2V0VGltZW91dCgoZnVuY3Rpb24oKXtIKG4pfSksSSk6SChuKX0pKX1lJiYhdCYmZSgpfWZ1bmN0aW9uICQoZSx0KXtXKChmdW5jdGlvbigpe0codC5hZFVuaXRzfHxPYmplY3QodS5hKSgpLmFkVW5pdHMsaiksZS5jYWxsKHRoaXMsdCl9KSl9ZnVuY3Rpb24gSygpe3JldHVybiBXKCkseihqKX1mdW5jdGlvbiBRKCl7cmV0dXJuIFcoKSxPYmplY3QoYi5iKSh6KGopKX1mdW5jdGlvbiBYKGUsdCl7dmFyIG49ZT9lLnN1Ym1vZHVsZU5hbWVzOm51bGw7bnx8KG49W10pLFcoKGZ1bmN0aW9uKCl7dmFyIGU9cy5nZHByRGF0YUhhbmRsZXIuZ2V0Q29uc2VudERhdGEoKSxyPVkoUCxlKSxvPXIudXNlcklkTW9kdWxlcztpZihyLmhhc1ZhbGlkYXRlZHx8UihlKSl7dmFyIGE9QigpO00oZSk7dmFyIGksYz1bXSx1PU8obyk7dHJ5e2Zvcih1LnMoKTshKGk9dS5uKCkpLmRvbmU7KXt2YXIgZD1pLnZhbHVlO24ubGVuZ3RoPjAmJi0xPT09bi5pbmRleE9mKGQuc3VibW9kdWxlLm5hbWUpfHwoT2JqZWN0KGcubG9nSW5mbykoIiIuY29uY2F0KEQsIiAtIHJlZnJlc2hpbmcgIikuY29uY2F0KGQuc3VibW9kdWxlLm5hbWUpKSxaKGQsZSxhLCEwKSxlZShkKSxqLmxlbmd0aCYmTihqKSxPYmplY3QoZy5pc0ZuKShkLmNhbGxiYWNrKSYmYy5wdXNoKGQpKX19Y2F0Y2goZSl7dS5lKGUpfWZpbmFsbHl7dS5mKCl9Yy5sZW5ndGg+MCYmSChjKSx0JiZ0KCl9ZWxzZSBPYmplY3QoZy5sb2dXYXJuKSgiIi5jb25jYXQoRCwiIC0gZ2RwciBwZXJtaXNzaW9uIG5vdCB2YWxpZCBmb3IgbG9jYWwgc3RvcmFnZSBvciBjb29raWVzLCBleGl0IG1vZHVsZSIpKX0pKX12YXIgWT1PYmplY3QoZi5iKSgic3luYyIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJue3VzZXJJZE1vZHVsZXM6ZSxoYXNWYWxpZGF0ZWQ6dCYmdC5oYXNWYWxpZGF0ZWR9fSksInZhbGlkYXRlR2RwckVuZm9yY2VtZW50Iik7ZnVuY3Rpb24gWihlLHQsbixyKXtpZihlLmNvbmZpZy5zdG9yYWdlKXt2YXIgbyxhPXEoZS5jb25maWcuc3RvcmFnZSksaT0hMTtpZigibnVtYmVyIj09dHlwZW9mIGUuY29uZmlnLnN0b3JhZ2UucmVmcmVzaEluU2Vjb25kcyl7dmFyIGM9bmV3IERhdGUocShlLmNvbmZpZy5zdG9yYWdlLCJsYXN0IikpO2k9YyYmRGF0ZS5ub3coKS1jLmdldFRpbWUoKT4xZTMqZS5jb25maWcuc3RvcmFnZS5yZWZyZXNoSW5TZWNvbmRzfSFhfHxpfHxyfHwhZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbCE9ZSYmZT09PUYodCl9KG4sdCk/bz1lLnN1Ym1vZHVsZS5nZXRJZChlLmNvbmZpZyx0LGEpOiJmdW5jdGlvbiI9PXR5cGVvZiBlLnN1Ym1vZHVsZS5leHRlbmRJZCYmKG89ZS5zdWJtb2R1bGUuZXh0ZW5kSWQoZS5jb25maWcsdCxhKSksT2JqZWN0KGcuaXNQbGFpbk9iamVjdCkobykmJihvLmlkJiYoTChlLG8uaWQpLGE9by5pZCksImZ1bmN0aW9uIj09dHlwZW9mIG8uY2FsbGJhY2smJihlLmNhbGxiYWNrPW8uY2FsbGJhY2spKSxhJiYoZS5pZE9iaj1lLnN1Ym1vZHVsZS5kZWNvZGUoYSxlLmNvbmZpZykpfWVsc2UgaWYoZS5jb25maWcudmFsdWUpZS5pZE9iaj1lLmNvbmZpZy52YWx1ZTtlbHNle3ZhciB1PWUuc3VibW9kdWxlLmdldElkKGUuY29uZmlnLHQsdm9pZCAwKTtPYmplY3QoZy5pc1BsYWluT2JqZWN0KSh1KSYmKCJmdW5jdGlvbiI9PXR5cGVvZiB1LmNhbGxiYWNrJiYoZS5jYWxsYmFjaz11LmNhbGxiYWNrKSx1LmlkJiYoZS5pZE9iaj1lLnN1Ym1vZHVsZS5kZWNvZGUodS5pZCxlLmNvbmZpZykpKX19ZnVuY3Rpb24gZWUoZSl7Zm9yKHZhciB0PSExLG49MDtuPGoubGVuZ3RoO24rKylpZihlLmNvbmZpZy5uYW1lLnRvTG93ZXJDYXNlKCk9PT1qW25dLmNvbmZpZy5uYW1lLnRvTG93ZXJDYXNlKCkpe3Q9ITAsaltuXT1lO2JyZWFrfXR8fGoucHVzaChlKX1mdW5jdGlvbiB0ZSgpe3ZhciBlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4hdHx8T2JqZWN0KGcuaXNFbXB0eVN0cikodC5uYW1lKXx8KCF0LnN0b3JhZ2V8fE9iamVjdChnLmlzRW1wdHlTdHIpKHQuc3RvcmFnZS50eXBlKXx8T2JqZWN0KGcuaXNFbXB0eVN0cikodC5zdG9yYWdlLm5hbWUpfHwtMT09PW4uaW5kZXhPZih0LnN0b3JhZ2UudHlwZSk/T2JqZWN0KGcuaXNQbGFpbk9iamVjdCkodC52YWx1ZSk/ZS5wdXNoKHQpOnQuc3RvcmFnZXx8dC52YWx1ZXx8ZS5wdXNoKHQpOmUucHVzaCh0KSksZX0pLFtdKTpbXX0oVCwwLFUpO2lmKGUubGVuZ3RoKXt2YXIgdD1WLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIW8oKShQLChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZS5uYW1lfSkpfSkpO1A9dC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPW8oKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lJiYoZS5uYW1lLnRvTG93ZXJDYXNlKCk9PT10Lm5hbWUudG9Mb3dlckNhc2UoKXx8dC5hbGlhc05hbWUmJmUubmFtZS50b0xvd2VyQ2FzZSgpPT09dC5hbGlhc05hbWUudG9Mb3dlckNhc2UoKSl9KSk7cmV0dXJuIG4mJnQubmFtZSE9PW4ubmFtZSYmKG4ubmFtZT10Lm5hbWUpLHQuZmluZFJvb3REb21haW49SixuP3tzdWJtb2R1bGU6dCxjb25maWc6bixjYWxsYmFjazp2b2lkIDAsaWRPYmo6dm9pZCAwfTpudWxsfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lfSkpLCFfJiZQLmxlbmd0aCYmKE9iamVjdCh1LmEpKCkucmVxdWVzdEJpZHMuYmVmb3JlKCQsNDApLE9iamVjdChnLmxvZ0luZm8pKCIiLmNvbmNhdChELCIgLSB1c2Vyc3luYyBjb25maWcgdXBkYXRlZCBmb3IgIikuY29uY2F0KFAubGVuZ3RoLCIgc3VibW9kdWxlczogIiksUC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN1Ym1vZHVsZS5uYW1lfSkpKSxfPSEwKX19ZnVuY3Rpb24gbmUoZSl7bygpKFYsKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lLm5hbWV9KSl8fChWLnB1c2goZSksdGUoKSl9ZnVuY3Rpb24gcmUoZSl7UD1bXSxUPVtdLF89ITEsaj12b2lkIDAsLTEhPT0oVT1bQy5sb2NhbFN0b3JhZ2VJc0VuYWJsZWQoKT9TOm51bGwsQy5jb29raWVzQXJlRW5hYmxlZCgpP0U6bnVsbF0uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWV9KSkpLmluZGV4T2YoRSkmJkMuZ2V0Q29va2llKHcpP09iamVjdChnLmxvZ0luZm8pKCIiLmNvbmNhdChELCIgLSBvcHQtb3V0IGNvb2tpZSBmb3VuZCwgZXhpdCBtb2R1bGUiKSk6LTEhPT1VLmluZGV4T2YoUykmJkMuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uodyk/T2JqZWN0KGcubG9nSW5mbykoIiIuY29uY2F0KEQsIiAtIG9wdC1vdXQgbG9jYWxTdG9yYWdlIGZvdW5kLCBleGl0IG1vZHVsZSIpKTooZS5nZXRDb25maWcoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudXNlclN5bmM7dCYmdC51c2VySWRzJiYoVD10LnVzZXJJZHMsST1PYmplY3QoZy5pc051bWJlcikodC5zeW5jRGVsYXkpP3Quc3luY0RlbGF5OjUwMCxrPU9iamVjdChnLmlzTnVtYmVyKSh0LmF1Y3Rpb25EZWxheSk/dC5hdWN0aW9uRGVsYXk6MCx0ZSgpKX0pKSxPYmplY3QodS5hKSgpLmdldFVzZXJJZHM9SyxPYmplY3QodS5hKSgpLmdldFVzZXJJZHNBc0VpZHM9USxPYmplY3QodS5hKSgpLnJlZnJlc2hVc2VySWRzPVgpfXJlKGEuYiksT2JqZWN0KGYuYykoInVzZXJJZCIsbmUpfX0sWzg4Nl0pOwp1cGJqc0NodW5rKFs3N10sezkyOTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoOTMwKX0sOTMwOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKTt2YXIgaT1yKDEpLGE9cigyKSxzPXIoMCksZD1yKDMpLG49cigxMyk7ZnVuY3Rpb24gYyhlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKGk9aS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsaSl9cmV0dXJuIHJ9ZnVuY3Rpb24gbyhlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9dmFyIHA9IjUuMjAuMiIsYj0iVVNEIixtPVsiYWRtaXhlci5uZXQiLCJhZHNlcnZlci5vcmciLCJhZHRlbGxpZ2VudC5jb20iLCJha2FtYWkuY29tIiwiYW14cnRiLmNvbSIsImF1ZGlnZW50LmNvbSIsImJyaXRlcG9vbC5jb20iLCJjcml0ZW8uY29tIiwiY3J3ZGNudHJsLm5ldCIsImRlZXBpbnRlbnQuY29tIiwiaGNuLmhlYWx0aCIsImlkNS1zeW5jLmNvbSIsImlkeC5sYXQiLCJpbnRlbnRpcS5jb20iLCJpbnRpbWF0ZW1lcmdlci5jb20iLCJsaXZlaW50ZW50LmNvbSIsImxpdmVyYW1wLmNvbSIsIm1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsIm1lcmtsZWluYy5jb20iLCJuZXRpZC5kZSIsIm5ldXN0YXIuYml6IiwibmV4dHJvbGwuY29tIiwibm92YXRpcS5jb20iLCJwYXJyYWJsZS5jb20iLCJwdWJjaWQub3JnIiwicXVhbnRjYXN0LmNvbSIsInF1YW50Y2FzdC5jb20iLCJ0YXBhZC5jb20iLCJ1aWRhcGkuY29tIiwidmVyaXpvbm1lZGlhLmNvbSIsInlhaG9vLmNvbSIsInplb3RhcC5jb20iXTtmdW5jdGlvbiB1KGUpe3JldHVybnt3OnBhcnNlSW50KGVbMF0pLGg6cGFyc2VJbnQoZVsxXSl9fWZ1bmN0aW9uIHYoZSl7cmV0dXJuIE9iamVjdChzLmlzQXJyYXkpKGUpJiYyPT09ZS5sZW5ndGgmJiFPYmplY3Qocy5pc0FycmF5KShlWzBdKT9bdShlKV06ZS5tYXAodSl9ZnVuY3Rpb24gTyhlKXtyZXR1cm4gT2JqZWN0KHMuaXNBcnJheSkoT2JqZWN0KHMuZGVlcEFjY2VzcykoZSwidXNlcklkQXNFaWRzIikpP2UudXNlcklkQXNFaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1tLmluZGV4T2YoZS5zb3VyY2UpfSkpOltdfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAuc2VjdXJlIil8fCJodHRwczoiPT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2w/MTowfWZ1bmN0aW9uIHkoZSl7dmFyIHQ7cmV0dXJuIE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5wdWJJZCIpP3Q9ITA6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmRjbiIpJiZPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMucG9zIikmJih0PSExKSx0fWZ1bmN0aW9uIGooKXt2YXIgZT1kLmIuZ2V0Q29uZmlnKCJ5YWhvb3NzcC5tb2RlIik7cmV0dXJuIHZvaWQgMD09PShlPWU/ZS50b0xvd2VyQ2FzZSgpOnZvaWQgMCl8fGU9PT1hLmI/YS5iOmU9PT1hLmQ/YS5kOiJhbGwiPT09ZT8iKiI6dm9pZCAwfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9aigpLHI9e2N1cnJlbmN5Ok9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5jdXIiKXx8YixtZWRpYVR5cGU6dCxzaXplOiIqIn07cmV0dXJuISFPYmplY3Qocy5pc0ZuKShlLmdldEZsb29yKSYmZS5nZXRGbG9vcihyKX1mdW5jdGlvbiBnKGUsdCxyLGkpe3ZhciBhPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2MoT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpjKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfSh7fSxpKTtmb3IodmFyIGQgaW4gcilzd2l0Y2goZSl7Y2FzZSJzdHJpbmciOi0xIT09dC5pbmRleE9mKGQpJiZPYmplY3Qocy5pc1N0cikocltkXSkmJihhW2RdPXJbZF0pO2JyZWFrO2Nhc2UibnVtYmVyIjotMSE9PXQuaW5kZXhPZihkKSYmT2JqZWN0KHMuaXNOdW1iZXIpKHJbZF0pJiYoYVtkXT1yW2RdKTticmVhaztjYXNlImFycmF5IjotMSE9PXQuaW5kZXhPZihkKSYmT2JqZWN0KHMuaXNBcnJheSkocltkXSkmJihhW2RdPXJbZF0pO2JyZWFrO2Nhc2Uib2JqZWN0IjotMSE9PXQuaW5kZXhPZihkKSYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkocltkXSkmJihhW2RdPXJbZF0pO2JyZWFrO2Nhc2Uib2JqZWN0QWxsS2V5cyI6T2JqZWN0KHMuaXNQbGFpbk9iamVjdCkocikmJihhW2RdPXJbZF0pfXJldHVybiBhfWZ1bmN0aW9uIGgoZSl7dmFyIHQ9ZC5iLmdldENvbmZpZygieWFob29zc3AudHRsIik7cmV0dXJuIEEodHx8T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLnR0bCIpKX1mdW5jdGlvbiBBKGUpe3JldHVybiBPYmplY3Qocy5pc051bWJlcikoZSkmJmU+MCYmZTwzNjAwP2U6MzAwfWZ1bmN0aW9uIHgoZSl7cmV0dXJuIE9iamVjdChzLmlzU3RyKShlKSYmZS5sZW5ndGg+MH1mdW5jdGlvbiBUKGUsdCl7aWYoZSl7dmFyIHI9e2lkOk9iamVjdChzLmdlbmVyYXRlVVVJRCkoKSxjdXI6W2YoZSkuY3VycmVuY3l8fE9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy5iaWRPdmVycmlkZS5jdXIiKXx8Yl0saW1wOltdLHNpdGU6e3BhZ2U6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicmVmZXJlckluZm8ucmVmZXJlciIpfSxkZXZpY2U6e2RudDowLHVhOm5hdmlnYXRvci51c2VyQWdlbnQsaXA6T2JqZWN0KHMuZGVlcEFjY2VzcykodCwicGFyYW1zLmJpZE92ZXJyaWRlLmRldmljZS5pcCIpfHxPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJwYXJhbXMuZXh0LmlwIil8fHZvaWQgMH0scmVnczp7ZXh0Ont1c19wcml2YWN5OmUudXNwQ29uc2VudD9lLnVzcENvbnNlbnQ6IiIsZ2RwcjplLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MH19LHNvdXJjZTp7ZXh0OntoYjoxLGFkYXB0ZXJ2ZXI6IjEuMC4xIixwcmViaWR2ZXI6cCxpbnRlZ3JhdGlvbjp7bmFtZToicHJlYmlkLmpzIix2ZXI6cH19LGZkOjF9LHVzZXI6e2V4dDp7Y29uc2VudDplLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzP2UuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZzoiIixlaWRzOk8odCl9fX07cmV0dXJuITA9PT15KHQpPyhyLnNpdGUucHVibGlzaGVyPXtpZDp0LnBhcmFtcy5wdWJJZH0sKE9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy5iaWRPdmVycmlkZS5zaXRlLmlkIil8fE9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy5zaXRlSWQiKSkmJihyLnNpdGUuaWQ9T2JqZWN0KHMuZGVlcEFjY2VzcykodCwicGFyYW1zLmJpZE92ZXJyaWRlLnNpdGUuaWQiKXx8dC5wYXJhbXMuc2l0ZUlkKSk6ci5zaXRlLmlkPXQucGFyYW1zLmRjbixkLmIuZ2V0Q29uZmlnKCJvcnRiMiIpJiYocj1mdW5jdGlvbihlLHQpe3ZhciByPWQuYi5nZXRDb25maWcoIm9ydGIyIiksaT1PYmplY3Qocy5kZWVwQWNjZXNzKShyLCJzaXRlIil8fHZvaWQgMCxhPU9iamVjdChzLmRlZXBBY2Nlc3MpKGksImNvbnRlbnQiKXx8dm9pZCAwLG49T2JqZWN0KHMuZGVlcEFjY2VzcykoaSwiY29udGVudC5kYXRhIil8fHZvaWQgMCxjPU9iamVjdChzLmRlZXBBY2Nlc3MpKHIsImFwcC5jb250ZW50Iil8fHZvaWQgMCxvPU9iamVjdChzLmRlZXBBY2Nlc3MpKHIsImFwcC5jb250ZW50LmRhdGEiKXx8dm9pZCAwLHA9T2JqZWN0KHMuZGVlcEFjY2VzcykociwidXNlciIpfHx2b2lkIDA7aWYoaSYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkoaSkpe3ZhciBiPVsibmFtZSIsImRvbWFpbiIsInBhZ2UiLCJyZWYiLCJrZXl3b3JkcyIsInNlYXJjaCJdLG09WyJjYXQiLCJzZWN0aW9uY2F0IiwicGFnZWNhdCJdLHU9WyJleHQiXTtlLnNpdGU9Zygic3RyaW5nIixiLGksZS5zaXRlKSxlLnNpdGU9ZygiYXJyYXkiLG0saSxlLnNpdGUpLGUuc2l0ZT1nKCJvYmplY3QiLHUsaSxlLnNpdGUpfWlmKGEmJk9iamVjdChzLmlzUGxhaW5PYmplY3QpKGEpKXt2YXIgdj1bImlkIiwidGl0bGUiLCJzZXJpZXMiLCJzZWFzb24iLCJnZW5yZSIsImNvbnRlbnRyYXRpbmciLCJsYW5ndWFnZSJdLE89WyJlcGlzb2RlIiwicHJvZHEiLCJjb250ZXh0IiwibGl2ZXN0cmVhbSIsImxlbiJdLGw9WyJjYXQiXSx5PVsiZXh0Il07ZS5zaXRlLmNvbnRlbnQ9Zygic3RyaW5nIix2LGEsZS5zaXRlLmNvbnRlbnQpLGUuc2l0ZS5jb250ZW50PWcoIm51bWJlciIsTyxhLGUuc2l0ZS5jb250ZW50KSxlLnNpdGUuY29udGVudD1nKCJhcnJheSIsbCxhLGUuc2l0ZS5jb250ZW50KSxlLnNpdGUuY29udGVudD1nKCJvYmplY3QiLHksYSxlLnNpdGUuY29udGVudCksbiYmT2JqZWN0KHMuaXNBcnJheSkobikmJm4uZXZlcnkoKGZ1bmN0aW9uKHQpe3ZhciByPXt9LGk9WyJzZWdtZW50Il0sYT1bImV4dCJdO3I9Zygic3RyaW5nIixbImlkIiwibmFtZSJdLHQscikscj1nKCJhcnJheSIsaSx0LHIpLHI9Zygib2JqZWN0IixhLHQsciksZS5zaXRlLmNvbnRlbnQuZGF0YT1bXSxlLnNpdGUuY29udGVudC5kYXRhLnB1c2gocil9KSl9YyYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkoYykmJm8mJk9iamVjdChzLmlzQXJyYXkpKG8pJiZvLmV2ZXJ5KChmdW5jdGlvbih0KXt2YXIgcj17fSxpPVsic2VnbWVudCJdLGE9WyJleHQiXTtyPWcoInN0cmluZyIsWyJpZCIsIm5hbWUiXSx0LHIpLHI9ZygiYXJyYXkiLGksdCxyKSxyPWcoIm9iamVjdCIsYSx0LHIpLGUuYXBwPXtjb250ZW50OntkYXRhOltdfX0sZS5hcHAuY29udGVudC5kYXRhLnB1c2gocil9KSk7aWYocCYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkocCkpe3ZhciBqPVsiaWQiLCJidXllcnVpZCIsImdlbmRlciIsImtleXdvcmRzIiwiY3VzdG9tZGF0YSJdLGY9WyJ5b2IiXSxoPVsiZGF0YSJdLEE9WyJleHQiXTtlLnVzZXI9Zygic3RyaW5nIixqLHAsZS51c2VyKSxlLnVzZXI9ZygibnVtYmVyIixmLHAsZS51c2VyKSxlLnVzZXI9ZygiYXJyYXkiLGgscCxlLnVzZXIpLGUudXNlci5leHQ9Zygib2JqZWN0IixBLHAsZS51c2VyLmV4dCl9cmV0dXJuIGV9KHIpKSxPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJzY2hhaW4iKSYmKHIuc291cmNlLmV4dC5zY2hhaW49dC5zY2hhaW4sci5zb3VyY2UuZXh0LnNjaGFpbi5ub2Rlc1swXS5yaWQ9ci5pZCkscn19ZnVuY3Rpb24gayhlLHQpe3ZhciByPWooKTtpZih0JiZlKXt2YXIgaT17aWQ6ZS5iaWRJZCxzZWN1cmU6bChlKSxiaWRmbG9vcjpmKGUpLmZsb29yfHxPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLmJpZGZsb29yIil9O2lmKCFlLm1lZGlhVHlwZXMuYmFubmVyfHx2b2lkIDAhPT1yJiZyIT09YS5iJiYiKiIhPT1yfHwoaS5iYW5uZXI9e21pbWVzOmUubWVkaWFUeXBlcy5iYW5uZXIubWltZXN8fFsidGV4dC9odG1sIiwidGV4dC9qYXZhc2NyaXB0IiwiYXBwbGljYXRpb24vamF2YXNjcmlwdCIsImltYWdlL2pwZyJdLGZvcm1hdDp2KGUuc2l6ZXMpfSxlLm1lZGlhVHlwZXMuYmFubmVyLnBvcyYmKGkuYmFubmVyLnBvcz1lLm1lZGlhVHlwZXMuYmFubmVyLnBvcykpLGUubWVkaWFUeXBlcy52aWRlbyYmKHI9PT1hLmR8fCIqIj09PXIpKXt2YXIgZD12KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplKTtpLnZpZGVvPXttaW1lczpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLm1pbWVzIil8fGUubWVkaWFUeXBlcy52aWRlby5taW1lc3x8WyJ2aWRlby9tcDQiLCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0Il0sdzpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnciKXx8ZFswXS53LGg6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5oIil8fGRbMF0uaCxtYXhiaXRyYXRlOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ubWF4Yml0cmF0ZSIpfHxlLm1lZGlhVHlwZXMudmlkZW8ubWF4Yml0cmF0ZXx8dm9pZCAwLG1heGR1cmF0aW9uOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ubWF4ZHVyYXRpb24iKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLm1heGR1cmF0aW9ufHx2b2lkIDAsbWluZHVyYXRpb246T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5taW5kdXJhdGlvbiIpfHxlLm1lZGlhVHlwZXMudmlkZW8ubWluZHVyYXRpb258fHZvaWQgMCxhcGk6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5hcGkiKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLmFwaXx8WzJdLGRlbGl2ZXJ5Ok9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8uZGVsaXZlcnkiKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLmRlbGl2ZXJ5fHx2b2lkIDAscG9zOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ucG9zIil8fGUubWVkaWFUeXBlcy52aWRlby5wb3N8fHZvaWQgMCxwbGF5YmFja21ldGhvZDpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnBsYXliYWNrbWV0aG9kIil8fGUubWVkaWFUeXBlcy52aWRlby5wbGF5YmFja21ldGhvZHx8dm9pZCAwLHBsYWNlbWVudDpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnBsYWNlbWVudCIpfHxlLm1lZGlhVHlwZXMudmlkZW8ucGxhY2VtZW50fHx2b2lkIDAsbGluZWFyaXR5Ok9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ubGluZWFyaXR5Iil8fGUubWVkaWFUeXBlcy52aWRlby5saW5lYXJpdHl8fDEscHJvdG9jb2xzOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ucHJvdG9jb2xzIil8fGUubWVkaWFUeXBlcy52aWRlby5wcm90b2NvbHN8fFsyLDVdLHN0YXJ0ZGVsYXk6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5zdGFydGRlbGF5Iil8fGUubWVkaWFUeXBlcy52aWRlby5zdGFydGRlbGF5fHwwLHJld2FyZGVkOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ucmV3YXJkZWQiKXx8dm9pZCAwfX1pZihpLmV4dD17ZGZwX2FkX3VuaXRfY29kZTplLmFkVW5pdENvZGV9LE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5rdnAiKSYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkoZS5wYXJhbXMua3ZwKSlmb3IodmFyIG4gaW4gaS5leHQua3ZzPXt9LGUucGFyYW1zLmt2cClpZihPYmplY3Qocy5pc1N0cikoZS5wYXJhbXMua3ZwW25dKXx8T2JqZWN0KHMuaXNOdW1iZXIpKGUucGFyYW1zLmt2cFtuXSkpaS5leHQua3ZzW25dPWUucGFyYW1zLmt2cFtuXTtlbHNlIGlmKE9iamVjdChzLmlzQXJyYXkpKGUucGFyYW1zLmt2cFtuXSkpe3ZhciBjPWUucGFyYW1zLmt2cFtuXTsoYy5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChzLmlzU3RyKShlKX0pKXx8Yy5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChzLmlzTnVtYmVyKShlKX0pKSkmJihpLmV4dC5rdnNbbl09ZS5wYXJhbXMua3ZwW25dKX1PYmplY3Qocy5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YSIpJiZPYmplY3Qocy5pc1BsYWluT2JqZWN0KShlLm9ydGIySW1wLmV4dC5kYXRhKSYmKGkuZXh0LmRhdGE9ZS5vcnRiMkltcC5leHQuZGF0YSksITE9PT15KGUpPyhpLnRhZ2lkPWUucGFyYW1zLnBvcyxpLmV4dC5wb3M9ZS5wYXJhbXMucG9zKTpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMucGxhY2VtZW50SWQiKSYmKGkudGFnaWQ9ZS5wYXJhbXMucGxhY2VtZW50SWQpLHQuaW1wLnB1c2goaSl9fWZ1bmN0aW9uIHcoZSl7dmFyIHQ9ZS5wYXlsb2FkLHI9ZS5yZXF1ZXN0T3B0aW9ucyxpPWUuYmlkZGVyUmVxdWVzdCxuPXkoaSksYz1kLmIuZ2V0Q29uZmlnKCJ5YWhvb3NzcC5lbmRwb2ludCIpfHwiaHR0cHM6Ly9jMnNoYi5wdWJndy55YWhvby5jb20vYmlkUmVxdWVzdCI7aWYoITA9PT1uJiYoYz1kLmIuZ2V0Q29uZmlnKCJ5YWhvb3NzcC5lbmRwb2ludCIpfHwiaHR0cHM6Ly9jMnNoYi5wdWJndy55YWhvby5jb20vYWRtYXgvYmlkL3BhcnRuZXJzL1BCSlMiKSwhMD09PU9iamVjdChzLmRlZXBBY2Nlc3MpKGksInBhcmFtcy50ZXN0aW5nLmUyZXRlc3QiKSlpZihPYmplY3Qocy5sb2dJbmZvKSgieWFob29zc3AgYWRhcHRlciBlMmV0ZXN0IG1vZGUgaXMgYWN0aXZlIiksci53aXRoQ3JlZGVudGlhbHM9ITEsITA9PT1uKXQuc2l0ZS5pZD0iMTIzNDU2NyI7ZWxzZXt2YXIgbz1qKCk7dC5zaXRlLmlkPSI4YTk2OTUxNjAxN2E3YTM5NmVjNTM5ZDk3ZjU0MDAxMSIsdC5pbXAuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5leHQuZTJlVGVzdE1vZGU9ITAsbz09PWEuYj9lLnRhZ2lkPSI4YTk2OTk3ODAxN2E3YWFhYmFiNGFiMGJjMDFhMDAwOSI6bz09PWEuZD9lLnRhZ2lkPSI4YTk2OTU4YTAxN2E3YTU3YWMzNzVkNTBjMGM3MDBjYyI6KE9iamVjdChzLmxvZ1dhcm4pKCd5YWhvb3NzcCBhZGFwdGVyIGUyZXRlc3QgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IHlhaG9vc3NwLm1vZGU9ImFsbCIuIFxuIFBsZWFzZSBzcGVjaWZ5IGVpdGhlciAiYmFubmVyIiBvciAidmlkZW8iJyksT2JqZWN0KHMubG9nV2FybikoInlhaG9vc3NwIGFkYXB0ZXIgZTJldGVzdCBtb2RlOiBQbGVhc2UgbWFrZSBzdXJlIHlvdXIgYWRVbml0IG1hdGNoZXMgdGhlIHlhaG9vc3NwLm1vZGUgdmlkZW8gb3IgYmFubmVyIikpfSkpfXJldHVybiBPYmplY3Qocy5sb2dXYXJuKSgieWFob29zc3AgYWRhcHRlciBlbmRwb2ludCBvdmVycmlkZSBlbmFibGVkLiBQb2ludGluZyByZXF1ZXN0cyB0bzogIixjKSx7dXJsOmMsbWV0aG9kOiJQT1NUIixkYXRhOnQsb3B0aW9uczpyLGJpZGRlclJlcXVlc3Q6aX19dmFyIEM9e2NvZGU6InlhaG9vc3NwIixhbGlhc2VzOltdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zO3JldHVybiEwPT09T2JqZWN0KHMuZGVlcEFjY2VzcykodCwidGVzdGluZy5lMmV0ZXN0Iil8fCghKCFPYmplY3Qocy5pc1BsYWluT2JqZWN0KSh0KXx8ISh4KHQucHViSWQpfHx4KHQuZGNuKSYmeCh0LnBvcykpKXx8KE9iamVjdChzLmxvZ1dhcm4pKCJ5YWhvb3NzcCBiaWRkZXIgcGFyYW1zIG1pc3Npbmcgb3IgaW5jb3JyZWN0LCBwbGVhc2UgcGFzcyBvYmplY3Qgd2l0aCBlaXRoZXI6IGRjbiAmIHBvcyBPUiBwdWJJZCIpLCExKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXtpZighT2JqZWN0KHMuaXNFbXB0eSkoZSkmJiFPYmplY3Qocy5pc0VtcHR5KSh0KSl7dmFyIHI9e2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIixjdXN0b21IZWFkZXJzOnsieC1vcGVucnRiLXZlcnNpb24iOiIyLjUifX07ci53aXRoQ3JlZGVudGlhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIShlJiZlLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYyPT09ZS5nZHByQ29uc2VudC5hcGlWZXJzaW9uKX0odCk7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9aigpLHI9W107cmV0dXJuIHQ9PT1hLmI/cj1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUubWVkaWFUeXBlcykuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hLmJ9KSl9KSk6dD09PWEuZD9yPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZS5tZWRpYVR5cGVzKS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZT09PWEuZH0pKX0pKToiKiI9PT10JiYocj1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUubWVkaWFUeXBlcykuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hLmJ8fGU9PT1hLmR9KSl9KSkpLHJ9KGUpO2lmKCEwPT09ZC5iLmdldENvbmZpZygieWFob29zc3Auc2luZ2xlUmVxdWVzdE1vZGUiKSl7dmFyIG49VCh0LGlbMF0pO3JldHVybiBpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2soZSxuKX0pKSx3KHtwYXlsb2FkOm4scmVxdWVzdE9wdGlvbnM6cixiaWRkZXJSZXF1ZXN0OnR9KX1yZXR1cm4gaS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBpPVQodCxlKTtyZXR1cm4gayhlLGkpLHcoe3BheWxvYWQ6aSxyZXF1ZXN0T3B0aW9uczpyLGJpZGRlclJlcXVlc3Q6ZX0pfSkpfU9iamVjdChzLmxvZ1dhcm4pKCd5YWhvb3NzcCBBZGFwdGVyOiBidWlsZFJlcXVlc3RzIGNhbGxlZCB3aXRoIGVpdGhlciBlbXB0eSAidmFsaWRCaWRSZXF1ZXN0cyIgb3IgImJpZGRlclJlcXVlc3QiJyl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dC5kYXRhO3ZhciByPXQuYmlkZGVyUmVxdWVzdCxpPVtdO3JldHVybiBlLmJvZHkmJkFycmF5LmlzQXJyYXkoZS5ib2R5LnNlYXRiaWQpPyhlLmJvZHkuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdDt0cnl7dD1lLmJpZFswXX1jYXRjaChlKXtyZXR1cm4gaX12YXIgZD10LmV4dCYmdC5leHQuZW5jcD90LmV4dC5lbmNwOnQucHJpY2UsYz17YWRJZDpPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJhZElkIik/dC5hZElkOnQuaW1waWR8fHQuY3JpZCxhZFVuaXRDb2RlOnIuYWRVbml0Q29kZSxyZXF1ZXN0SWQ6dC5pbXBpZCxiaWRkZXJDb2RlOkMuY29kZSxjcG06ZCx3aWR0aDp0LncsaGVpZ2h0OnQuaCxjcmVhdGl2ZUlkOnQuY3JpZHx8MCxjdXJyZW5jeTp0LmN1cnx8YixkZWFsSWQ6dC5kZWFsaWQ/dC5kZWFsaWQ6bnVsbCxuZXRSZXZlbnVlOiEwLHR0bDpoKHIpLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOnQuYWRvbWFpbn19LG89ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZG07cmV0dXJuLTEhPT10LmluZGV4T2YoIm8ycGxheWVyU2V0dGluZ3MiKXx8LTEhPT10LmluZGV4T2YoIllBSE9PLlZpZGVvUGxhdGZvcm0uVmlkZW9QbGF5ZXIiKXx8LTEhPT10LmluZGV4T2YoIkFkUGxhY2VtZW50Iik/YS5iOi0xIT09dC5pbmRleE9mKCJWQVNUIik/YS5kOnZvaWQgMH0odCk7bz09PWEuYj8oYy5tZWRpYVR5cGU9YS5iLGMuYWQ9dC5hZG0sYy5tZXRhLm1lZGlhVHlwZT1hLmIpOm89PT1hLmQmJihjLm1lZGlhVHlwZT1hLmQsYy5tZXRhLm1lZGlhVHlwZT1hLmQsYy52YXN0WG1sPXQuYWRtLHQubnVybCYmKGMudmFzdFVybD10Lm51cmwpKSwib3V0c3RyZWFtIiE9PU9iamVjdChzLmRlZXBBY2Nlc3MpKHIsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpfHxyLnJlbmRlcmVyfHwoYy5yZW5kZXJlcj1mdW5jdGlvbihlLHQpe3ZhciByPW4uYS5pbnN0YWxsKHt1cmw6Imh0dHBzOi8vY2RuLnZpZGlibGUudHYvcHJvZC9oYi1vdXRzdHJlYW0tcmVuZGVyZXIvcmVuZGVyZXIuanMiLGxvYWRlZDohMSxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pO3RyeXtyLnNldFJlbmRlcigoZnVuY3Rpb24odCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtvMlBsYXllclJlbmRlcih0KX0pLE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy50ZXN0aW5nLnJlbmRlcmVyLnNldFRpbWVvdXQiKXx8NzAwKX0pKX1jYXRjaChlKXtPYmplY3Qocy5sb2dXYXJuKSgieWFob29zc3AgcmVuZGVyZXIgZXJyb3I6IHNldFJlbmRlcigpIGZhaWxlZCIsZSl9cmV0dXJuIHJ9KHIpfHx2b2lkIDApLGkucHVzaChjKX0pKSxpKTppfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIGE9IU9iamVjdChzLmlzRW1wdHkpKHQpJiZ0WzBdLmJvZHk7cmV0dXJuIGEmJmEuZXh0JiZhLmV4dC5waXhlbHM/ZnVuY3Rpb24oZSx0KXt2YXIgcj0vXHcqKD89XHMpLyxpPS9zcmM9KCJ8JykoLio/KVwxLyxhPVtdO2lmKHQpe3ZhciBzPXQubWF0Y2goLyhpbWd8aWZyYW1lKVtcc1xTXSo/c3JjXHMqPVxzKigifCcpKC4qPylcMi9naSk7cyYmcy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcz10Lm1hdGNoKHIpWzBdLGQ9dC5tYXRjaChpKVsyXTtpZihzJiZkKXt2YXIgbj0iaW1nIj09PXMudG9Mb3dlckNhc2UoKT8iaW1hZ2UiOiJpZnJhbWUiO2lmKCFlLmlmcmFtZUVuYWJsZWQmJiJpZnJhbWUiPT09bnx8IWUucGl4ZWxFbmFibGVkJiYiaW1hZ2UiPT09bilyZXR1cm47YS5wdXNoKHt0eXBlOm4sdXJsOmR9KX19KSl9cmV0dXJuIGF9KGUsYS5leHQucGl4ZWxzKTpbXX19O09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShDKX19LFs5MjldKTsKdXBianNDaHVuayhbNzZdLHs5MzE6ZnVuY3Rpb24oZSxuLHQpe2UuZXhwb3J0cz10KDkzMil9LDkzMjpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQobiwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIGE9dCgwKSxyPXQoMSksaT10KDExKSxvPXQubihpKSxzPXQoMiksYz10KDEzKSxkPXQoMykscD0iaHR0cHM6Ly9hZC55aWVsZGxhYi5uZXQiLHU9e2NvZGU6InlpZWxkbGFiIixndmxpZDo3MCxzdXBwb3J0ZWRNZWRpYVR5cGVzOltzLmQscy5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLnBhcmFtcyYmZS5wYXJhbXMuYWRzbG90SWQmJmUucGFyYW1zLnN1cHBseUlkKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG4pe3ZhciB0PVtdLHI9e3RzOkRhdGUubm93KCksanNvbjohMH07T2JqZWN0KGEuX2VhY2gpKGUsKGZ1bmN0aW9uKGUpe2lmKHQucHVzaChlLnBhcmFtcy5hZHNsb3RJZCksZS5wYXJhbXMudGFyZ2V0aW5nJiYoci50PWZ1bmN0aW9uKGUpe3ZhciBuPVtdO2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpe3ZhciBhPXQscj1lW3RdO24ucHVzaChhKyI9IityKX1yZXR1cm4gbi5qb2luKCImIil9KGUucGFyYW1zLnRhcmdldGluZykpLGUudXNlcklkQXNFaWRzJiZBcnJheS5pc0FycmF5KGUudXNlcklkQXNFaWRzKSYmKHIuaWRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1bXSx0PTA7dDxlLmxlbmd0aDt0Kyspbi5wdXNoKGVbdF0uc291cmNlKyI6IitlW3RdLnVpZHNbMF0uaWQpO3JldHVybiBuLmpvaW4oIiwiKX0oZS51c2VySWRBc0VpZHMpKSxlLnBhcmFtcy5jdXN0b21QYXJhbXMmJk9iamVjdChhLmlzUGxhaW5PYmplY3QpKGUucGFyYW1zLmN1c3RvbVBhcmFtcykpZm9yKHZhciBuIGluIGUucGFyYW1zLmN1c3RvbVBhcmFtcylyW25dPWUucGFyYW1zLmN1c3RvbVBhcmFtc1tuXTt2YXIgaSxvLHMsYyxwO2Uuc2NoYWluJiZPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlLnNjaGFpbikmJkFycmF5LmlzQXJyYXkoZS5zY2hhaW4ubm9kZXMpJiYoci5zY2hhaW49KGk9ZS5zY2hhaW4sbz1pLnZlcnx8IiIscz0xPT09aS5jb21wbGV0ZXx8MD09PWkuY29tcGxldGU/aS5jb21wbGV0ZToiIixjPVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIiwiZXh0Il0scD1pLm5vZGVzLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZSsiISIuY29uY2F0KGMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbltlXT8odD1uW2VdLGVuY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKC8hL2csIiUyMSIpKToiIjt2YXIgdH0pKS5qb2luKCIsIikpfSksIiIpLCIiLmNvbmNhdChvLCIsIikuY29uY2F0KHMpLmNvbmNhdChwKSkpO3ZhciB1PWZ1bmN0aW9uKGUpe2lmKGUucGFyYW1zLmlhYkNvbnRlbnQmJk9iamVjdChhLmlzUGxhaW5PYmplY3QpKGUucGFyYW1zLmlhYkNvbnRlbnQpKXJldHVybiBlLnBhcmFtcy5pYWJDb250ZW50O3ZhciBuPWQuYi5nZXRDb25maWcoIm9ydGIyLnNpdGUiKT9kLmIuZ2V0Q29uZmlnKCJvcnRiMi5zaXRlLmNvbnRlbnQiKTpkLmIuZ2V0Q29uZmlnKCJvcnRiMi5hcHAuY29udGVudCIpO2lmKG4mJk9iamVjdChhLmlzUGxhaW5PYmplY3QpKG4pKXJldHVybiBuO3JldHVybn0oZSk7dSYmKHIuaWFiX2NvbnRlbnQ9ZnVuY3Rpb24oZSl7dmFyIG49WyJrZXl3b3JkcyIsImNhdCJdLHQ9W107Zm9yKHZhciBhIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIHI9LTEhPT1uLmluZGV4T2YoYSkmJkFycmF5LmlzQXJyYXkoZVthXSk/ZVthXS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSl9KSkuam9pbigifCIpOmVuY29kZVVSSUNvbXBvbmVudChlW2FdKTt0LnB1c2goIiIuY29uY2F0KGEsIjoiLHIpKX1yZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHQuam9pbigiLCIpKX0odSkpfSkpLG4mJihuLnJlZmVyZXJJbmZvJiZuLnJlZmVyZXJJbmZvLnJlZmVyZXImJihyLnB1YnJlZj1uLnJlZmVyZXJJbmZvLnJlZmVyZXIpLG4uZ2RwckNvbnNlbnQmJihyLmdkcHI9ImJvb2xlYW4iIT10eXBlb2Ygbi5nZHByQ29uc2VudC5nZHByQXBwbGllc3x8bi5nZHByQ29uc2VudC5nZHByQXBwbGllcyxyLmdkcHImJihyLmNvbnNlbnQ9bi5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSkpO3ZhciBpPXQuam9pbigiLCIpLG89ZnVuY3Rpb24oZSl7dmFyIG49W107Zm9yKHZhciB0IGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIGE9ZVt0XTsic2NoYWluIiE9PXQmJiJpYWJfY29udGVudCIhPT10P24ucHVzaChlbmNvZGVVUklDb21wb25lbnQodCkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChhKSk6bi5wdXNoKHQrIj0iK2EpfXJldHVybiBuLmpvaW4oIiYiKX0ocik7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6IiIuY29uY2F0KHAsIi95cC8iKS5jb25jYXQoaSwiPyIpLmNvbmNhdChvKSx2YWxpZEJpZFJlcXVlc3RzOmUscXVlcnlQYXJhbXM6cn19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsbil7dmFyIHQ9W10scj1EYXRlLm5vdygpLGk9bi5xdWVyeVBhcmFtcztyZXR1cm4gbi52YWxpZEJpZFJlcXVlc3RzLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKGUuYm9keSl7dmFyIGQsdSx2PW8oKShlLmJvZHksKGZ1bmN0aW9uKGUpe3JldHVybiBuLnBhcmFtcy5hZHNsb3RJZD09ZS5pZH0pKTtpZih2KXt2YXIgbD0yIT09bi5zaXplcy5sZW5ndGh8fE9iamVjdChhLmlzQXJyYXkpKG4uc2l6ZXNbMF0pP24uc2l6ZXNbMF06bi5zaXplcyxiPXZvaWQgMCE9PW4ucGFyYW1zLmFkU2l6ZT9tKG4ucGFyYW1zLmFkU2l6ZSk6dm9pZCAwIT09di5hZHNpemU/bSh2LmFkc2l6ZSk6bCxoPXZvaWQgMCE9PW4ucGFyYW1zLmV4dElkPyImaWQ9IituLnBhcmFtcy5leHRJZDoiIix5PXZvaWQgMCE9PXYuYWR0eXBlP3YuYWR0eXBlOiIiLGc9aS5nZHByPyImZ2Rwcj0iK2kuZ2RwcjoiIixqPWkuY29uc2VudD8iJmNvbnNlbnQ9IitpLmNvbnNlbnQ6IiIsST12b2lkIDAhPT12LnB2aWQ/IiZwdmlkPSIrdi5wdmlkOiIiLHc9aS5pYWJfY29udGVudD8iJmlhYl9jb250ZW50PSIraS5pYWJfY29udGVudDoiIixPPXtyZXF1ZXN0SWQ6bi5iaWRJZCxjcG06di5wcmljZS8xMDAsd2lkdGg6YlswXSxoZWlnaHQ6YlsxXSxjcmVhdGl2ZUlkOiIiK3YuaWQsZGVhbElkOnZbImMuZGVhbGlkIl0/dlsiYy5kZWFsaWQiXTp2LnBpZCxjdXJyZW5jeToiRVVSIixuZXRSZXZlbnVlOiExLHR0bDozMDAscmVmZXJyZXI6IiIsYWQ6JzxzY3JpcHQgc3JjPSInLmNvbmNhdChwLCIvZC8iKS5jb25jYXQodi5pZCwiLyIpLmNvbmNhdChuLnBhcmFtcy5zdXBwbHlJZCwiLz90cz0iKS5jb25jYXQocikuY29uY2F0KGgpLmNvbmNhdChnKS5jb25jYXQoaikuY29uY2F0KEkpLmNvbmNhdCh3LCciPjxcL3NjcmlwdD4nKSxtZXRhOnthZHZlcnRpc2VyRG9tYWluczp2LmFkdmVydGlzZXI/di5hZHZlcnRpc2VyOiJuL2EifX07aWYoZD1uLHU9eSxPYmplY3QoYS5kZWVwQWNjZXNzKShkLCJtZWRpYVR5cGVzLnZpZGVvIikmJiJ2aWRlbyI9PT11LnRvTG93ZXJDYXNlKCkpe3ZhciBDPWZ1bmN0aW9uKGUpe3ZhciBuPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpO3JldHVybiBuJiZPYmplY3QoYS5pc0FycmF5KShuWzBdKT9uWzBdOm59KG4pO2lmKEMmJihPLndpZHRoPUNbMF0sTy5oZWlnaHQ9Q1sxXSksTy5tZWRpYVR5cGU9cy5kLE8udmFzdFVybD0iIi5jb25jYXQocCwiL2QvIikuY29uY2F0KHYuaWQsIi8iKS5jb25jYXQobi5wYXJhbXMuc3VwcGx5SWQsIi8/dHM9IikuY29uY2F0KHIpLmNvbmNhdChoKS5jb25jYXQoZykuY29uY2F0KGopLmNvbmNhdChJKS5jb25jYXQodyksZnVuY3Rpb24oZSl7cmV0dXJuIm91dHN0cmVhbSI9PT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKX0obikpe3ZhciBBPWMuYS5pbnN0YWxsKHtpZDpuLmJpZElkLHVybDoiaHR0cHM6Ly9hZC5hZGl0aW9uLmNvbS9keW5hbWljLmFkP2E9bzE5MzA5MiZtYV9sb2FkRXZlbnQ9bWEtc3RhcnQtZXZlbnQiLGxvYWRlZDohMX0pO0Euc2V0UmVuZGVyKGYpLE8ucmVuZGVyZXI9QX19dC5wdXNoKE8pfX19KSksdH19O2Z1bmN0aW9uIG0oZSl7cmV0dXJuIGUuc3BsaXQoIngiKS5tYXAoTnVtYmVyKX1mdW5jdGlvbiBmKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cubWFfd2lkdGg9ZS53aWR0aCx3aW5kb3cubWFfaGVpZ2h0PWUuaGVpZ2h0LHdpbmRvdy5tYV92YXN0VXJsPWUudmFzdFVybCx3aW5kb3cubWFfY29udGFpbmVyPWUuYWRVbml0Q29kZSx3aW5kb3cuZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoIm1hLXN0YXJ0LWV2ZW50IikpfSkpfU9iamVjdChyLnJlZ2lzdGVyQmlkZGVyKSh1KX19LFs5MzFdKTsKdXBianMucHJvY2Vzc1F1ZXVlKCk7";try{var decodedCode=atob(prebidjsCode);eval(decodedCode)}catch(e){}_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs=window.upbjs};this.load=function(){_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs||(initPbjs(),subscriptionLayer.invokeEventCallbacks("postset"))}}},616:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deepClone:()=>i,isNumber:()=>r,isNil:()=>o,debounce:()=>a,escapeSelector:()=>c,getElementWithSelector:()=>l,isElementInBody:()=>u,extractQueryParamFromUrl:()=>p,topmostAccessibleWindow:()=>h,extractVariableFromString:()=>f,getRandomInt:()=>g,getTrueByProbability:()=>m,truncateString:()=>w,matchStringsOnString:()=>b,isFileHTML:()=>y});var i=function(e){if(!e)return e;var t,n=[Number,String,Boolean];try{if(n.forEach((n=>{e instanceof n&&(t=n(e))})),void 0===t)if("[object Array]"===Object.prototype.toString.call(e))t=[],e.forEach(((e,n,r)=>{t[n]=i(e)}));else if("object"==typeof e)if(e.nodeType&&"function"==typeof e.cloneNode)t=e.cloneNode(!0);else if(e.prototype)t=e;else if(e instanceof Date)t=new Date(e);else for(var r in t={},e)t[r]=i(e[r]);else t=e}catch(n){t=e}return t};function r(e){return!isNaN(e)&&"number"==typeof e}function o(e){return null==e}function a(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];const d=()=>{t=null,i||e.apply(r,a)},c=i&&!t;clearTimeout(t),t=setTimeout(d,n),c&&e.apply(r,a)}}var s=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function d(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function c(e){var t=e.charAt(0);return"#"===t||"."===t?t+e.substring(1).replace(s,d):e}function l(e){try{return document.querySelector(e)}catch(t){return console.error("document.querySelector:".concat(e," - error:").concat(t)),null}}function u(e){return e&&(document.documentElement||document.body).contains(e)}var p=function(e,t){e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};const h=function(){let e=window;try{if(top.document)return top}catch(e){}try{for(;e.parent.document;)e=e.parent}catch(e){}return e}();var f=function(e,t){if(e){for(var n=t.split("."),i=e,r=0;r<n.length;r++){var o=n[r];if(!i[o])return;i=i[o]}return i}};function g(e){return Math.floor(Math.random()*Math.floor(e))}function m(e){return g(100)<e}function w(e,t){return e.length>t?e.substring(0,t):e}function b(e,t){return e.every((e=>null==t?void 0:t.includes(e)))}function y(e){var t;const n=e.getResponseHeader("content-type");return null!==(t=null==n?void 0:n.toLowerCase().includes("html"))&&void 0!==t&&t}},614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i={};n.r(i),n.d(i,{getSizeType:()=>m,isUnacceptable:()=>M,isUnacceptableFirstViewPortSize:()=>w});var r=n(868),o=n(616),a=new function(){this.insertElement=function(e,t,n){switch(n){case"appendChild":t.appendChild(e);break;case"insertBefore":t.parentElement.insertBefore(e,t);break;case"insertAfter":t.nextElementSibling?this.insertElement(e,t.nextElementSibling,"insertBefore"):this.insertElement(e,t.parentElement,"appendChild")}}},s=n(302),d=n(586),c=[{width:300,height:250},{width:336,height:280},{width:300,height:600},{width:160,height:600},{width:120,height:600},{width:120,height:240},{width:250,height:250},{width:200,height:200},{width:180,height:150},{width:125,height:125},{width:728,height:90},{width:970,height:90},{width:970,height:250},{width:468,height:60},{width:234,height:60}];const l=(e,t)=>((e,t)=>e.filter((e=>v.sizeValidation.getSizeType(e)===t)))(c,e).filter((e=>!v.sizeValidation.isUnacceptableFirstViewPortSize(e)||!t));var u=function(e,t,n){for(var i=function(e){for(var t=0,n=0,i=0;i<e.length;i++){var r=e[i];r&&r.width&&r.height&&(r.width>t&&(t=r.width),r.height>n&&(n=r.height))}return{width:t,height:n}}(e),r=v.sizeValidation.getSizeType(t),o=l(r,n),a=0;a<o.length;a++){var s=o[a];if(s.width<=i.width&&s.height<=i.height){for(var d=!0,c=0;c<e.length;c++){var u=e[c];if(u&&u.width===s.width&&u.height===s.height){d=!1;break}}if(d)return s}}},p=function(e){var t=document.createElement("a");return t.setAttribute("href",e),t},h=function(e,t){if(e&&e.length>0)for(var n=0;n<e.length;n++){for(var i=e[n],r=!0,o=0;o<i.length;o++){var a=i[o];if(t[a.type].indexOf(a.string)<0){r=!1;break}}if(r)return!0}};var f=1,g=2,m=function(e){return e.width>350?f:g},w=function(e){var t=m(e),n=r.Z.consts.acceptableStandardScreenSize.width*r.Z.consts.acceptableStandardScreenSize.height,i=e.height,o=e.width,a=o*i/n*100>=16;return t==g?a||o>350:a||e.height>200},b=function(e,t){var n,i,o=m(t),a=!1,s=!0,d=!1,c=t.height,l=t.width;if(e){"none"===window.getComputedStyle(e).display&&(n=e.style.getPropertyValue("display"),i=e.style.getPropertyPriority("display"),e.style.setProperty("display","block","important"),a=!0);var u=e.getBoundingClientRect().top;c=(d=u+t.height>r.Z.consts.acceptableStandardScreenSize.height)?r.Z.consts.acceptableStandardScreenSize.height-u:t.height}return s=o==g&&d?b(e,{width:l,height:c})&&y(t):w(t),a&&e.style.setProperty("display",n,i),s},y=function(e){var t=r.Z.consts.acceptableStandardScreenSize.width*r.Z.consts.acceptableStandardScreenSize.height,n=m(e);return e.width*e.height/t*100>=26||n==f&&e.height>400},M=function(e,t){return!e||(0,d.isFirstViewPortElement)(e)?b(e,t):y(t)};const v={addAcceptableParam:function(e){return e.indexOf(r.Z.upoSettings.acceptableURLParam)>-1?e:e=(e=(e=e.indexOf("?")>-1?e+"&"+r.Z.upoSettings.acceptableURLParam:e+"?"+r.Z.upoSettings.acceptableURLParam).replace("&&upapi=true","&upapi=true")).replace("onetag-sys.com/prebid-request?upapi=true","onetag-sys.com/prebid-request/?upapi=true")},commonUtils:o,ElementInsertion:a,sizesRemover:function(e,t){const n=[],i=s.Y.fireEvent("enableLegacySizesReplacer");t.forEach((e=>{e.width&&e.height&&n.push({width:e.width,height:e.height})}));for(var r=0;r<n.length;r++){var o=n[r];if(v.sizeValidation.isUnacceptable(e,o))if(i){const t=(0,d.isFirstViewPortElement)(e);n[r]=u(n,o,t)}else n.splice(r,1),r--}return n},SubscriptionLayer:function(){var e={};this.subscribeForEvent=function(t,n){e[t]=e[t]||[],e[t].indexOf(n)<0&&e[t].push(n)},this.invokeEventCallbacks=function(t,n){(e[t]||[]).forEach((e=>{e.call(void 0,n)}))}},urlValidations:{isSyncUrl:function(e,t){if("IMG"!==t)return!1;for(var n=p(e),i=[[{string:"/sync",type:"pathname"}],[{string:"/cookiesync",type:"pathname"}],[{string:"/rset",type:"pathname"}],[{string:"/getuid",type:"pathname"}],[{string:"/track",type:"pathname"}],[{string:"/pixel",type:"pathname"}],[{string:"/Pixel",type:"pathname"}],[{string:".pixel",type:"pathname"}],[{string:"pixel.",type:"pathname"}],[{string:"/match",type:"pathname"}],[{string:"/partner",type:"pathname"}],[{string:"/visitormatch",type:"pathname"}],[{string:"/ping_match",type:"pathname"}],[{string:"/ImgSync",type:"pathname"}],[{string:"/identify",type:"pathname"}],[{string:"/usync/",type:"pathname"}],[{string:"/usersync",type:"pathname"}],[{string:"/user-sync",type:"pathname"}],[{string:"/ddm/trackimp",type:"pathname"}],[{string:"/user_sync.php",type:"pathname"}],[{string:"/bh/rtset",type:"pathname"}],[{string:"%2Fsync",type:"pathname"}],[{string:"cksync.php",type:"pathname"}],[{string:".sync",type:"hostname"}],[{string:"sync-",type:"hostname"}],[{string:"storygize.net",type:"hostname"},{string:"/ccm",type:"href"}],[{string:"geo-um.btrll.com",type:"hostname"}],[{string:"nexac.com",type:"hostname"},{string:"/e/sr",type:"href"}],[{string:"api.bttrack.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"sitescout.com",type:"hostname"}],[{string:"criteo.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"},{string:"/sync",type:"href"}]],r=0;r<i.length;r++){for(var o=i[r],a=!0,s=0;s<o.length;s++){var d=o[s];if(n[d.type].indexOf(d.string)<0){a=!1;break}}if(a)return!0}return!1},isWhitelistURL:function(e,t){var n=p(e);return!h({SCRIPT:[[{string:"3lift.com",type:"hostname"},{string:"/header",type:"href"}]]}[t],n)&&!!h({IMG:[[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleclick.net",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"mynativeplatform.com",type:"hostname"}],[{string:"360yield.com",type:"hostname"}],[{string:"sharethrough.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"zemanta.com",type:"hostname"}],[{string:"adnxs.com",type:"hostname"}],[{string:"sonobi.com",type:"hostname"}],[{string:"insight.adsrvr.org",type:"hostname"}],[{string:"serving-sys.com",type:"hostname"}],[{string:"advertising.com",type:"hostname"}],[{string:"openx.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"flashtalking.com",type:"hostname"},{string:"/imp",type:"href"}],[{string:"adroll.com",type:"hostname"}],[{string:"33across.com",type:"hostname"},{string:"/ps",type:"href"}],[{string:"adsrvr.org/bid",type:"href"}],[{string:"imrworldwide.com",type:"hostname"}],[{string:"criteo.com",type:"hostname"},{string:"/delivery",type:"href"}],[{string:"ad_overlays",type:"pathname"}]],IFRAME:[[{string:"googlesyndication.com/safeframe",type:"href"}],[{string:"ad.doubleclick.net/ddm",type:"hostname"}],[{string:"rubiconproject.com",type:"hostname"},{string:"multi-sync.html",type:"href"}],[{string:"3lift.com",type:"hostname"},{string:"sync?",type:"href"}],[{string:"ca-pub-15988",type:"href"}],[{string:"ff.doubleclick.net",type:"hostname"}]],SCRIPT:[[{string:"adnxs.com",type:"hostname"},{string:"trk.js",type:"href"}],[{string:"/sync",type:"pathname"}],[{string:"pagead2.googlesyndication.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}],[{string:"doubleclick.net/gpt/pubads_impl_",type:"href"}],[{string:"native.sharethrough.com/assets/sfp.js",type:"href"}],[{string:"sharethrough.com/api",type:"href"}],[{string:"moatads.com",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"match.adsrvr.org",type:"hostname"}],[{string:".adnxs.com/getuidp",type:"href"}],[{string:"pubads_impl_rendering_",type:"href"}],[{string:"cdn.ampproject.org",type:"href"}]],LINK:[[{string:"//tpc.googlesyndication.com/safeframe",type:"href"}],[{string:"ntv.io",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}]]}[t],n)}},sizeValidation:i}},96:(e,t,n)=>{var i="Expected a function",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,d=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=c||l||Function("return this")(),p=Object.prototype.toString,h=Math.max,f=Math.min,g=function(){return u.Date.now()};function m(e,t,n){var r,o,a,s,d,c,l=0,u=!1,p=!1,m=!0;if("function"!=typeof e)throw new TypeError(i);function y(t){var n=r,i=o;return r=o=void 0,l=t,s=e.apply(i,n)}function M(e){return l=e,d=setTimeout(_,t),u?y(e):s}function v(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-l>=a}function _(){var e=g();if(v(e))return D(e);d=setTimeout(_,function(e){var n=t-(e-c);return p?f(n,a-(e-l)):n}(e))}function D(e){return d=void 0,m&&r?y(e):(r=o=void 0,s)}function E(){var e=g(),n=v(e);if(r=arguments,o=this,c=e,n){if(void 0===d)return M(c);if(p)return d=setTimeout(_,t),y(c)}return void 0===d&&(d=setTimeout(_,t)),s}return t=b(t)||0,w(n)&&(u=!!n.leading,a=(p="maxWait"in n)?h(b(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),E.cancel=function(){void 0!==d&&clearTimeout(d),l=0,r=c=o=d=void 0},E.flush=function(){return void 0===d?s:D(g())},E}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==p.call(e)}(e))return NaN;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||s.test(e)?d(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(i);return w(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),m(e,t,{leading:r,maxWait:t,trailing:o})}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{isBTDemandIntegration:()=>In,setupBtSsp:()=>Xn,setupRelay:()=>Yn,setupSnigel:()=>Hn});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{createWhitelistingIFrame:()=>qn,setupWhitelistingIFrameSettings:()=>Jn});var n=__webpack_require__(868),i=__webpack_require__(302),r=__webpack_require__(614),o=__webpack_require__(491);const a=new o.Z({prefix:"xhrSingleton: "});var s=function(e,t){return e.substr(0,t.length)===t},d=function(e){if(e=e.toLowerCase(),s(e,"proxy-"))return!1;if(s(e,"sec-"))return!1;switch(e){case"accept-charset":case"accept-encoding":case"access-control-request-headers":case"access-control-request-method":case"connection":case"content-length":case"cookie":case"cookie2":case"date":case"dnt":case"expect":case"host":case"keep-alive":case"origin":case"te":case"trailer":case"transfer-encoding":case"upgrade":case"via":case"x-client-version":case"x-cookie":case"x-referer":return!1}return!0},c=new function(){this.init=function(e,t){if(t=t||{},!e||"string"!=typeof e)throw new TypeError;this.host=e;var n=void 0===t.secure||t.secure;this.protocol=n?"https":"http",this.suffix=void 0!==t.suffix?t.suffix:""},this.$fetch=function(e){return new Promise(function(t,n){if("object"!=typeof e||"string"!=typeof e.url)throw new TypeError;var i=!1,r=e.url||"";(r.length<1||"/"!=r[0])&&(r="/"+r);var o=this.protocol+"://"+this.host+r;o+=this.suffix?"#"+this.suffix:"";var s=e.method||"GET",c=e.headers||{},l=e.body?e.body:null,u=new XMLHttpRequest;for(var p in u.onreadystatechange=function(e){if(4==u.readyState)if(0!=u.status){var r=function(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++)t[n[i].toLowerCase()]=e[n[i]];return t}(function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),i=0;i<n.length;i++){var r=n[i],o=r.indexOf(": ");if(o>0){var a=r.substring(0,o),s=r.substring(o+2);t[a]||(t[a]=[]),t[a].push(s)}}return t}(u.getAllResponseHeaders()));if(r["x-content-type"]&&(r["content-type"]=r["x-content-type"],delete r["x-content-type"]),u.status>=200&&u.status<300){var d={status:u.status,headers:r,body:u.response};t(d)}else n("status -> "+u.status)}else{if(i)return;i=!0,n("status -> "+u.status);const t={sendToServer:!0,sendPercentage:1,event:"xhr.onReadyStateChange error",meta:{url:o,method:s,body:l,event:e}};a.errorf(null,"xhr error -> ",o,t)}},u.onerror=function(e){if(i)return;i=!0,n(e);const t={sendToServer:!0,sendPercentage:1,event:"xhr.onError error",meta:{url:o,method:s,body:l,error:e}};a.errorf(null,"xhr error -> ",o,t)},u.open(s,o,!0),u.responseType="arraybuffer",c)c.hasOwnProperty(p)&&0!=c[p].length&&(d(p)||u.setRequestHeader(p,c[p][0]));u.send(l)}.bind(this))}},l=function(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n||t<=0||n<=0||t>n)throw new TypeError;for(var i=Math.floor(Math.random()*(n+1-t))+t,r="",o=0;o<i;o++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},u=function(e,t){return l("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e,t)};const p=u;function h(e){let t=e.length;for(;--t>=0;)e[t]=0}const f=256,g=286,m=30,w=15,b=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),y=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),v=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_=new Array(576);h(_);const D=new Array(60);h(D);const E=new Array(512);h(E);const T=new Array(256);h(T);const N=new Array(29);h(N);const z=new Array(m);function B(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}let x,S,k;function Z(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}h(z);const I=e=>e<256?E[e]:E[256+(e>>>7)],Y=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},H=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Y(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},X=(e,t,n)=>{H(e,n[2*t],n[2*t+1])},R=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},O=(e,t,n)=>{const i=new Array(16);let r,o,a=0;for(r=1;r<=w;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=R(i[t]++,t))}},C=e=>{let t;for(t=0;t<g;t++)e.dyn_ltree[2*t]=0;for(t=0;t<m;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},A=e=>{e.bi_valid>8?Y(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},W=(e,t,n,i)=>{const r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]},j=(e,t,n)=>{const i=e.heap[n];let r=n<<1;for(;r<=e.heap_len&&(r<e.heap_len&&W(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!W(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},V=(e,t,n)=>{let i,r,o,a,s=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?X(e,r,t):(o=T[r],X(e,o+f+1,t),a=b[o],0!==a&&(r-=N[o],H(e,r,a)),i--,o=I(i),X(e,o,n),a=y[o],0!==a&&(i-=z[o],H(e,i,a)))}while(s<e.last_lit);X(e,256,t)},F=(e,t)=>{const n=t.dyn_tree,i=t.stat_desc.static_tree,r=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,s,d,c=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<o;a++)0!==n[2*a]?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=c<2?++c:0,n[2*d]=1,e.depth[d]=0,e.opt_len--,r&&(e.static_len-=i[2*d+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)j(e,n,a);d=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],j(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*d]=n[2*a]+n[2*s],e.depth[d]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=d,e.heap[1]=d++,j(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,i=t.max_code,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,d=t.stat_desc.max_length;let c,l,u,p,h,f,g=0;for(p=0;p<=w;p++)e.bl_count[p]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)l=e.heap[c],p=n[2*n[2*l+1]+1]+1,p>d&&(p=d,g++),n[2*l+1]=p,l>i||(e.bl_count[p]++,h=0,l>=s&&(h=a[l-s]),f=n[2*l],e.opt_len+=f*(p+h),o&&(e.static_len+=f*(r[2*l+1]+h)));if(0!==g){do{for(p=d-1;0===e.bl_count[p];)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[d]--,g-=2}while(g>0);for(p=d;0!==p;p--)for(l=e.bl_count[p];0!==l;)u=e.heap[--c],u>i||(n[2*u+1]!==p&&(e.opt_len+=(p-n[2*u+1])*n[2*u],n[2*u+1]=p),l--)}})(e,t),O(n,c,e.bl_count)},U=(e,t,n)=>{let i,r,o=-1,a=t[1],s=0,d=7,c=4;for(0===a&&(d=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<d&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(d=138,c=3):r===a?(d=6,c=3):(d=7,c=4))},L=(e,t,n)=>{let i,r,o=-1,a=t[1],s=0,d=7,c=4;for(0===a&&(d=138,c=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<d&&r===a)){if(s<c)do{X(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(X(e,r,e.bl_tree),s--),X(e,16,e.bl_tree),H(e,s-3,2)):s<=10?(X(e,17,e.bl_tree),H(e,s-3,3)):(X(e,18,e.bl_tree),H(e,s-11,7));s=0,o=r,0===a?(d=138,c=3):r===a?(d=6,c=3):(d=7,c=4)}};let P=!1;const K=(e,t,n,i)=>{H(e,0+(i?1:0),3),((e,t,n,i)=>{A(e),i&&(Y(e,n),Y(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n})(e,t,n,!0)};var G=(e,t,n,i)=>{let r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<f;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),F(e,e.l_desc),F(e,e.d_desc),a=(e=>{let t;for(U(e,e.dyn_ltree,e.l_desc.max_code),U(e,e.dyn_dtree,e.d_desc.max_code),F(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*v[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?K(e,t,n,i):4===e.strategy||o===r?(H(e,2+(i?1:0),3),V(e,_,D)):(H(e,4+(i?1:0),3),((e,t,n,i)=>{let r;for(H(e,t-257,5),H(e,n-1,5),H(e,i-4,4),r=0;r<i;r++)H(e,e.bl_tree[2*v[r]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),V(e,e.dyn_ltree,e.dyn_dtree)),C(e),i&&A(e)},J={_tr_init:e=>{P||((()=>{let e,t,n,i,r;const o=new Array(16);for(n=0,i=0;i<28;i++)for(N[i]=n,e=0;e<1<<b[i];e++)T[n++]=i;for(T[n-1]=i,r=0,i=0;i<16;i++)for(z[i]=r,e=0;e<1<<y[i];e++)E[r++]=i;for(r>>=7;i<m;i++)for(z[i]=r<<7,e=0;e<1<<y[i]-7;e++)E[256+r++]=i;for(t=0;t<=w;t++)o[t]=0;for(e=0;e<=143;)_[2*e+1]=8,e++,o[8]++;for(;e<=255;)_[2*e+1]=9,e++,o[9]++;for(;e<=279;)_[2*e+1]=7,e++,o[7]++;for(;e<=287;)_[2*e+1]=8,e++,o[8]++;for(O(_,287,o),e=0;e<m;e++)D[2*e+1]=5,D[2*e]=R(e,5);x=new B(_,b,257,g,w),S=new B(D,y,0,m,w),k=new B(new Array(0),M,0,19,7)})(),P=!0),e.l_desc=new Z(e.dyn_ltree,x),e.d_desc=new Z(e.dyn_dtree,S),e.bl_desc=new Z(e.bl_tree,k),e.bi_buf=0,e.bi_valid=0,C(e)},_tr_stored_block:K,_tr_flush_block:G,_tr_tally:(e,t,n)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(T[n]+f+1)]++,e.dyn_dtree[2*I(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{H(e,2,3),X(e,256,_),(e=>{16===e.bi_valid?(Y(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var Q=(e,t,n,i)=>{let r=65535&e|0,o=e>>>16&65535|0,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{r=r+t[i++]|0,o=o+r|0}while(--a);r%=65521,o%=65521}return r|o<<16|0};const q=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var $=(e,t,n,i)=>{const r=q,o=i+n;e^=-1;for(let n=i;n<o;n++)e=e>>>8^r[255&(e^t[n])];return-1^e},ee={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},te={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ne,_tr_stored_block:ie,_tr_flush_block:re,_tr_tally:oe,_tr_align:ae}=J,{Z_NO_FLUSH:se,Z_PARTIAL_FLUSH:de,Z_FULL_FLUSH:ce,Z_FINISH:le,Z_BLOCK:ue,Z_OK:pe,Z_STREAM_END:he,Z_STREAM_ERROR:fe,Z_DATA_ERROR:ge,Z_BUF_ERROR:me,Z_DEFAULT_COMPRESSION:we,Z_FILTERED:be,Z_HUFFMAN_ONLY:ye,Z_RLE:Me,Z_FIXED:ve,Z_DEFAULT_STRATEGY:_e,Z_UNKNOWN:De,Z_DEFLATED:Ee}=te,Te=258,Ne=262,ze=103,Be=113,xe=666,Se=(e,t)=>(e.msg=ee[t],t),ke=e=>(e<<1)-(e>4?9:0),Ze=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let Ie=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Ye=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},He=(e,t)=>{re(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ye(e.strm)},Xe=(e,t)=>{e.pending_buf[e.pending++]=t},Re=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Oe=(e,t,n,i)=>{let r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),n),1===e.state.wrap?e.adler=Q(e.adler,t,r,n):2===e.state.wrap&&(e.adler=$(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)},Ce=(e,t)=>{let n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match;const d=e.strstart>e.w_size-Ne?e.strstart-(e.w_size-Ne):0,c=e.window,l=e.w_mask,u=e.prev,p=e.strstart+Te;let h=c[o+a-1],f=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+a]===f&&c[n+a-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<p);if(i=Te-(p-o),o=p-Te,i>a){if(e.match_start=t,a=i,i>=s)break;h=c[o+a-1],f=c[o+a]}}}while((t=u[t&l])>d&&0!=--r);return a<=e.lookahead?a:e.lookahead},Ae=e=>{const t=e.w_size;let n,i,r,o,a;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ne)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,i=e.hash_size,n=i;do{r=e.head[--n],e.head[n]=r>=t?r-t:0}while(--i);i=t,n=i;do{r=e.prev[--n],e.prev[n]=r>=t?r-t:0}while(--i);o+=t}if(0===e.strm.avail_in)break;if(i=Oe(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=i,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Ie(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Ie(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Ne&&0!==e.strm.avail_in)},We=(e,t)=>{let n,i;for(;;){if(e.lookahead<Ne){if(Ae(e),e.lookahead<Ne&&t===se)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Ne&&(e.match_length=Ce(e,n)),e.match_length>=3)if(i=oe(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+1]);else i=oe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(He(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===le?(He(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(He(e,!1),0===e.strm.avail_out)?1:2},je=(e,t)=>{let n,i,r;for(;;){if(e.lookahead<Ne){if(Ae(e),e.lookahead<Ne&&t===se)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ne&&(e.match_length=Ce(e,n),e.match_length<=5&&(e.strategy===be||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=oe(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(He(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(i=oe(e,0,e.window[e.strstart-1]),i&&He(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=oe(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===le?(He(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(He(e,!1),0===e.strm.avail_out)?1:2};function Ve(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}const Fe=[new Ve(0,0,0,0,((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ae(e),0===e.lookahead&&t===se)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,He(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-Ne&&(He(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===le?(He(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(He(e,!1),e.strm.avail_out),1)})),new Ve(4,4,8,4,We),new Ve(4,5,16,8,We),new Ve(4,6,32,32,We),new Ve(4,4,16,16,je),new Ve(8,16,32,32,je),new Ve(8,16,128,128,je),new Ve(8,32,128,256,je),new Ve(32,128,258,1024,je),new Ve(32,258,258,4096,je)];function Ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ee,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ze(this.dyn_ltree),Ze(this.dyn_dtree),Ze(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ze(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ze(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Le=e=>{if(!e||!e.state)return Se(e,fe);e.total_in=e.total_out=0,e.data_type=De;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:Be,e.adler=2===t.wrap?0:1,t.last_flush=se,ne(t),pe},Pe=e=>{const t=Le(e);var n;return t===pe&&((n=e.state).window_size=2*n.w_size,Ze(n.head),n.max_lazy_match=Fe[n.level].max_lazy,n.good_match=Fe[n.level].good_length,n.nice_match=Fe[n.level].nice_length,n.max_chain_length=Fe[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},Ke=(e,t,n,i,r,o)=>{if(!e)return fe;let a=1;if(t===we&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>9||n!==Ee||i<8||i>15||t<0||t>9||o<0||o>ve)return Se(e,fe);8===i&&(i=9);const s=new Ue;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,Pe(e)};var Ge={deflateInit:(e,t)=>Ke(e,t,Ee,15,8,_e),deflateInit2:Ke,deflateReset:Pe,deflateResetKeep:Le,deflateSetHeader:(e,t)=>e&&e.state?2!==e.state.wrap?fe:(e.state.gzhead=t,pe):fe,deflate:(e,t)=>{let n,i;if(!e||!e.state||t>ue||t<0)return e?Se(e,fe):fe;const r=e.state;if(!e.output||!e.input&&0!==e.avail_in||r.status===xe&&t!==le)return Se(e,0===e.avail_out?me:fe);r.strm=e;const o=r.last_flush;if(r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,Xe(r,31),Xe(r,139),Xe(r,8),r.gzhead?(Xe(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Xe(r,255&r.gzhead.time),Xe(r,r.gzhead.time>>8&255),Xe(r,r.gzhead.time>>16&255),Xe(r,r.gzhead.time>>24&255),Xe(r,9===r.level?2:r.strategy>=ye||r.level<2?4:0),Xe(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Xe(r,255&r.gzhead.extra.length),Xe(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=$(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Xe(r,0),Xe(r,0),Xe(r,0),Xe(r,0),Xe(r,0),Xe(r,9===r.level?2:r.strategy>=ye||r.level<2?4:0),Xe(r,3),r.status=Be);else{let t=Ee+(r.w_bits-8<<4)<<8,n=-1;n=r.strategy>=ye||r.level<2?0:r.level<6?1:6===r.level?2:3,t|=n<<6,0!==r.strstart&&(t|=32),t+=31-t%31,r.status=Be,Re(r,t),0!==r.strstart&&(Re(r,e.adler>>>16),Re(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(e.adler=$(e.adler,r.pending_buf,r.pending-n,n)),Ye(e),n=r.pending,r.pending!==r.pending_buf_size));)Xe(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(e.adler=$(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=$(e.adler,r.pending_buf,r.pending-n,n)),Ye(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Xe(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=$(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=$(e.adler,r.pending_buf,r.pending-n,n)),Ye(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Xe(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=$(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.status=ze)}else r.status=ze;if(r.status===ze&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Ye(e),r.pending+2<=r.pending_buf_size&&(Xe(r,255&e.adler),Xe(r,e.adler>>8&255),e.adler=0,r.status=Be)):r.status=Be),0!==r.pending){if(Ye(e),0===e.avail_out)return r.last_flush=-1,pe}else if(0===e.avail_in&&ke(t)<=ke(o)&&t!==le)return Se(e,me);if(r.status===xe&&0!==e.avail_in)return Se(e,me);if(0!==e.avail_in||0!==r.lookahead||t!==se&&r.status!==xe){let n=r.strategy===ye?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Ae(e),0===e.lookahead)){if(t===se)return 1;break}if(e.match_length=0,n=oe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(He(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===le?(He(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(He(e,!1),0===e.strm.avail_out)?1:2})(r,t):r.strategy===Me?((e,t)=>{let n,i,r,o;const a=e.window;for(;;){if(e.lookahead<=Te){if(Ae(e),e.lookahead<=Te&&t===se)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=e.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){o=e.strstart+Te;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);e.match_length=Te-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=oe(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=oe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(He(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===le?(He(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(He(e,!1),0===e.strm.avail_out)?1:2})(r,t):Fe[r.level].func(r,t);if(3!==n&&4!==n||(r.status=xe),1===n||3===n)return 0===e.avail_out&&(r.last_flush=-1),pe;if(2===n&&(t===de?ae(r):t!==ue&&(ie(r,0,0,!1),t===ce&&(Ze(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Ye(e),0===e.avail_out))return r.last_flush=-1,pe}return t!==le?pe:r.wrap<=0?he:(2===r.wrap?(Xe(r,255&e.adler),Xe(r,e.adler>>8&255),Xe(r,e.adler>>16&255),Xe(r,e.adler>>24&255),Xe(r,255&e.total_in),Xe(r,e.total_in>>8&255),Xe(r,e.total_in>>16&255),Xe(r,e.total_in>>24&255)):(Re(r,e.adler>>>16),Re(r,65535&e.adler)),Ye(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?pe:he)},deflateEnd:e=>{if(!e||!e.state)return fe;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==ze&&t!==Be&&t!==xe?Se(e,fe):(e.state=null,t===Be?Se(e,ge):pe)},deflateSetDictionary:(e,t)=>{let n=t.length;if(!e||!e.state)return fe;const i=e.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return fe;if(1===r&&(e.adler=Q(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(Ze(i.head),i.strstart=0,i.block_start=0,i.insert=0);let e=new Uint8Array(i.w_size);e.set(t.subarray(n-i.w_size,n),0),t=e,n=i.w_size}const o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ae(i);i.lookahead>=3;){let e=i.strstart,t=i.lookahead-2;do{i.ins_h=Ie(i,i.ins_h,i.window[e+3-1]),i.prev[e&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=e,e++}while(--t);i.strstart=e,i.lookahead=2,Ae(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,i.wrap=r,pe},deflateInfo:"pako deflate (from Nodeca project)"};const Je=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Qe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Je(n,t)&&(e[t]=n[t])}}return e},qe=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,i=0,r=e.length;t<r;t++){let r=e[t];n.set(r,i),i+=r.length}return n};let $e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){$e=!1}const et=new Uint8Array(256);for(let e=0;e<256;e++)et[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;et[254]=et[254]=1;var tt=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,i,r,o,a=e.length,s=0;for(r=0;r<a;r++)n=e.charCodeAt(r),55296==(64512&n)&&r+1<a&&(i=e.charCodeAt(r+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,r=0;o<s;r++)n=e.charCodeAt(r),55296==(64512&n)&&r+1<a&&(i=e.charCodeAt(r+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},nt=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let i,r;const o=new Array(2*n);for(r=0,i=0;i<n;){let t=e[i++];if(t<128){o[r++]=t;continue}let a=et[t];if(a>4)o[r++]=65533,i+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&i<n;)t=t<<6|63&e[i++],a--;a>1?o[r++]=65533:t<65536?o[r++]=t:(t-=65536,o[r++]=55296|t>>10&1023,o[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&$e)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n})(o,r)},it=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+et[e[n]]>t?n:t};var rt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const ot=Object.prototype.toString,{Z_NO_FLUSH:at,Z_SYNC_FLUSH:st,Z_FULL_FLUSH:dt,Z_FINISH:ct,Z_OK:lt,Z_STREAM_END:ut,Z_DEFAULT_COMPRESSION:pt,Z_DEFAULT_STRATEGY:ht,Z_DEFLATED:ft}=te;function gt(e){this.options=Qe({level:pt,method:ft,chunkSize:16384,windowBits:15,memLevel:8,strategy:ht},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rt,this.strm.avail_out=0;let n=Ge.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==lt)throw new Error(ee[n]);if(t.header&&Ge.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?tt(t.dictionary):"[object ArrayBuffer]"===ot.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Ge.deflateSetDictionary(this.strm,e),n!==lt)throw new Error(ee[n]);this._dict_set=!0}}function mt(e,t){const n=new gt(t);if(n.push(e,!0),n.err)throw n.msg||ee[n.err];return n.result}gt.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize;let r,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?ct:at,"string"==typeof e?n.input=tt(e):"[object ArrayBuffer]"===ot.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(o===st||o===dt)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(r=Ge.deflate(n,o),r===ut)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=Ge.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===lt;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},gt.prototype.onData=function(e){this.chunks.push(e)},gt.prototype.onEnd=function(e){e===lt&&(this.result=qe(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var wt={Deflate:gt,deflate:mt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,mt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,mt(e,t)},constants:te};var bt=function(e,t){let n,i,r,o,a,s,d,c,l,u,p,h,f,g,m,w,b,y,M,v,_,D,E,T;const N=e.state;n=e.next_in,E=e.input,i=n+(e.avail_in-5),r=e.next_out,T=e.output,o=r-(t-e.avail_out),a=r+(e.avail_out-257),s=N.dmax,d=N.wsize,c=N.whave,l=N.wnext,u=N.window,p=N.hold,h=N.bits,f=N.lencode,g=N.distcode,m=(1<<N.lenbits)-1,w=(1<<N.distbits)-1;e:do{h<15&&(p+=E[n++]<<h,h+=8,p+=E[n++]<<h,h+=8),b=f[p&m];t:for(;;){if(y=b>>>24,p>>>=y,h-=y,y=b>>>16&255,0===y)T[r++]=65535&b;else{if(!(16&y)){if(0==(64&y)){b=f[(65535&b)+(p&(1<<y)-1)];continue t}if(32&y){N.mode=12;break e}e.msg="invalid literal/length code",N.mode=30;break e}M=65535&b,y&=15,y&&(h<y&&(p+=E[n++]<<h,h+=8),M+=p&(1<<y)-1,p>>>=y,h-=y),h<15&&(p+=E[n++]<<h,h+=8,p+=E[n++]<<h,h+=8),b=g[p&w];n:for(;;){if(y=b>>>24,p>>>=y,h-=y,y=b>>>16&255,!(16&y)){if(0==(64&y)){b=g[(65535&b)+(p&(1<<y)-1)];continue n}e.msg="invalid distance code",N.mode=30;break e}if(v=65535&b,y&=15,h<y&&(p+=E[n++]<<h,h+=8,h<y&&(p+=E[n++]<<h,h+=8)),v+=p&(1<<y)-1,v>s){e.msg="invalid distance too far back",N.mode=30;break e}if(p>>>=y,h-=y,y=r-o,v>y){if(y=v-y,y>c&&N.sane){e.msg="invalid distance too far back",N.mode=30;break e}if(_=0,D=u,0===l){if(_+=d-y,y<M){M-=y;do{T[r++]=u[_++]}while(--y);_=r-v,D=T}}else if(l<y){if(_+=d+l-y,y-=l,y<M){M-=y;do{T[r++]=u[_++]}while(--y);if(_=0,l<M){y=l,M-=y;do{T[r++]=u[_++]}while(--y);_=r-v,D=T}}}else if(_+=l-y,y<M){M-=y;do{T[r++]=u[_++]}while(--y);_=r-v,D=T}for(;M>2;)T[r++]=D[_++],T[r++]=D[_++],T[r++]=D[_++],M-=3;M&&(T[r++]=D[_++],M>1&&(T[r++]=D[_++]))}else{_=r-v;do{T[r++]=T[_++],T[r++]=T[_++],T[r++]=T[_++],M-=3}while(M>2);M&&(T[r++]=T[_++],M>1&&(T[r++]=T[_++]))}break}}break}}while(n<i&&r<a);M=h>>3,n-=M,h-=M<<3,p&=(1<<h)-1,e.next_in=n,e.next_out=r,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=r<a?a-r+257:257-(r-a),N.hold=p,N.bits=h};const yt=15,Mt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),vt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_t=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Dt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Et=(e,t,n,i,r,o,a,s)=>{const d=s.bits;let c,l,u,p,h,f,g=0,m=0,w=0,b=0,y=0,M=0,v=0,_=0,D=0,E=0,T=null,N=0;const z=new Uint16Array(16),B=new Uint16Array(16);let x,S,k,Z=null,I=0;for(g=0;g<=yt;g++)z[g]=0;for(m=0;m<i;m++)z[t[n+m]]++;for(y=d,b=yt;b>=1&&0===z[b];b--);if(y>b&&(y=b),0===b)return r[o++]=20971520,r[o++]=20971520,s.bits=1,0;for(w=1;w<b&&0===z[w];w++);for(y<w&&(y=w),_=1,g=1;g<=yt;g++)if(_<<=1,_-=z[g],_<0)return-1;if(_>0&&(0===e||1!==b))return-1;for(B[1]=0,g=1;g<yt;g++)B[g+1]=B[g]+z[g];for(m=0;m<i;m++)0!==t[n+m]&&(a[B[t[n+m]]++]=m);if(0===e?(T=Z=a,f=19):1===e?(T=Mt,N-=257,Z=vt,I-=257,f=256):(T=_t,Z=Dt,f=-1),E=0,m=0,g=w,h=o,M=y,v=0,u=-1,D=1<<y,p=D-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){x=g-v,a[m]<f?(S=0,k=a[m]):a[m]>f?(S=Z[I+a[m]],k=T[N+a[m]]):(S=96,k=0),c=1<<g-v,l=1<<M,w=l;do{l-=c,r[h+(E>>v)+l]=x<<24|S<<16|k|0}while(0!==l);for(c=1<<g-1;E&c;)c>>=1;if(0!==c?(E&=c-1,E+=c):E=0,m++,0==--z[g]){if(g===b)break;g=t[n+a[m]]}if(g>y&&(E&p)!==u){for(0===v&&(v=y),h+=w,M=g-v,_=1<<M;M+v<b&&(_-=z[M+v],!(_<=0));)M++,_<<=1;if(D+=1<<M,1===e&&D>852||2===e&&D>592)return 1;u=E&p,r[u]=y<<24|M<<16|h-o|0}}return 0!==E&&(r[h+E]=g-v<<24|64<<16|0),s.bits=y,0};const{Z_FINISH:Tt,Z_BLOCK:Nt,Z_TREES:zt,Z_OK:Bt,Z_STREAM_END:xt,Z_NEED_DICT:St,Z_STREAM_ERROR:kt,Z_DATA_ERROR:Zt,Z_MEM_ERROR:It,Z_BUF_ERROR:Yt,Z_DEFLATED:Ht}=te,Xt=12,Rt=30,Ot=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Ct(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const At=e=>{if(!e||!e.state)return kt;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Bt},Wt=e=>{if(!e||!e.state)return kt;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,At(e)},jt=(e,t)=>{let n;if(!e||!e.state)return kt;const i=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?kt:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Wt(e))},Vt=(e,t)=>{if(!e)return kt;const n=new Ct;e.state=n,n.window=null;const i=jt(e,t);return i!==Bt&&(e.state=null),i};let Ft,Ut,Lt=!0;const Pt=e=>{if(Lt){Ft=new Int32Array(512),Ut=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Et(1,e.lens,0,288,Ft,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Et(2,e.lens,0,32,Ut,0,e.work,{bits:5}),Lt=!1}e.lencode=Ft,e.lenbits=9,e.distcode=Ut,e.distbits=5},Kt=(e,t,n,i)=>{let r;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),o.window.set(t.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(t.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0};var Gt={inflateReset:Wt,inflateReset2:jt,inflateResetKeep:At,inflateInit:e=>Vt(e,15),inflateInit2:Vt,inflate:(e,t)=>{let n,i,r,o,a,s,d,c,l,u,p,h,f,g,m,w,b,y,M,v,_,D,E=0;const T=new Uint8Array(4);let N,z;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return kt;n=e.state,n.mode===Xt&&(n.mode=13),a=e.next_out,r=e.output,d=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,u=s,p=d,D=Bt;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(2&n.wrap&&35615===c){n.check=0,T[0]=255&c,T[1]=c>>>8&255,n.check=$(n.check,T,2,0),c=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Rt;break}if((15&c)!==Ht){e.msg="unknown compression method",n.mode=Rt;break}if(c>>>=4,l-=4,_=8+(15&c),0===n.wbits)n.wbits=_;else if(_>n.wbits){e.msg="invalid window size",n.mode=Rt;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:Xt,c=0,l=0;break;case 2:for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==Ht){e.msg="unknown compression method",n.mode=Rt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Rt;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=$(n.check,T,2,0)),c=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,n.check=$(n.check,T,4,0)),c=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=$(n.check,T,2,0)),c=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=$(n.check,T,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(h=n.length,h>s&&(h=s),h&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+h),_)),512&n.flags&&(n.check=$(n.check,i,h,o)),s-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;h=0;do{_=i[o+h++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_))}while(_&&h<s);if(512&n.flags&&(n.check=$(n.check,i,h,o)),s-=h,o+=h,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;h=0;do{_=i[o+h++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_))}while(_&&h<s);if(512&n.flags&&(n.check=$(n.check,i,h,o)),s-=h,o+=h,_)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Rt;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Xt;break;case 10:for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}e.adler=n.check=Ot(c),c=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,St;e.adler=n.check=1,n.mode=Xt;case Xt:if(t===Nt||t===zt)break e;case 13:if(n.last){c>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}switch(n.last=1&c,c>>>=1,l-=1,3&c){case 0:n.mode=14;break;case 1:if(Pt(n),n.mode=20,t===zt){c>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=Rt}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Rt;break}if(n.length=65535&c,c=0,l=0,n.mode=15,t===zt)break e;case 15:n.mode=16;case 16:if(h=n.length,h){if(h>s&&(h=s),h>d&&(h=d),0===h)break e;r.set(i.subarray(o,o+h),a),s-=h,o+=h,d-=h,a+=h,n.length-=h;break}n.mode=Xt;break;case 17:for(;l<14;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Rt;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.lens[B[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[B[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},D=Et(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,D){e.msg="invalid code lengths set",n.mode=Rt;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[c&(1<<n.lenbits)-1],m=E>>>24,w=E>>>16&255,b=65535&E,!(m<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(b<16)c>>>=m,l-=m,n.lens[n.have++]=b;else{if(16===b){for(z=m+2;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c>>>=m,l-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=Rt;break}_=n.lens[n.have-1],h=3+(3&c),c>>>=2,l-=2}else if(17===b){for(z=m+3;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=m,l-=m,_=0,h=3+(7&c),c>>>=3,l-=3}else{for(z=m+7;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=m,l-=m,_=0,h=11+(127&c),c>>>=7,l-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Rt;break}for(;h--;)n.lens[n.have++]=_}}if(n.mode===Rt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Rt;break}if(n.lenbits=9,N={bits:n.lenbits},D=Et(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,D){e.msg="invalid literal/lengths set",n.mode=Rt;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},D=Et(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,D){e.msg="invalid distances set",n.mode=Rt;break}if(n.mode=20,t===zt)break e;case 20:n.mode=21;case 21:if(s>=6&&d>=258){e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,bt(e,p),a=e.next_out,r=e.output,d=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,n.mode===Xt&&(n.back=-1);break}for(n.back=0;E=n.lencode[c&(1<<n.lenbits)-1],m=E>>>24,w=E>>>16&255,b=65535&E,!(m<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(w&&0==(240&w)){for(y=m,M=w,v=b;E=n.lencode[v+((c&(1<<y+M)-1)>>y)],m=E>>>24,w=E>>>16&255,b=65535&E,!(y+m<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=y,l-=y,n.back+=y}if(c>>>=m,l-=m,n.back+=m,n.length=b,0===w){n.mode=26;break}if(32&w){n.back=-1,n.mode=Xt;break}if(64&w){e.msg="invalid literal/length code",n.mode=Rt;break}n.extra=15&w,n.mode=22;case 22:if(n.extra){for(z=n.extra;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=n.distcode[c&(1<<n.distbits)-1],m=E>>>24,w=E>>>16&255,b=65535&E,!(m<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(0==(240&w)){for(y=m,M=w,v=b;E=n.distcode[v+((c&(1<<y+M)-1)>>y)],m=E>>>24,w=E>>>16&255,b=65535&E,!(y+m<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=y,l-=y,n.back+=y}if(c>>>=m,l-=m,n.back+=m,64&w){e.msg="invalid distance code",n.mode=Rt;break}n.offset=b,n.extra=15&w,n.mode=24;case 24:if(n.extra){for(z=n.extra;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Rt;break}n.mode=25;case 25:if(0===d)break e;if(h=p-d,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Rt;break}h>n.wnext?(h-=n.wnext,f=n.wsize-h):f=n.wnext-h,h>n.length&&(h=n.length),g=n.window}else g=r,f=a-n.offset,h=n.length;h>d&&(h=d),d-=h,n.length-=h;do{r[a++]=g[f++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===d)break e;r[a++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break e;s--,c|=i[o++]<<l,l+=8}if(p-=d,e.total_out+=p,n.total+=p,p&&(e.adler=n.check=n.flags?$(n.check,r,p,a-p):Q(n.check,r,p,a-p)),p=d,(n.flags?c:Ot(c))!==n.check){e.msg="incorrect data check",n.mode=Rt;break}c=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Rt;break}c=0,l=0}n.mode=29;case 29:D=xt;break e;case Rt:D=Zt;break e;case 31:return It;default:return kt}return e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,(n.wsize||p!==e.avail_out&&n.mode<Rt&&(n.mode<27||t!==Tt))&&Kt(e,e.output,e.next_out,p-e.avail_out),u-=e.avail_in,p-=e.avail_out,e.total_in+=u,e.total_out+=p,n.total+=p,n.wrap&&p&&(e.adler=n.check=n.flags?$(n.check,r,p,e.next_out-p):Q(n.check,r,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Xt?128:0)+(20===n.mode||15===n.mode?256:0),(0===u&&0===p||t===Tt)&&D===Bt&&(D=Yt),D},inflateEnd:e=>{if(!e||!e.state)return kt;let t=e.state;return t.window&&(t.window=null),e.state=null,Bt},inflateGetHeader:(e,t)=>{if(!e||!e.state)return kt;const n=e.state;return 0==(2&n.wrap)?kt:(n.head=t,t.done=!1,Bt)},inflateSetDictionary:(e,t)=>{const n=t.length;let i,r,o;return e&&e.state?(i=e.state,0!==i.wrap&&11!==i.mode?kt:11===i.mode&&(r=1,r=Q(r,t,n,0),r!==i.check)?Zt:(o=Kt(e,t,n,n),o?(i.mode=31,It):(i.havedict=1,Bt))):kt},inflateInfo:"pako inflate (from Nodeca project)"};var Jt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Qt=Object.prototype.toString,{Z_NO_FLUSH:qt,Z_FINISH:$t,Z_OK:en,Z_STREAM_END:tn,Z_NEED_DICT:nn,Z_STREAM_ERROR:rn,Z_DATA_ERROR:on,Z_MEM_ERROR:an}=te;function sn(e){this.options=Qe({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rt,this.strm.avail_out=0;let n=Gt.inflateInit2(this.strm,t.windowBits);if(n!==en)throw new Error(ee[n]);if(this.header=new Jt,Gt.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=tt(t.dictionary):"[object ArrayBuffer]"===Qt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Gt.inflateSetDictionary(this.strm,t.dictionary),n!==en)))throw new Error(ee[n])}function dn(e,t){const n=new sn(t);if(n.push(e),n.err)throw n.msg||ee[n.err];return n.result}sn.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?$t:qt,"[object ArrayBuffer]"===Qt.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=Gt.inflate(n,a),o===nn&&r&&(o=Gt.inflateSetDictionary(n,r),o===en?o=Gt.inflate(n,a):o===on&&(o=nn));n.avail_in>0&&o===tn&&n.state.wrap>0&&0!==e[n.next_in];)Gt.inflateReset(n),o=Gt.inflate(n,a);switch(o){case rn:case on:case nn:case an:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||o===tn))if("string"===this.options.to){let e=it(n.output,n.next_out),t=n.next_out-e,r=nt(n.output,e);n.next_out=t,n.avail_out=i-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(r)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==en||0!==s){if(o===tn)return o=Gt.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},sn.prototype.onData=function(e){this.chunks.push(e)},sn.prototype.onEnd=function(e){e===en&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=qe(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var cn={Inflate:sn,inflate:dn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,dn(e,t)},ungzip:dn,constants:te};const{Deflate:ln,deflate:un,deflateRaw:pn,gzip:hn}=wt,{Inflate:fn,inflate:gn,inflateRaw:mn,ungzip:wn}=cn;var bn={Deflate:ln,deflate:un,deflateRaw:pn,gzip:hn,Inflate:fn,inflate:gn,inflateRaw:mn,ungzip:wn,constants:te};const yn=new o.Z({prefix:"utf8: "});const Mn=function(e){try{if(window.TextEncoder)return new window.TextEncoder("utf-8").encode(e).buffer}catch(e){yn.debugf(null,"TextEncoder %o",e)}for(var t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},vn=function(e){try{if(window.TextDecoder)return new window.TextDecoder("utf-8").decode(new Uint8Array(e))}catch(e){yn.debugf(null,"TextDecoder %o",e)}for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return decodeURIComponent(escape(t))};var _n=__webpack_require__(616),Dn=new function(){var e="pid",t="nr",o=p(8,10);const a=_n.topmostAccessibleWindow.location.href;var s=n.Z.upoSettings.recoveryScriptVersion;let d;try{d=_n.topmostAccessibleWindow.__bt_intrnl.traceID}catch(e){d=""}var l=function(e,t){""==e&&(e="/");var n=e,i="?";(t=t||{}).upapi=["true"],t.tid=[d],t.cv=[s];for(var r=Object.keys(t),o=0;o<r.length;o++)for(var a=r[o],c=t[a],l=0;l<c.length;l++){var u=c[l];n+=i+encodeURIComponent(a)+"="+encodeURIComponent(u),i="&"}return n};this.sendLog=function(e){const t=n.Z.SharedObject.getItem("websiteConfig")||{},{organizationID:i,websiteID:r}=t,o={event:e.event,severity:e.severity,error:e.error&&{name:e.error.name,stack:e.error.stack,sourceFilename:e.error.sourceFilename},message:e.message,columnNumber:e.columnNumber,lineNumber:e.lineNumber,filename:e.filename,module:e.module,orgID:i,websiteID:r,meta:{...e.meta||{},pageURL:a}};var s={method:"POST",url:l("/log"),body:Mn(JSON.stringify(o))};return c.$fetch(s)},this.testCompliance=function(e){return new Promise((function(t,n){var i={};i.pid=[o],i.nr=["2"];var r=e,a=l("/tc",i),s=JSON.stringify(e);try{s&&s.length>=2048&&window.localStorage&&!window.localStorage.updebug?(r=bn.deflate(s).buffer,i.z=[1],a=l("/tc",i)):r=Mn(s)}catch(e){r=Mn(s)}var d={method:"POST",url:a,body:r};c.$fetch(d).then((function(e){var n=JSON.parse(vn(e.body)),i={};for(var r in n)n.hasOwnProperty(r)&&(i[r]={status:n[r].status,id:n[r].id,backup:n[r].backup});t(i)}),(function(e){n(new Error)}))}))},this.reportAuctionStarted=function(n,r,s,d,u,p,h,f){const g={[e]:[o],[t]:["1"]},m={websiteID:p,orgID:h,auctionID:n,spaceExternalID:r,spaceName:s,refreshDepth:f,pageURL:a};m.bids=u.map((e=>({bidderExternalID:e.bidderId,provider:e.provider}))),d&&(m.gamAdUnitPath=d),i.Y.fireEvent("auctionStartChangeRequestData",{query:g,body:m});const w={method:"POST",url:l("/as",g),body:Mn(JSON.stringify(m))};return c.$fetch(w)},this.reportAuctionEnd=function(n,r,s,d,u,p,h,f,g,m){const w={[e]:[o],seid:[h],[t]:["1"]},b={...p,websiteID:d,orgID:u,auctionID:n,spaceExternalID:r,spaceName:s,adUnitCode:h,gamEnabled:g,refreshDepth:m,pageURL:a};f&&(b.gamAdUnitPath=f),i.Y.fireEvent("auctionEndChangeRequestData",{query:w,body:b});const y={method:"POST",url:l("/ae/v2",w),body:Mn(JSON.stringify(b))};return c.$fetch(y)},this.reportRender=function(e,n,i,r,o,s,d,u,p,h,f){const g={[t]:["1"]},m={websiteID:p,orgID:h,auctionID:e,spaceExternalID:s,spaceName:d,bidderExternalID:n,...i,refreshDepth:f,pageURL:a,amount:r,currency:o};u&&(m.gamAdUnitPath=u);const w={method:"POST",url:l("/r",g),body:Mn(JSON.stringify(m))};return c.$fetch(w)},this.reportView=function(e,n,i,r,o,s,d,u,p){const h={[t]:["1"]},f={websiteID:d,orgID:u,auctionID:e,spaceExternalID:r,spaceName:o,bidderExternalID:n,...i,refreshDepth:p,pageURL:a};s&&(f.gamAdUnitPath=s);const g={method:"POST",url:l("/v",h),body:Mn(JSON.stringify(f))};return c.$fetch(g)},this.consentData=function(e){const t={},i={},d=[10,13,25,28,32,52,69,76,91,755],u={consents:{}},p=e.tcData,h=e.error,f=n.Z.SharedObject.getItem("websiteConfig")||{},{organizationID:g,websiteID:m}=f;g&&(t.organizationID=parseInt(g)),m&&(t.websiteID=parseInt(m)),t.pageID=o,t.clientVersion=s,p?(i.cmpVersion=p.cmpVersion,i.gdprApplies=p.gdprApplies,i.tcfPolicyVersion=p.tcfPolicyVersion,i.tcString=p.tcString,p.gdprApplies&&(i.purpose=p.purpose,d.forEach((e=>u.consents[e]=p.vendor.consents[e])),i.vendor=u)):(i.gdprApplies=null,i.error=r.Z.commonUtils.truncateString(h.message,1024)),t.tcData=i,t.pageURL=a;var w={method:"POST",url:l("/ce"),body:Mn(JSON.stringify(t))};return c.$fetch(w)}},En=function(e,t,n,i,r,o,a,s){this.bidId=p(16,24),this.ad=e.ad,this.adId=e.adId,this.adUrl=e.adUrl,this.bidderId=e.bidderId,this.bidder=e.bidder,this.bidderCode=e.bidderCode,this.contentIdHash=e.contentIdHash,this.currency=e.currency,this.creativeId=e.creativeId,this.c=e.c,this.cpm=e.cpm,this.complianceStatus=e.complianceStatus||0,this.height=e.height,this.isBackupCreative=e.isBackupCreative,this.timeToRespond=e.timeToRespond,this.size=e.size,this.width=e.width,this.rawBid=t,this.type=n,this.status=En.Status.LIVE,this.additionalBidsToRender=[],this.renderBid=r,this.cancelBid=function(){this.status!==En.Status.CANCELED&&(this.status=En.Status.CANCELED,o&&o(),this.additionalBidsToRender.forEach((e=>e.cancelBid())))},this.getGPTTargeting=function(e){return i&&i.call(this,e)},this.onRenderedEvent=a||function(){},this.makeEntryForTestCompliance=s||function(){}};En.Types={EMPTY:0,PREBID:1,RTK:2,ADX:3,ADX_TEXT:4,DFP_PREBID:5,ADSENSE:6,DIRECT:7,SMART_AS:8,DEFAULT_CREATIVE:9},En.Status={LIVE:0,CANCELED:1},En.PrebidTemplateTypes={RENDER_AD:"renderAd",APSTAG:"apstag",HB_ADID:"hb_adid",UC_TAG_DATA:"ucTagData",DISTRICTM_ADSLOT:"districtm_adslot"};var Tn=__webpack_require__(143);const Nn=new o.Z({prefix:"utils: "});function zn(e,t){if(i.Y.fireEvent("omitBTAdLabel",{unit:e}))return;const{element:n}=e,r=n.querySelector(".default-creative-container")||n.querySelector(".ahover")||n.querySelector('[id^="google_ads_iframe_"]'),o="upo-label",a=!(!r||!r.querySelector(".".concat(o)));if(!r||a)return;const s=function(e,t,n){const i=document.createElement("div");return i.className=e,i.setAttribute("style","text-align:left;padding:0px;margin:0px;position:absolute;top:0;left:0;z-index:10000;transition:opacity 1s ease-out;opacity:0;cursor:pointer;"),window.setTimeout((function(){i.style.opacity="1"}),2e3),i.innerHTML='<span style="display:block;background:rgba(255, 255, 255, 0.7);height:fit-content;width:fit-content;top:0;left:0;color:#444;font-size:10px;font-weight:bold;font-family:sans-serif;line-height:normal;text-decoration:none;margin:0px;padding:6px;border-radius:0 0 5px 0;">&#65;&#68;</span>',i.addEventListener("click",(()=>{if(!document.getElementById("bt_blocklist-confirmation_".concat(i.parentElement.parentElement.id))){const e=document.createElement("div");e.setAttribute("id","bt_blocklist-confirmation_".concat(i.parentElement.parentElement.id)),e.setAttribute("style","left:50%;top:50%;transform: translate(-50%, -50%);position:absolute;background:rgba(255, 255, 255, 0.9);height:fit-content;width:fit-content;border-radius:5px 5px 5px 5px;padding:8px;line-height:normal !important;");const r=document.createElement("p");r.innerHTML="Report this ad as animated",r.setAttribute("style","text-align:center;font-size:14px;font-family:sans-serif;color:#444;"),e.appendChild(r);const o=document.createElement("button");o.classList.add("bt_blocklist_cancel_btn"),o.setAttribute("style","font-size:12px;padding:1px;float:right;font-family:sans-serif;cursor:pointer;"),o.innerHTML="Cancel",o.addEventListener("click",(e=>i.parentElement.removeChild(e.target.parentElement))),e.appendChild(o);const a=document.createElement("button");a.classList.add("bt_blocklist_confirmation_btn"),a.setAttribute("style","font-size:12px;margin-right:2px;padding:1px;float:right;font-family:sans-serif;cursor:pointer;"),a.innerHTML="Confirm",a.addEventListener("click",(e=>{const r=document.querySelector('[src="'.concat(Tn.W,'"][style*="display: none !important;"]'));i.parentElement.removeChild(e.target.parentElement),t.element.classList.add("up-hide"),t.element.classList.remove("up-show");const o=n.contentIdHash||n.creativeId;if(!o){const e={sendPercentage:100,sendToServer:!0,meta:{SSP:n.bidder},event:"Blocked creative without id"};Nn.errorf(null,"Blocked creative without contentIdHash or creativeId from %o",[n.bidder],e)}if(r&&o){const e=n.contentIdHash?"contentIdHash":"creativeId";r.contentWindow.postMessage({message:"Set Blocklist Creative",creativeId:o},"https://".concat(Tn.I.staticDomain));const t={sendPercentage:100,sendToServer:!0,meta:{creativeId:o,idType:e},event:"Blocked animated creative"};Nn.infof(null,"Blocked animated creative with %o %o",[e,o],t)}})),e.appendChild(a),i.parentElement.appendChild(e)}})),i}(o,e,t);r.appendChild(s),e.adLabelElement=s}const Bn=new o.Z({prefix:"auction: "});var xn=function(e){var t=new r.Z.SubscriptionLayer;this.auctionId=p(8,9),this.unit=e.unit,this.state=xn.States.UNOFFERED,this.creationTime=new Date,this.lastUpdate=this.creationTime,this.bids=[],this.gamResponses=[],this.subscribeForEvent=function(e,n){t.subscribeForEvent(e,n)},this.getWinningBid=function(){let e;return this.bids.forEach((t=>{e&&!(t.cpm>e.cpm)||t.status!==En.Status.LIVE||t.type!==En.Types.DEFAULT_CREATIVE&&t.complianceStatus!==n.Z.consts.complianceStatus.COMPLIANT||(e=t)})),e},this.hasAWinningBid=function(){return!!this.getWinningBid()},this.addBids=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this.bids.push(n)}},this.addGAMResponse=function(e){e&&this.gamResponses.push(e)};this.getComplianceBids=function(){for(var e=[],t=0;t<this.bids.length;t++){var i=this.bids[t];i.complianceStatus===n.Z.consts.complianceStatus.COMPLIANT&&e.push(i)}return e},this.cancelAllCurrentBids=function(){this.bids.forEach((e=>{e.cancelBid()}))};function o(e){return new Promise(((t,n)=>{window.setTimeout((function(){try{e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","block","important"),t()}catch(e){n(e)}}),1e3)}))}this.renderWinningBid=function(){try{const d=this.getWinningBid();i.Y.fireEvent("renderBidInElementStarted",{element:this.unit&&this.unit.element}),this.state=xn.States.DONE,function(){if(!document.getElementById("bt-render-styles")){var e=document.createElement("style");e.id="bt-render-styles",e.type="text/css",e.textContent=".up-hide { display: none !important; }",e.textContent+='.ahover + [id^="google_ads_iframe_"] { width: 1px !important; height:1px !important; display: grid !important; }',(document.head||document.body||document.documentElement).appendChild(e)}}(),function(e,t){for(var n=0;n<e.bids.length;n++){var i=e.bids[n];i!==t&&i.cancelBid()}}(this,d);const c=!r.Z.commonUtils.isElementInBody(this.unit.element);if(!d||c)return this.unit.currentBid||((s=this.unit).element.classList.add("up-hide"),s.element.classList.remove("up-show")),d&&d.cancelBid(),void t.invokeEventCallbacks("renderBidDone",{bidWasSuccessfullyRendered:!1,adUnitElementIsMissing:c});{this.unit.cleanup(),a(this.unit.element),function(e,t){e.element.classList.add("up-show"),e.element.classList.remove("up-hide")}(this.unit),this.unit.element._adData_=d,d.onRenderedEvent(function(){!function(e,t,n){var i=e.querySelector(".default-creative-container")||e.querySelector(".ahover")||e.querySelector('[id^="google_ads_iframe_"]');i.style.position||i.style.setProperty("position","relative");if(i.style.setProperty("width","max-content","important"),["sharethrough","triplelift"].indexOf(t.bidderCode)>=0){var r=t.width,o=function(e){var t=e.sizes,n=0;return t.forEach((e=>{var t=e.split("x")[0];(t=parseInt(t))>n&&(n=t)})),n}(n);(r>o||r<120)&&(r=o),i.style.setProperty("max-width",r+"px","important")}i.style.setProperty("z-index",0),i.style.setProperty("margin","0 auto"),i.style.setProperty("display","block")}(this.unit.element,d,this.unit.space),zn(this.unit,d),function(e){return new Promise(((t,n)=>{try{if(i.Y.fireEvent("skipEnsureElementVisibility",{unit:e}))t();else{const i=e.element;i.classList.contains("up-show")||i.classList.add("up-show"),Promise.all([o(i),o(i.parentElement),o(i.parentElement.parentElement)]).then(t).catch(n)}}catch(e){n(e)}}))}(this.unit).then((()=>{!function(e){if(0===e.offsetWidth&&0===e.offsetHeight){const t={sendToServer:!0,sendPercentage:1,event:"ad-unit-hidden-by-css",meta:{elementId:e.id||"N/A"}};Bn.infof(null,"detectAndLogHiddenAdUnit, element ID -> ",e.id||"N/A",t)}}(this.unit.element)})).catch((e=>{Bn.errorf(null,"bid.onRenderedEvent: ensureElementVisibility/detectAndLogHiddenAdUnit: %o",e)})),t.invokeEventCallbacks("auctionRendered",d),this.unit.rendered(d),n.Z.SharedObject.getItem("renderedUnits")||n.Z.SharedObject.setItem("renderedUnits",[]),n.Z.SharedObject.getItem("renderedUnits").push(this.unit)}.bind(this));var e={placement:this.unit.element};const r=d.additionalBidsToRender&&d.additionalBidsToRender.length>0&&d.additionalBidsToRender[0];r?(r.onRenderedEvent((()=>d.renderBid(e))),r.renderBid()):d.renderBid(e),t.invokeEventCallbacks("renderBidDone",{bidWasSuccessfullyRendered:!0,adUnitElementIsMissing:c})}}catch(e){Bn.errorf(null,"renderWinningBid err:%o",e)}var s};var a=function(e){e.style.removeProperty("background-image"),e.style.removeProperty("background-repeat")}};xn.States={UNOFFERED:0,DISPATCHED:1,DONE:3};var Sn=__webpack_require__(17);function kn(e){for(var t=e.length,n=5381,i=52711;t--;){var r=e.charCodeAt(t);n=33*n^r,i=33*i^r}return 4096*(n>>>0)+(i>>>0)}const Zn=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"bidder_";const r=i+kn(e+"_".concat(t,"_")+JSON.stringify(n).trim());return r.substr(0,500)};function In(){return i.Y.hasEventListener("enableRelayAdapter")||i.Y.hasEventListener("snigelAdapterConfiguration")||i.Y.hasEventListener("addBTDemand")}function Yn(e){const{relayBidderParams:t}=i.Y.fireEvent("enableRelayAdapter",{spaceName:e.name})||{},n=e.prebidSettings.bidders.find((e=>"relay"===e.name));if(t&&!n){const n={name:"relay",id:Zn(e.id,"relay",t,Sn.v.btDemand.btDemandPrefix),params:t};e.prebidSettings.bidders.push(n),e.prebidSettings.enabled=!0}}function Hn(e){const{adUnitStoredRequestId:t}=i.Y.fireEvent("snigelAdapterConfiguration",{spaceName:e.name})||{};if(t){const n={name:Sn.v.btDemand.snigel,id:Zn(e.id,"snigel",t,Sn.v.btDemand.btDemandPrefix)};e.prebidSettings.bidders.push(n),e.prebidSettings.enabled=!0}}function Xn(e){const t=i.Y.fireEvent("addBTDemand",{space:e});if(t)for(const n in t)if(t.hasOwnProperty(n)){e.prebidSettings.bidders.find((e=>e.name===n))||(e.prebidSettings.bidders.push({name:n,id:Zn(e.id,n,e,Sn.v.btDemand.btDemandPrefix),params:t[n]}),e.prebidSettings.enabled=!0)}}var Rn=function(e){this.unitID=p(16,24),this.element=e.element,this.space=e.space,this.state=e.state||Rn.States.PENDING,this.gamAdUnitPath,this.currentBid,this.countOfDispatches=0,this.countOfRenders=0,this.lastInvokeTime,this.cleanup=function(){var e=this.element.children,n=[];for(let i=0;i<e.length;i++)n.push(t(e[i]));for(let e=0;e<n.length;e++)n[e]()},this.rendered=function(e){this.currentBid=e};var t=function(e){return function(){e&&e.parentNode&&e.parentNode.removeChild(e)}}};Rn.States={PENDING:0,CHECKING:1,DISPATCHED:2};const On={Auction:xn,Bid:En,Space:function(e){var t,n,r,o;if(this.id=e.id,this.name=e.name,this.templateSpaceName=e.templateSpaceName,this.staging=e.staging,this.deviceType=e.deviceType,this.selector={position:e.selector.position,value:e.selector.value},this.sizes=e.sizes,this.prebidSettings={enabled:null!==(t=null===(n=e.prebidSettings)||void 0===n?void 0:n.enabled)&&void 0!==t&&t,bidders:(null!==(r=null===(o=e.prebidSettings)||void 0===o?void 0:o.bidders)&&void 0!==r?r:[]).filter((e=>e.id&&e.name&&e.params)).map((e=>{let{name:t,id:n,params:i}=e;return{name:t,id:n,params:i}}))},Yn(this),Hn(this),Xn(this),this.dfpSettings={enabled:!1},e.dfpSettings&&e.dfpSettings.enabled){this.dfpSettings={adxId:e.dfpSettings.adxId,directId:e.dfpSettings.directId,enabled:e.dfpSettings.enabled,order:[]};for(let t of e.dfpSettings.order)i.Y.fireEvent("removeAdServerRequestIteration",{iterationConfig:t})||this.dfpSettings.order.push({params:{keyValues:t.params.keyValues||{},queryParams:t.params.queryParams||{}},adx:{bidderID:t.adx.bidderID,testCompliance:t.adx.testCompliance},direct:{bidderID:t.direct.bidderID}})}},Unit:Rn},Cn=new o.Z({prefix:"report: "});var An=new function(){function e(e){const t={};return"relay"===e.bidderCode?(t.provider=n.Z.consts.btDemand.relay,t.demandBidder=e.rawBid.btBidderCode):"s2s"===e.rawBid.source?(t.provider=n.Z.consts.btDemand.snigel,t.demandBidder=e.bidderCode):t.provider=e.bidderCode,t}this.init=function(){const t=n.Z.SharedObject.getItem("websiteConfig");i.Y.addEventListener("FirePublisherEvent",(function(e){const{data:t}=e,{eventName:n}=t,i=t.payload||{bubbles:!1,cancelable:!1,detail:void 0};if(window.CustomEvent)try{const e=new window.CustomEvent(n,i);return void window.dispatchEvent(e)}catch(e){const t=document.createEvent("CustomEvent");return t.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),void window.dispatchEvent(t)}const r=document.createEvent("CustomEvent");r.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),window.dispatchEvent(r)})),i.Y.addEventListener("sendLog",(function(e){const t=e.data;Dn.sendLog(t).then((function(e){Cn.infof(null,"sendLog - %o",e)}),(function(e){Cn.errorf(null,"sendLog - %o",e)}))})),i.Y.addEventListener("onAuctionStarted",(function(e){var n,i;const r=e.data.auction,o=r.auctionId,a=r.unit.space.id,s=r.unit.space.templateSpaceName||r.unit.space.name,d=r.unit.gamAdUnitPath,c=(null!==(n=null===(i=r.unit.space.prebidSettings)||void 0===i?void 0:i.bidders)&&void 0!==n?n:[]).map((e=>({bidderId:e.id,provider:"relay"===e.name?"bt_server":e.name})));Dn.reportAuctionStarted(o,a,s,d,c,t.websiteID,t.organizationID,r.unit.countOfDispatches-1).then((function(e){Cn.infof(null,"onAuctionStarted - %o",e)}),(function(e){Cn.errorf(null,"onAuctionStarted - %o",e)}))})),i.Y.addEventListener("onAuctionEnded",(function(r){const o=r.data,a=o.auction,s=o.winningBid,d=o.adUnitElementIsMissing,c=a.bids,l=a.gamResponses,u=a.unit.space.templateSpaceName||a.unit.space.name,p=a.unit.gamAdUnitPath;let h=a.unit.space.name;try{if(t.dfpEnabled){const e=window.googletag.pubads().getSlots();for(let t=0;t<e.length;t++){const n=e[t],i=n.getSlotElementId();if(document.getElementById(i)===a.unit.element){h=n.getAdUnitPath().split("/")[n.getAdUnitPath().split("/").length-1];break}}}}catch(e){Cn.errorf(null,"onAuctionEnded: %o",e)}const f={bids:[],adUnitElementIsMissing:d};c.forEach((t=>{const r={bid:{cpm:t.cpm,bidderCode:t.bidderCode,complianceStatus:t.complianceStatus}},o=i.Y.fireEvent("bidCpmAdjustment",r)||1,a=t.cpm/1e3*o,d=n.Z.upoSettings.prebidTimeout;let c;t.type===On.Bid.Types.PREBID&&(c="OK");const l={bidderExternalID:t.bidderId,...e(t),amount:a,complianceStatus:t.complianceStatus,timeout:d,latency:t.timeToRespond,requestStatus:c,creativeID:t.contentIdHash,adSize:String(t.width)+"x"+String(t.height),adID:t.adId,currency:t.currency,gamIteration:t.gamIteration};if(t.additionalBidsToRender[0]&&(l.prebidTemplateType=t.additionalBidsToRender[0].prebidTemplateType,l.gamIteration=t.additionalBidsToRender[0].gamIteration),t.type===On.Bid.Types.DEFAULT_CREATIVE)l.status="default_creative";else if(t===s)l.status="win";else switch(l.complianceStatus){case n.Z.consts.complianceStatus.COMPLIANT:case n.Z.consts.complianceStatus.INCOMPLIANT:l.status="bid";break;default:l.status="alien"}f.bids.push(l)})),l.forEach((e=>{f.bids.push({status:e.type,gamIteration:e.gamIteration})})),Dn.reportAuctionEnd(a.auctionId,a.unit.space.id,u,t.websiteID,t.organizationID,f,h,p,t.dfpEnabled,a.unit.countOfDispatches-1).then((function(e){Cn.infof(null,"onAuctionEnded - %o",e)}),(function(e){Cn.errorf(null,"onAuctionEnded - %o",e)}))})),i.Y.addEventListener("onAuctionRendered",(function(n){const r=n.data,o=r.auction,a=r.winningBid,s=o.unit.space.templateSpaceName||o.unit.space.name;if(a.type!==On.Bid.Types.DEFAULT_CREATIVE){const n={bid:{cpm:a.cpm,bidderCode:a.bidderCode,complianceStatus:a.complianceStatus}},r=i.Y.fireEvent("bidCpmAdjustment",n)||1,d=a.cpm/1e3*r;Dn.reportRender(o.auctionId,a.bidderId,e(a),d,a.currency,o.unit.space.id,s,o.unit.gamAdUnitPath,t.websiteID,t.organizationID,o.unit.countOfDispatches-1).then((function(e){Cn.infof(null,"onAuctionRendered - %o",e)}),(function(e){Cn.errorf(null,"onAuctionRendered - %o",e)}))}})),i.Y.addEventListener("onAdViewed",(function(n){const i=n.data,r=i.auction,o=i.winningBid,a=r.unit.space.templateSpaceName||r.unit.space.name;o.type!==On.Bid.Types.DEFAULT_CREATIVE&&Dn.reportView(r.auctionId,o.bidderId,e(o),r.unit.space.id,a,r.unit.gamAdUnitPath,t.websiteID,t.organizationID,r.unit.countOfDispatches-1).then((function(e){Cn.infof(null,"onAdViewed - %o",e)}),(function(e){Cn.errorf(null,"onAdViewed - %o",e)}))}))},i.Y.addEventListener("consentData",(function(e){const t=e.data;Dn.consentData(t).then((function(e){Cn.infof(null,"consentData - %o",e)}),(function(e){Cn.errorf(null,"consentData - %o",e)}))}))};const Wn=new o.Z({prefix:"verifications: "});const jn={Report:An,Verifications:new function(){this.run=function(){r(),e()};var e=function(){i.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var t=i.Y.fireEvent("acceptableAbTest");if(t){var n="//static.criteo.net/images/pixel.gif?ch=1&upapi=true";t&&(n=t.src);var r=new Image;r.addEventListener("load",(function(){t.callback(!0)}),!1),r.addEventListener("error",(function(){t.callback(!1)}),!1),r.src=n}}))},t=!1,r=function(){i.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var r=e.data;r.contentRestriction&&r.acceptableAds&&(window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.que.push((function(){window.pbjs.onEvent("bidResponse",(function(e){if(!t&&e&&e.length>0)for(var r=0;r<e.length;r++)if(e[r].cpm>0&&"emx_digital"!==e[r].bidder&&"districtmDMX"!==e[r].bidder){t=!0,i.Y.fireEvent("disableStopFlag")||(_n.topmostAccessibleWindow.__bt_intrnl.stopFlag=!0);var o=n.Z.SharedObject.getItem("renderedUnits"),a={adBlockDetectionType:n.Z.SharedObject.getItem("adBlockDetectionType"),stopedProcess:!o||0==o.length};const e={sendToServer:!0,event:"pbjsDetected",meta:a,sendPercentage:1};Wn.noticef(null,"pub's pbjs was detected -> ",a,e)}if(e){var s={cpm:e.cpm?e.cpm:0,creativeLength:e.ad?e.ad.length:0,bidderCode:e.bidderCode||"",adUnitCode:e.adUnitCode||""};const t={sendToServer:!0,event:"pbjsBidReceived",meta:s};Wn.noticef(null,"pub's pbjs bid was received -> ",s,t)}}))})))}))}}};var Vn=__webpack_require__(586);const Fn=new o.Z({prefix:"moveElementPosition: "});var Un=new function(){var e=[],t=[];this.setMovePositionRules=function(t){e=t||[]},this.dispatch=function(i){try{if(!e||e.length<=0)return;if(!(i=i.filter((e=>t.indexOf(e)<0)))||i.length<=0)return;var r=function(o,a){if(!(o>a)){for(var s=0;s<i.length;s++){for(var d=i[s],c=[],l=0;l<e.length;l++){var u=e[l];n(u,{space:d})&&(t.push(d),u.stayLive||c.push(u))}e=c.length>0?e.filter((e=>c.indexOf(e)<0)):e}e.length>0&&setTimeout((function(){r(o+1,a)}),100)}};r(0,20)}catch(e){Fn.errorf(null,"error in `movePositionService` `dispatch` function: %o",e)}};var n=function(e,t){var n=e.elementToMove(t),i=e.relativeElement(t);return!(!n||!i||n.__upo_moved)&&(r.Z.ElementInsertion.insertElement(n,i,e.htmlElementInsertionType),n.__upo_moved=!0,!0)}},Ln=__webpack_require__(905);const Pn=new o.Z({prefix:"whitelistingIFrame: "});const Kn="BT_WHITELISTING_IFRAME_ACCESS";function Gn(){if("firefox"===(0,Ln.Xh)())return Promise.resolve(Tn.W)}function Jn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn.I.whitelistingIFrameSettings.publisherDomainWhitelistingIFrameCandidates,t=Gn();if(!t){const n=i.Y.fireEvent("customWhitelistingIFrameURL"),r=i.Y.fireEvent("keepBTDomainWhitelistingIFrame");t=n?Promise.resolve(n):r?Promise.resolve(null):Qn(e,0)}return t.then((e=>{Tn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL=e||Tn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL,Pn.infof(null,"Finished setupWhitelistingIFrameSettings: %o",Tn.I.whitelistingIFrameSettings)})),t}function Qn(e,t){const n=e[t];return n?new Promise((i=>{const o=n.src,a=n.acceptHTMLType,s=r.Z.addAcceptableParam(o),d=new window.XMLHttpRequest;d.open("GET",s),d.addEventListener("load",(n=>{try{if(!d.status.toString().startsWith("4")&&d.responseURL==="".concat(_n.topmostAccessibleWindow.location.origin).concat(s)&&function(e){const t=e.getResponseHeader("x-frame-options");if(t&&"deny"===t.toLowerCase())return!1;const n=e.getResponseHeader("content-security-policy"),i=n&&n.split(","),r=i&&i.find((e=>e.startsWith("frame-ancestors")))&&r.split(" ");return!(r&&!r.some((e=>e===_n.topmostAccessibleWindow.location.origin)))}(d)&&(a||!(0,_n.isFileHTML)(d)))return void function(e){try{let t=_n.topmostAccessibleWindow.localStorage.getItem(Kn);if(t=t&&JSON.parse(t),t&&void 0!==t.canAccess&&t.expiration&&t.url&&t.version&&Date.now()<t.expiration&&t.url===e&&"1"===t.version)return Promise.resolve(t.canAccess)}catch(e){Pn.noticef(null,"whitelisting flawed cached value structure")}return new Promise((t=>{const n=document.createElement("iframe");n.src=e;const i=()=>{n.removeEventListener("load",i);let r=!1;n.contentDocument&&(r=!0),t(r);const o={canAccess:r,url:e,expiration:Date.now()+6048e5,version:"1"};_n.topmostAccessibleWindow.localStorage.setItem(Kn,JSON.stringify(o)),n.parentElement.removeChild(n)};n.addEventListener("load",i),n.style.setProperty("visibility","hidden"),document.body.appendChild(n)}))}(s).then((e=>{i(e?s:null)}));Qn(e,t+1).then((e=>i(e)))}catch(n){Qn(e,t+1).then((e=>i(e)))}})),d.addEventListener("error",(n=>{Qn(e,t+1).then((e=>i(e)))})),d.send()})):Promise.resolve(null)}function qn(e){const t=!!e,n=e||Tn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL,i=n===Tn.W;var r=document.createElement("iframe"),o=function(){if(this.removeEventListener("load",o),i||t||this.contentDocument||(Tn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL=Tn.W,_n.topmostAccessibleWindow.localStorage.removeItem(Kn),this.src=Tn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL),n.includes("about:blank"))try{!function(e){var t=e.contentWindow,n=function(e){return 0===e.indexOf("//")&&(e=_n.topmostAccessibleWindow.location.protocol+e),e};const i=function(e,t){if(e&&""===e.src&&e.outerHTML){const i=new RegExp(t+'="([^"]+)"',"g").exec(e.outerHTML);i&&i[1]&&(e[t]=n(i[1]))}};var r=t.XMLHttpRequest.prototype.open;t.XMLHttpRequest.prototype.open=function(){try{var e=Array.prototype.slice.call(arguments);e[1]=n(e[1])}catch(e){Pn.errorf(null,"error in XHRHttpRequest.open hook: %o",e)}return r.apply(this,e)};var o=t.open;t.open=function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){Pn.errorf(null,"error in `window.open` hook: %o",e)}return o.apply(this,e)};const a=function(e){return function(){try{var t=Array.prototype.slice.call(arguments);["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&i(t[0],"src"),"LINK"===t[0].tagName&&i(t[0],"href")}catch(e){Pn.errorf(null,"error in `hookOnFunc`: %o",e)}return e.apply(this,t)}},s=t.HTMLElement.prototype.insertBefore;t.HTMLElement.prototype.insertBefore=a(s);const d=t.HTMLElement.prototype.appendChild;t.HTMLElement.prototype.appendChild=a(d);var c=t.HTMLElement.prototype.__lookupGetter__("innerHTML"),l=t.HTMLElement.prototype.__lookupSetter__("innerHTML");t.HTMLElement.prototype.__defineSetter__("innerHTML",(function(){try{var e=Array.prototype.slice.call(arguments),t=l.apply(this,e),n=this.firstChild;i(n,"src")}catch(e){Pn.errorf(null,'error in HTMLElement "innerHTML" property setter hook: %o',e)}return t})),t.HTMLElement.prototype.__defineGetter__("innerHTML",(function(){try{return c.apply(this)}catch(e){Pn.errorf(null,'error in HTMLElement "innerHTML" property getter hook: %o',e)}}));for(var u=Sn.v.htmlElements,p=0;p<u.length;p++)t[u[p]]&&function(e){var t=e.prototype,i="src",r=t.__lookupGetter__(i),o=t.__lookupSetter__(i);r&&(t.__defineSetter__(i,(function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){Pn.errorf(null,'error in <html> "src" attribute setter hook: %o',e)}return o.apply(this,e)})),t.__defineGetter__(i,(function(){try{return r.apply(this)}catch(e){Pn.errorf(null,'error in <html> "src" attribute getter hook: %o',e)}})))}(t[u[p]])}(this)}catch(e){Pn.errorf(null,"error calling `addAboutBlankHooks` in `createWhitelistingIFrame`: %o",e)}};return r.addEventListener("load",o),r.src=n,r}const $n={btDemandService:e,commonBLUtils:Vn,movePositionService:Un,whitelistingIFrame:t};function ei(e){const t=Ln.tq();switch(e){case"mobile":return t;case"desktop":return!t;default:return!0}}function ti(e){let{string:t,condition:n,candidates:i=[]}=e;if(1===i.length)switch(n){case"equals":case"equalsOneOf":return t===i[0];case"startsWith":case"endsWith":case"includes":return t[n](i[0]);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":{const e=n.split("OneOf")[0];return t[e](i[0])}}else if(i.length>1)switch(n){case"equalsOneOf":return i.includes(t);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":{const e=n.split("OneOf")[0];return i.some((n=>t[e](n)))}}}const ni={addBTDemand:{hookName:"addBTDemand",handler:e=>{let{btDemandConfig:t={}}=e;return t}},enableAmazon:{hookName:"amazonBidderConfiguration",handler:e=>{let{amazonConfig:t={},pubID:n,keepHbPb:i=!1}=e;const{amazonCPMCurrency:r="USD",amazonCPMChart:o}=t;return window.upo_amzn={amazonCPMCurrency:r,amazonCPMChart:o},{pubID:n,keepHbPb:i}}},enableLegacySizesReplacer:{hookName:"enableLegacySizesReplacer",handler:e=>e},enableRelay:{hookName:"enableRelayAdapter",handler:e=>{let{relayConfig:t={},sid:n}=e;return{relayBidderParams:{...t},sid:n}}},enableSnigel:{hookName:"snigelAdapterConfiguration",handler:(e,t)=>{var n;let{snigelConfig:i={},websiteStoredRequestId:r,useRosTag:o,rosTag:a=""}=e;const s=(null==t||null===(n=t.data)||void 0===n?void 0:n.spaceName)||"";return{websiteStoredRequestId:r,adUnitStoredRequestId:o?a:i[s]}}},hideDOMElementsViaCSS:{parseSettingValue:e=>{const{org:t=[],website:n=[],websiteOverridesOrg:i}=e;return i?n:[...t,...n]},handler:e=>{const t=[];if(e.forEach((e=>{let{whenDevice:n,selectors:i}=e;ei(n)&&t.push(...i)})),t.length>0){const e=document.createElement("style");e.textContent="".concat(t.join(", ")," { display: none !important; }"),(document.head||document.body||document.documentElement).appendChild(e)}}},insertCustomCSS:{parseSettingValue:e=>{const{org:t=[],website:n=[],websiteOverridesOrg:i}=e;return i?n:[...t,...n]},handler:e=>{let t="";if(e.forEach((e=>{let{whenDevice:n,customCSS:i=""}=e;ei(n)&&(t="".concat(t,"\n").concat(i))})),""!==t){const e=document.createElement("style");e.textContent=t,(document.head||document.body||document.documentElement).appendChild(e)}}},prebidConfig:{hookName:"prebidDoneInit",parseSettingValue:e=>{const{org:t={},website:n={},websiteOverridesOrg:i}=e;return i?n:{...t,...n}},handler:(e,t)=>{const n=e,i=t.data.cpbjs;i.que.push((function(){i.setConfig(n)}))}},prebidTimeout:{hookName:"prebidTimeout",handler:e=>e},priceFloor:{hookName:"priceFloor",handler:(e,t)=>{const n=t.data.cpbjs,{currency:i="USD",priceFloor:r}=e;r&&n.que.push((()=>{n.setConfig({floors:{enforcement:{floorDeals:!0},data:{currency:i,schema:{fields:["mediaType"]},values:{banner:r}}}})}))}},removeSizes:{hookName:"sizesToRemoveBySpace",parseSettingValue:e=>{const{org:t={},website:n={},websiteOverridesOrg:i}=e,{forAllSpaces:r=[],forSpaces:o=[]}=t,{forAllSpaces:a=[],forSpaces:s=[]}=n;return{forAllSpaces:i?a:[...r,...a],forSpaces:i?s:[...o,...s]}},handler:(e,t)=>{let{forAllSpaces:n,forSpaces:i}=e;const r=t.data.spaceName,o=t.hookFileData||[],a=new Set(o);return n.forEach((e=>{let{whenDevice:t,sizes:n=[]}=e;ei(t)&&n.forEach((e=>{a.add(e)}))})),i.forEach((e=>{let{name:t,nameList:n,whenName:i,whenDevice:o,sizes:s=[]}=e;ei(o)&&ti({string:r,condition:i,candidates:t?[t]:n})&&s.forEach((e=>{a.add(e)}))})),[...a].map((e=>{if("fluid"===e)return"fluid";{let t,n;return"string"==typeof e?[t,n]=e.split("x").map((e=>parseInt(e,10))):"object"==typeof e&&(t=e.width,n=e.height),isNaN(t)||isNaN(n)?null:{width:t,height:n}}})).filter((e=>null!==e))}},rewriteGAMSlots:{hookName:"rewriteGAMSlots",handler:(e,t)=>{let n,{rewritePathMethod:i,rewritePathData:r}=e;switch(i){case"insertBTAdUnit":{const{btUnitName:e,insertionDepth:t,maxDepth:i}=r||{};t&&(n=n=>{let r=n.getAdUnitPath();"/"!==r[0]&&(r="/".concat(r));const o=e||"Blockthrough";let a=r.split("/");a.splice(t,0,o),i&&i>0&&(a=a.slice(0,i+1));return a.join("/")});break}}if(n)return{parseSlotAdUnitPath:n,shouldCopyTargeting:!0}}},scrapeGoogletagSlots:{hookName:"scrapeGoogletagSlots",parseSettingValue:e=>{const{org:t={},website:n={},websiteOverridesOrg:i}=e;if(i)return n;{const e={},{slots:i}=t.filterOut||{},{slots:r}=n.filterOut||{};return(i||r)&&(e.filterOut={},e.filterOut.slots=i&&r?[...i,...r]:i||r),e}},handler:(e,t)=>{let{dontScrape:n,filterOut:i}=e;const r=t.data&&t.data.slot;let o=!0;if(n||!r)o=!1;else{const e=i&&i.slots;if(e&&e.length>0){o=!e.some((e=>{let{divId:t,divIdList:n,whenDivId:i,whenDevice:o}=e;return ei(o)&&ti({string:r.getSlotElementId(),condition:i,candidates:t?[t]:n})}))}}return o}},scrapePrebid:{hookName:"scrapePrebidAdUnits",parseSettingValue:e=>{const{org:t={},website:n={},websiteOverridesOrg:i}=e;if(i)return n;{const e={};e.adUnitsVar=t.adUnitsVar||n.adUnitsVar;const{removeBidders:i}=t.parse||{},{removeBidders:r}=n.parse||{};(i||r)&&(e.parse={},e.parse.removeBidders=i&&r?{forAllAdUnits:[...i.forAllAdUnits||[],...r.forAllAdUnits||[]],forAdUnits:[...i.forAdUnits||[],...r.forAdUnits||[]]}:i||r);const{adUnits:o}=t.filterOut||{},{adUnits:a}=n.filterOut||{};return(o||a)&&(e.filterOut={},e.filterOut.adUnits=o&&a?[...o,...a]:o||a),e}},handler:(e,t)=>{let n,{dontScrape:i,adUnitsVar:o,parse:a,filterOut:s}=e;if(i)n=!1;else{if(n=t.hookFileData||{},o&&(n.getAdUnits=()=>r.Z.commonUtils.extractVariableFromString(window,o)),a){const e=a.removeBidders?function(){let{forAllAdUnits:e=[],forAdUnits:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.length>0||t.length>0)return n=>{const i=[];return e.forEach((e=>{let{whenDevice:t,bidders:n=[]}=e;ei(t)&&i.push.apply(i,n)})),t.forEach((e=>{let{code:t,codeList:r,whenCode:o,whenDevice:a,bidders:s=[]}=e;const d=t?[t]:r;ei(a)&&ti({string:n.code,condition:o,candidates:d})&&i.push.apply(i,s)})),n.bids=n.bids.filter((e=>{let{bidder:t}=e;return!i.includes(t)})),n}}(a.removeBidders):null,t=n.parseAdUnit;e&&(n.parseAdUnit=t?n=>e(t(n)):e)}if(s){const e=s.adUnits?(d=s.adUnits,e=>d.some((t=>{let{code:n,codeList:i,whenCode:r,whenDevice:o}=t;return ei(o)&&ti({string:e.code,condition:r,candidates:n?[n]:i})}))):null,t=n.filterOutAdUnit;e&&(n.filterOutAdUnit=t?n=>t(n)||e(n):e)}}var d;return n}}},ii=new o.Z({prefix:"scriptsettings: "}),ri=ni,oi={"prebidConfig__org":{"_enabled":true,"value":{"enableSendAllBids":false,"syncsPerBidder":20}},"prebidTimeout":{"_enabled":true,"value":3000},"removeSizes__org":{"_enabled":true,"value":{"forAllSpaces":[{"sizes":["970x250"],"whenDevice":"any"}],"forSpaces":[]}},"scrapePrebid__org":{"_enabled":true,"value":{"adUnitsVar":"","filterOut":{"adUnits":[{"code":"_adhesion","whenCode":"includes","whenDevice":"any"}]},"parse":{"removeBidders":{"forAdUnits":[{"bidders":["gumgum"],"codeList":["_adhesion","_sticky"],"whenCode":"endsWithOneOf","whenDevice":"any"}]}}}}},ai=Object.entries(oi).reduce(((e,t)=>{let[n,i]=t;if(i._enabled)if(n.endsWith("__org")){const t=n.split("__org")[0];e[t]=e[t]||{},e[t].org=i.value}else if(n.endsWith("__website")){const t=n.split("__website")[0];e[t]=e[t]||{},e[t].websiteOverridesOrg=!!i._overrides_org,e[t].website=i.value}else e[n]=i.value;return e}),{});const si={rawSettings:oi,parsed:ai},di=new o.Z({prefix:"domutils.location"});const ci=new o.Z({prefix:"domutils.pageVisibility"});function li(){try{let t;const n=r.Z.commonUtils.debounce((e=>{if("document.hidden"===e&&t)t=!1,window.dispatchEvent(new Event("onUserLeftPage"));else if("focus"===e){if(void 0===t)return void(t=!0);t||(t=!0,dispatchEvent(new Event("onUserReturnedToPage")))}}),420);document.addEventListener("visibilitychange",(()=>{document.hidden&&n("document.hidden")})),e=()=>{n("focus")},window.addEventListener("focus",(function(t){e()}))}catch(e){ci.errorf(null,"setupPageVisibilityChangeEvents - error: %o",e)}var e}function ui(e){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)e();else{var t=!1;document.addEventListener("DOMContentLoaded",(function(){t||(t=!0,e())}),!1),window.addEventListener("load",(function(){t||(t=!0,e())}))}}function pi(e){window.addEventListener("scroll",(function(t){e()}))}const hi=new o.Z({prefix:"Hooks: "});var fi=new function(){this.Types={XHR_OPEN_PRE:"xhropenpre",FETCH_PRE:"fetchpre",REMOVE_CHILD_PRE:"removechildpre",INSERT_BEFORE_PRE:"insertbeforepre",APPEND_CHILD_PRE:"appendchildpre",APPEND_CHILD_POST:"appendchildpost",IMG_SET_ATTRIBUTE_PRE:"imgsetattributepre",SET_ATTRIBUTE_PRE:"setattributepre",WIN_OPEN_PRE:"winopenpre",HTML_SRC_PROP_PRE:"htmlsrcproppre",HTML_ELEMENT_INNERHTML_PRE:"htmlelementinnerhtmlpre",HTML_ELEMENT_INNERHTML_POST:"htmlelementinnerhtmlpost",HTML_ELEMENT_HAS_CHILD_NODES_PRE:"htmlelementhaschildnodespre",HTML_ELEMENT_TEXTCONTENT_PRE:"htmlelementtextcontentpre"};var e=["xhrThwartOpen","fetchThwartOpen"];this.hookFunction=function(t,n,r,o,a){var s=t[n];s&&(t[n]=function(){var t=Array.prototype.slice.call(arguments);if(_n.topmostAccessibleWindow.__bt_intrnl.stopFlag)return s.apply(this,t);if(r)try{const e=i.Y.fireEvent(r,t,this);if(null!=e)return e}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}const n=s.apply(this,t);if(o)try{i.Y.fireEvent(o,n,this)}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}return n})},this.hookPropertySetter=function(t,n,r,o,a){var s=t.__lookupGetter__(n),d=t.__lookupSetter__(n);s&&(t.__defineSetter__(n,(function(){var t=Array.prototype.slice.call(arguments);if(_n.topmostAccessibleWindow.__bt_intrnl.stopFlag)return d.apply(this,t);if(r)try{const e=i.Y.fireEvent(r,t,this);if(null!=e)return e}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}const n=d.apply(this,t);if(o)try{i.Y.fireEvent(o,n,this)}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}return n})),t.__defineGetter__(n,(function(){try{return s.apply(this)}catch(e){hi.errorf(null,"error in `hookPropertySetter` object getter hook: %o",e)}})))},this.addEventListener=function(e,t){i.Y.addEventListener(e,t)}};const gi=new o.Z({prefix:"testCompliance: "});var mi=new function(){this.init=function(){i.Y.addEventListener("onAuctionGroupStarted",(function(e){gi.infof(null,"onAuctionGroupStarted: %o",e)})),i.Y.addEventListener("onAuctionGroupEnded",(function(e){gi.infof(null,"onAuctionGroupEnded: %o",e)})),i.Y.addEventListener("onAuctionStarted",(function(e){gi.infof(null,"onAuctionStarted: %o",e)})),i.Y.addEventListener("onAuctionEnded",(function(e){gi.infof(null,"onAuctionEnded: %o",e)})),i.Y.addEventListener("onPrebiddingStarted",(function(e){gi.infof(null,"onPrebiddingStarted: %o",e)})),i.Y.addEventListener("onPrebiddingEnded",(function(e){gi.infof(null,"onPrebiddingEnded: %o",e)})),i.Y.addEventListener("onPostbiddingStarted",(function(e){gi.infof(null,"onPostbiddingStarted: %o",e)})),i.Y.addEventListener("onPostbiddingEnded",(function(e){gi.infof(null,"onPostbiddingEnded: %o",e)})),i.Y.addEventListener("onAuctionBidResponse",(function(e){gi.infof(null,"onAuctionBidResponse: %o",e)})),i.Y.addEventListener("onNewUnitFound",(function(e){gi.infof(null,"onNewUnitFound: %o",e)}))}},wi=__webpack_require__(96),bi=__webpack_require__.n(wi);const yi=function(e){return e.filter(((t,n)=>{const i=JSON.stringify(t);return n===e.findIndex((e=>JSON.stringify(e)===i))}))},Mi=new o.Z({prefix:"adUnitParser: "});function vi(e,t,n){var i=window.googletag.defineSlot(e,t,n);return i&&i.addService(window.googletag.pubads()),i}function _i(e){if(e){var t=i.Y.fireEvent("rewriteGAMSlots")||i.Y.fireEvent("GAMSpecialAdUnit");if(t&&t.parseSlotAdUnitPath&&!e._is_rewritten_slot){var n=e.getSlotElementId(),r=e.getSizes();r=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i&&i.getWidth&&i.getHeight?t.push([i.getWidth(),i.getHeight()]):i&&"fluid"===i&&t.push("fluid")}return t}(r);try{var o=t.parseSlotAdUnitPath(e);if(t.shouldSkipDestroySlot&&t.shouldSkipDestroySlot(e,o)||function(e){var t=e.getSlotElementId();window.googletag.destroySlots([e]);const n=document.getElementById(t),i=n&&n.querySelector("div[id^='google_ads_iframe_']");n&&i&&n.removeChild(i)}(e),!o)return;var a=vi(o,r,n);return a&&(a._is_rewritten_slot=!0,t.shouldCopyTargeting&&function(e,t){var n=e.getTargetingMap();for(var i in n)if(n.hasOwnProperty(i)){var r=n[i][0];t.setTargeting(i,r)}}(e,a),t.postSlotCreation&&t.postSlotCreation(a)),a}catch(e){Mi.errorf(null,"error redefining GAM slot (e.g. for SAU or BT AdX unit)",e)}}}}const Di=new function(){let e=[];const t={},n={};this.set=function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=r;Array.isArray(o)||(o=[o]);for(let r=0;r<o.length;r++){const a=o[r],s=!a.deviceType||a.deviceType===Ln.yC||a.deviceType===Ln.l7();if(!a||!s)continue;const d=i.Y.fireEvent("sizesToRemoveBySpace",{spaceName:a.name,slot:void 0});null!=d&&d.length&&(a.sizes=a.sizes.filter((e=>!d.some((t=>"fluid"===t?e===t:e==="".concat(t.width,"x").concat(t.height)))))),e.push(a),t[a.name]=t[a.name]||[],t[a.name].push(a),n[a.id]=n[a.id]||[],n[a.id].push(a)}return e},this.getSpacesByName=function(e){return t[e]||[]},this.getSpacesByID=function(e){return n[e]||[]},this.getAll=()=>e,this.remove=function(i){e=e.filter((e=>e!=i));const r=n[i.id].indexOf(i);r>=0&&n[i.id].splice(r,1);const o=t[i.name].indexOf(i);o>=0&&t[i.name].splice(o,1)}},Ei=new o.Z({prefix:"visibility: "});var Ti=new Map,Ni=new Map;function zi(e){const t=e.getBoundingClientRect(),n=function(){let e,t,n=window,i=[];for(;n!==window.top;){e=n.parent;for(let r of e.document.getElementsByTagName("iframe"))r.contentWindow===n&&(t=r.getBoundingClientRect(),i.push({x:t.x,y:t.y}));n=e}return i.reduce(((e,t)=>({x:e.x+t.x,y:e.y+t.y})),{x:0,y:0})}();try{return window.top.document.hasFocus()&&t.top+t.height/2+n.y>0&&t.left+t.width/2+n.x>0&&t.top+t.height/2+n.y<(window.top.innerHeight||window.top.document.documentElement.clientHeight)&&t.left+t.width/2+n.x<(window.top.innerWidth||window.top.document.documentElement.clientWidth)}catch(e){Zi(e)}}async function Bi(e,t,n){const i=await xi((()=>zi(e)?{stopIterations:!1}:{stopIterations:!0}),10,100);r.Z.commonUtils.isElementInBody(e)||n(),i&&t()}async function xi(e,t,n){if(!t)return!0;const{stopIterations:i}=e();return!i&&new Promise((i=>{setTimeout((()=>{i(xi(e,t-1,n))}),n)}))}function Si(){Ti.forEach(((e,t)=>{let[n,i]=e;Bi(t,n,i)}))}try{window.top.addEventListener("scroll",(()=>{Si()})),window.top.addEventListener("focus",(()=>{Si()}))}catch(Se){Zi(Se)}function ki(e){let t,{selector:i,id:r,element:o,useIABDefinition:a}=e;if(!o)try{if(i)o=document.querySelector(i);else{if(!r)throw new Error("No selector, id, or element provided.");o=document.getElementById(r)}if(!o)throw new Error("Could not find element on page with id/selector provided.")}catch(e){return Ei.warningf(null,"getElementVisibility - selector: `%o`, id: `%o` - error: %o",[i,r,e]),n.Z.consts.elementVisibility.NOT_FOUND}if(a)t=zi(o)?n.Z.consts.elementVisibility.VISIBLE:n.Z.consts.elementVisibility.HIDDEN;else{let e,i,r;"none"===window.getComputedStyle(o).display&&(i=o.style.getPropertyValue("display"),r=o.style.getPropertyPriority("display"),o.style.setProperty("display","block","important"),e=!0);const a=function(e){var t,n;if(e)return(n=e.getBoundingClientRect()).width||n.height?(t=document.documentElement,{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}):n}(o),s=document.documentElement.scrollLeft||window.scrollX,d=document.documentElement.scrollTop||window.scrollY,c=window.innerHeight,l=window.innerWidth,u=o.offsetHeight,p=o.offsetWidth;t=a.left>=s&&a.top>=d&&p+a.left<=s+l&&u+a.top<=d+c||(a.left<=s&&a.left+p>s||a.left>=s&&a.left<=s+l)&&(a.top<=d&&a.top+u>d||a.top>=d&&a.top<=d+c)?n.Z.consts.elementVisibility.VISIBLE:n.Z.consts.elementVisibility.HIDDEN,e&&o.style.setProperty("display",i,r)}return t}function Zi(e){const t={sendToServer:!0,event:"noViewabilityFromCrossDomainIframe",sendPercentage:1,meta:{error:e}};Ei.warningf(null,"noViewabilityFromCrossDomainIframe","N/A",t)}const Ii=function(){let e,t;this.fate="unresolved",this.state="pending",this.promise=new Promise((function(n,i){e=n,t=i})),this.promise.then((e=>(this.state="fulfilled",e)),(e=>(this.state="rejected",e))),this.resolve=function(t){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",e(t)},this.reject=function(e){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",t(e)}},Yi=new o.Z({prefix:"amazonAdapter: "});let Hi,Xi,Ri=!1,Oi=!1;function Ci(e){e&&0!==e.length&&n.Z.upoSettings.amazonBidderConfiguration.enabled&&(!function(){if(Ri)return;Ri=!0,fi.addEventListener(fi.Types.XHR_OPEN_PRE,(function(e){try{const n=e.data;(null==(t=n[1])?void 0:t.indexOf("c.amazon-adsystem.com/e/dtb/bid"))>-1&&(null==t?void 0:t.indexOf("t=2965"))>-1&&(n[1]=r.Z.addAcceptableParam(n[1]),this.onreadystatechange=function(){if(4===this.readyState&&200===this.status){const e=new RegExp("apstag\\.\\w+\\((.*?)\\)","gm").exec(this.responseText);Hi=JSON.parse(null==e?void 0:e[1])}})}catch(e){Yi.errorf(null,"addListenerOnAmazonBidRequest: %o",e)}var t}))}(),e.forEach((e=>{const t=e.space;t.prebidSettings.bidders=t.prebidSettings.bidders||[];if(t.prebidSettings.bidders.some((e=>"amazon"===e.name))||!googletag||!googletag.pubads)return;const i=e.element,r=googletag.pubads().getSlots().find((e=>document.getElementById(e.getSlotElementId())===i)),o=r&&r.getAdUnitPath();o&&t.prebidSettings.bidders.push({id:o+"_amazon_bidder",name:"amazon",params:{pubID:n.Z.upoSettings.amazonBidderConfiguration.pubID,adUnitGPTPath:o}})})))}function Ai(e){var t,n;const i=null===(t=Hi)||void 0===t||null===(n=t.slots)||void 0===n?void 0:n.find((t=>t.slotID===e.adUnitCode));return(null==i?void 0:i.crid)||""}const Wi=new Promise((e=>Xi=e));const ji=new o.Z({prefix:"prebidAdapter: "});var Vi=new function(){var e=!1,t={},o={},a=new r.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){a.subscribeForEvent(e,t)},this.dispatch=function(r){try{e||(e=!0,t=n.Z.cpbjs,m(),i.Y.fireEvent("wrapPrebidRequestBids")&&b());var o={};r.forEach((e=>{o[e.spaceName]={hbAdUnit:e,deferred:new Ii}}));var d=function(e){return e.map((e=>{const{websiteStoredRequestId:t,adUnitStoredRequestId:n}=i.Y.fireEvent("snigelAdapterConfiguration",{spaceName:e.spaceName})||{},r=c(e),o=[];e.biddersSettings.forEach((e=>{const t={bidder:e.name,params:e.params};o.push(t)}));const a={code:e.spaceName,bids:o,sizes:r,mediaTypes:{banner:{sizes:r}}};return t&&n&&(a.ortb2Imp={ext:{prebid:{storedrequest:{id:n}}}}),a}))}(r);s(),function(e,t){for(let n=0;n<e.length;n++){let i=t.find((t=>t.code===e[n].spaceName)),r=[];i.bids.forEach((e=>{r.push(e.bidder)}));const o={sendToServer:!0,sendPercentage:1,event:"prebid-size-filtering",meta:{spaceName:e[n].spaceName,auctionId:e[n].auctionId,sizesBeforeFiltering:e[n].sizes,sizesAfterFiltering:i.sizes,biddersNames:r}};ji.infof(null,"logAdUnitSizesPrebid, spaceName -> ",e[n].spaceName,o)}}(r,d),t.requestBids({adUnits:d,bidsBackHandler:function(e){try{for(var t in o)if(o.hasOwnProperty(t)){var n=o[t],i=n.hbAdUnit;if(e){var r=e[t],s=[];if(r){var c=d.find((e=>e.code===t)).sizes;r.bids=p(r.bids,c),s=h(r.bids,n.hbAdUnit)}var l={auctionId:i.auctionId,bids:s};n.deferred.resolve(l),s.forEach((e=>{const t={auctionId:i.auctionId,bid:e};a.invokeEventCallbacks("bidReceived",t)}))}else{var u={auctionId:i.auctionId,bids:[]};n.deferred.resolve(u)}}}catch(e){ji.errorf(null,"dispatch: bidsBackHandler: - %o",e)}}});var l=[];for(var u in o)if(o.hasOwnProperty(u)){var f=o[u];l.push(f.deferred.promise)}return l}catch(e){ji.errorf(null,"dispatch: - %o",e)}};var s=function(){if(t.bidderSettings&&t.bidderSettings.standard&&t.bidderSettings.standard.adserverTargeting){const e=!!t.bidderSettings.standard.adserverTargeting.find((e=>"hb_pb_org"===e.key)),n=!!t.bidderSettings.standard.adserverTargeting.find((e=>"hb_pb"===e.key));!e&&n&&t.bidderSettings.standard.adserverTargeting.push({key:"hb_pb_org",val:function(e){var n=t.getConfig().priceGranularity;return"auto"===n?e.pbAg:"dense"===n?e.pbDg:"low"===n?e.pbLg:"medium"===n?e.pbMg:"high"===n?e.pbHg:"custom"===n?e.pbCg:e.pbHg}})}};function d(e){if(e){let[t,n]=e.split("x");if(t=parseInt(t),n=parseInt(n),!isNaN(t)&&!isNaN(n))return{width:t,height:n}}}function c(e){let t=e.sizes.map(d).filter((e=>!!e));const n=i.Y.fireEvent("sizesToReplaceBySpace",{spaceName:e.spaceName});n&&(t=t.map((e=>{var t=n.find((t=>t.size.width===e.width&&t.size.height===e.height));return t?{width:t.replacement.width,height:t.replacement.height}:e})));const o=googletag&&googletag.pubads&&googletag.pubads().getSlots()||[],a=e.element&&e.element.getAttribute("id")||e.spaceName,s=o.find((e=>e.getSlotElementId()===a));var c=i.Y.fireEvent("sizesToRemoveBySpace",{spaceName:e.spaceName,slot:s});c&&(t=t.filter((e=>!c.some((t=>t.width===e.width&&t.height===e.height)))));var l=r.Z.sizesRemover(e.element,t);return l=l.filter((e=>!!e)).map((e=>[e.width,e.height]))}function l(e){try{const i=JSON.parse(e.adTargeting);i.amzniid=e.adId;for(let t in i)e.adserverTargeting[t]=i[t];e.ad=e.adHtml.replace("bt_host_placeholder",(null===(t=Hi)||void 0===t?void 0:t.host)||"https://aax-us-east.amazon-adsystem.com").replace("bt_crid_placeholder","crid=".concat(Ai(e)));try{!n.Z.upoSettings.amazonBidderConfiguration.keepHbPb&&delete e.adserverTargeting.hb_pb}catch(e){ji.errorf(null,"changeAmazonBid - deleting hb_pb - %o",e)}delete e.adUrl}catch(e){ji.errorf(null,"changeAmazonBid - %o",e)}var t;return e}var u=function(e){for(var t=c(e),n=0,i=0;i<t.length;i++){var r=t[i][0];r>n&&(n=r)}return n};const p=(e,t)=>e.filter((e=>t.some((t=>e.width===t[0]&&e.height===t[1]))));var h=function(e,a){const s=e.map((e=>{if(e.bidderId=function(e,t){const i=t.biddersSettings.find((t=>{const i="s2s"===e.source?n.Z.consts.btDemand.snigel:e.bidderCode;return t.name===i}));if(i)return i.id}(e,a),e.bidderId){!function(e,t){if(e.ad&&e.ad.indexOf(atob("c2VydmluZy1zeXMuY29t"))>-1&&e.ad.indexOf(atob("QnVyc3RpbmdQaXBlL2FkU2VydmVyLmJz"))>-1){var n=atob("PHNjcmlwdD53aW5kb3cuZWJDZmcgPSB7fTt3aW5kb3cuZWJDZmdfXyA9IHt9O3dpbmRvdy5fX2RlZmluZUdldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5lYkNmZ19fO30pO3dpbmRvdy5fX2RlZmluZVNldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7YS5hZEh0bWxQYXRoPScnO3JldHVybiB3aW5kb3cuZWJDZmdfXz1hO30pOzwvc2NyaXB0Pg==");e.ad.indexOf("<body>")>-1?e.ad=e.ad.replace("<body>",n):e.ad=n+e.ad}"amazon"===e.bidder&&(e=l(e)),e.bidder&&"smartadserver"===e.bidder&&(e.bidder="smart"),e.btBidderCode&&("index"===e.btBidderCode?e.btBidderCode="ix":"magnite"===e.btBidderCode&&(e.btBidderCode="rubicon")),e.bidder&&("triplelift"===e.bidder&&e.ad&&e.ad.indexOf("render_options_bm")>-1||"sharethrough"===e.bidder)&&(e.width=u(t)),e.ad&&e.cpm&&e.ad.replace(/\$\{AUCTION_PRICE\}/g,e.cpm),e.ad&&e.currency&&e.ad.replace(/\$\{AUCTION_CURRENCY\}/g,e.currency)}(e,a),o[e.adId]=new Ii;var r={ad:e.ad,adId:e.adId,adUrl:e.adUrl,bidderId:e.bidderId,bidder:e.bidder,bidderCode:e.bidderCode,currency:e.currency,creativeId:g(e),cpm:e.cpm,complianceStatus:0,height:e.height,timeToRespond:e.timeToRespond,size:e.size,width:e.width},s=new On.Bid(r,e,On.Bid.Types.PREBID,(function(n){var r=n.complianceBidsInAuction.length>0?n.complianceBidsInAuction.map((e=>e.rawBid&&e.rawBid)):void 0,o=e.adUnitCode,a=t.getAdserverTargeting(o,r)[o];return""===a.hb_pb&&a.hb_pb_org&&(a.hb_pb=a.hb_pb_org),a=i.Y.fireEvent("customAdserverTargeting",{adServerTargeting:a})||a}),(function(e){try{w(this);var t=e.placement;y(t,this)}catch(e){ji.errorf(null,"renderBid - %o",e)}}),void 0,function(e){this.renderedDeferred.promise.then((function(){e()}))}.bind({renderedDeferred:o[e.adId]}),(function(){return f(this)}));return s}ji.errorf(null,"dispatch: bidsBackHandler: - No corresponding bidderSettings found in ad unit: %o for Prebid auction response bid: %o",[a,e])}));return s.filter((e=>!r.Z.commonUtils.isNil(e)))};var f=function(e){var t={bidderExternalID:e.bidderId,markup:e.ad,url:e.adUrl,hint:{provider:e.bidderCode,uid:e.creativeId},width:parseInt(e.width),height:parseInt(e.height)};if("underdogmedia"===e.bidderCode&&(t.hintID=t.hintID+"_"+e.width+"_"+e.height),"gumgum"===e.bidderCode&&e.creative&&(t.markup=e.creative),"komoona"===e.bidderCode)try{var n=0,i=JSON.parse(unescape(e.ad.split('"creative_data":"')[1].split('","')[0]));for(var r in i.hdbd_data.hbbids){var o=i.hdbd_data.hbbids[r];o.cpm>n&&(n=o.cpm,t.markup=o.creative_data.creative)}}catch(e){ji.errorf(null,'innerMakeEntryForTestCompliance - handling "komoona" bid - %o',e)}return e.ad&&e.ad.indexOf("https://googleads.g.doubleclick.net/pagead/adfetch?client=ca-pub-")>-1&&(t.url="https://googleads.g.doubleclick.net/pagead/adfetch"+e.ad.split("https://googleads.g.doubleclick.net/pagead/adfetch")[1].split("&rfl=")[0],t.markup=""),t};function g(e){return"komoona"===e.bidder||"criteo"===e.bidder||"consumable"===e.bidder?null:"amazon"===e.bidder?Ai(e):e.c?String(e.c):e.adid&&"0"!==e.adid?String(e.adid):e.crid&&"0"!==e.crid?String(e.crid):e.creativeId&&"0"!==e.creativeId?String(e.creativeId):e.creative_id&&"0"!==e.creative_id?String(e.creative_id):null}var m=function(){t.onEvent("bidWon",(function(e){o[e.adId].resolve()}))},w=function(e){var t=e.rawBid;t&&t.bidder&&(i.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsRender",payload:{detail:t}}),i.Y.fireEvent("FirePublisherEvent",{eventName:"uponitRender",payload:{detail:t}}))},b=function(){var e=window.pbjs||window.jitaJS;if(e&&e.requestBids){var t=e.requestBids;e.requestBids=function(e){for(var n=[],r=e&&e.adUnits,o=0;o<r.length;o++)n.push(r[o].code);if(a.invokeEventCallbacks("refresh",n),!i.Y.fireEvent("skipOriginalRequestBidsFunction"))return t.apply(this,arguments)}}},y=function(e,n){var i=v(),r=i.container,o=i.iframe,a=function(){try{o.removeEventListener("load",a);var e=o.src===Tn.W;o.style.setProperty("visibility",""),e||(o.contentWindow.document.documentElement.innerHTML="<html><body></body></html>");var i=!e&&o.contentWindow.document,r=Ln.Xh();"sharethrough"===n.bidder&&window.setTimeout((function(){for(var e=document.querySelectorAll(".str-thumbnail"),t=0;t<e.length;t++){var n=e[t].style.backgroundImage;!n||-1!==n.indexOf("upapi")||-1!==n.indexOf("criteo.net")||-1!==n.indexOf("imgix.net")&&-1!==n.indexOf(".gif")?n.indexOf("imgix.net")>-1&&n.indexOf(".gif")>-1&&(n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&adunit=true")'):e[t].style.backgroundImage=n.replace('")','?adunit=true")')):n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&upapi=true")'):e[t].style.backgroundImage=n.replace('")','?upapi=true")')}}),3e3),"edge"===r&&(n.rawBid.ad=n.rawBid.ad.replace(/\.html[?#]/,".html?upapi=true&"),n.rawBid.ad=n.rawBid.ad.replace(/\.html%23/,".html%23upapi=true%26"),window.setTimeout((function(){if(e){o.contentWindow.postMessage({type:"eval",code:"try { var styleSheets = document.styleSheets; for (var i = 0; i < styleSheets.length; i++) { if (styleSheets[i].cssText && styleSheets[i].cssText.indexOf(\"a[href^='http://ads2.williamhill.com/redirect.aspx?']\") > -1) { styleSheets[i].cssText = ''; } } } catch (e) { }"},"*")}else try{for(var t=i.styleSheets,n=0;n<t.length;n++)t[n].cssText&&t[n].cssText.indexOf("a[href^='http://ads2.williamhill.com/redirect.aspx?']")>-1&&(t[n].cssText="")}catch(e){ji.errorf(null,"innerRenderBid - `onLoad` Edge browser patch - %o",e)}}),3e3)),window.setTimeout((function(){var a="edge"===r||"ie"===r;if(a||M(n,o,e),e){var s='window.parent.postMessage(JSON.stringify({ adId: "'+n.adId+'", message: "Prebid Request" }), "*");';o.contentWindow.postMessage({type:"eval",code:s},"*")}else t.renderAd(i,n.adId);a&&M(n,o,e)}),0),o.style.width=n.width+"px",o.style.height=n.height+"px"}catch(e){ji.errorf(null,"renderBid - %o",e)}};o.addEventListener("load",a),e.insertBefore(r,e.children[0])};function M(e,t,i){if(!1!==e.isBackupCreative)if(i)t.contentWindow.postMessage({type:"eval",code:n.Z.backupCreativeScriptForPostMessage},"*");else try{t.contentWindow.eval(atob(n.Z.backupCreativeScript))}catch(e){ji.errorf(null,"evalBackupCreativeScript: - %o",e)}}var v=function(){var e=document.createElement("div");e.className="ahover";var t=$n.whitelistingIFrame.createWhitelistingIFrame();return t.style.width="1px",t.style.height="1px",t.style.border="0px",t.setAttribute("marginwidth","0"),t.setAttribute("marginheight","0"),t.scrolling="no",e.appendChild(t),{container:e,iframe:t}}};const Fi=new o.Z({prefix:"testCompliance: "});var Ui=!1;try{Ui=_n.topmostAccessibleWindow.location.href&&_n.topmostAccessibleWindow.location.href.indexOf("bt_tc=false")>=0||"false"===_n.topmostAccessibleWindow.localStorage.getItem("bt_tc")}catch(Se){Fi.errorf(null,"testComplianceDisabled: %o",Se)}function Li(e,t){return r.Z.sizeValidation.isUnacceptable(e.unit.element,{width:t.width,height:t.height})}function Pi(e,t,n,i){const r={sendToServer:!0,sendPercentage:1,event:"client_tc_applied",meta:{client_tc_type:i,auctionID:t,bidderID:n.bidderId}};Fi.noticef(null,e,n,r)}function Ki(e,t){var r;let o=n.Z.consts.complianceStatus.UNKNOWN;const a=i.Y.fireEvent("customComplianceCheck",{bid:e}),s=e.contentIdHash||e.creativeId;return null!==(r=n.Z.SharedObject.getItem("creativesIdBlocklist"))&&void 0!==r&&r.includes(s)?o=n.Z.consts.complianceStatus.INCOMPLIANT:Ui?(o=n.Z.consts.complianceStatus.COMPLIANT,Fi.debugf(null,"compliance is disabled for the current bid: ",e)):a?(o=a,Pi("custom hook file tc check: ",t.auctionId,e,"custom_hook_file_tc_check")):Li(t,e)&&(o=n.Z.consts.complianceStatus.INCOMPLIANT,Pi("bid with unacceptance size: ",t.auctionId,e,"bid_with_unacceptance_size")),o}function Gi(e){var t={},i={};const r=n.Z.SharedObject.getItem("websiteConfig"),o=r.websiteID,a=r.organizationID;var s={};if(e.forEach((e=>{var r=e.auction,o=e.bids;s[r.auctionId]=s[r.auctionId]||{};for(var a=0;a<o.length;a++){var d=o[a];const e=Ki(d,r);if(e==n.Z.consts.complianceStatus.UNKNOWN){s[r.auctionId][d.bidId]={bid:d,result:{}};var c=d.makeEntryForTestCompliance();c.auctionID=r.auctionId,c.spaceExternalID=r.unit.space.id,c.spaceName=r.unit.space.name,c.refreshDepth=r.unit.countOfDispatches-1;var l=parseFloat(d.cpm);c.cpm=isNaN(l)?0:l,Ji(c);var u=p(5,8);t[u]=c,i[u]=d}else s[r.auctionId][d.bidId]={bid:d,result:{status:e,backup:!1}}}})),Object.keys(t).length<=0){for(var d in s)if(s.hasOwnProperty(d)){var c=s[d];for(var l in c)if(c.hasOwnProperty(l)){var u=c[l];s[d][l]=u.result}}return Promise.resolve(s)}let h;try{h=(new Intl.DateTimeFormat).resolvedOptions()}catch(e){h={locale:void 0,timeZone:void 0}}const f={domain:_n.topmostAccessibleWindow.location.host,websiteID:o,orgID:a,bids:t,locale:h.locale,timezone:h.timeZone,pageURL:_n.topmostAccessibleWindow.location.href};return Dn.testCompliance(f).then((function(e){for(var r in e){var o;if(!e.hasOwnProperty(r))continue;const l=t[r].auctionID;var a=s[l],d=i[r],c=a[d.bidId];c.result.status=e[r].status,c.result.bidContentIdHash=e[r].id,c.result.backup=e[r].backup||"true"===_n.topmostAccessibleWindow.localStorage.getItem("bt_force_backup_creative");const u=null!==(o=n.Z.SharedObject.getItem("creativesIdBlocklist"))&&void 0!==o?o:[];(u.includes(e[r].id)||u.includes(d.creativeId))&&(c.result.status=n.Z.consts.complianceStatus.INCOMPLIANT)}for(const e in s)if(s.hasOwnProperty(e)){var l=s[e];for(var u in l)if(l.hasOwnProperty(u)){var p=l[u];s[e][u]=p.result}}return s}))}function Ji(e){if(e.markup&&e.markup.indexOf("://secure.ace.advertising.com/")>-1)try{var t="https://secure.ace.advertising.com/site="+e.markup.split("Site: '")[1].split("'")[0]+"/size="+e.markup.split("Size: '")[1].split("'")[0]+"/rip="+e.markup.split("/rip=")[1].split("/")[0];t&&(e.markup='\x3c!-- "'+t+'"--\x3e'+e.markup)}catch(e){Fi.errorf(null,"generalEntryFix: %o",e)}e.markup&&!e.url&&-1===e.markup.indexOf("<body")&&(e.markup="<body>"+e.markup+"</body>")}Fi.debugf(null,"test Compliance disabled? ",Ui);const Qi=new o.Z({prefix:"dfpAdapter: "});function qi(e){if(e){if(/\.(renderAd|renderAdNew)\(document,(\s+)?['"][a-zA-Z0-9\-_]+['"]/gm.test(e))return On.Bid.PrebidTemplateTypes.RENDER_AD;if(/apstag\.renderImp\(document,/gm.test(e))return On.Bid.PrebidTemplateTypes.APSTAG;const t=["requestAdFromPrebid(","PATTERN:hb_adid"];if(/"hb_adid":[\s\r\n\t]{0,9}?\["[a-z-A-Z0-9\-_]+"\]/gm.test(e)||t.some((t=>e.includes(t))))return On.Bid.PrebidTemplateTypes.HB_ADID;if(/ucTagData\.ad[Ii]d(:?\s+)?=(:?\s+)?['"]([a-zA-Z0-9\-_]+)['"]/gm.test(e))return On.Bid.PrebidTemplateTypes.UC_TAG_DATA;if(e.indexOf("districtm_adslot = ")>-1)return On.Bid.PrebidTemplateTypes.DISTRICTM_ADSLOT}}var $i=new function(){var e=!1,t={},o={},a={},s=[],d=[],c=new r.Z.SubscriptionLayer,l={_height_:5,_width_:6,_empty_:7,_is_afc_:8,_fluid_:9,_creative_ids_:14,_adgroup2_ids_:15};this.init=function(){e||(e=!0,C())},this.dispatch=function(e){try{this.init();var n=[];return i.Y.fireEvent("onBeforeDfpRefreshDispatch"),i.Y.fireEvent("tryDisableGoogletagLazyLoad")&&u(),e.forEach((e=>{const i=new Ii;n.push(i.promise),t[e.slotElementId]={asAdUnit:e,deferred:i};const r=new Ii;o[e.slotElementId]=r})),window.googletag.cmd.push((function(){try{Qi.debugf(null,"onAdsRequestPrepareStarted");var t=window.googletag.pubads().getSlots(),n=[];t.forEach((t=>{e.forEach((e=>{var r=t.getSlotElementId();if(r===e.slotElementId){n.push(t);var o=p(16,24);if(a[o]=r,t.setTargeting("uponitSlotIterationId",o),i.Y.fireEvent("preTargetingSetting",{dfpSlot:t,ASAdUnit:e}),m(t,e.params.keyValuesParams.toRemove),t.__up_display||(t.__up_display=!0,window.googletag.display(e.slotElementId)),w(t,e.params.keyValuesParams.toAdd),window.uponit&&window.uponit.modifiers&&window.uponit.modifiers.dfpTargeting&&window.uponit.modifiers.dfpTargeting.length>0)try{for(var s=window.uponit.modifiers.dfpTargeting,d=0;d<s.length;d++){var c=t.getTargetingMap(),l={};for(const e in c)l[e]=c[e];var u=null;!e||null==e.floorPrice&&null==e.floorPrice||(u=e.floorPrice);var h=s[d](l,t,u);if(h)for(const e in h)c[e]&&c[e]===h[e]||t.setTargeting(e,h[e])}}catch(e){Qi.errorf(null,"dispatch: uponit-modifiers: %o",e)}t.setForceSafeFrame(!0),t.setCollapseEmptyDiv(!1)}}))})),Qi.debugf(null,"onAdsRequestSlotsPrepare - slots: %o",g(n)),h(n);const s=googletag.pubads().isSRA()&&(o=0,n.forEach((e=>{const t=e.getTargetingMap();Object.entries(t).forEach((e=>{const t=e[0]?e[0].length:0,n=e[1]&&e[1][0]?e[1][0].length:0;o+=t+n}))})),o>=6e3);if(i.Y.fireEvent("forceNotSingleRequestRefresh")||s)for(var r=0;r<n.length;r++){const e=n[r];setTimeout((()=>{window.googletag.pubads().refresh([e],void 0,!0)}),0)}else setTimeout((()=>{window.googletag.pubads().refresh(n,void 0,!0)}),0)}catch(e){Qi.errorf(null,"dispatch: %o",e)}var o})),n}catch(e){Qi.criticalf(null,"google cmd function failed: %o",e)}};var u=function(){window.googletag.cmd.push((function(){window.googletag.pubads().enableLazyLoad({fetchMarginPercent:-1,renderMarginPercent:-1})}))},h=function(e){e.forEach((e=>e.setTargeting("upstdfp",!0)))},f=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];"fluid"===i?t.push(i):t.push([i.getWidth(),i.getHeight()])}}catch(e){Qi.errorf(null,"getNormalizedDfpSizes errored - %o",e)}return t},g=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];t.push({elementId:i.getSlotElementId(),dfpAdUnitPath:i.getAdUnitPath(),sizes:f(i.getSizes()),targetingMap:i.getTargetingMap()})}}catch(e){Qi.errorf(null,"getNormalizedDFPAdSlots errored - %o",e)}return t},m=function(e,t){for(let n=0;n<t.length;n++){const i=t[n],r=e.getTargetingKeys();for(let t=0;t<r.length;t++){const n=r[t];i.test(n)&&e.clearTargeting(n)}}},w=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];e.setTargeting(n,i)}};function b(e){if(!e)return!1;const t=i.Y.fireEvent("isPrebidResponse",{str:e});if(void 0!==t)return t;return!!qi(e)}var y=function(e,t,n,r){e&&e._html_&&e._html_.indexOf("googletag.pubads().definePassback(")>-1&&(e._html_=e._html_.replace(").setTargeting('",").setTargeting('up_recovery','true').setTargeting('"),e._html_=e._html_.replace(').setTargeting("',').setTargeting("up_recovery","true").setTargeting("')),e&&e._html_&&-1===e._html_.indexOf("ca-pub-15988")&&(e._html_=e._html_.replace("data-ad-slot=",'data-ad-type="text" data-ad-slot=').replace("data-ad-client\\x3d","data-ad-type\\x3d\\x22text\\x22 data-ad-client\\x3d").replace('google_ad_client = "ca-pub','google_ad_type = "text";google_ad_client = "ca-pub'));var o=i.Y.fireEvent("dfpResponseCustomReplace",{googleReponse:e,googleFrame:r,googleSlot:t});if(o&&(e=o),!(e._fluid_||e._height_&&e._width_)&&n.length>0)for(var a=0;a<n.length;a++){var s=n[a];if("fluid"!=s&&s.getWidth()>=120){e._width_=parseInt(s.getWidth()),e._height_=parseInt(s.getHeight());break}}};function M(e){switch(e){case On.Bid.Types.ADX:return"gam_adx";case On.Bid.Types.ADX_TEXT:return"gam_text";case On.Bid.Types.DIRECT:return"gam_direct";case On.Bid.Types.ADSENSE:return"gam_adsense"}}var v=function(e,t){switch(e){case On.Bid.Types.ADSENSE:case On.Bid.Types.ADX:case On.Bid.Types.ADX_TEXT:return t.adxBidderId;case On.Bid.Types.DIRECT:return t.directBidderId}},_=function(e,t){try{if(e==On.Bid.Types.DIRECT&&t._adgroup2_ids_&&t._adgroup2_ids_[0]&&t._creative_ids_&&t._creative_ids_[0])return t._adgroup2_ids_[0].toString()+"_"+t._creative_ids_[0].toString()}catch(e){Qi.errorf(null,"getCreativeId: %o",e)}};function D(e){let{slotId:n,gamResponse:i}=e;const r=t[n],o={auctionId:r.asAdUnit.auctionId,bids:[],gamResponse:i};r.deferred.resolve(o)}var E=function(e,t){s.push(t),e._html_=i.Y.fireEvent("CustomPrebidHTMLModification",e._html_)||e._html_.replace(/w=w.parent/gm,"w=window").replace(/w = w.parent/gm,"w = window").replace(/pbjs/gm,"upbjs").replace(/renderAd/gm,"renderAdNew")},T=function(e){var t=e.getSlotElementId(),n=r.Z.commonUtils.escapeSelector("#"+t),o=document.querySelector(n+' [id^="google_ads_iframe_"]');return o=i.Y.fireEvent("customInnerContainer",{googleSlot:e})||o},N=function(e,t,n){var i=new RegExp("([?&]"+t+"=)([^&#]*)([&#$].*)","g");return e.replace(i,"$1".concat(encodeURIComponent(n),"$3"))},z=function(e,t){var n=new RegExp("(^|[&])"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[3]?decodeURIComponent(n[3].replace(/\+/g," ")):"":null},B=function(e){try{for(var n={},i=0;i<e.length;i++){var r=e[i],o=t[r.getSlotElementId()].asAdUnit;if(o&&o.params&&o.params.queryParams)for(var a in o.params.queryParams)if(o.params.queryParams.hasOwnProperty(a)){var s=o.params.queryParams[a];n[a]=s}}return n}catch(e){Qi.errorf(null,"getSlotsQueryParams: %o",e)}};var x=function(e,n,i,r){try{const a=n.map(((e,t)=>{if(i.indexOf(t)>-1)return n[t]}));return function(e,n){try{if(e){for(var i={},r=[],a=0;a<e.length;a++){var s=e[a].response.parsedData,l=e[a].response.rawResponse,u=e[a].slot;if(!u){r.push(Promise.resolve({injectToDom:!1}));continue}var p=n[a],h=u.getSlotElementId();const d=new Ii;i[h]=d,r.push(d.promise);var f=t[h],g=T(u);if(!s||s&&!s._html_||s&&s._empty_)i[h].resolve({injectToDom:!1}),D({slotId:h,gamResponse:{type:"gam_empty"}});else{y(s,u,p,g),b(s._html_)&&E(s,h);var m=(k=u,Z=void 0,Z=(S=s)._html_,S._empty_?On.Bid.Types.EMPTY:b(Z)?On.Bid.Types.DFP_PREBID:S._is_afc_?"text"===B([k]).ad_type?On.Bid.Types.ADX_TEXT:On.Bid.Types.ADX:Z.indexOf("js/adsbygoogle.js")>-1||Z.indexOf("pagead/show_ads.js")>-1?On.Bid.Types.ADSENSE:On.Bid.Types.DIRECT),w={ad:s._html_,bidder:M(m),bidderId:v(m,f.asAdUnit.params),bidderCode:M(m),creativeId:_(m,s),width:s._width_,height:s._height_,cpm:f.asAdUnit.floorPrice+.01},N=new On.Bid(w,l,m,void 0,function(e){return function(){var t=i[e];"unresolved"==t.fate&&t.resolve({injectToDom:!0,injectBackupCreative:this.isBackupCreative})}}(h),function(e){return function(){var t=i[e];"unresolved"==t.fate&&t.resolve({injectToDom:!1})}}(h),function(e){return function(t){o[e].promise.then((function(){t()}))}}(h),function(e){return function(){return{bidderExternalID:this.bidderId,url:this.adUrl,hint:{provider:this.bidderCode,uid:this.creativeId},width:parseInt(this.width),height:parseInt(this.height),lineItemID:e._adgroup2_ids_&&e._adgroup2_ids_[0],creativeID:e._creative_ids_&&e._creative_ids_[0],markup:this.ad.replace(/\\(n|r|\\)/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"\\"}))}}}(s));m===On.Bid.Types.DFP_PREBID&&(N.prebidTemplateType=qi(w.ad));var z={auctionId:f.asAdUnit.auctionId,bids:[N]};f.deferred.resolve(z);var x={auctionId:f.asAdUnit.auctionId,bid:N};c.invokeEventCallbacks("bidReceived",x)}}return Promise.all(r).then(function(e){try{for(var t=[],n=0;n<this.responsesWithSlots.length;n++){const i=e[n],r=this.responsesWithSlots[n].response,o=r.parsedData,a=this.responsesWithSlots[n].slot,s=a&&a.getSlotElementId();i&&!i.injectToDom&&(s&&d.push(s),o._html_="",o._empty_=!0,o._width_=1,o._height_=1),r.injectBackupCreative=i.injectBackupCreative,t.push(r)}return t}catch(e){Qi.errorf(null,"handleDfpBidResponses: Promise.all: %o",e)}}.bind({responsesWithSlots:e,deferredsPromises:r}))}}catch(e){Qi.errorf(null,"handleDfpBidResponses: %o",e)}var S,k,Z}(e.map(((e,t)=>({slot:a[t],response:e}))),r)}catch(e){Qi.errorf(null,"invokeMiddleware: %o",e)}},S=function(e,t,i,r){return Qi.debugf(null,"onAdsServerResponse - slots: %o, relevantIndexes: %o",[g(t),i]),new Promise((function(o,a){try{if(""===e.responseText)return t.forEach((e=>D({slotId:e.getSlotElementId(),gamResponse:{type:"gam_exception"}}))),void o();var s=function(e){for(var t=e.split("\n"),n=[],i=0;i<t.length;i++){var r=t[i];if(i%2==0&&""!=r){try{var o=window.JSON.parse(r)}catch(e){Qi.errorf(null,"parseGoogleExpandableResponse: 1 %o",e)}var a=Object.keys(o)[0],s=o[a],d={adUnitPath:a,rawResponse:s,parsedData:{}};try{for(var c in l)if(l.hasOwnProperty(c)){var u=l[c];void 0!==s[u]&&null!==s[u]&&(d.parsedData[c]=s[u])}}catch(e){Qi.errorf(null,"parseGoogleExpandableResponse: 2 %o",e)}n.push(d)}else i%2!=0&&(n[n.length-1].parsedData._html_=r)}return n}(e.responseText);x(s,t,i,r).then((function(t){!function(e){for(let t=0;t<e.length;t++){const i=e[t];if(!i.injectBackupCreative)continue;const r=i.parsedData,o=r._html_,a="<\/script>";r._html_=o.substr(0,o.indexOf(a)+a.length)+"<script>"+atob(n.Z.backupCreativeScript)+"<\/script>"+o.substr(o.indexOf(a)+a.length)}}(t);var i=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n],r=i.parsedData,o=r._html_;delete r._html_;var a=i.rawResponse,s={};try{for(var d in l)if(l.hasOwnProperty(d)){var c=l[d];1==r[d]?a[c]=1:0==r[d]?a[c]=0:a[c]=r[d]}s[i.adUnitPath]=a}catch(e){Qi.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 1 %o",e)}try{t=t+JSON.stringify(s)+"\n"+o+"\n"}catch(e){Qi.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 2 %o",e)}}return t}(t);!function(e,t){t.__defineGetter__("responseText",(function(){return e})),t.__defineGetter__("response",(function(){return e})),t.__defineGetter__("status",(function(){return 200})),t.__defineGetter__("readyState",(function(){return 4}))}(i,e),o()}))}catch(e){Qi.criticalf(null,"handleResponsesFromXHR errored: %o",e)}}))},k=function(e){var t="sz",n=r.Z.commonUtils.extractQueryParamFromUrl(t,e);if(n||(t="prev_iu_szs",n=r.Z.commonUtils.extractQueryParamFromUrl(t,e)),!n)return;return n.split(",").map((e=>e.split("|"))).map((e=>e.map((e=>{const[t,n]=e.split("x");return{width:parseInt(t),height:parseInt(n)}}))))},Z={width:320,height:50};function I(e,t,n){return!("fluid"!==e||!n)||t.some((t=>t.width===e.width&&t.height===e.height))}function Y(e){const t=r.Z.commonUtils.extractQueryParamFromUrl("fluid",e);if(t){let e=t.split(",");return e=e.map((e=>isNaN(e)?e:parseInt(e))),e}}var H=function(e,n,o){var a;if(e)try{var s;if(e.indexOf("&sz=")>-1)s="sz";else{if(!(e.indexOf("&prev_iu_szs=")>-1))return;s="prev_iu_szs"}var d=k(e);if(!d)return;const h=d.length;a=d.filter(((e,t)=>o.indexOf(t)>-1));const f=(Y(e)||Array(h).fill(0)).filter(((e,t)=>o.includes(t)));var c=[],l=[];!function(){var t=i.Y.fireEvent("removeSizesDfpConfig");if(t){var r=t.forAll||[];a=a.map(((i,o)=>{var a=n[o].getSlotElementId(),s=(t[a]||[]).concat(r);return s=s.map((t=>{if("fluid"==t){var n=new RegExp("fluid=(.*?)&","g");return e=e.replace(n,""),{width:Z.width,height:Z.height}}return t})),i.filter((e=>!s.some((t=>t.width==e.width&&t.height==e.height))))}))}}(),a=a.map(((e,r)=>{var o=n[r],a=o.getSlotElementId(),s=t[a].asAdUnit.spaceName;const d=f[r];var c=i.Y.fireEvent("sizesToRemoveBySpace",{spaceName:s,slot:o});return c?(c.includes("fluid")&&d&&(f[r]=0),e.filter((e=>!c.some((t=>"fluid"===t?Z.width==e.width&&Z.height==e.height:t.width===e.width&&t.height===e.height))))):e}));try{a.forEach(((e,r)=>{var o=n[r].getSlotElementId(),a=t[o].asAdUnit;const s=f[r];var d=i.Y.fireEvent("sizesToAddBySpace",{ASAdUnit:a});if(!d)return e;d.forEach((t=>{I(t,e,s)||("fluid"===t?(I(Z,e,s)||e.push({width:Z.width,height:Z.height}),f[r]="height"):e.push({width:t.width,height:t.height}))}))}))}catch(e){Qi.errorf(null,"sizesToAddBySpace error - %o",e)}a.forEach(((e,t)=>{var i=n[t].getSlotElementId(),o=document.getElementById(i),a=r.Z.sizesRemover(o,e);0==(a=a.filter((e=>!!e))).length&&(a=[{width:2,height:3}]),c.push(a);var s=a.map((e=>{let t={getWidth:function(){return e.width},getHeight:function(){return e.height}};return e.width==Z.width&&e.height==Z.height&&(t="fluid"),t}));l.push(s)}));var u,p=0;return u=d.map(((e,t)=>{if(o.indexOf(t)<0)return e;var n=c[p];return p++,n})).map((e=>e.map((e=>e.width+"x"+e.height)))).map((e=>e.join("|"))).join(","),{url:e=function(e,t){const n=!!Y(e),i=t.join(",");return n?N(e,"fluid",i):"".concat(e,"&fluid=").concat(encodeURIComponent(i))}(e=N(e,s,u),f),modifiedSizes:l}}catch(t){return Qi.errorf(null,"modifySizesInUrl errored - %o",t),{url:e,modifiedSizes:n.map((e=>e.getSizes()))}}};var X=function(){fi.addEventListener(fi.Types.XHR_OPEN_PRE,(function(e){try{var n=e.data;if(R(n[1])){var o=n[1],s=function(e){var t=[],n=r.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=r.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){for(var i=n.split("|"),o=0;o<i.length;o++){var s=i[o],d=z("uponitSlotIterationId",s);a[d]&&t.push(a[d])}return t}}(n[1]),d=function(e){for(var t=[],n=window.googletag.pubads().getSlots(),i=0;i<n.length;i++)for(var r=n[i],o=0;o<e.length;o++){var a=e[o];r.getSlotElementId()==a&&t.push(r)}return t}(s),c=function(e){var t=[],n=r.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=r.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){var i,o=r.Z.commonUtils.extractQueryParamFromUrl("csp",e);o&&(i=z("upstdfp",o),Qi.debugf(null,"onCommonSlotTargetDetected - upstdfp: %o",i));for(var a=n.split("|"),s=0;s<a.length;s++){var d=a[s];(i||z("upstdfp",d))&&t.push(s)}return t}}(n[1]);d.forEach((e=>e.clearTargeting("upstdfp"))),n[1]=r.Z.addAcceptableParam(n[1]),n[1]=function(e,t){var n=B(t);if(n)for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];e.indexOf("?")<0?e=e+"?"+i+"="+r:e.indexOf("&"+i+"=")<0&&e.indexOf("?"+i+"=")<0&&(e=e+"&"+i+"="+r)}return e}(n[1],d);var l=H(n[1],d,c);n[1]=l.url;var u=l.modifiedSizes;!function(e,n,i,r){for(let o=0;o<e.length;o++){const a=e[o],s=t[n[a]];let d=[];for(let e=0;e<i[a].length;e++)i[a][e]&&(i[a][e].width&&i[a][e].height?d.push([i[a][e].width,i[a][e].height]):"fluid"===i[a][e]&&d.push("fluid"));let c=[];for(let e=0;e<r[a].length;e++)r[a][e]&&(r[a][e].getWidth&&r[a][e].getHeight?c.push([r[a][e].getWidth(),r[a][e].getHeight()]):"fluid"===r[a][e]&&c.push("fluid"));const l={sendToServer:!0,sendPercentage:1,event:"dfp-size-filtering",meta:{spaceName:s.asAdUnit.spaceName,auctionId:s.asAdUnit.auctionId,sizesBeforeFiltering:d,sizesAfterFiltering:c}};Qi.infof(null,"logAdUnitSizesDfp, spaceName -> ",s.asAdUnit.spaceName,l)}}(c,s,k(o),u),n[1]=function(e){var t=[],n=["21063911","21063048","21063670","21063817","21063671"],i=r.Z.commonUtils.extractQueryParamFromUrl("eid",e);if(!i)return e;for(var o=i.split(","),a=0;a<o.length;a++){var s=o[a];n.indexOf(s)<0&&t.push(s)}return N(e,"eid",t.join(","))}(n[1]),i.Y.fireEvent("onBeforeDfpAdsRequest",{url:n[1]}),Qi.debugf(null,"onDfpAdsRequest - url: %s, slots: %o, relevantIndexes: %o",[n[1],g(d),c]);var p=null,h=null,f=this,m=!1;this.onload=function(){try{if(!p||m)return;m=!0,S(f,d,c,u).then((function(){p.call(f)}))}catch(e){Qi.errorf(null,"addListenersOnHooks: onload: %o",e)}},this.onreadystatechange=function(e){try{if(!h||m)return;4===this.readyState&&(m=!0,200===this.status?S(f,d,c,u).then((function(){h.call(f,e)})):(Qi.criticalf(null,"onDfpAdsRequestError, status: %s, responseText: %s",[this.status,this.responseText]),d.forEach((e=>D({slotId:e.getSlotElementId(),gamResponse:{type:"gam_error"}})))))}catch(e){Qi.criticalf(null,"onReadyStateChangeError, err %o",e)}},setTimeout((()=>{m||(m=!0,Qi.criticalf(null,"addListenersOnHooks - call to GAM failed to respond (in %f seconds)",7),d.forEach((e=>D({slotId:e.getSlotElementId(),gamResponse:{type:"gam_exception"}}))))}),7e3),this.__defineGetter__("onload",(function(){return p})),this.__defineSetter__("onload",(function(e){return p=e,e})),this.__defineGetter__("onreadystatechange",(function(){return h})),this.__defineSetter__("onreadystatechange",(function(e){return h=e,e}))}}catch(e){Qi.errorf(null,"addListenersOnHooks: %o",e)}}))},R=function(e){try{return e&&e.indexOf("doubleclick.net/gampad/ads")>-1&&e.indexOf("upstdfp")>-1}catch(e){}};this.subscribeForEvent=function(e,t){c.subscribeForEvent(e,t)};var O=function(){window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t=e.slot,n=t.getSlotElementId(),i=T(t),a=i&&i.querySelector("iframe");if(d.indexOf(n)>=0)d.splice(d.indexOf(n),1);else{var c=o[n];if(c&&"unresolved"==c.fate&&c.resolve(),function(e){setTimeout((()=>{const t=e.getSlotElementId(),n=document.getElementById(t),i=T(e);if(!(i&&i.querySelector("iframe")&&i&&r.Z.commonUtils.isElementInBody(n)&&n)){const e={sendToServer:!0,sendPercentage:1,event:"creative-removed",meta:{creativeId:t}};Qi.infof(null,"removed creative id -> ",e,e)}}),1e3)}(t),a)if(s.indexOf(n)>-1){s.splice(s.indexOf(n),1);try{i.style.width="1px",i.style.height="1px",a.width="1",a.height="1"}catch(e){Qi.errorf(null,"setGoogletagEvents: %o",e)}}else if("0"===a.width)a.style.setProperty("width","max-content","important");else{const e=a.width;a.style.setProperty("width",e+"px","important")}}}))};var C=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){var e;i.Y.fireEvent("shouldNotWrapGoogleTagRefresh")||(e=window.googletag.pubads().refresh,window.googletag.pubads().refresh=function(t,n,i){if(i)return t?e(t,n):e();Qi.debugf(null,"pub invoked `googletag` refresh - %o",{slots:t&&g(t),settings:n}),t||(t=window.googletag.pubads().getSlots());for(var r=[],o=0;o<t.length;o++)try{var a=t[o].getSlotElementId();a&&r.push(a)}catch(e){Qi.errorf(null,"wrapGoogleTagRefresh: refresh-invoked-by-the-publisher: %o",e)}c.invokeEventCallbacks("refresh",r)}),O(),X(window)}))}};const er=new o.Z({prefix:"dispatch: ",level:o.z.INFO});var tr=new function(){var e=new r.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)},this.dispatchPrebid=function(e){try{const t={},n=[],r=[];e.forEach((e=>{const i=new Ii;t[e.auctionId]=i,n.push(i.promise);const o=e.unit.space.prebidSettings;if(o&&o.enabled)r.push(e);else{var a={auctionId:e.auctionId,bids:[]};i.resolve(a)}}));const o=r.map((e=>{const t=e.unit.space.prebidSettings.bidders;return{auctionId:e.auctionId,biddersSettings:t,spaceName:e.unit.space.name,sizes:e.unit.space.sizes,element:e.unit.element}})),a=o.filter((e=>e.biddersSettings.length>0));let s=[];a.length>0&&(s=Vi.dispatch(a));const d=o.map(((e,t)=>a.includes(e)?s[t]:{auctionId:e.auctionId,bids:[]}));return Promise.all(d).then((function(e){try{for(var n=[],o=0;o<e.length;o++){const t=e[o],d=t.auctionId,c=r.find((e=>e.auctionId==d));var a=t.bids;a=i.Y.fireEvent("passZeroCpmBidsFilter")?a:a.filter((e=>e.cpm>=.01));var s=i.Y.fireEvent("filterPrebidBids");if(s){const e=a.map((e=>({bid:e,rawBid:e.rawBid})));a=s(e)}c.addBids(a),t.bids=a,n.push({auction:c,bids:a})}Gi(n).then((function(n){for(var i in n)if(n.hasOwnProperty(i)){const a=n[i],s=e.find((e=>e.auctionId==i));var r=s.bids;for(var o in a)if(a.hasOwnProperty(o)){const e=a[o],t=r.find((e=>e.bidId==o));t.contentIdHash=e.bidContentIdHash,t.complianceStatus=e.status,t.isBackupCreative=e.backup}t[i].resolve(s)}}))}catch(e){er.errorf(null,"error testing Prebid bid compliance: %o",e)}})),n}catch(e){er.errorf(null,"error in `dispatchHB`: %o",e)}},this.dispatchDFP=function(e){try{const n={},i=[],r=[];e.forEach((e=>{const t=new Ii;n[e.auctionId]=t,i.push(t.promise);const o=e.unit.space.dfpSettings;if(null!=o&&o.enabled)r.push(e);else{const n={auctionId:e.auctionId,bids:[]};t.resolve(n)}}));return t(r,0).forEach((t=>{t.then((function(t){const i=t.auctionId;e.find((e=>e.auctionId==i)).addBids(t.bids),n[i].resolve(t)}))})),i}catch(e){er.errorf(null,"error in `dispatchAS`: %o",e)}};var t=function(e,i){try{const d={},c=[];e.forEach((e=>{const t=new Ii;c.push(t.promise),d[e.auctionId]={auction:e,deferred:t}}));var o=[];e.forEach((e=>{e.unit.space.dfpSettings.order[i]?o.push(e):d[e.auctionId].deferred.resolve({auctionId:e.auctionId,bids:[]})}));var s=o.map((e=>{const t=e.unit.space.dfpSettings;var n=e.getWinningBid(),r=n?n.cpm:0;return{auctionId:e.auctionId,spaceName:e.unit.space.name,params:a(e,t.order[i]),slotElementId:e.unit.element.getAttribute("id"),floorPrice:r}}));return(s.length>0?$i.dispatch(s):[]).forEach((e=>{e.then((function(e){try{const{auctionId:a,bids:c,gamResponse:l}=e,[u]=c,p=o.find((e=>e.auctionId==a)),h=s.find((e=>e.auctionId==a)),f=p.getWinningBid(),g=i+1;if(l&&(l.gamIteration=g,p.addGAMResponse(l)),!u){t([p],i+1)[0].then((function(e){d[a].deferred.resolve(e)}));try{if(f&&1===i){const{ad:e,adId:t,bidderId:n,bidder:i,bidderCode:r,currency:o,creativeId:a,cpm:s,height:d,size:c,width:l,...u}=f,g={sendToServer:!0,event:"AAHBWithEmptyGAM",sendPercentage:1,meta:{auctionID:h.auctionId,winningBidData:u,spaceID:p.unit.space.id}};er.infof(null,"AAHBWithEmptyGAM, auction ID -> ",h.auctionId||"N/A",g)}}catch(e){er.errorf(null,'error checking for "AAHBWithEmptyGAM": %o',e)}return}if(u.gamIteration=g,u.type==On.Bid.Types.DFP_PREBID)return f.additionalBidsToRender.push(u),u.complianceStatus=n.Z.consts.complianceStatus.COMPLIANT,void d[a].deferred.resolve({auctionId:a,bids:[]});if(!(u.type!=On.Bid.Types.ADX_TEXT||h.params.adxShouldTestCompliance||Li(p,u)||function(e){return e.type==En.Types.ADX_TEXT&&[["video-box"],["google-native-video"],["imasdk.googleapis.com/formats/outstream"],["video-in-display"],["vix.eu.criteo.net/concat"],[".video-container","googlevideo.com"],["product-video","googlevideo.com"],["twoOfTwoVertical","animation-container"],["animation:text2Frames","-webkit-animation"]].some((t=>r.Z.commonUtils.matchStringsOnString(t,e.ad)))}(u))){u.complianceStatus=n.Z.consts.complianceStatus.COMPLIANT,d[a].deferred.resolve(e);const t={sendToServer:!0,sendPercentage:1,event:"client_tc_applied",meta:{client_tc_type:"gad_text_ad",auctionID:a,bidderID:u.bidderId}};return void er.noticef(null,"gam text ad: ",u,t)}Gi([{auction:p,bids:[u]}]).then((function(r){if(u.contentIdHash=r[a][u.bidId].bidContentIdHash,u.complianceStatus=r[a][u.bidId].status,u.isBackupCreative=r[a][u.bidId].backup,u.complianceStatus!=n.Z.consts.complianceStatus.COMPLIANT)return u.cancelBid(),void t([p],i+1)[0].then((function(e){e.bids.push(u),d[a].deferred.resolve(e)}));d[a].deferred.resolve(e)})).catch((function(e){u.cancelBid(),t([p],i+1)[0].then((function(e){e.bids.push(u),d[a].deferred.resolve(e)}))}))}catch(e){er.errorf(null,"error handling auction responses from AS: %o",e)}}))})),c}catch(e){er.errorf(null,"error in `innerInvokePostbid`: %o",e)}},o={},a=function(e,t){var n={},i=function(e,t){var n=e.getWinningBid(),i=e.getComplianceBids();const r={...s(n,e.unit),...n?n.getGPTTargeting({complianceBidsInAuction:i}):{},...t.keyValues},a=o[e.unit.unitID]?Object.keys(o[e.unit.unitID]).map((e=>new RegExp(e))):[];return a.push(...["hb_adid","hb_bidder","hb_pb","hb_format","hb_size","hb_source","amznbid","amzniid","amznp","amznsz"].map((e=>new RegExp("".concat(e,".*"))))),o[e.unit.unitID]=r,{toAdd:r,toRemove:a}}(e,t);return n.keyValuesParams=i,n.queryParams=t.params.queryParams||{},n.adxBidderId=t.adx.bidderID,n.adxShouldTestCompliance=t.adx.testCompliance,n.directBidderId=t.direct.bidderID,n},s=function(e,t){var i={up_bidder:!0};if(e&&e.bidder)if("s2s"===e.rawBid.source)i.up_bidder=Sn.v.btDemand.snigel;else if("relay"===e.bidder)i.up_bidder=Sn.v.btDemand.relay;else if(["true","false","undefined","152media","33across","a4g","aardvark","adblade","adbund","adbutler","adform","adkernel","adkerneladn","admedia","admixer","adocean","adsparc","adspirit","adsupply","adtelligent","adxcg","adyoulike","aerserv","amazon","andbeyond","aol","appnexus","appnexusAst","arteebee","atomx","audienceNetwork","automatad","beachfront","betweendigital","bidfluence","brainy","brealtime","bridgewell","brightcom","buysellads","c1x","carambola","clickforce","clickonometrics","colossus","connectad","consumable","contentIgnite","conversant","cox","cpx","criteo","defymedia","dgads","districtm","districtmDMX","e-planning","emx_digital","emxdigital","engagebdr","essens","fairtrade","featureForward","fidelityMedia","freewheel-ssp","fyber","gamma","gamoshi","getintent","gourmetAds","gumgum","gxone","imonomy","improvedigital","indexExchange","IndexExchange","inneractive","innity","inskin","insticator","invibes","iqm","ix","justpremium","kargo","komoona","kumma","lifestreet","lkqd","lockerdome","madvertise","marsmedia","matomy","media.net","medianet","mobfox","my6sense","mytarget","nginad","nobid","oftmedia","onemobile","oneplanetonly","onetag","openx","optimatic","optimera","orbitsoft","peak226","piximedia","platform.io","playgroundXyz","polluxNetwork","polymorph","prebidServer","pubgears","pubmatic","pulsepoint","pulsepointLite","quantcast","quantum","readpeak","realvu","rhythmone","rockyou","roxot","rtbdemandadk","rtbdemandBidder","rtbhouse","rubicon","rxrtb","sara","sekindoum","serverbid","sharethrough","smart","smartyads","soloway","somoAudience","sonobi","sortable","sovrn","spotx","springserve","stickyadstv","tapsense","teads","thoughtleadr","tremor","trionInteractive","triplelift","trustx","twenga","ucfunnel","underdogmedia","undertone","unruly","upo","upo1","upo10","upo2","upo3","upo4","upo5","upo6","upo7","upo8","upo9","vertamedia","vertoz","vi","vidazoo","vis.x","vuble","weborama","wideorbit","widespace","xaxis","xendiz","yahoossp","yieldbot","yieldlab","yieldmo","yieldone"].indexOf(e.bidder)>-1)i.up_bidder=e.bidder;else{const t={sendToServer:!0,event:"upBidder_unknownBidder",meta:{bidder:e.bidder,bidderCode:e.bidderCode},sendPercentage:1};er.noticef(null,"unknown bidder for up_bidder targeting -> ",e.bidder,t)}var r=_n.topmostAccessibleWindow.location.hostname;0===r.indexOf("www.")&&(r=r.replace("www.",""));var o=r;o=o.match(/(co\.il|co\.uk|org\.il)/)?o.replace("www.","").split(".").splice(-3).join("."):o.replace("www.","").split(".").splice(-2).join("."),i.up_recovery="true";var a=Ln.Xh(),s=Ln.Uh(),d=Ln.Jv();i.up_browser=a,i.up_device=s,i.up_platform=d,i.up_domain=r,i.up_website=o,i.up_website_id=n.Z.SharedObject.getItem("websiteConfig").websiteID;const c=t.countOfDispatches-1;return i.up_refresh=c>30?"30":"".concat(c),i};$i.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),$i.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)})),Vi.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),Vi.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)}))},nr=new function(){var e=[];this.set=function(t){e.push(t)},this.getBySpace=function(t){for(var n=0;n<e.length;n++){var i=e[n];if(i.space==t)return i}},this.getByElement=function(t){return e.find((e=>e.element===t))},this.getAll=function(){return e},this.purgeUnitsWithNoElementOnPage=function(){e=e.filter((e=>r.Z.commonUtils.isElementInBody(e.element)))}};const ir=new o.Z({prefix:"refresh: "});var rr=new function(){this.initialize=function(l){let{invokeSpaces:u}=l;const p=function(i){let{invokeSpaces:c}=i;function l(){if(!document.hasFocus())return void ir.debugf(null,"triggerRefresh: User not on page (tab/window out of focus), no refreshes attempted.");if(0===e.size)return;const i=new Map;if(e.forEach(((t,r)=>{if(t.expiresAt&&t.expiresAt<Date.now())return void e.delete(r);let d,c;const l=ki({selector:r.selector.value});l===n.Z.consts.elementVisibility.VISIBLE?(d=t.skipComplianceCheck||function(){const e=Date.now();return e-o<(o===a?2500:500)+s}(),c="IS_VISIBLE"===t.whenVisibility||"ANY"===t.whenVisibility):l===n.Z.consts.elementVisibility.HIDDEN?(d=!0,c="IS_HIDDEN"===t.whenVisibility||"ANY"===t.whenVisibility):l===n.Z.consts.elementVisibility.NOT_FOUND&&e.delete(r),d&&c&&(e.delete(r),i.set(r,t))})),0===i.size)return void ir.debugf(null,"triggerRefresh: No eligible refreshes in queue to attempt: %o",d(e));const l=[],u={};i.forEach(((e,t)=>{l.push(t),r.Z.commonUtils.isNumber(e.minTimeBetweenRefreshes)&&(u[t]=e.minTimeBetweenRefreshes)}));const p={filteringSettings:{minTimeBetweenRefreshesBySpace:u}};ir.infof(null,"Attempting to refresh: %o\nLeft in queue: %o",[d(i),d(e)]),c(l,p).then((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const n=l.filter((t=>!e.includes(t)));n.length>0&&(n.forEach((e=>{t(i.get(e))})),ir.infof(null,"Could not refresh & requeued: %o",n))}))}return r.Z.commonUtils.debounce(l,s)}({invokeSpaces:u});!function(e){let{triggerRefresh:n}=e;pi(n),window.addEventListener("onUserReturnedToPage",(()=>{!function(){const{unitVisibility:e}=i.Y.fireEvent("refreshOnReturnToPage")||{};if(e){const n=nr.getAll().filter((t=>("ANY"===e||e===ki({element:t.element,useIABDefinition:!0}))&&t.lastInvokeTime&&Date.now()-t.lastInvokeTime.getTime()>5e3));if(n.length>0){n.forEach((e=>{t({space:e.space,whenVisibility:"ANY",skipComplianceCheck:!0,minTimeBetweenRefreshes:0,expiresAt:Date.now()+1e3})}));const e={event:"refreshOnReturnToPage",sendToServer:!0,sendPercentage:1,meta:{totalUnitsQueuedForRefresh:n.length,unitsQueuedForRefresh:n.map((e=>({elementId:e.element.id,space:{name:e.space.name,templateSpaceName:e.space.templateSpaceName},gamAdUnitPath:e.gamAdUnitPath,prevDispatchCount:e.countOfDispatches,prevRenderCount:e.countOfRenders,secsSinceLastAuction:e.lastInvokeTime?((Date.now()-e.lastInvokeTime.getTime())/1e3).toFixed(1):"Never"}))),secsSinceLastRefreshOnRTP:c?((Date.now()-c)/1e3).toFixed(1):"Never"}};ir.infof(null,"refreshOnReturnToPage, units ->",n,e),c=Date.now()}}}(),n()})),window.addEventListener("locationChange",(()=>{!function(){let{locationChanged:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Date.now();o=t,e&&(a=t)}({locationChanged:!0})}))}({triggerRefresh:p});(i.Y.hasEventListener("spaceRefreshOnInterval")||i.Y.hasEventListener("spaceRefreshSettings"))&&(this.spaceRefreshOnInterval=function(e){let{triggerRefresh:r}=e;return e=>{let{space:o,unitDispatchCount:a}=e;const s={space:o,unitDispatchCount:a},d=i.Y.fireEvent("spaceRefreshOnInterval",s)||i.Y.fireEvent("spaceRefreshSettings",s);if(d){let{whenVisibility:e,type:a,skipComplianceCheck:s=!1}=d;if(s=s||i.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:o}),!e){if(!a)return void ir.errorf(null,"spaceRefreshSettings [deprecated]: Use new hook `spaceRefreshOnInterval` and provide `whenVisibility`.");switch($n.commonBLUtils.refreshTypeDecoder(a)){case n.Z.consts.refreshType.UNKNOWN:return void ir.errorf(null,"spaceRefreshSettings [deprecated]: Invalid refresh `type` %s",a);case n.Z.consts.refreshType.ALL:case n.Z.consts.refreshType.VISIBLE:return void ir.debugf(null,"spaceRefreshSettings [deprecated]: Ignoring refresh with `type` %s",a);case n.Z.consts.refreshType.HIDDEN:e="IS_HIDDEN"}}const c=d.interval||d.rate||3e4;setTimeout((function(){t({space:o,whenVisibility:e,skipComplianceCheck:s}),r()}),c),ir.infof(null,"spaceRefreshOnInterval: Refresh to be enqueued (& attempted) in %i secs: %o",[c/1e3,{spaceName:o.name,space:o,whenVisibility:e,skipComplianceCheck:s}])}}}({triggerRefresh:p}));(function(e){let{triggerRefresh:r}=e;tr.subscribeForEvent("refresh",(function(e){e.forEach((e=>{const r=document.getElementById(e),o=r&&nr.getByElement(r),a=o&&o.space;if(a&&o.countOfDispatches>0){let e;const s=ki({element:r});if(s===n.Z.consts.elementVisibility.VISIBLE)e="IS_VISIBLE";else if(s===n.Z.consts.elementVisibility.HIDDEN)e="IS_HIDDEN";else if(s===n.Z.consts.elementVisibility.NOT_FOUND)return;const d=i.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:a});ir.infof(null,"googletag refresh: Enqueuing: %o",{spaceName:a.name,space:a,correspondingUnit:o,whenVisibility:e,skipComplianceCheck:d}),t({space:a,whenVisibility:e,skipComplianceCheck:d})}})),r()}))})({triggerRefresh:p}),function(e){let{invokeSpaces:t}=e,n=[];i.Y.addEventListener("refreshByForce",(function(e){var i=e.data,r=i&&i.settings,o=Di.getAll(),a=r&&r.minTimeBetweenRefreshes,s=r&&r.shouldRefreshFailedSpaces,d=r&&r.spacesNames,c=r&&r.shouldRefreshAllSpaces,l=[],u={filteringSettings:{minTimeBetweenRefreshes:a}};c?l=o:(s&&(l=[...l,...n]),d&&o.forEach((e=>{d.indexOf(e.name)>-1&&l.push(e)}))),l=[...new Set(l)],ir.infof(null,"refreshByForce (settings: %o): Re-auctioning Spaces: %o",[r,l]),t(l,u).then((function(e){n=l.filter((t=>e.indexOf(t)<0))}))}))}({invokeSpaces:u})},this.minTimeBetweenAuctionsUnitsFilter=function(e,t){let o=n.Z.upoSettings.minTimeBetweenRefreshes;i.Y.hasEventListener("minTimeBetweenRefreshes")&&(o=i.Y.fireEvent("minTimeBetweenRefreshes"));r.Z.commonUtils.isNumber(t.minTimeBetweenRefreshes)&&(o=t.minTimeBetweenRefreshes);const s=t.minTimeBetweenRefreshesBySpace||{};return e.filter((e=>{let t;if(e)if(e.lastInvokeTime){const n=r.Z.commonUtils.isNumber(s[e.space])?s[e.space]:o,i=Date.now()-e.lastInvokeTime.getTime();i>n||a&&e.lastInvokeTime.getTime()<a?(t=!0,ir.infof(null,"Re-auctioning Unit: %o",e)):(t=!1,ir.infof(null,"Must wait at least %i seconds before we can re-auction Unit: %o",[(n-i)/1e3,e]))}else t=!0;else t=!1;return t}))},this.spaceRefreshOnInterval;const e=new Map;function t(t){let{space:n,whenVisibility:r,skipComplianceCheck:o,minTimeBetweenRefreshes:a,expiresAt:s}=t;"IS_VISIBLE"===r&&i.Y.fireEvent("dontQueueViewableRefreshes",{space:n})?ir.debugf(null,"queueSpaceForRefresh: `dontQueueViewableRefreshes` hook set to not enqueue refresh: &o",{spaceName:n.name,space:n,whenVisibility:r,skipComplianceCheck:o,minTimeBetweenRefreshes:a,expiresAt:s||"Never"}):e.set(n,{space:n,whenVisibility:r,skipComplianceCheck:o,minTimeBetweenRefreshes:a,expiresAt:s})}let o,a;const s=500;function d(e){return Array.from(e.values()).map((e=>{let{space:t,...n}=e;return{spaceName:t.name,space:t,...n}}))}let c};function or(e){const t=i.Y.fireEvent("maxAmountOfUnitDispatches");return t?e.filter((e=>e.countOfDispatches<t)):e}function ar(e,t){return rr.minTimeBetweenAuctionsUnitsFilter(e,t)}function sr(e){return e.filter((e=>!i.Y.fireEvent("filterOutUnitToBeAuctioned",{unit:e})))}function dr(e){const t=e.map((e=>e.element));return e.filter(((e,n)=>t.indexOf(e.element)==n))}function cr(e,t){return new Promise(((n,i)=>{t&&t.definedSlotsFilteringSettings&&(t.definedSlotsFilteringSettings.dfpEnabled||t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots)?window.googletag.cmd.push((function(){const i=window.googletag.pubads().getSlots(),r=[];e.forEach((e=>{t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots||e.space.dfpSettings.enabled?i.forEach((t=>{t.getSlotElementId()===e.element.getAttribute("id")&&(e.gamAdUnitPath=function(e){let t=e.getAdUnitPath();"/"===t.charAt(0)&&(t=t.slice(1));const[n,...i]=t.split("/");return{networkCode:n,adUnit:"/".concat(i.join("/"))}}(t),r.push(e))})):r.push(e)})),n(r)})):n(e)}))}var lr=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){window.__cmp&&window.__cmp("getVendorConsents",null,(function(e){e&&e.gdprApplies&&(e.purposeConsents&&e.purposeConsents[1]&&e.purposeConsents[2]&&e.purposeConsents[3]&&e.purposeConsents[4]&&e.purposeConsents[5]||window.googletag.pubads().setRequestNonPersonalizedAds(1))})),i.Y.fireEvent("skipDisableInitialLoad")||window.googletag.pubads().disableInitialLoad(),i.Y.fireEvent("disableSingleRequest")||window.googletag.pubads().enableSingleRequest(),i.Y.fireEvent("collapseEmptyDivs")&&window.googletag.pubads().collapseEmptyDivs(!0),window.googletag.pubads().enableAsyncRendering(),window.googletag.enableServices()}))},ur=function(e){if("dfp"===e)return lr};const pr=new o.Z({prefix:"prebidPostset: "});let hr;var fr=function(){hr=n.Z.cpbjs,n.Z.upoSettings.prebidTimeout=i.Y.fireEvent("prebidTimeout")||n.Z.upoSettings.prebidTimeout,function(){const e=n.Z.SharedObject.getItem("whitelistingIFrame");e?hr.setCookieFrame({frame:e,isBTSafeFrameDomain:e.src===Tn.W}):i.Y.addEventListener("whitelistingIFrameLoaded",(function(e){hr.setCookieFrame({frame:e.data.whitelistingIFrame,isBTSafeFrameDomain:e.data.whitelistingIFrame.src===Tn.W})}))}(),function(){try{const e=window.pbjs,t=e&&e.version&&parseInt(e.version[1]);if(t&&!isNaN(t)&&t>=4){const t=e.getConfig("consentManagement");if(t&&(t.gdpr||t.usp))return void hr.setConfig({consentManagement:t})}}catch(e){pr.errorf(null,"setConsentConfig: copy publisher consentManagement settings: %o",e)}try{"function"==typeof window.__tcfapi&&window.__tcfapi("ping",2,(function(e){if(e&&e.cmpLoaded&&e.gdprApplies){const e={consentManagement:hr.getConfig().consentManagement||{}};e.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},hr.setConfig(e)}}))}catch(e){pr.errorf(null,"setConsentConfig: __tcfapi: %o",e)}try{"function"==typeof window.__cmp&&"function"!=typeof window.__tcfapi&&window.__cmp("getConsentData",null,(function(e){if(e&&e.gdprApplies){const e={consentManagement:hr.getConfig().consentManagement||{}};e.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},hr.setConfig(e)}}))}catch(e){pr.errorf(null,"setConsentConfig: __cmp: %o",e)}try{"function"==typeof window.__uspapi&&window.__uspapi("getUSPData",1,(function(e,t){if(t&&e.uspString){const e={consentManagement:hr.getConfig().consentManagement||{}};e.consentManagement.usp={cmpApi:"iab",timeout:100},hr.setConfig(e)}}))}catch(e){pr.errorf(null,"setConsentConfig: __uspapi: %o",e)}}(),hr.que.push((function(){hr.setConfig({userSync:{userIds:[{name:"pubProvidedId",params:{eidsFunction:function(){return[{source:"blockthrough.com",uids:[{id:"bt-aauser",atype:1,ext:{stype:"ppuid"}}]}]}}},{name:"id5Id",params:{partner:993},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}],auctionDelay:50}})})),function(){const e={};hr.onSendLog((function(t,n,i,r){if(r.meta.fired){const t=1;e[r.meta.uid]=(0,_n.getTrueByProbability)(t)}if(e[r.meta.uid])return r={...r,sendPercentage:101,sendToServer:!0},void pr.infof(t,n,i,r);r.sendPercentage&&(r={...r,sendToServer:!0},pr.infof(t,n,i,r))}))}(),hr.onBeforeRequest((function(e){let t=e&&r.Z.addAcceptableParam(e);if(t.includes("criteo.com/cdb")&&i.Y.fireEvent("addCriteoAdblockQueryParam")){const e=t.includes("abp=1");t=e?t:"".concat(t,"&abp=1")}return t})),hr.aliasBidder("pulsepointLite","pulsepoint"),hr.aliasBidder("indexExchange","ix"),hr.aliasBidder("ix","indexExchange"),hr.aliasBidder("my6sense","upo2"),hr.aliasBidder("lockerdome","upo3"),hr.aliasBidder("appnexus","appnexus_cl"),hr.aliasBidder("rubicon","rubi_ttd"),hr.aliasBidder("rubicon","rubi_mm"),hr.aliasBidder("rubicon","pgRubicon"),hr.aliasBidder("rubicon","rubiconAU"),hr.aliasBidder("rubicon","rubi_ss"),hr.aliasBidder("colossus","colossusssp"),hr.aliasBidder("pubmatic","PubmaticAU"),hr.aliasBidder("pubmatic","pubmatic_cl"),hr.aliasBidder("pubmatic","pubmatic_alien"),function(){const e=window.pbjs||window.jitaJS;e&&e.bidderSettings&&(hr.bidderSettings=e.bidderSettings);const t=e&&e.getConfig&&e.getConfig();let r,o="high";if(t){const e=t.customPriceBucket,n=t.priceGranularity;o="custom"===n?e:n,r=t.currency}hr.setConfig({bidderTimeout:n.Z.upoSettings.prebidTimeout,maxRequestsPerOrigin:6,priceGranularity:o,userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}},syncsPerBidder:25,syncEnabled:!0},floors:{enforcement:{floorDeals:!0},data:{schema:{fields:["mediaType"]},values:{banner:.03}}}}),r&&hr.setConfig({currency:r});i.Y.fireEvent("priceFloor",{cpbjs:hr})}(),function(){const{websiteStoredRequestId:e}=i.Y.fireEvent("snigelAdapterConfiguration")||{};e&&hr.setConfig({s2sConfig:[{defaultVendor:"snigel",accountId:"1000",bidders:[],extPrebid:{storedrequest:{id:e}}}]})}(),function(){if(i.Y.hasEventListener("enableRelayAdapter")){const{sid:e}=i.Y.fireEvent("enableRelayAdapter")||{},t=e||n.Z.SharedObject.getItem("websiteConfig").websiteID;hr.setConfig({relayAccountId:12021}),hr.setBidderConfig({bidders:["relay"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"blockthrough.com",sid:t,hp:1}]}}}})}}(),hr.setBidderConfig({bidders:["rubicon"],config:{ortb2:{site:{ext:{data:{keywords:"blockthrough"}}}}}});const e=i.Y.fireEvent("scrapePrebidRequestBids");e&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onListenerAdded:t,pollingInterval:n=100,maxIntervalCount:i=50}=e;if(gr())mr(t);else{let e=0;const r=setInterval((function(){e++,e>=i?clearInterval(r):gr()&&(clearInterval(r),mr(t))}),n)}}(e),i.Y.fireEvent("addIndexExchangeWrappers")&&function(){const e={aol:"ix_aol_om",appnexus:"ix_apnx_om",beachfront:"ix_bft_cpm",colossusssp:"ix_clss_cpm",consumable:"ix_cnsm_cpm",conversant:"ix_conv_cpm",criteo:"ix_cdb_om",districtm:"ix_dism_om",districtmDMX:"ix_dis_cpm",emx_digital:"ix_brt_cpm",gumgum:"ix_gum_cpm",improvedigital:"ix_imdi_cpm",justpremium:"ix_justp_cpm",kargo:"ix_karg_om",lockerdome:"ix_lkdm_cpm",onedisplay:"ix_oath_cpm",onemobile:"ix_oath_cpm",openx:"ix_ox_om",optimera:"ix_opti_cpm",piximedia:"ix_pix_cpm",pubmatic:"ix_pubm_om",pulsepoint:"ix_pp_om",pxyz:"ix_pxyz_cpm",quantcast:"ix_qua_cpm",rubicon:"ix_rubi_om",sharethrough:"ix_shth_cpm",sonobi:"ix_sbi_om",sovrn:"ix_sovrn_om",triplelift:"ix_tpl_cpm",trustx:"ix_trstx_cpm",indexExchange:"IOM",ix:"IOM",undertone:"ix_undr_cpm"};function t(e){return(100*parseFloat(e)).toFixed()}for(const n in e)hr.bidderSettings[n]={adserverTargeting:[{key:e[n],val:function(e){var n=hr.getConfig().priceGranularity;return"auto"===n?e.size+"_"+t(e.pbAg):"dense"===n?e.size+"_"+t(e.pbDg):"low"===n?e.size+"_"+t(e.pbLg):"medium"===n?e.size+"_"+t(e.pbMg):"high"===n?e.size+"_"+t(e.pbHg):"custom"===n?e.size+"_"+t(e.pbCg):e.size+"_"+t(e.pbHg)}}]}}(),function(){const e=i.Y.fireEvent("provideSChainConfig");e&&hr.que.push((function(){try{if(!window[e.prebidVariable].getConfig("schain"))throw new Error("Could not find publisher's schain in their prebid variable - use manual fallback.");hr.setConfig({schain:window[e.prebidVariable].getConfig("schain")})}catch(t){try{const t=e.manualFallback||{};hr.setConfig({schain:{validation:"strict",config:{ver:"1.0",complete:null!==t.complete&&void 0!==t.complete?t.complete:1,nodes:[{asi:t.asi,sid:t.sid,hp:null!==t.hp&&void 0!==t.hp?t.hp:1}]}}})}catch(e){pr.errorf(null,"setPublisherSChain: error within manual fallback cpbjs.setConfig(): %o",e)}}}))}(),i.Y.fireEvent("prebidDoneInit",{cpbjs:hr})};function gr(){return window.pbjs&&window.pbjs.onEvent}function mr(e){try{window.pbjs.onEvent("beforeRequestBids",(function(e){const t=window.pbjs.adUnits||[],n=t.map((e=>{let{code:t}=e;return t})),i=e.filter((e=>!n.includes(e.code)));i.length>0&&(window.pbjs.adUnits=[...t,...i])})),e&&e()}catch(e){pr.errorf(null,"prebidPostset - listen to pbjs.requestBids: %o",e)}}var wr=function(e){if("prebid"===e)return fr},br=new function(){var e=new r.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)};this.load=function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e.invokeEventCallbacks("preset"),new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){Promise.all([new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){e()})),n.addEventListener("error",(function(e){t(e)})),n.src="https://adservice.google.com/adsid/integrator.js?domain="+_n.topmostAccessibleWindow.location.hostname+"&upapi=true",(document.head||document.body||document.documentElement).appendChild(n)})),new Promise((function(e,t){var n=!1;try{if(window.googletag&&window.googletag.getVersion){n=!0;const i=document.createElement("script");i.async="true",i.type="text/javascript",i.addEventListener("load",(function(){e()})),i.addEventListener("error",(function(e){t(e)})),i.src="https://securepubads.g.doubleclick.net/gpt/pubads_impl_"+window.googletag.getVersion()+".js?upapi=true",(document.head||document.body||document.documentElement).appendChild(i)}}catch(e){t("error in getting pubads_impl -> "+e)}if(window.googletag._vars_){var i=window.googletag._vars_,r=[21063911,21063048,21063670,21063817,21063671],o=[];for(var a in i){var s=i[a];if("string"==typeof s&&s.indexOf("pubads_impl_")>-1&&!n)try{n=!0;const i=document.createElement("script");i.async="true",i.type="text/javascript",i.addEventListener("load",(function(){e()})),i.addEventListener("error",(function(e){t(e)})),s.indexOf("?")>-1?i.src=s+"&upapi=true":i.src=s+"?upapi=true",(document.head||document.body||document.documentElement).appendChild(i)}catch(e){t("error in getting pubads_impl -> "+e)}else if(Array.isArray(s))try{var d=s.length;if(r)for(;d--;){const e=s[d];r.indexOf(e)>-1&&s.splice(d,1)}if(o)for(var c=0;c<o.length;c++){const e=o[c];-1===s.indexOf(e)&&s.push(e)}}catch(e){console.error("error in adding/removing eids -> "+e)}}}n||t()}))]).then((function(){e()}),(function(e){t(e)}))})),n.addEventListener("error",(function(){t()})),n.src="//www.googletagservices.com/tag/js/gpt.js?upapi=true",(document.head||document.body||document.documentElement).appendChild(n)}))}},yr=__webpack_require__(228),Mr=new r.Z.SubscriptionLayer,vr=!1,_r=function(e){switch(vr||vr||(vr=!0,br.subscribeForEvent("preset",(function(){Er("dfp")})),br.subscribeForEvent("postset",(function(){Nr("dfp")})),yr.k.subscribeForEvent("preset",(function(){Er("prebid")})),yr.k.subscribeForEvent("postset",(function(){Nr("prebid")}))),e){case"dfp":br.load();break;case"prebid":yr.k.load()}},Dr=function(e,t){Mr.subscribeForEvent(e,t)},Er=function(e){Mr.invokeEventCallbacks(e)},Tr=function(e,t){Mr.subscribeForEvent(e,t)},Nr=function(e){Mr.invokeEventCallbacks(e)};const zr=new o.Z({prefix:"defaultCreativeBid: "});function Br(e,t){var n=[],i=!1;function r(t){var r=e.height+"px",o=e.width+"px",a=e.creativeHTML,s=document.createElement("div");s.className="default-creative-container",s.style.height=r,s.style.width=o;var d=$n.whitelistingIFrame.createWhitelistingIFrame(e.customWhitelistingIFrameURL);d.className="default-creative-iframe",d.setAttribute("scrolling","no"),d.setAttribute("marginwidth","0"),d.setAttribute("marginheight","0"),d.setAttribute("height",r),d.setAttribute("width",o),s.appendChild(d);const c=()=>{try{if(d.removeEventListener("load",c),d.src===Tn.W)d.contentWindow.postMessage(JSON.stringify({message:"Render Secure Creative",ad:a}),"*");else{var e=d.contentWindow.document;if(navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox/")>-1){const t=/firefox\/([\d.]+)/;let n=navigator.userAgent.toLowerCase().match(t)[1];n&&parseInt(n,10)<67&&e.open("text/html","replace")}e.write(a),e.close()}i=!0,n.forEach((e=>e()))}catch(e){zr.errorf(null,"auction: createDefaultCreativeBid: renderDefaultCreative: %o",e)}};d.addEventListener("load",c),t.appendChild(s)}var o={ad:e.creativeHTML,bidder:"default-creative",bidderId:"default-creative-"+t.unit.space.name,bidderCode:e.providerName||"default-creative",width:e.width,height:e.height},a=new On.Bid(o,o,On.Bid.Types.DEFAULT_CREATIVE,void 0,(function(e){r(e.placement)}),void 0,(function(e){i?e():n.push(e)}),void 0);return a}const xr=new o.Z;var Sr=new function(){var e,t=!1,o=[],a=[],s=!1;let d,c=_n.topmostAccessibleWindow.localStorage.getItem("btUserCountry");function l(){return window.pbjs&&window.pbjs.adUnits}function u(e){return h(M(e))}function p(){const e=[],t=i.Y.fireEvent("auctionBlockerHook");t&&e.push(t);const r=function(){if(n.Z.upoSettings.amazonBidderConfiguration.enabled&&!window.apstagLOADED){if(!Oi){Oi=!0;const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//c.amazon-adsystem.com/aax2/apstag.js?upapi=true",e.addEventListener("load",(()=>Xi())),e.addEventListener("error",(()=>Xi())),(document.head||document.body||document.documentElement).appendChild(e);const t=25;let n=0;const i=setInterval((()=>{(window.apstagLOADED||n>=t)&&(clearInterval(i),Xi()),n++}),100)}return Wi}}();return r&&e.push(r),e}function h(t,n){const r=p();return Promise.all(r).then((()=>function(e){const t=[],n=[];return e.forEach((e=>{var r,o,a=$n.commonBLUtils.getSpaceElement(e);a&&((r=nr.getByElement(a))||((o=a).alreadyWraped||(fi.hookFunction(o,"setAttribute",fi.Types.SET_ATTRIBUTE_PRE,void 0,!0),o.alreadyWraped=!0),r=new On.Unit({element:a,space:e}),i.Y.fireEvent("onNewUnitFound",r),nr.set(r),n.push(r)),r&&r.space==e&&t.push(r))})),function(e){const{AD_UNIT_PATH_PREFIX:t,deriveDataFromUnitForSpaces:n,slotDataBySpaceName:r}=i.Y.fireEvent("newGAMSlotsOnUnitCreation")||{};e.length>0&&(n||r)&&window.googletag.cmd.push((function(){try{e.forEach((e=>{let i,o,a,{unitID:s,element:d,space:c}=e;const l=n&&n.includes(c.name)&&t,u=r&&r[c.name];(l||u)&&(u&&({adUnitPath:i,sizes:o,slotElementId:a}=r[c.name]||{}),!i&&t&&(i="".concat(t).concat(c.name)),o||(o=c.sizes.map((e=>e.split("x").map((e=>parseInt(e,10))))).filter((e=>2===e.length&&!isNaN(e[0])&&!isNaN(e[1])))),a||(d.id||d.setAttribute("id","bt-unit-".concat(s)),a=d.id),i&&o&&o.length>0&&a&&vi(i,o,a))}))}catch(e){Mi.errorf(null,"error defining new GAM slots on Unit creation",e)}}))}(n),t}(t))).then((t=>function(t,n){return new Promise((function(r,a){if(0!==t.length){i.Y.fireEvent("onBeforeInvokeDispatch",{spaces:t.map((e=>e.space))}),function(e){e.forEach((e=>{let{space:t}=e;i.Y.fireEvent("modifySpacesOnBeforeFetching",{space:t})}))}(t);var l={};n&&(l=n.filteringSettings||{}),async function(t,n){const i={definedSlotsFilteringSettings:{dfpEnabled:e.dfp,alwaysFilterByGoogletagSlots:s}};n={...i,...n};let r=t.filter((e=>e.state===On.Unit.States.PENDING));if(r.length>0){r.forEach((e=>{e.state=On.Unit.States.CHECKING}));let e=[...r];for(const t of y)if(r=await t(r,n),e=e.filter((e=>{const t=r.includes(e);return t||(e.state=On.Unit.States.PENDING),t})),0===r.length)break}return r}(t,l).then((function(t){try{if(Ci(t),r(t||[]),!t||0===t.length)return;const n=t.map((e=>e.space));$n.movePositionService.dispatch(n);const a=t.map((e=>new On.Auction({unit:e})));if(i.Y.fireEvent("onAuctionGroupStarted",a),function(e){e.forEach((e=>{e.state=On.Auction.States.DISPATCHED,e.unit.state=On.Unit.States.DISPATCHED,o.push(e),e.unit.countOfDispatches++,e.unit.lastInvokeTime=new Date,i.Y.fireEvent("onAuctionStarted",{auction:e})}))}(a),_n.topmostAccessibleWindow.__bt_intrnl.stopFlag)return;i.Y.fireEvent("onPrebiddingStarted",a);const s=tr.dispatchPrebid(a);Promise.all(s).then((function(t){if(i.Y.fireEvent("onPrebiddingEnded",a),_n.topmostAccessibleWindow.__bt_intrnl.stopFlag)return;tr.dispatchDFP(a).forEach((t=>{t.then((t=>{const n=a.find((e=>e.auctionId==t.auctionId)),r=n.getWinningBid();if(r&&r.type===On.Bid.Types.PREBID&&0===r.additionalBidsToRender.length&&e.dfp&&n.unit.space.dfpSettings.enabled&&n.cancelAllCurrentBids(),_n.topmostAccessibleWindow.__bt_intrnl.stopFlag)return;const o=i.Y.fireEvent("getDefaultCreative",{auction:n}),s=function(e){let t,n,i,r=!1;const o="https://helpua.nazk.gov.ua/?utm_source=adt_f&utm_medium=cpm&utm_campaign=Blockthrough&utm_id=adt_f_traffic";return["728x90","300x250","160x600"].every((o=>{if(e.includes(o)){const e=o.split("x");return n=e[0],t=e[1],i=function(e){var t,n;const i={"300x250":["300x250-1.jpg","300x250-2.png","300x250-3.jpg","300x250-4.jpg"],"160x600":["160x600-1.jpg","160x600-2.png","160x600-3.jpg","160x600-4.jpg"],"728x90":["728x90-1.jpg","728x90-2.png","728x90-3.jpg","728x90-4.jpg"]},r=null===(t=i[e])||void 0===t?void 0:t[Math.floor(Math.random()*(null===(n=i[e])||void 0===n?void 0:n.length))];return r?"//ads2ads.net/ua/".concat(r):null}(o),r=!!i,!1}return!0})),r?{width:n,height:t,creativeHTML:"<a href='".concat(o,"' target='_blank'><img src='").concat(i,"'></a>"),providerName:"uaCharityV2"}:null}(n.unit.space.sizes);let l;d?l=function(e,t){const n=["120x600","250x250","300x250","336x280","728x90"],i=["120x600","250x250","300x250","336x280","728x90"];e=e.filter((e=>"RU"===t?n.includes(e):i.includes(e)));let r=e[Math.floor(Math.random()*e.length)];const o="RU"===t?"r":"b",a=function(e,t){var n,i,r,o;const a={"120x600":["120x600-1.jpg","120x600-2.jpg","120x600-3.jpg","120x600-4.jpg","120x600-5.jpg","120x600-6.jpg","120x600-7.jpg","120x600-8.jpg","120x600-9.jpg","120x600-10.jpg","120x600-11.jpg","120x600-12.jpg"],"250x250":["250x250-1.jpg","250x250-2.jpg","250x250-3.jpg","250x250-4.jpg","250x250-5.jpg","250x250-6.jpg","250x250-7.jpg","250x250-8.jpg","250x250-9.jpg","250x250-10.jpg","250x250-11.jpg","250x250-12.jpg"],"300x250":["300x250-1.jpg","300x250-2.jpg","300x250-3.jpg","300x250-4.jpg","300x250-5.jpg","300x250-6.jpg","300x250-7.jpg","300x250-8.jpg","300x250-9.jpg","300x250-10.jpg","300x250-11.jpg","300x250-12.jpg"],"336x280":["336x280-1.jpg","336x280-2.jpg","336x280-3.jpg","336x280-4.jpg","336x280-5.jpg","336x280-6.jpg","336x280-7.jpg","336x280-8.jpg","336x280-9.jpg","336x280-10.jpg","336x280-11.jpg","336x280-12.jpg"],"728x90":["728x90-1.jpg","728x90-2.jpg","728x90-3.jpg","728x90-4.jpg","728x90-5.jpg","728x90-6.jpg","728x90-7.jpg","728x90-8.jpg","728x90-9.jpg","728x90-10.jpg","728x90-11.jpg","728x90-12.jpg"]},s={"120x600":["120x600-13.jpg","120x600-14.jpg"],"250x250":["250x250-13.jpg","250x250-14.jpg"],"300x250":["300x250-13.jpg","300x250-14.jpg"],"336x280":["336x280-13.jpg","336x280-14.jpg"],"728x90":["728x90-13.jpg","728x90-14.jpg"]},d="r"===t?null===(n=a[e])||void 0===n?void 0:n[Math.floor(Math.random()*(null===(i=a[e])||void 0===i?void 0:i.length))]:null===(r=s[e])||void 0===r?void 0:r[Math.floor(Math.random()*(null===(o=s[e])||void 0===o?void 0:o.length))];return d?"//ads2ads.net/".concat(t,"/").concat(e,"/").concat(d):null}(r,o);if(a){const e=o+"PSA";r=r.split("x");const t="r"===o?"https://youtu.be/EJasSVlSGf8":"https://t.me/lukabekkk/16";return{width:r[0],height:r[1],creativeHTML:'<a href="'+t+'" target="_blank"><img src="'+a+'"></a>',providerName:e}}return null}(n.unit.space.sizes,c):o?l=o:s&&(l=s),l&&((d||_n.topmostAccessibleWindow.localStorage.getItem("forceDefaultCreative"))&&n.cancelAllCurrentBids(),n.hasAWinningBid()||n.addBids([Br(l,n)])),n.subscribeForEvent("auctionRendered",(function(){const e=n.getWinningBid();n.unit.countOfRenders++,i.Y.fireEvent("onAuctionRendered",{auction:n,winningBid:e}),i.Y.fireEvent("onAuctionRenderedWebsiteHook",{space:n.unit.space,element:n.unit.element,winningBid:e});const t=n.unit.countOfRenders;!function(e,t){let n,i;if(Ti.has(e))Ni.get(e).push(t);else{const r=new Promise(((e,t)=>{n=e,i=t}));Ti.set(e,[n,i]),Ni.set(e,[t]),r.then((()=>{Ni.get(e).forEach((e=>e()))})).finally((()=>{Ti.delete(e),Ni.delete(e)})),Bi(e,n,i)}}(n.unit.element,(()=>{t==n.unit.countOfRenders&&(i.Y.fireEvent("onAdViewed",{auction:n,winningBid:e}),i.Y.fireEvent("onAdViewedWebsiteHook",{space:n.unit.space,element:n.unit.element,winningBid:e}))}))})),n.subscribeForEvent("renderBidDone",(e=>{let{bidWasSuccessfullyRendered:t,adUnitElementIsMissing:r}=e;const o=n.getWinningBid();i.Y.fireEvent("onAuctionEnded",{auction:n,winningBid:o,adUnitElementIsMissing:r}),i.Y.fireEvent("onAuctionEndedWebsiteHook",{element:n.unit.element,bid:t?o:void 0})})),n.renderWinningBid(),n.unit.state=On.Unit.States.PENDING,rr.spaceRefreshOnInterval&&rr.spaceRefreshOnInterval({space:n.unit.space,unitDispatchCount:n.unit.countOfDispatches})}))}))}))}catch(e){xr.errorf(null,"recovery: filterUnits %o",e)}}))}else r([])}))}(t,n))).then((e=>e.map((e=>e.space))))}function f(e){const t='[id="'.concat(e,'"]');let n;if(n=r.Z.commonUtils.getElementWithSelector(t),!n)return;const i=nr.getByElement(n);if(i)return i.space;return M().find((e=>{const t=$n.commonBLUtils.getSpaceElement(e);return t&&t===n}))}c?d="RU"===c||"BY"===c:async function(){return await fetch("https://api.btloader.com/country").then((e=>e.json())).then((e=>e.country))}().then((e=>{c=e,d="RU"===c||"BY"===c,_n.topmostAccessibleWindow.localStorage.setItem("btUserCountry",c)})),this.invoke=function(d){if(_n.topmostAccessibleWindow.__bt_intrnl.stopFlag)return;if(t)return;t=!0,e=d.settings||{};const c=Di.set(d.spaces);var p;s=i.Y.fireEvent("alwaysFilterByGoogletagSlots")||n.Z.upoSettings.amazonBidderConfiguration.enabled,function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]){var n=[],r=[],o=ur(t),a=wr(t);o&&n.push(o),a&&r.push(a);var s=i.Y.fireEvent("thirdPartyModulePreset",{type:t}),d=i.Y.fireEvent("thirdPartyModulePostset",{type:t});s&&n.push(s),d&&r.push(d),n.forEach((e=>Dr(t,e))),r.forEach((e=>Tr(t,e))),_r(t)}}(e),(e.dfp||s)&&function(){const e=window.googletag&&window.googletag.cmd.unshift?"unshift":"push";window.googletag.cmd[e]((function(){const e=window.googletag.defineSlot;if(window.googletag.defineSlot=function(t,n,i){const r=e(t,n,i);return setTimeout((function(){if(r){if(_i(r))return;w(r)}}),0),r},i.Y.fireEvent("overrideDefineOutOfPageSlot")){const e=window.googletag.defineOutOfPageSlot;window.googletag.defineOutOfPageSlot=function(t,n){const i=e(t,n);return setTimeout((function(){if(i){if(_i(i))return;w(i)}}),0),i}}}))}(),window.googletag.cmd.push((function(){window.googletag.pubads().getSlots().forEach((e=>_i(e)))})),p=Di.getAll(),i.Y.fireEvent("listenToNewSpaces",{spaces:p,callback:function(e){if(e){for(let t=0;t<e.length;t++){const n=e[t],i=n&&new On.Space(n);Di.set(i)}u()}}}),(a=i.Y.fireEvent("movePositionRules")||[])&&a.length>0&&$n.movePositionService.setMovePositionRules(a),function(){try{history.pushState=(e=history.pushState,function(){const t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationChange")),t}),history.replaceState=(e=>function(){const t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationChange")),t})(history.replaceState),window.addEventListener("popstate",(()=>{window.dispatchEvent(new Event("locationChange"))}))}catch(e){di.errorf(null,"setupLocationChangeEvent - error: %o",e)}var e}(),li();pi(bi()((()=>{u()}),500)),window.addEventListener("locationChange",(()=>{setTimeout(u,1001)})),rr.initialize({invokeSpaces:h}),i.Y.addEventListener("websiteHooksGetSpaces",(function(){return Di.getAll()}));let g=i.Y.fireEvent("scrapePrebidAdUnits");g&&("boolean"==typeof g&&(g={}),function(e){var t,o=e.getAdUnits||l,a=e.filterOutAdUnit,s=e.parseAdUnit,d=e.postParsingAdUnits,c=e.parseInterval||1e3,p=[],h=function(){if((t=o()||[]).length>0){for(var e=[],c=[],l=0;l<t.length;l++){const n=t[l];if(!n||p.indexOf(n)>=0)continue;const i=JSON.parse(JSON.stringify(n)),r=s?s(i):i;!r||a&&a(r)||(p.push(n),e.push(r))}if(0===e.length)return;if((e=d?d(e):e).forEach((e=>{if(!e)return;const t=function(e){try{var t={},o=e.selector||r.Z.commonUtils.escapeSelector("#"+e.code),a=e.sizes;if(a||e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(a=e.mediaTypes.banner.sizes),!a)return;function l(e){return 2===e.length&&e.every((e=>!Array.isArray(e)&&!isNaN(e)))}function u(e){return"".concat(e[0],"x").concat(e[1])}let p;var s,d,c;p=l(a)?[u(a)]:a.filter(l).map(u),t.id=e.id,t.id||(t.id="space_"+kn(e.code+"_"+o)),t.id=t.id.substr(0,500),t.name=e.code,t.deviceType=e.deviceType,t.sizes=p,t.selector={position:0,value:o},e.bids?t.prebidSettings={enabled:!0,bidders:null!==(s=null===(d=(c=e.bids).map)||void 0===d?void 0:d.call(c,(e=>(e.params=e.params||{},{id:Zn(t.id,e.bidder,e.params),name:e.bidder,params:e.params}))))&&void 0!==s?s:[]}:t.prebidSettings={enabled:!1,bidders:[]},t.prebidSettings.bidders=yi(t.prebidSettings.bidders);const h=n.Z.SharedObject.getItem("websiteConfig"),f=i.Y.fireEvent("enableComplianceSecondPass");return h.dfpEnabled?t.dfpSettings={adxId:t.name+"_adx",directId:t.name+"_direct",enabled:!0,order:[{params:{},adx:{bidderID:t.name+"_adx",testCompliance:!0},direct:{bidderID:t.name+"_direct"}},{params:{queryParams:f?{}:{ad_type:"text"}},adx:{bidderID:t.name+"_adx",testCompliance:!!f},direct:{bidderID:t.name+"_direct"}}]}:t.dfpSettings={enabled:!1},t}catch(e){Mi.errorf(null,"error in parsing prebid ad unit - err: %o",e)}}(e);var o=t&&new On.Space(t);o&&(Di.getSpacesByName(o.name).length>0||c.push(o))})),0===c.length)return;Di.set(c),u(c)}};h(),setInterval((function(){h()}),c)}(g)),i.Y.hasEventListener("scrapeGoogletagSlots")&&window.googletag.cmd.push((function(){window.googletag.pubads().getSlots().forEach((e=>{!f(e.getSlotElementId())&&i.Y.fireEvent("scrapeGoogletagSlots",{slot:e})&&Di.set(b(e))}))})),(e.dfp||s)&&window.googletag.cmd.push((function(){window.googletag.pubads().getSlots().forEach((e=>{w(e)}))})),window.__upo_d.getSpaces=function(){return Di.getAll()},window.__upo_d.getUnits=function(){return nr.getAll()},window.__upo_d.getAuctions=function(){return o},u(c);let m=1;const y=setInterval((function(){15===m&&clearInterval(y),m++,u(c)}),100)};var g,m=[];function w(e){var t=e.getSlotElementId(),n=e.getAdUnitPath(),o=Di.getAll(),a=f(t);if(!a){if(i.Y.fireEvent("useSlotPath"))a=Di.getSpacesByName(n.split("/")[n.split("/").length-1])[0];else{var s=i.Y.fireEvent("customGetSpace",{spaces:o,divId:t,slot:e});s&&(a=o.find((e=>e.name==s.name)))}(a=a&&JSON.parse(JSON.stringify(a)))&&(a.selector.value=r.Z.commonUtils.escapeSelector("#"+t),a.templateSpaceName=a.name,a.name=t,Di.set(a))}!a&&i.Y.fireEvent("scrapeGoogletagSlots",{slot:e})&&Di.set(b(e)),a&&m.indexOf(a)<0&&(m.push(a),clearTimeout(g),g=setTimeout((function(){h(m),m=[]}),100))}function b(t){if(!t)return;if(i.Y.fireEvent("shouldIgnoreGoogletagSlotScraping",{slot:t}))return;var o=t.getSlotElementId();const a=t.getSizes().map((e=>{if(e.getWidth)return e.getWidth()+"x"+e.getHeight()})).filter((e=>!!e));var s="adxId_"+o,d="directId_"+o;const c=i.Y.fireEvent("enableComplianceSecondPass");var l={id:o,name:o,staging:!1,selector:{value:r.Z.commonUtils.escapeSelector("#"+o),position:n.Z.consts.selectorPosition.APPEND_CHILD},sizes:a,prebidSettings:{enabled:!0,bidders:[]},dfpSettings:{adxId:s,directId:d,enabled:e.dfp,order:[{params:{},adx:{bidderID:s,testCompliance:!0},direct:{bidderID:d}},{params:{queryParams:c?{}:{ad_type:"text"}},adx:{bidderID:s,testCompliance:!!c},direct:{bidderID:d}}]}};return l.prebidSettings.bidders=[],new On.Space(l)}const y=[or,ar,sr,dr,cr];function M(e){const t=e||Di.getAll();return nr.purgeUnitsWithNoElementOnPage(),t.filter((e=>!nr.getBySpace(e)))}};function kr(e){return _n.topmostAccessibleWindow.location.hostname.indexOf(e)>-1}const Zr={isSite:kr,isSiteOneOf:function(e){return e.some((function(e){return kr(e)}))},showElement:function(e){e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","","")}};const Ir=new o.Z({prefix:"main: "});window.__upo_d=window.__upo_d||{},window.__upo_d.v="v2",_n.topmostAccessibleWindow.__bt_intrnl=_n.topmostAccessibleWindow.__bt_intrnl||{},window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var Yr={"contentEnabled":true,"mobileContentEnabled":true,"dfpEnabled":true,"spaces":{}};let Hr,Xr;var Rr=Yr.spaces||{},Or="api.btloader.com";const Cr=n.Z.upoSettings.staticDomain,Ar=n.Z.upoSettings.recoveryScriptVersion;(_n.topmostAccessibleWindow.location.href.indexOf("bt_debug=true")>=0||"true"===_n.topmostAccessibleWindow.localStorage.getItem("bt_debug"))&&(Yr.dfpEnabled="true"===_n.topmostAccessibleWindow.localStorage.getItem("forceGAM")||Yr.dfpEnabled,Yr.mobileContentEnabled="true"===_n.topmostAccessibleWindow.localStorage.getItem("forceMobileContent")||Yr.mobileContentEnabled,Yr.contentEnabled="true"===_n.topmostAccessibleWindow.localStorage.getItem("forceContent")||Yr.contentEnabled);var Wr,jr={websiteData:Yr,scriptSettings:si,apiDomain:Or,staticDomain:Cr,websiteID:"5767345898258432",organizationID:"5714937848528896",dfpEnabled:Yr.dfpEnabled,prebidEnabled:!1,mobileContentEnabled:Yr.mobileContentEnabled,contentEnabled:Yr.contentEnabled,recoveryScriptVersion:Ar};window.__upo_d.websiteConfig=jr,n.Z.SharedObject.setItem("websiteConfig",jr);var Vr=function(){return{browser:Ln.Xh(),device:Ln.Uh(),platform:Ln.Jv(),isMobile:Ln.tq()}};var Fr=function(){Pr(window),Gr(),$n.whitelistingIFrame.setupWhitelistingIFrameSettings().then(Lr),function(){window.addEventListener("message",(e=>{const{message:t,blocklistedCreatives:i}=e.data;"Get Blocklist Creatives"===t&&n.Z.SharedObject.setItem("creativesIdBlocklist",i)}));const e=$n.whitelistingIFrame.createWhitelistingIFrame(Tn.W);e.style.width="0px",e.style.height="0px",e.style.setProperty("display","none","important"),e.addEventListener("load",(()=>{e.contentWindow.postMessage({message:"Get Blocklist Creatives"},"https://".concat(Tn.I.staticDomain))})),document.body?document.body.appendChild(e):window.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(e)}))}(),i.Y.fireEvent("clearSpaces")&&(Rr=[]),Ur()},Ur=function(){const e=[...Rr],t=i.Y.fireEvent("customSpacesFilter",{spaces:e});t&&(Rr=Rr.filter((e=>t.some((t=>t.id===e.id)))))},Lr=function(){const e=$n.whitelistingIFrame.createWhitelistingIFrame();e.addEventListener("load",(function(){Hr=e,Xr=e.src===Tn.W,n.Z.SharedObject.setItem("whitelistingIFrame",Hr),i.Y.fireEvent("whitelistingIFrameLoaded",{whitelistingIFrame:Hr})})),e.style.width="0px",e.style.height="0px",e.style.display="none",document.body?document.body.appendChild(e):window.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(e)}))},Pr=function(e){e&&function(e,t){if(e.grumi){var n=document.createElement("iframe");n.style="display:none;width:1px;height:1px;",n.addEventListener("load",(function(){n.done||(n.done=!0,e.Node.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,t())})),ui((function(){document.body.appendChild(n)}))}else t()}(e,(function(){try{e.XMLHttpRequest&&fi.hookFunction(e.XMLHttpRequest.prototype,"open",fi.Types.XHR_OPEN_PRE,void 0,!0),fi.hookFunction(e,"fetch",fi.Types.FETCH_PRE,void 0,!0),e.HTMLElement&&fi.hookFunction(e.HTMLElement.prototype,"insertBefore",fi.Types.INSERT_BEFORE_PRE,void 0,!0),e.HTMLElement&&fi.hookFunction(e.HTMLElement.prototype,"appendChild",fi.Types.APPEND_CHILD_PRE,fi.Types.APPEND_CHILD_POST,!0),e.HTMLImageElement&&fi.hookFunction(e.HTMLImageElement.prototype,"setAttribute",fi.Types.IMG_SET_ATTRIBUTE_PRE,void 0,!0),fi.hookFunction(e,"open",fi.Types.WIN_OPEN_PRE,void 0,!0),e.HTMLElement&&fi.hookPropertySetter(e.HTMLElement.prototype,"innerHTML",fi.Types.HTML_ELEMENT_INNERHTML_PRE,void 0,!0),e.HTMLElement&&fi.hookFunction(e.HTMLElement.prototype,"hasChildNodes",fi.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,void 0,!0),Kr(e)}catch(e){Ir.errorf(null,"`createHooksOnWindow` - %o",e)}}))},Kr=function(e){for(var t=n.Z.consts.htmlElements,i=0;i<t.length;i++)e[t[i]]&&fi.hookPropertySetter(e[t[i]].prototype,"src",fi.Types.HTML_SRC_PROP_PRE,void 0,!0)},Gr=function(){fi.addEventListener(fi.Types.HTML_SRC_PROP_PRE,(function(e){var t=e.data;if("object"==typeof t[0]&&t[0].toString&&(t[0]=t[0].toString()),r.Z.urlValidations.isWhitelistURL(t[0],this.tagName))t[0]=r.Z.addAcceptableParam(t[0]);else if(r.Z.urlValidations.isSyncUrl(t[0],this.tagName)&&Hr){if(Xr){const e="new window.Image().src = '"+t[0]+"'";return Hr.contentWindow.postMessage({type:"eval",code:e},"*"),t[0]}return(new Hr.contentWindow.Image).src=t[0]}})),fi.addEventListener(fi.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,(function(e){try{if(this.classList.contains("up-show"))return!1;if(this.childNodes&&this.childNodes.length>0){for(var t=!1,n=0;n<this.children.length;n++)if(this.children[n].classList.contains("up-show")){t=!0;break}if(t)return!1}}catch(e){Ir.errorf(null,"`hasChildNodes` hook - %o",e)}})),fi.addEventListener(fi.Types.HTML_ELEMENT_INNERHTML_POST,(function(e){if(this&&this.classList&&"adsbygoogle"===this.classList[0]){var t=this.querySelector("iframe"),n=t.contentWindow;"about:blank"!==t.src&&""!==t.src||Pr(n);var i=n.document.write;n.document.write=function(e){e&&e.indexOf("show_ads_impl.js")>-1&&(e=r.Z.addAcceptableParam(e)),i.call(this,e)}}})),fi.addEventListener(fi.Types.XHR_OPEN_PRE,(function(e){var t=e.data;r.Z.urlValidations.isWhitelistURL(t[1],"SCRIPT")&&(t[1]=r.Z.addAcceptableParam(t[1]))})),fi.addEventListener(fi.Types.IMG_SET_ATTRIBUTE_PRE,(function(e){var t=e.data;if("srcset"===t[0].toLowerCase()){this.src&&r.Z.urlValidations.isWhitelistURL(this.src,this.tagName)&&(this.src=r.Z.addAcceptableParam(this.src));for(var n=t[1].split(","),i=0;i<n.length;i++){var o=n[i],a=(o=o.trim()).split(" ")[0],s=o.split(" ")[1]||"";r.Z.urlValidations.isWhitelistURL(a,this.tagName)&&(o=r.Z.addAcceptableParam(a)+" "+s,n[i]=o)}t[1]=n.join(",")}else"src"===t[0].toLowerCase()&&r.Z.urlValidations.isWhitelistURL(t[1],this.tagName)&&(t[1]=r.Z.addAcceptableParam(t[1]))})),fi.addEventListener(fi.Types.INSERT_BEFORE_PRE,(function(e){var t=e.data;i.Y.fireEvent("InsertBeforeWebsiteHooksIntercept",{element:t[0]}),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&r.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=r.Z.addAcceptableParam(t[0].src)),"LINK"===t[0].tagName&&t[0].href&&r.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=r.Z.addAcceptableParam(t[0].href))})),fi.addEventListener(fi.Types.APPEND_CHILD_PRE,(function(e){var t=e.data;if(t[0]&&t[0].src&&0===t[0].src.indexOf("blob:"))e.shouldStop=!0;else{if(t[0].children&&t[0].children.length>0)for(var n=0;n<t[0].children.length;n++){var i=t[0].children[n];if(i.src&&r.Z.urlValidations.isWhitelistURL(i.src,i.tagName)&&(i.src=r.Z.addAcceptableParam(i.src)),i.src&&r.Z.urlValidations.isSyncUrl(i.src,i.tagName)&&Hr){if(Xr){const e="new Image().src = '"+t[0].src+"'";return Hr.contentWindow.postMessage({type:"eval",code:e},"*"),t[0]}return Hr.contentDocument.body.appendChild(t[0])}}if("LINK"===t[0].tagName&&t[0].href&&r.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=r.Z.addAcceptableParam(t[0].href)),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&r.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=r.Z.addAcceptableParam(t[0].src)),r.Z.urlValidations.isSyncUrl(t[0].src,t[0].tagName)&&Hr){if(Xr){const e="new Image().src = '"+t[0].src+"'";return Hr.contentWindow.postMessage({type:"eval",code:e},"*"),t[0]}return Hr.contentDocument.body.appendChild(t[0])}}})),fi.addEventListener(fi.Types.APPEND_CHILD_POST,(function(e){var t=e.data;"IFRAME"!==t.tagName||"about:blank"!==t.src&&""!==t.src||Pr(t.contentWindow)})),fi.addEventListener(fi.Types.WIN_OPEN_PRE,(function(e){if(e.data[0]&&(e.data[0].indexOf("clickout.sharethrough.com")>-1||e.data[0].indexOf("3lift.com/pass")>-1)&&Hr&&!Xr)return Hr.contentWindow.open(e.data[0])})),fi.addEventListener(fi.Types.SET_ATTRIBUTE_PRE,(function(e){var t=e.data[0],n=e.data[1];"class"===t&&this.className.indexOf("up-show")>=0&&n.indexOf("up-show")<0&&(e.data[1]=e.data[1]+" up-show")}))},Jr=function(){window.uponit=window.uponit||{que:[]},window.uponit.addModifier=function(e,t){window.uponit.modifiers=window.uponit.modifiers||{},window.uponit.modifiers[e]=window.uponit.modifiers[e]||[],window.uponit.modifiers[e].push(t)};for(var e=0;e<window.uponit.que.length;e++){var t=window.uponit.que[e];try{t()}catch(e){Ir.errorf(null,"window.uponit.que - %o",e)}}window.uponit.que.push=function(e){e()}};const Qr=e=>{const t=Object.entries(e).map((e=>{let[t,n]=e;const r={};r.id=t,r.name=n.name,r.staging=n.staging,r.deviceType=n.device_type,r.selector={position:n.selector.position,value:n.selector.value},r.sizes=n.sizes;const o=n.prebids&&Object.keys(n.prebids).length>0;r.prebidSettings={enabled:o,bidders:[]},o&&Object.entries(n.prebids).forEach((e=>{let[t,n]=e;const i={id:t,name:n.bidder,params:n.params};r.prebidSettings.bidders.push(i)}));const a=i.Y.fireEvent("enableComplianceSecondPass");return r.dfpSettings={adxId:n.adx,directId:n.direct,enabled:jr.dfpEnabled&&"0"!=n.adx,order:[{params:{},adx:{bidderID:n.adx,testCompliance:!0},direct:{bidderID:n.direct}},{params:{queryParams:a?{}:{ad_type:"text"}},adx:{bidderID:n.adx,testCompliance:!!a},direct:{bidderID:n.direct}}]},[t,r]}));return Object.fromEntries(t)};var qr=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i.id=n;var r=new On.Space(i);t.push(r)}return t};!function(){if(window.uponitAlreadyLoaded)return;window.uponitAlreadyLoaded=!0,c.init(Or,{secure:!0});try{mi.init(),jn.Verifications.run(),jn.Report.init()}catch(e){Ir.errorf(null,"init - initializing log, verification, and report layers - %o",e)}Wr=Vr(),window.__upo_d.isMobile=Wr.isMobile;var e={browser:Wr.browser,device:Wr.device,platform:Wr.platform,isMobile:Wr.isMobile};i.Y.addEventListener("getUserEnvDataWebsiteHooks",(function(){return e})),window.__upo_d.userEvnData=e,function(){try{window.__tcfapi("addEventListener",0,(function(e,t){if(!t||"useractioncomplete"!==e.eventStatus&&"tcloaded"!==e.eventStatus){if(!t){var n="Unable to attach event listener. tcfapi does not adhere to IAB spec. ";n+="listenerSuccess: "+t+". ",e&&(n+="eventStatus: "+e.eventStatus+"."),i.Y.fireEvent("consentData",{error:{message:n}})}}else i.Y.fireEvent("consentData",{tcData:e})}))}catch(e){i.Y.fireEvent("consentData",{error:e})}}(),function(){try{const e=new o.Z({prefix:"hook: "});window.eval.call(window,"(function (CustomEvents, websiteConfig, lg, hookUtils) {\n"+atob("Y29uc3QgdXNlckVudkRhdGEgPSBDdXN0b21FdmVudHMuZmlyZUV2ZW50KCdnZXRVc2VyRW52RGF0YVdlYnNpdGVIb29rcycpOwpjb25zdCBpc01vYmlsZSA9IHVzZXJFbnZEYXRhPy5pc01vYmlsZTsKCi8vIEZyZWVzdGFyIHdlYnNpdGVzIGNhbiBoYXZlIGVpdGhlciBGcmVlc3RhciAoYGZzcHJlYmlkYCkgb3IgU29ydGFibGUgKGBwYmpzU29ydGFibGVgKSBQcmViaWQgdmFyaWFibGUKLy8gZGVwZW5kaW5nIG9uIHRoaXMgd2UgYXBwbHkgZGlmZmVyZW50IHNldHRpbmdzCkN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdwcmViaWREb25lSW5pdCcsIGZ1bmN0aW9uIChldmVudCkgewogIC8vIFNldCB1cCBQRyBmb3IgU29ydGFibGUgd2Vic2l0ZXMgb25seSBbQU0tMjc1N10KICBpZiAod2luZG93LnBianNTb3J0YWJsZSkgewogICAgdmFyIGNwYmpzID0gZXZlbnQuZGF0YS5jcGJqczsKICAgIGNwYmpzWydxdWUnXS5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgY3BianNbJ3NldENvbmZpZyddKHsKICAgICAgICBwcmljZUdyYW51bGFyaXR5OiB7CiAgICAgICAgICBidWNrZXRzOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBpbmNyZW1lbnQ6IDAuMDEsCiAgICAgICAgICAgICAgbWF4OiAzLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaW5jcmVtZW50OiAwLjAyLAogICAgICAgICAgICAgIG1heDogOCwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGluY3JlbWVudDogMC4wNSwKICAgICAgICAgICAgICBtYXg6IDEyLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaW5jcmVtZW50OiAwLjEsCiAgICAgICAgICAgICAgbWF4OiAzMCwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGluY3JlbWVudDogMSwKICAgICAgICAgICAgICBtYXg6IDEwMCwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGluY3JlbWVudDogMTAsCiAgICAgICAgICAgICAgbWF4OiAzMDAsCiAgICAgICAgICAgIH0sCiAgICAgICAgICBdLAogICAgICAgIH0sCiAgICAgIH0pOwogICAgfSk7CiAgfQp9KTsKCkN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdzY3JhcGVQcmViaWRBZFVuaXRzJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgZXZlbnQuaG9va0ZpbGVEYXRhID0gewogICAgZ2V0QWRVbml0czogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgICh3aW5kb3cuZnNwcmViaWQgJiYgd2luZG93LmZzcHJlYmlkLmFkVW5pdHMpIHx8CiAgICAgICAgKHdpbmRvdy5wYmpzU29ydGFibGUgJiYgd2luZG93LnBianNTb3J0YWJsZS5hZFVuaXRzKQogICAgICApOwogICAgfSwKICAgIHBhcnNlQWRVbml0OiBwYXJzZUFkVW5pdCwKICAgIGZpbHRlck91dEFkVW5pdDogZmlsdGVyT3V0QWRVbml0LAogIH07CiAgLy8gcmV0dXJuIHVuZGVmaW5lZCBzbyB0aGF0IHNjcmlwdCBzZXR0aW5ncyBldmVudCBsaXN0ZW5lciBpcyBjYWxsZWQKfSk7Cgp2YXIgcGFyc2VBZFVuaXQgPSBmdW5jdGlvbiAoYWRVbml0KSB7CiAgLy8gUGFyc2UgU29ydGFibGUgYWQgdW5pdHMgW0FNLTI3NTddCiAgaWYgKHdpbmRvdy5wYmpzU29ydGFibGUpIHsKICAgIC8vIE1hcCBhZCB1bml0cyB0byB0aGUgY29ycmVjdCBESVZzLCBQdWIgaGFzIGR5bmFtaWMgRElWIElEcyBhbmQgdGhleSBhcmUgc3RvcmVkIGluIGBhZFVuaXQuX3NydElkYAogICAgYWRVbml0LmNvZGUgPSBhZFVuaXQuX3NydElkOwogICAgcmV0dXJuIGFkVW5pdDsKICB9CgogIC8vIFBhcnNlIEZyZWVzdGFyIGFkIHVuaXRzIFtBTS0yNzU3XQogIHZhciBjb2RlUGFydHMgPSBhZFVuaXQuY29kZSAmJiBhZFVuaXQuY29kZS5zcGxpdCgnLycpOwoKICBhZFVuaXQuY29kZSA9IGNvZGVQYXJ0c1tjb2RlUGFydHMubGVuZ3RoIC0gMV07CiAgYWRVbml0LnNlbGVjdG9yID0gJ1tpZD0iJyArIGFkVW5pdC5jb2RlICsgJyJdJzsKCiAgLy8gUmVtb3ZlIDNsaWZ0IG1vYmlsZSBiaWRkZXIgd2hlbiBydW5uaW5nIHRoZSBzY3JpcHQgaW4gYSBkZXNrdG9wIGJyb3dzZXIKICBpZiAoYWRVbml0LmJpZHMgJiYgIXdpbmRvd1snX191cG9fZCddWydpc01vYmlsZSddKSB7CiAgICBhZFVuaXQuYmlkcyA9IGFkVW5pdC5iaWRzLmZpbHRlcihmdW5jdGlvbiAoYmlkU2V0dGluZ3MpIHsKICAgICAgcmV0dXJuICEoCiAgICAgICAgYmlkU2V0dGluZ3MucGFyYW1zICYmCiAgICAgICAgYmlkU2V0dGluZ3MucGFyYW1zLmludmVudG9yeUNvZGUgJiYKICAgICAgICBiaWRTZXR0aW5ncy5wYXJhbXMuaW52ZW50b3J5Q29kZS5pbmRleE9mKCdtb2JpbGUnKSAhPT0gLTEKICAgICAgKTsKICAgIH0pOwogIH0KCiAgLy8gW0FNLTU1MV0gLSBSZW1vdmUgYmlkcyB3aXRoIDk3MHgyNTAgc2l6ZSBpbm5lciBjb25maWd1cmF0aW9uIGZyb20gdGhlIGFkVW5pdCAtIG9ubHkgZm9yIHNoYXJldGhyb3VnaCBhbmQgdHJpcGxlbGlmdCBiaWRzCiAgYWRVbml0ID0gcmVtb3ZlU2hhcmV0aHJvdWdoQW5kVHJpcGxlbGlmdDk3MHgyNTBCaWRzKGFkVW5pdCk7CgogIHJldHVybiBhZFVuaXQ7Cn07CgovLyBbQU0tNTUxXSAtIFJlbW92ZSBiaWRzIHdpdGggOTcweDI1MCBzaXplIGlubmVyIGNvbmZpZ3VyYXRpb24gZnJvbSB0aGUgYWRVbml0IC0gb25seSBmb3Igc2hhcmV0aHJvdWdoIGFuZCB0cmlwbGVsaWZ0IGJpZHMKZnVuY3Rpb24gcmVtb3ZlU2hhcmV0aHJvdWdoQW5kVHJpcGxlbGlmdDk3MHgyNTBCaWRzKGFkVW5pdCkgewogIHRyeSB7CiAgICB2YXIgYmlkZGVycyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhZFVuaXQuYmlkcy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgYmlkID0gYWRVbml0LmJpZHNbaV07CiAgICAgIGlmICgKICAgICAgICAoYmlkLmJpZGRlciA9PT0gJ3RyaXBsZWxpZnQnIHx8IGJpZC5iaWRkZXIgPT09ICdzaGFyZXRocm91Z2gnKSAmJgogICAgICAgIGJpZC5zaXplICYmCiAgICAgICAgYmlkLnNpemVbMF0gJiYKICAgICAgICBiaWQuc2l6ZVswXVswXSA9PT0gOTcwICYmCiAgICAgICAgYmlkLnNpemVbMF1bMV0gPT09IDI1MAogICAgICApIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgICBiaWRkZXJzLnB1c2goYmlkKTsKICAgIH0KICAgIGFkVW5pdC5iaWRzID0gYmlkZGVyczsKICB9IGNhdGNoIChlKSB7CiAgICBsZy5lcnJvcmYobnVsbCwgJ2Vycm9yIHJlbW92aW5nIGJpZCBmcm9tIGFkIHVuaXQ6ICVvJywgZSk7CiAgfQogIHJldHVybiBhZFVuaXQ7Cn0KCi8vIGRlY2xhcmVkIGhlcmUsIGFuZCBkZWZpbmVkIGluIGEgRnJlZXN0YXIgd2Vic2l0ZSBob29rIGZpbGUgaWYgZGVzaXJlZAovLyBhdm9pZCB1c2luZyBgd2Vic2l0ZUhvb2tGaWx0ZXJPdXRBZFVuaXRgIGluIGZhdm9yIG9mIFNldHRpbmdzCnZhciB3ZWJzaXRlSG9va0ZpbHRlck91dEFkVW5pdDsKZnVuY3Rpb24gZmlsdGVyT3V0QWRVbml0KGFkVW5pdCkgewogIC8vIEZpbHRlciBvdXQgYWQgdW5pdCBpZiB0aGlzIGZ1bmN0aW9uIGlzIGRlZmluZWQgaW4gYSBGcmVlc3RhciB3ZWJzaXRlIGhvb2sgZmlsZSAodG8gYXZvaWQgYWRkaW5nIHRoYXQgbG9naWMgaGVyZSBhbmQgZ3Jvd2luZyB0aGUgb3JnIGhvb2sgZmlsZSkKICBpZiAod2Vic2l0ZUhvb2tGaWx0ZXJPdXRBZFVuaXQpIHsKICAgIHJldHVybiB3ZWJzaXRlSG9va0ZpbHRlck91dEFkVW5pdChhZFVuaXQpOwogIH0KfQoKLy8gRXh0ZW5kIHRoaXMgb3JnIGhvb2sgd2l0aCBgZ2V0U2l6ZXNUb1JlbW92ZUZvclNwYWNlT25XZWJzaXRlYCB3aGljaCBjYW4gYmUgZGVmaW5lZCBhcyBhIGZ1bmN0aW9uIGluIGFueSB3ZWJzaXRlIGhvb2sKLy8gYXZvaWQgdXNpbmcgYGdldFNpemVzVG9SZW1vdmVGb3JTcGFjZU9uV2Vic2l0ZWAgaW4gZmF2b3Igb2YgU2V0dGluZ3MKdmFyIGdldFNpemVzVG9SZW1vdmVGb3JTcGFjZU9uV2Vic2l0ZTsKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3NpemVzVG9SZW1vdmVCeVNwYWNlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgdmFyIHNwYWNlTmFtZSA9IGV2ZW50LmRhdGEuc3BhY2VOYW1lOwoKICBldmVudC5ob29rRmlsZURhdGEgPSBnZXRTaXplc1RvUmVtb3ZlRm9yU3BhY2VPbldlYnNpdGUKICAgID8gZ2V0U2l6ZXNUb1JlbW92ZUZvclNwYWNlT25XZWJzaXRlKHNwYWNlTmFtZSkKICAgIDogW107CiAgLy8gcmV0dXJuIHVuZGVmaW5lZCBzbyB0aGF0IHNjcmlwdCBzZXR0aW5ncyBldmVudCBsaXN0ZW5lciBpcyBjYWxsZWQKfSk7CgppZiAod2luZG93LmZyZWVzdGFyPy5mc2RhdGE/LmNvbXBhbnlJZCkgewogIEN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdwcm92aWRlU0NoYWluQ29uZmlnJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICByZXR1cm4gewogICAgICBwcmViaWRWYXJpYWJsZTogJ2ZzcHJlYmlkJywKICAgICAgbWFudWFsRmFsbGJhY2s6IHsKICAgICAgICBhc2k6ICdmcmVlc3Rhci5pbycsCiAgICAgICAgc2lkOiB3aW5kb3cuZnJlZXN0YXIuZnNkYXRhLmNvbXBhbnlJZC50b1N0cmluZygpLAogICAgICB9LAogICAgfTsKICB9KTsKfQoKLy8gUmVzZXQgWE1MSHR0cFJlcXVlc3QgYmFjayB0byBuYXRpdmUgaW1wbGVtZW50YXRpb24gaWYgcHViIGhhcyBvdmVyd3JpdHRlbiBpdCBbTWF5IDggMjAyMCArIEFNLTEzMDggKyBBTS0yMzgwXQppZiAoCiAgaG9va1V0aWxzLmlzU2l0ZU9uZU9mKFsKICAgICdpbm5lcnN0cmVuZ3RoLnpvbmUnLAogICAgJ2Jyb2FkY2FzdHRyaXZpYS5jb20nLAogICAgJ3RoZXRyaXZpYWJ1ZmYuY29tJywKICAgICdkYWlseXN0ZWFscy5jb20nLAogIF0pCikgewogIHRyeSB7CiAgICB2YXIgbmF0aXZlWE1MSHR0cFJlcXVlc3RJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdC50b1N0cmluZygpLmluZGV4T2YoJ25hdGl2ZSBjb2RlJykgPT09IC0xKSB7CiAgICAgICAgdmFyIGlmciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyKTsKICAgICAgICBpZnIuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpOwogICAgICAgIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCA9IGlmci5jb250ZW50V2luZG93LlhNTEh0dHBSZXF1ZXN0OwogICAgICAgIGNsZWFySW50ZXJ2YWwobmF0aXZlWE1MSHR0cFJlcXVlc3RJbnRlcnZhbCk7CiAgICAgIH0KICAgIH0sIDMwMCk7CiAgfSBjYXRjaCAoZSkgewogICAgbGcuZXJyb3JmKG51bGwsICdlcnJvciByZXNldHRpbmcgaWZyYW1lOiAlbycsIGUpOwogIH0KfQoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ2tlZXBCVERvbWFpbldoaXRlbGlzdGluZ0lGcmFtZScsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdHJ1ZTsKfSk7Cgp2YXIgc3R5bGVFbGVtZW50Owp2YXIgc3R5bGVSdWxlcyA9IFsKICAnI2ZzLXN0aWNreS1icmFuZGluZy1lbG0sIC51cC1zaG93ID4gLmZzLWJyYW5kaW5nLWVsbSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScsCiAgLy8gQWQgY29udGFpbmVyICguYWhvdmVyIG9yICNnb29nbGVfYWRzX2lmcmFtZV8vLi4uIGRpdikgaGFzIHRoZWlyIHN0eWxlcyB3ZSBzZXQgZXJhc2VkIGZvciBmb290ZXIgdW5pdHMsIG5lZWQgdGhpcyBzdHlsZSB0byBjZW50ZXIgdGhlIGFkIGxhYmVsKQogICcudXAtc2hvdyA+IC5haG92ZXIsIC51cC1zaG93ID4gW2lkXj0iZ29vZ2xlX2Fkc19pZnJhbWVfIl0geyBwb3NpdGlvbjogcmVsYXRpdmU7IH0nLAogIC8vIEVuc3VyZSBpZiBIQiB3aW5zIGFuZCBHQU0gaXMgZW5hYmxlZCwgdGhhdCB0aGUgMXgxIEdBTSBhZCBpZnJhbWUgd2UgcmVuZGVyIHVuZGVybmVhdGggdGhlIEhCIGFkIGNyZWF0aXZlIGRvZXNuJ3QgYWRkIGV4dHJhIHNwYWNlIHRvIHRoZSBmb290ZXIgW0FNLTQ5OV0KICAvLyAoRm9yIGFuIGV4cGxhbmF0aW9uIG9uIHdoeSB3ZSByZW5kZXIgdGhpcyAxeDEgaWZyYW1lIC0gc2VlIGByZWNvdmVyeS5qc2AgbGluZSA4MzEgKHdoZXJlIHdlIHByb2Nlc3MgdGhlIEFkIFNlcnZlciAoR0FNKSBhdWN0aW9uIHJlc3BvbnNlcykpCiAgJyNzbG90LWZvb3Rlci13cmFwcGVyIHsgaGVpZ2h0OiBhdXRvOyBsaW5lLWhlaWdodDogMXB4IH0nLApdLmpvaW4oJyAnKTsKCnN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CnN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IHN0eWxlUnVsZXM7Cihkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpOwoKLy8gZG8gbm90IGVuYWJsZSBBbWF6b24gb24gJ3JldXRlcnMuY29tJywgYXMgdGhlIFB1YiBkb2Vzbid0IGFsd2F5cyBjcmVhdGUgR1BUIHNsb3RzIHRoZXJlIGFuZCB3ZSBhcmUgbm90IGFibGUgdG8gcnVuIEhCIGF0IGFsbCBbQU0tMjU1N10KaWYgKCFob29rVXRpbHMuaXNTaXRlKCdyZXV0ZXJzLmNvbScpKSB7CiAgQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ2FtYXpvbkJpZGRlckNvbmZpZ3VyYXRpb24nLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHJldHVybiB7CiAgICAgIHB1YklEOiAnMGFiMTk4ZGQtYjI2NS00NjJhLWFlMzYtNzRlMTYzYWQ2MTU5JywKICAgIH07CiAgfSk7CgogIHdpbmRvdy51cG9fYW16biA9IHsKICAgIGFtYXpvbkNQTUNoYXJ0OiB7CiAgICAgIDE2ODc0MDA6IDYuMTUsCiAgICAgICcxcHB3bDR3JzogMC4wNSwKICAgICAgJzF1NXEzOWMnOiAwLjA5LAogICAgICAnMWxhMzMwZyc6IDAuMTMsCiAgICAgICcxd2RtdWJrJzogMC4xNywKICAgICAgJzEzcWFyazAnOiA2LjU1LAogICAgICAnMXp0emk4JzogNi43LAogICAgICB0cXBkczA6IDYuOCwKICAgICAgZTdjNGNnOiA2LjksCiAgICAgIGluNW1ndzogNywKICAgICAgJzF5OTIzbmsnOiA3LjA1LAogICAgICB3aWxibHM6IDcuMiwKICAgICAgJzFuNWljY2cnOiA3LjI1LAogICAgICBvcXdvdzA6IDcuNCwKICAgICAgJzJqdDY5cyc6IDcuNSwKICAgICAgcXl0Znk4OiA3LjYsCiAgICAgICcxODE0Z3prJzogNy43NSwKICAgICAgbHUweWRjOiA3LjgsCiAgICAgICcxYTkxODFzJzogNy45NSwKICAgICAgcWp1MXZrOiA5LAogICAgICB0YnB6cGM6IDEwLAogICAgICBsNmF4MzQ6IDExLAogICAgICBmd2ltdGM6IDEyLjUsCiAgICAgICc3enU3ZW8nOiAxMy41LAogICAgICBjNW80NWM6IDE0LjUsCiAgICAgICczd2k3MGcnOiAxNS41LAogICAgICBkYzRlMHc6IDE2LjUsCiAgICAgICc1dWZjb3cnOiAxNy41LAogICAgICBrNHVmd2c6IDE5LAogICAgICB3bWM2NGc6IDIwLAogICAgICBzb21maTg6IDIyLAogICAgICB4amZicGM6IDI0LAogICAgICBseWU5ejQ6IDI3LAogICAgICB2ZTBnems6IDI4LAogICAgICBqaHF2cGM6IDMxLAogICAgICB6YjNxaW86IDMyLAogICAgICBsMG9uYjQ6IDM1LAogICAgICBxN2NrNWM6IDAuMDQsCiAgICAgIHVuNjI5czogMC4wOCwKICAgICAgbHJqMjB3OiAwLjEyLAogICAgICB3djJ0YzA6IDAuMTYsCiAgICAgIG56ZnQzNDogMC4yLAogICAgICAnMW5oenUybyc6IDAuMjEsCiAgICAgIHNmOWI3azogMC4yNCwKICAgICAgYW56YXBzOiAwLjI2LAogICAgICAnMWoyNmJ5OCc6IDAuMjksCiAgICAgIHh6MTZ2NDogMC4zMiwKICAgICAgJzFmcWI3Y3cnOiAwLjM1LAogICAgICAnMW9seTdscyc6IDAuMzcsCiAgICAgIHRqN29xbzogMC40LAogICAgICBkenVmYjQ6IDAuNSwKICAgICAgJzEwNnh4eGMnOiAwLjYzLAogICAgICBwbmRkZHM6IDAuNjgsCiAgICAgICcxdGxxd2hzJzogMC43MywKICAgICAgJzNnOXVyayc6IDAuNzgsCiAgICAgIG5mZ21iazogMC44NCwKICAgICAgcnZhNGcwOiAwLjg4LAogICAgICBpem40NzQ6IDAuOTIsCiAgICAgIHhmMjAzazogMC45NiwKICAgICAgb2plenVvOiAxLAogICAgICAnMW8xejB1OCc6IDEuMDEsCiAgICAgIGszbGhxODogMS4wOCwKICAgICAgJzFjeWY5ajQnOiAxLjE1LAogICAgICBxcmJxd3c6IDEuMiwKICAgICAgJzkwMXFmNCc6IDEuMjIsCiAgICAgICc0ZXE2OCc6IDEuMjYsCiAgICAgICcxaDQ5NjlzJzogMS4zMSwKICAgICAgJzE4OG02MHcnOiAxLjM1LAogICAgICAnMWNvZm81Yyc6IDEuMzksCiAgICAgICc0YThtd3cnOiAxLjQyLAogICAgICAnMWV3Y2Y3ayc6IDEuNDcsCiAgICAgIGF4eXczazogMS41NCwKICAgICAgJzE1cXB0a3cnOiAwLjIzLAogICAgICAnMWE2amJwYyc6IDAuMjcsCiAgICAgICcxMWF3YmdnJzogMC4zMSwKICAgICAgZzdyNmRjOiAwLjM0LAogICAgICAnN2M0NjRnJzogMC4zOCwKICAgICAgJzF0MXJwcTgnOiAwLjQxLAogICAgICBrbmtvaHM6IDAuNDQsCiAgICAgICcyd2FvMDAnOiAwLjQ2LAogICAgICB2cjRmc3c6IDAuNDgsCiAgICAgICcxZGllZ2FvJzogMC41MSwKICAgICAgJzFtZTFnamsnOiAwLjUzLAogICAgICAnMTRtcmcxcyc6IDAuNTUsCiAgICAgICcxcXR1eW8wJzogMC41NywKICAgICAgaWZueGZrOiAwLjYsCiAgICAgIG9kd3hzOiAwLjYyLAogICAgICBncnFkNHc6IDAuNjYsCiAgICAgICcxcDV4ZWRjJzogMC42OSwKICAgICAgdTM2dmk4OiAwLjcyLAogICAgICBsN2p2OWM6IDAuNzYsCiAgICAgIHdiM21rZzogMC44LAogICAgICBlanRtMm86IDAuODIsCiAgICAgICcxNTZxbXRjJzogMC44NywKICAgICAgJzFpaTc1Nm8nOiAwLjkzLAogICAgICBmbnJ6bHM6IDAuOTgsCiAgICAgICc2czR6Y3cnOiAxLjAyLAogICAgICBiN3loaGM6IDEuMDYsCiAgICAgICcyY2JoOGcnOiAxLjEsCiAgICAgICcxdXBwYTB3JzogMS4xMywKICAgICAgJzRrODhhbyc6IDEuMTgsCiAgICAgIGh2b3FvMDogMS4yNCwKICAgICAgemN6NXMwOiAxLjI4LAogICAgICBobHA1YTg6IDEuMywKICAgICAgJzhxMjUxYyc6IDEuMzQsCiAgICAgICcxdWZwb240JzogMS4zNywKICAgICAgJzFsazJvZTgnOiAxLjQxLAogICAgICAnMXdubWZwYyc6IDEuNDUsCiAgICAgICcxbnJ6ZmdnJzogMS40OSwKICAgICAgc3A4d2xjOiAxLjUyLAogICAgICBqdGx3Y2c6IDEuNTYsCiAgICAgIHk5MHM4dzogMS42LAogICAgICBnaHFycjQ6IDEuNjIsCiAgICAgICc3bTNyaTgnOiAxLjY2LAogICAgICBjMXg5bW86IDEuNywKICAgICAgJzM2YTlkcyc6IDEuNzQsCiAgICAgIGU5dTBvdzogMS43OCwKICAgICAgJzE0d3IxZmsnOiAxLjgzLAogICAgICAnMTlja2prMCc6IDEuODcsCiAgICAgICcxMGd4amI0JzogMS45MSwKICAgICAgJzFnazl6aTgnOiAxLjk1LAogICAgICAnMTdvbXo5Yyc6IDEuOTksCiAgICAgICcxeWxqbGRzJzogMC4wMSwKICAgICAgaGJwandnOiAwLjAyLAogICAgICAnMWd1OWt3MCc6IDAuMDMsCiAgICAgICc4ZzJqbmsnOiAwLjA2LAogICAgICAnMTd5bWtuNCc6IDAuMDcsCiAgICAgIGN2dzFzMDogMC4xLAogICAgICAnMWNlZzJyayc6IDAuMTEsCiAgICAgICc0MDkxajQnOiAwLjE0LAogICAgICAnMTNpdDJpbyc6IDAuMTUsCiAgICAgIGYzc3N1ODogMC4xOCwKICAgICAgJzFlbWN0dHMnOiAwLjE5LAogICAgICAnNjg1c2xjJzogMC4yMiwKICAgICAgJzFyeHRjNzQnOiAwLjI1LAogICAgICBqam1heW86IDAuMjgsCiAgICAgICcxc2NhZ3cnOiAwLjMsCiAgICAgICcxeGhsN3VvJzogMC4zMywKICAgICAgcDNlNm04OiAwLjM2LAogICAgICAnMTZ1bzc0MCc6IDAuMzksCiAgICAgICcxM3NzbndnJzogMS40MywKICAgICAgeDUyZXBzOiAxLjQ0LAogICAgICBmZHNlODA6IDEuNDYsCiAgICAgIG85ZmVndzogMS40OCwKICAgICAgJzZpNWR6NCc6IDEuNSwKICAgICAgJzE2MHBleW8nOiAxLjUxLAogICAgICAnMXM3c3hrdyc6IDEuNTMsCiAgICAgICcxYWdpeDM0JzogMS41NSwKICAgICAgJzFqYzV4YzAnOiAxLjU3LAogICAgICAnMjJidnVvJzogMS41OCwKICAgICAgJzF4cmt0OGcnOiAxLjYxLAogICAgICAnMWcwYXNxbyc6IDEuNjMsCiAgICAgICcxb3Z4c3prJzogMS42NSwKICAgICAgJzE3NG5zaHMnOiAxLjY3LAogICAgICAnMXRicmI0MCc6IDEuNjksCiAgICAgICcxYmtoYW04JzogMS43MSwKICAgICAgJzFrZzRhdjQnOiAxLjczLAogICAgICAnMTJvdWFkYyc6IDEuNzUsCiAgICAgICcxdmpvMjY4JzogMS43NywKICAgICAgJzFkc2Uxb2cnOiAxLjc5LAogICAgICAnNWU3MGcwJzogMS44MiwKICAgICAgcmxhajI4OiAxLjg0LAogICAgICAnOXUwaWtnJzogMS44NiwKICAgICAgaXBuaXRjOiAxLjg4LAogICAgICB5ZGliazogMS45LAogICAgICB5c3p6MGc6IDEuOTIsCiAgICAgIGgxcHlpbzogMS45NCwKICAgICAgcHhjeXJrOiAxLjk2LAogICAgICAnMXBmd3pyNCc6IDEuOTcsCiAgICAgIHVkNmd3MDogMiwKICAgICAgY2x3Z2U4OiAyLjAyLAogICAgICBsaGpnbjQ6IDIuMDQsCiAgICAgICczcTlnNWMnOiAyLjA2LAogICAgICAnMXczbjh4cyc6IDIuMDksCiAgICAgICcxZWNkOGcwJzogMi4xMSwKICAgICAgJzFuODA4b3cnOiAyLjEzLAogICAgICBzNTlwdHM6IDIuMTYsCiAgICAgIGFkenBjMDogMi4xOCwKICAgICAgajltcGt3OiAyLjIsCiAgICAgICcxaXM2cWtnJzogMi4yMSwKICAgICAgJzExMHdxMm8nOiAyLjIzLAogICAgICAnMXg3bG1ndyc6IDIuMjUsCiAgICAgIGZ4cmt6azogMi4yNiwKICAgICAgJzFvYnltODAnOiAyLjI5LAogICAgICAnMWM0Z2hkcyc6IDIuMDMsCiAgICAgICcxMzh0aDR3JzogMi4wNywKICAgICAgZXR0N2dnOiAyLjEsCiAgICAgICc1eTY3N2snOiAyLjE0LAogICAgICAnMXJudHF0Yyc6IDIuMTcsCiAgICAgIHhwMWxoYzogMi4yNCwKICAgICAgJzFmZ2JsejQnOiAyLjI3LAogICAgICAnNzI0a3FvJzogMi4zLAogICAgICBiaHkydjQ6IDIuMzQsCiAgICAgICcybWIybTgnOiAyLjM4LAogICAgICAnMWQ4ZXV3dyc6IDIuNDMsCiAgICAgICc0dTd0b2cnOiAyLjQ2LAogICAgICAnOWExYnN3JzogMi41LAogICAgICBlZWJrMDogMi41NCwKICAgICAgJzFnejlka3cnOiAyLjU5LAogICAgICB1czV1eW86IDIuNjQsCiAgICAgICcxY2pmdmdnJzogMi42NywKICAgICAgJzEzbnN2N2snOiAyLjcxLAogICAgICBmOHNsajQ6IDIuNzQsCiAgICAgICc2ZDVsYTgnOiAyLjc4LAogICAgICBqb20zbms6IDIuODQsCiAgICAgIHk0MHprMDogMi44OCwKICAgICAgJzFmdmIwMXMnOiAyLjkxLAogICAgICAnMTZ6bnpzdyc6IDIuOTUsCiAgICAgICcxYmZoaHhjJzogMi45OSwKICAgICAgJzF2ZW85aGMnOiAzLjA1LAogICAgICAnMXBheDcyOCc6IDMuMjUsCiAgICAgICcxcml0eTRnJzogMy40NSwKICAgICAgdDQ4YW8wOiAzLjYsCiAgICAgIGkwb2pjdzogMy44LAogICAgICB4YTI3ZW86IDQsCiAgICAgICcxMXB2cGo0JzogNC4xNSwKICAgICAgJzFkeGR1ZGMnOiA0LjM1LAogICAgICAnMTd0bXJ5OCc6IDQuNTUsCiAgICAgICcxYTFqajBnJzogNC43NSwKICAgICAgJzEyOXV3YW8nOiA0Ljk1LAogICAgICAnMXFvdjV6NCc6IDUuMDUsCiAgICAgIHVrbzV4YzogNS4yLAogICAgICBqaDRlbTg6IDUuNCwKICAgICAgdm9tamdnOiA1LjYsCiAgICAgICcxMDRnMWt3JzogNS43NSwKICAgICAgJzFkenZxcHMnOiA1Ljk1LAogICAgICAnMWlmcDh1OCc6IDYuMDUsCiAgICAgIGsxM2xkczogNi4yLAogICAgICB6YWg5Zms6IDYuNCwKICAgICAgbzZ4aTRnOiA2LjYsCiAgICAgICcxZnhzd2U4JzogNi43NSwKICAgICAgJzE0dTk1MzQnOiA2Ljk1LAogICAgICAnMWMxeWwxYyc6IDcuMTUsCiAgICAgICcxMHlldHE4JzogNy4zNSwKICAgICAgJzFkNXd5a2cnOiA3LjU1LAogICAgICBoZTdnOHc6IDcuNywKICAgICAgJzZhbm94cyc6IDcuOSwKICAgICAgJzVnb3dzZyc6IDkuNSwKICAgICAgJzM1czAwJzogMTEuNSwKICAgICAgbzM2bmxzOiAxMywKICAgICAgamRkazNrOiAxNSwKICAgICAgcDlteGhjOiAxNywKICAgICAgJzlsOXZjdyc6IDE4LjUsCiAgICAgIG11dXlndzogMjEsCiAgICAgIHExcWFkYzogMjUsCiAgICAgIG5oYzFrdzogMjksCiAgICAgIG9yajV6NDogMzMsCiAgICAgIGJyeG84dzogMC40MiwKICAgICAgJzFiYWhwOGcnOiAwLjQzLAogICAgICAnMWs2NHBoYyc6IDAuNDUsCiAgICAgICcxMmV1b3prJzogMC40NywKICAgICAgJzF2OW9nc2cnOiAwLjQ5LAogICAgICBtdmhmazA6IDAuNTIsCiAgICAgICc1NDdmMjgnOiAwLjU0LAogICAgICByYmF4b2c6IDAuNTYsCiAgICAgICc5azB4Nm8nOiAwLjU4LAogICAgICAnMTkya3k2OCc6IDAuNTksCiAgICAgICcxaHk3eWY0JzogMC42MSwKICAgICAgeWowZG1vOiAwLjY0LAogICAgICAnMXkxa2VtOCc6IDAuNjUsCiAgICAgICcxZ2FhZTRnJzogMC42NywKICAgICAgJzd3M2N3MCc6IDAuNywKICAgICAgJzE3ZW5kdmsnOiAwLjcxLAogICAgICBjYnd2MGc6IDAuNzQsCiAgICAgICcxYnVndzAwJzogMC43NSwKICAgICAgJzFrcTN3OHcnOiAwLjc3LAogICAgICAnMTJ5dHZyNCc6IDAuNzksCiAgICAgICcxdnRubmswJzogMC44MSwKICAgICAgJzFlMmRuMjgnOiAwLjgzLAogICAgICAnMW15MG5iNCc6IDAuODUsCiAgICAgICc1bzZsdHMnOiAwLjg2LAogICAgICAnMXJkdTVmayc6IDAuODksCiAgICAgIGE0MDN5ODogMC45LAogICAgICAnMTltazR4cyc6IDAuOTEsCiAgICAgICcxOGQzcGMnOiAwLjk0LAogICAgICAnMTBxeDRvdyc6IDAuOTUsCiAgICAgICcxd3htMTM0JzogMC45NywKICAgICAgJzFmNmMwbGMnOiAwLjk5LAogICAgICAnMTZhcDBjZyc6IDEuMDMsCiAgICAgIHN6OGh6NDogMS4wNCwKICAgICAgJzFzaHNpeW8nOiAxLjA1LAogICAgICAnMWFxaWlndyc6IDEuMDcsCiAgICAgICcxam01aXBzJzogMS4wOSwKICAgICAgJzExdXZpODAnOiAxLjExLAogICAgICB2NzU5MWM6IDEuMTIsCiAgICAgIGRmdjhqazogMS4xNCwKICAgICAgbWJpOHNnOiAxLjE2LAogICAgICAnMWx1MjlzMCc6IDEuMTcsCiAgICAgICcxNDJzOWE4JzogMS4xOSwKICAgICAgJzFxOXZyd2cnOiAxLjIxLAogICAgICAnMThpbHJlbyc6IDEuMjMsCiAgICAgICcxaGU4cm5rJzogMS4yNSwKICAgICAgem15cjVzOiAxLjI3LAogICAgICAnMXl2ajZyayc6IDEuMjksCiAgICAgIHFoYzVqNDogMS4zMiwKICAgICAgJzFwenc2aW8nOiAxLjMzLAogICAgICB1eDVubms6IDEuMzYsCiAgICAgIGQ1dm41czogMS4zOCwKICAgICAgbTFpbmVvOiAxLjQsCiAgICAgICcxMWt2d3U4JzogMS41OSwKICAgICAgcGRkczAwOiAxLjY0LAogICAgICB0dDdhNGc6IDEuNjgsCiAgICAgIGt4azl2azogMS43MiwKICAgICAgdzE0MTZvOiAxLjc2LAogICAgICBuNWgweHM6IDEuOCwKICAgICAgJzFtbzExeGMnOiAxLjgxLAogICAgICAnMXIzdWsxcyc6IDEuODUsCiAgICAgICcxaTg3anN3JzogMS44OSwKICAgICAgJzF5YmswMDAnOiAxLjkzLAogICAgICAnODYyeTlzJzogMS45OCwKICAgICAgJzF0dnFodmsnOiAyLjAxLAogICAgICAnMWwwM2htbyc6IDIuMDUsCiAgICAgIHdsMzd5ODogMi4wOCwKICAgICAgbnBnN3BjOiAyLjEyLAogICAgICAnMTVncTg3NCc6IDIuMTUsCiAgICAgICcxOXdqcWJrJzogMi4xOSwKICAgICAgJzFpY3AzNCc6IDIuMjIsCiAgICAgIG90ZWw4ZzogMi4yOCwKICAgICAgdDk4M2N3OiAyLjMyLAogICAgICBrZGwzNDA6IDIuMzYsCiAgICAgIHZoNHVmNDogMi40LAogICAgICBtbGh1Njg6IDIuNDQsCiAgICAgICcxNGNydW8wJzogMi40NywKICAgICAgJzE4c2xjc2cnOiAyLjUxLAogICAgICB6d3ljams6IDIuNTUsCiAgICAgIGhncGNsYzogMi41OCwKICAgICAgJzFwdXdkdHMnOiAyLjYxLAogICAgICAnMXVhcHZ5OCc6IDIuNjUsCiAgICAgICcxbGYydnBjJzogMi42OSwKICAgICAgJzF3aW1uMGcnOiAyLjczLAogICAgICAnMW5tem1yayc6IDIuNzcsCiAgICAgICcxczJ0NHcwJzogMi44MSwKICAgICAgJzFqNzY0bjQnOiAyLjg1LAogICAgICBnY3F6Mjg6IDIuOSwKICAgICAgJzdoM3l0Yyc6IDIuOTQsCiAgICAgIGJ3eGd4czogMi45OCwKICAgICAgeW8wNmJrOiAzLjIsCiAgICAgICcxMzN0b2cwJzogMy4zNSwKICAgICAgJzFmYmJ0YTgnOiAzLjU1LAogICAgICAnMTQ3czF6NCc6IDMuNzUsCiAgICAgICcxY3RmZ3U4JzogMy45NSwKICAgICAgJzFud3o4NWMnOiA0LjA1LAogICAgICAnMTZrb2xxOCc6IDIuMzEsCiAgICAgICcxc3JzNGNnJzogMi4zMywKICAgICAgJzFiMGkzdW8nOiAyLjM1LAogICAgICAnMWp3NTQzayc6IDIuMzcsCiAgICAgICcxMjR2M2xzJzogMi4zOSwKICAgICAgJzF1em92ZW8nOiAyLjQxLAogICAgICBkcHV0eGM6IDIuNDIsCiAgICAgICcxbTQxdjVzJzogMi40NSwKICAgICAgcjFiY2FvOiAyLjQ4LAogICAgICAnMXFqdmRhOCc6IDIuNDksCiAgICAgIGk1b2MxczogMi41MiwKICAgICAgJzFobzhkMWMnOiAyLjUzLAogICAgICB6N3pkMzQ6IDIuNTYsCiAgICAgICcxeXFqZTJvJzogMi41NywKICAgICAgcWNjY3U4OiAyLjYsCiAgICAgICc4bDJjY2cnOiAyLjYyLAogICAgICAnMTgzbWRjMCc6IDIuNjMsCiAgICAgIGQwdnVndzogMi42NiwKICAgICAgbHdpdXBzOiAyLjY4LAogICAgICAnNDU4dTgwJzogMi43LAogICAgICB4MDJtMHc6IDIuNzIsCiAgICAgICcxZXJjbWlvJzogMi43NSwKICAgICAgbzRmbHMwOiAyLjc2LAogICAgICAnMTV2cG05cyc6IDIuNzksCiAgICAgIHNrOTN3ZzogMi44LAogICAgICBhc3ozZW86IDIuODIsCiAgICAgICcxYWJqNGU4JzogMi44MywKICAgICAgJzF4YzM1cyc6IDIuODYsCiAgICAgICcxMWZ3NDVjJzogMi44NywKICAgICAgJzF4bWwwamsnOiAyLjg5LAogICAgICBwOGR6YjQ6IDIuOTIsCiAgICAgICcxb3F5MGFvJzogMi45MywKICAgICAgdG83aGZrOiAyLjk2LAogICAgICAnMXQ2cmlmNCc6IDIuOTcsCiAgICAgIGtza2g2bzogMywKICAgICAgJzU5NzdyNCc6IDMuMSwKICAgICAgJzE5N2txdjQnOiAzLjE1LAogICAgICBjZ3ducGM6IDMuMywKICAgICAgbmtnZjBnOiAzLjQsCiAgICAgICcxZGN3ZTgnOiAzLjUsCiAgICAgICcxanI1YmVvJzogMy42NSwKICAgICAgZGt2MThnOiAzLjcsCiAgICAgICcxejBpemdnJzogMy44NSwKICAgICAgJzh2MXhxOCc6IDMuOSwKICAgICAgYjJ5b3NnOiA0LjEsCiAgICAgIHBpZGtvdzogNC4yLAogICAgICAnM2JhMjJvJzogNC4zLAogICAgICAnMXRncjNzdyc6IDQuMjUsCiAgICAgICcxaWQ3Y2hzJzogNC40NSwKICAgICAgJzF3OG4xbW8nOiA0LjY1LAogICAgICAnMW9neWV3dyc6IDQuODUsCiAgICAgICcxZ3Jyb2prJzogNS4xNSwKICAgICAgJzE1bzd4OGcnOiA1LjM1LAogICAgICAnNzltOXMwJzogNS41LAogICAgICAnOWhqMHU4JzogNS43LAogICAgICAnM2RyeWY0JzogNS45LAogICAgICAnMXVuN2RvZyc6IDYuMjUsCiAgICAgICcxcHhlYTY4JzogNi40NSwKICAgICAgJzFzNWIxOGcnOiA2LjY1LAogICAgICAnMWtkbWVpbyc6IDYuODUsCiAgICAgICc4M2wxeGMnOiA3LjEsCiAgICAgIGFiaHN6azogNy4zLAogICAgICAnMXNwYTgwMCc6IDcuNDUsCiAgICAgICcxaGxxZ293JzogNy42NSwKICAgICAgJzF3ZzRxbzAnOiA3Ljg1LAogICAgICB5MWozN2s6IDgsCiAgICAgIGVtYmlmNDogOC41LAogICAgICBhbXFjams6IDEwLjUsCiAgICAgIHZ6djMwZzogMTIsCiAgICAgIHF2MmxmazogMTQsCiAgICAgIHJxYWJyNDogNC40LAogICAgICBoNnByN2s6IDQuNSwKICAgICAgbG1qOWMwOiA0LjYsCiAgICAgICc2MzV6d2cnOiA0LjcsCiAgICAgIHh1MWU2ODogNC44LAogICAgICBibXh2azA6IDQuOSwKICAgICAgbXFobXY0OiA1LAogICAgICBqZTQ4dzogNS4xLAogICAgICAnMWw3bDZvMCc6IDUuMjUsCiAgICAgIGYxYXdoczogNS4zLAogICAgICAnMXhmM2JpOCc6IDUuNDUsCiAgICAgICcxYjd6c3cwJzogNS41NSwKICAgICAgJzFtYmprNzQnOiA1LjY1LAogICAgICBwa3ZoMWM6IDUuOCwKICAgICAgJzF0ajkwNWMnOiA1Ljg1LAogICAgICByc3M4M2s6IDYsCiAgICAgIGZsYTM5YzogNi4xLAogICAgICAnNGhxYnk4JzogNi4zLAogICAgICAnMThnM3YyOCc6IDYuMzUsCiAgICAgIGQzZHF0YzogNi41LAogICAgICB5ZjlqNDA6IDE2LAogICAgICB1b2YwZzA6IDE4LAogICAgICAnMjNrdTB3JzogMTkuNSwKICAgICAgaTUxdXlvOiAyMywKICAgICAgdGczYmI0OiAyNiwKICAgICAgcm41eWJrOiAzMCwKICAgICAgdTZiOHhzOiAzNCwKICAgIH0sCiAgfTsKfQoKLy8gUmVmcmVzaCB2aWV3YWJsZSBhZCB1bml0cyBvbiAndXNlciByZXR1cm4gdG8gcGFnZScgZXZlbnRzIFtBTS0zNTQxXQpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcigncmVmcmVzaE9uUmV0dXJuVG9QYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgcmV0dXJuIHsgdW5pdFZpc2liaWxpdHk6ICdWSVNJQkxFJyB9Owp9KTsKCi8qCiAgIyBjaGFuZ2Vsb2cKICAgICMjIDEvMTAvMjAyMAogICAgKiBbYXJzaGFhbl0gLSBmaXhlZCBzaXppbmcgb2YgdW5pdCBiZWluZyBkaXNwbGF5ZWQgW0FNLTc2NV0uCiovCgpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcignb25BdWN0aW9uUmVuZGVyZWRXZWJzaXRlSG9vaycsIGZ1bmN0aW9uICgpIHsKICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoCiAgICAnLnVwLXNob3cgPiBbaWQ9Imdvb2dsZV9hZHNfaWZyYW1lXy8xNTE4NDE4Ni90aGVmYW50YXN5Zm9vdGJhbGxlcnNfNzI4eDkwXzMyMHg1MF90b3BvZmFydGljbGVfMF9fY29udGFpbmVyX18iXScKICApOwogIGlmIChlbGVtZW50KSB7CiAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gJ2luaGVyaXQnOwogIH0KfSk7Cgp3ZWJzaXRlSG9va0ZpbHRlck91dEFkVW5pdCA9IGZ1bmN0aW9uIChhZFVuaXQpIHsKICB2YXIgYWRVbml0c1RvRmlsdGVyID0gWwogICAgJ3RoZWZhbnRhc3lmb290YmFsbGVyc183Mjh4OTBfMzIweDUwX2NhdGVnb3J5X2JvdHRvbScsCiAgICAndGhlZmFudGFzeWZvb3RiYWxsZXJzXzcyOHg5MF8zMjB4NTBfdG9wb2ZhcnRpY2xlJywKICBdOwogIHZhciBmaWx0ZXJBZFVuaXQgPSBhZFVuaXRzVG9GaWx0ZXIuaW5kZXhPZihhZFVuaXQuY29kZSkgIT0gLTE7CiAgaWYgKGZpbHRlckFkVW5pdCkgewogICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFkVW5pdC5zZWxlY3Rvcik7CiAgICBpZiAoZWxlbWVudCkgewogICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICB9CiAgfQoKICByZXR1cm4gZmlsdGVyQWRVbml0Owp9Owo=")+"\n})")(i.Y,jr,e,Zr)}catch(e){Ir.errorf(null,"failed to pass CustomEvents, websiteConfig, logger and hooks utility functions - %o",e)}}(),Object.entries(ai).forEach((e=>{let[t,n]=e;if(ri[t]){const{hookName:e,parseSettingValue:r,handler:o}=ri[t],a=r?r(n):n;e?i.Y.addEventListener(e,(e=>o(a,e))):(o(a),ii.infof(null,"loadSettings: ".concat(t," (no associated hook): Setting applied.")))}else ii.errorf(null,"loadSettings: No setting handler found for %o (setting will not be applied).",t)})),function(){const e=i.Y.fireEvent("amazonBidderConfiguration");e&&e.pubID&&(n.Z.upoSettings.amazonBidderConfiguration.enabled=!0,n.Z.upoSettings.amazonBidderConfiguration=Object.assign(n.Z.upoSettings.amazonBidderConfiguration,e))}();const t=i.Y.fireEvent("hookDFPEnabledValue");t&&(jr.dfpEnabled=t);try{Rr=qr(Qr(Rr))}catch(e){Ir.errorf(null,"init - parsing static spaces - %o",e)}if(Jr(),i.Y.fireEvent("shouldDisableUponit"))Ir.noticef(null,"halting: we have been disabled by hooks");else{i.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!0}}),i.Y.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!0}}),Fr(),jr.prebidEnabled=!!(Rr.find((e=>e.prebidSettings&&e.prebidSettings.enabled))||i.Y.fireEvent("scrapePrebidAdUnits")||i.Y.fireEvent("amazonBidderConfiguration")||$n.btDemandService.isBTDemandIntegration());var r={spaces:Rr,settings:{prebid:i.Y.fireEvent("forcePrebidEnabled")||jr.prebidEnabled,dfp:jr.dfpEnabled}};ui((function(){i.Y.fireEvent("onDomLoaded"),i.Y.fireEvent("onBeforeRecovery",{spaces:Rr,settings:r.settings}),Sr.invoke(r)}))}}()})()})();
//# sourceMappingURL=recovery.js.map

})({});
