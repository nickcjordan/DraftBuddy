var ffb={init:function(){ffb.scrollNav(),ffb.mobileNav(),ffb.mobileSearch(),ffb.youTubeButton(),ffb.mobileProductNav(),ffb.sidebarNav(),ffb.elementorMobileTabs(),ffb.mobileViewHeightFix(),ffb.scrollToAccountTabs(),ffb.udkInlineMenu(),ffb.playerSearch(),ffb.articleTableOverset(),ffb.tooltipSetup(),ffb.setupAngledSections(),ffb.elementorSkipLazyLoad(),ffb.rankingsTabOverset(),ffb.setupBlockLinks(),ffb.backToTop(),ffb.headerPromo(),ffb.adResizeListener(),ffb.closeAlert(),ffb.refreshThankYouPage(),ffb.scrollToAnchorOffset()},listeners:function(){jQuery(window).resize(function(){ffb.clearMobileNav(),ffb.mobileViewHeightFix(),ffb.articleTableOverset(),ffb.rankingsTabOverset()}),jQuery(window).scroll(function(){ffb.scrollNav(),ffb.backToTop()})},playerSearch:function(){jQuery(".player-search").autocomplete({autoFocus:!0,source:function(e,t){var n=e.term.replace(/[^a-zA-Z ]/,"").toLowerCase().split(" "),r=(n.join(""),playerSearchData.filter(function(e){for(var t=e.name.replace(/[^a-zA-Z ]/,"").toLowerCase(),r=(t.split(" "),!0),o=0;o<n.length;o++)if(0!==t.indexOf(n[o])&&-1===t.indexOf(" "+n[o])){r=!1;break}return r}));t(r=(r=r.sort(function(e,t){return e.rel-t.rel})).slice(0,12))},appendTo:"#searchform",select:function(e,t){return window.location.href="/"+t.item.path+"/"+t.item.slug+"/",!0}}).autocomplete("instance")._renderItem=function(e,t){var r,o;o="D"==t.pos?(r='<img src="https://cloud.thefantasyfootballers.com/images/app-square-sm/uploads/team-bg/'+t.team+'.png" />',"Team Profile"):(r=t.img?'<img src="https://cloud.thefantasyfootballers.com/images/app-square-sm/'+t.img+'" />':'<svg class="ffb"><use xlink:href="'+ajax_object.svg_url+'#player-placeholder"></use></svg>',t.pos+" - "+(t.team?t.team:"FA"));var n="";return n+='<div class="player">',n+='  <div class="player--photo">',n+="    "+r,n+="  </div>",n+='  <div class="player--info">',n+="    "+t.name+"<br />",n+='    <span class="position">'+o+"</span>",n+="  </div>",n+="</div>",jQuery("<li>").append(n).appendTo(e)},(jQuery(".FFBStartSit").length||jQuery(".gform_wrapper").length||jQuery(".page-wrap.udk").length||jQuery(".page-wrap.dfs").length)&&!jQuery(".page-wrap.home").length||jQuery(".player-search").focus()},scrollNav:function(){768<jQuery(window).width()&&100<=jQuery(window).scrollTop()?jQuery("header > .header").addClass("short"):jQuery("header > .header").removeClass("short")},youTubeButton:function(){jQuery(".watch-button button").click(function(){jQuery(this).toggleClass("open"),jQuery(this).parents(".ffb-content").toggleClass("video-open"),jQuery(this).hasClass("open")?(768<jQuery(window).width()||player.playVideo(),player.unMute(),jQuery(this).html('<svg class="ffb"><use xlink:href="'+ajax_object.svg_url+'#close"></use></svg>Close')):(768<jQuery(window).width()||player.pauseVideo(),player.mute(),jQuery(this).html('<svg class="ffb"><use xlink:href="'+ajax_object.svg_url+'#youtube"></use></svg>Watch Now'))})},mobileNav:function(){jQuery(".nav--mobile--button").click(function(){jQuery(this).toggleClass("open"),jQuery(".header--overlay").toggleClass("open"),jQuery("nav.secondary").toggleClass("open"),jQuery("nav.primary").toggleClass("open")})},clearMobileNav:function(){1150<=jQuery(window).width()&&(jQuery(".nav--mobile--button").removeClass("open"),jQuery(".header--overlay").removeClass("open"),jQuery("nav.secondary").removeClass("open"),jQuery("nav.primary").removeClass("open"))},mobileSearch:function(){jQuery(".nav--mobile--search").click(function(){jQuery(this).toggleClass("open"),jQuery(".header--search").toggleClass("open")})},mobileProductNav:function(){jQuery(".ffb-product-menu--button").click(function(){jQuery(window).width()<1150&&(jQuery(this).toggleClass("open"),jQuery(this).next("nav").toggleClass("open"))}),jQuery(".ffb-product-menu nav > div > ul > li > a").click(function(e){jQuery(window).width()<1150&&!jQuery(this).parent().hasClass("disabled")&&(e.preventDefault(),jQuery(this).parent().toggleClass("open"),jQuery(this).parents("ul").toggleClass("sub-open"))})},sidebarNav:function(){jQuery(".ffb-sidebar--menu.dropdown nav > ul > li > a").click(function(e){e.preventDefault();var t=jQuery(this).hasClass("active");jQuery(".ffb-sidebar--menu nav > ul > li > a").removeClass("active"),jQuery(".ffb-sidebar--menu nav ul").removeClass("open"),t||(jQuery(this).addClass("active"),jQuery(this).next("ul").addClass("open"))}),jQuery(".ffb-sidebar--menu.dropdown nav ul li ul a").click(function(e){"#"==jQuery(this).attr("href")&&(e.preventDefault(),alert("sub clicked!"))})},elementorMobileTabs:function(){jQuery(".elementor-tabs-wrapper").length&&jQuery(".elementor-tabs-wrapper").each(function(){if(!jQuery(this).parents(".elementor-widget-tabs").hasClass("secondary")){var r,e=jQuery(this),o=jQuery(document.createElement("select")).insertBefore(e);jQuery(document.createElement("option")).appendTo(o).val("").html("- Select -"),jQuery("div",this).each(function(){var e=jQuery(this).attr("id").split("title-")[1],t=jQuery(this).children("a").html();jQuery(document.createElement("option")).appendTo(o).val(e).html(t),jQuery(this).is(":first-child")&&(r=e)}),o.val(r),console.log(r),o.change(function(){o.val()&&(jQuery(".elementor-tab-content").hide(),jQuery("#elementor-tab-content-"+o.val()).show())})}})},mobileViewHeightFix:function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")},scrollToAccountTabs:function(){-1<window.location.href.indexOf("/account/?action=")&&jQuery("html, body").animate({scrollTop:jQuery(".elementor-element#account").offset().top-100},0)},udkInlineMenu:function(){jQuery(".udk--inline-menu").length&&jQuery(".udk--inline-menu ul.menu > li.menu-item a").click(function(e){"#"===jQuery(this).attr("href")&&(e.preventDefault(),jQuery(this).parent().children(".sub-menu").toggleClass("open"))})},articleTableOverset:function(){jQuery(".ffb-table table").each(function(){var e=jQuery(this).outerWidth();jQuery(this).parents(".ffb-table--wrapper").outerWidth()<e?(jQuery(this).parents(".ffb-table--wrapper").addClass("overset"),jQuery(this).parents(".ffb-table").addClass("overset")):(jQuery(this).parents(".ffb-table--wrapper").removeClass("overset"),jQuery(this).parents(".ffb-table").removeClass("overset"))})},tooltipSetup:function(){jQuery(".ffb-top-tooltip").each(function(){var e=jQuery(this).data("offset");jQuery(".ffb-top-tooltip").tooltip({tooltipClass:"ffb-tooltip-top",position:{my:"center bottom-"+e,at:"center top"}})})},setupAngledSections:function(){jQuery(".elementor-section.angled").length&&jQuery(".elementor-section.angled").each(function(){jQuery(this).prev(".elementor-section").addClass("angled--before"),jQuery(this).next(".elementor-section").addClass("angled--after")})},elementorSkipLazyLoad:function(){jQuery(".ffb-skip-lazy").length&&jQuery(".ffb-skip-lazy").each(function(){jQuery(this).find("img").each(function(){var e=jQuery(this).data("src");jQuery(this).attr("src",e)})})},setupBlockLinks:function(){jQuery(".block-link").length&&jQuery(".block-link").each(function(){var e=jQuery(this).find(".elementor-icon-box-title a").attr("href"),t=jQuery(this).find(".elementor-icon-box-description").html();console.log(t),e&&jQuery(this).find(".elementor-icon-box-description").html('<a href="'+e+'">'+t+"</a>")})},rankingsTabOverset:function(){jQuery(".ranking--tabs ul").each(function(){var e=jQuery(this).outerWidth(),t=0;jQuery(this).find("li").each(function(){t+=jQuery(this).outerWidth()}),e<t?jQuery(this).addClass("overset"):jQuery(this).removeClass("overset")})},backToTop:function(){if(jQuery(".elementor-section.back-to-top").length){var e=jQuery(window).height();jQuery(window).scrollTop()>=e?jQuery(".elementor-section.back-to-top").addClass("active"):jQuery(".elementor-section.back-to-top").removeClass("active"),jQuery(".elementor-section.back-to-top a").click(function(e){e.preventDefault(),ffb.scrollToTop()})}},scrollToTop:function(){jQuery(window).scrollTop(0)},headerPromo:function(){jQuery(".header--promo .ffb-header-promo-widget--close").click(function(){var e=jQuery(this).parents(".header--promo").data("promo-id");ffb.setCookie(e,"closed",30),jQuery(this).parents(".header--promo").remove(),jQuery(".page-wrap").removeClass("with-promo")}),jQuery(".header--promo a").click(function(){var e=jQuery(this).parents(".header--promo").data("promo-id");ffb.setCookie(e,"closed",30),jQuery(this).parents(".header--promo").remove(),jQuery(".page-wrap").removeClass("with-promo")})},closeAlert:function(){jQuery(".elementor-widget-alert .elementor-alert-dismiss").click(function(){var e=jQuery(this).parents(".elementor-widget-alert"),t=e.attr("data-id");ffb.setCookie("ffb_closed_"+t,!0,999),e.hide()})},setCookie:function(e,t,r){var o="";if(r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3),o="; expires="+n.toUTCString()}document.cookie=e+"="+(t||"")+o+"; path=/"},adResizeListener:function(){freestar.queue.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(e){if(!e.isEmpty){var t=e.size,r=0;t&&0<t.length&&(r=t[0]);var o=e.slot.getSlotId().getDomId(),n=jQuery("#"+o+" > div > iframe").attr("width");1<r?jQuery("#"+o+" > div > iframe").width(r):1<n&&jQuery("#"+o+" > div > iframe").width(n)}})})},refreshThankYouPage:function(){if(-1<window.location.href.indexOf("thank-you-udk")){var e=window.location.search,t=new URLSearchParams(e),r=t.get("payment_intent"),o=t.get("redirect_status");r&&"succeeded"==o&&(window.location=window.location.href.split("?")[0])}},scrollToAnchorOffset:function(){jQuery("a[href*=\\#]").on("click",function(e){if(this.pathname===window.location.pathname){var t=jQuery(this).attr("href").split("#")[1];if(jQuery("#"+t).length){var r=100;jQuery("#wpadminbar").length&&(r+=jQuery("#wpadminbar").outerHeight()),jQuery(".ffb-header-promo-widget").length&&(r+=jQuery(".ffb-header-promo-widget").outerHeight());var o=jQuery("#"+t).offset().top-r;jQuery("html, body").animate({scrollTop:o})}}})}};jQuery("document").ready(function(){ffb.init(),ffb.listeners()});